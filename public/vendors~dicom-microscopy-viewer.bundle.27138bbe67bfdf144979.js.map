{"version":3,"sources":["webpack:///C:/projects/Viewers/node_modules/dicom-microscopy-viewer/build/dicom-microscopy-viewer.js"],"names":["exports","abstract","Error","uidCounter_","getUid","obj","ol_uid","String","AssertionError","code","message","split","call","this","name","__proto__","prototype","Object","create","constructor","CollectionEventType","ObjectEventType","assign","target","var_sources","arguments$1","arguments","TypeError","output","i","ii","length","source","key","hasOwnProperty","clear","object","property","getValues","values","push","isEmpty","findListener","listeners","listener","opt_this","opt_setDeleteIndex","listenerObj","bindTo","deleteIndex","getListeners","type","listenerMap","getListenerMap","undefined","opt_create","ol_lm","removeListeners","removeEventListener","boundListener","keys","removeListenerMap","listen","opt_once","callOnce","addEventListener","evt","unlistenByKey","bindListener","listenOnce","unlisten","indexOf","splice","unlistenAll","Disposable","disposed_","TRUE","FALSE","VOID","dispose","disposeInternal","Event","propagationStopped","stopPropagation","preventDefault","Target","Disposable$$1","pendingRemovals_","dispatching_","listeners_","dispatchEvent","event","propagate","pendingRemovals","hasListener","opt_type","index","EventType","Observable","EventTarget","revision_","changed","getRevision","on","Array","isArray","len","once","un","ObjectEvent","Event$$1","oldValue","BaseObject","Observable$$1","opt_values","values_","setProperties","get","value","getKeys","getProperties","notify","eventType","getChangeEventType","set","opt_silent","unset","changeEventTypeCache","MAX_TEXTURE_SIZE","EXTENSIONS","Property","CollectionEvent","opt_element","element","Collection","BaseObject$$1","opt_array","opt_options","options","unique_","unique","array_","assertUnique_","updateLength_","getLength","pop","extend","arr","forEach","f","array","getArray","item","insertAt","elem","removeAt","n","remove","prev","setAt","j","opt_except","MapEvent","map","opt_frameState","frameState","MapBrowserEvent","MapEvent$$1","browserEvent","opt_dragging","originalEvent","pixel","getEventPixel","coordinate","getCoordinateFromPixel","dragging","CONTEXT_IDS","getContext","canvas","opt_attributes","context","e","window","gl","document","createElement","failIfMajorPerformanceCaveat","getParameter","getSupportedExtensions","ua","navigator","userAgent","toLowerCase","FIREFOX","SAFARI","WEBKIT","MAC","DEVICE_PIXEL_RATIO","devicePixelRatio","CANVAS_LINE_DASH","has","setLineDash","TOUCH","POINTER","MSPOINTER","MapBrowserEventType","SINGLECLICK","CLICK","DBLCLICK","POINTERDRAG","POINTERMOVE","POINTERDOWN","POINTERUP","POINTEROVER","POINTEROUT","POINTERENTER","POINTERLEAVE","POINTERCANCEL","MapBrowserPointerEvent","MapBrowserEvent$$1","pointerEvent","PointerEventType","EventSource","dispatcher","mapping","mapping_","mousedown","inEvent","isEventSimulatedFromTouch_","toString","pointerMap","cancel","prepareEvent","down","mousemove","move","mouseup","p","button","up","cleanupMouse","mouseover","enterOver","mouseout","leaveOut","getEvents","getHandlerForEvent","MouseSource","EventSource$$1","lastTouches","lts","x","clientX","y","clientY","l","t","dx","Math","abs","dy","cloneEvent","pd","pointerId","isPrimary","pointerType","POINTER_TYPES","msPointerDown","prepareEvent_","msPointerMove","msPointerUp","cleanup","msPointerOut","msPointerOver","msPointerCancel","msLostPointerCapture","makeEvent","msGotPointerCapture","MsSource","pointerDown","fireNativeEvent","pointerMove","pointerUp","pointerOut","pointerOver","pointerCancel","lostPointerCapture","gotPointerCapture","NativeSource","HAS_BUTTONS","PointerEvent","_Event","opt_eventDict","eventDict","buttons","which","getButtons","pressure","getPressure","bubbles","cancelable","view","detail","screenX","screenY","ctrlKey","altKey","shiftKey","metaKey","relatedTarget","width","height","tiltX","tiltY","hwTimestamp","numberSafeCompareFunction","a","b","includes","linearFindNearest","direction","reverseSubArray","begin","end","tmp","data","extension","equals","arr1","arr2","len1","stableSort","compareFnc","sort","touchstart","vacuumTouches_","setPrimaryTouch_","changedTouches","dedupSynthMouse_","clickCount_","processTouches_","overDown_","touchmove","moveOverOut_","touchend","upOut_","touchcancel","cancelOut_","ev","MouseEvent","TouchSource","mouseSource","firstTouchId_","resetId_","dedupTimeout_","isPrimaryTouch_","inTouch","identifier","count","cancelResetClickCount_","removePrimaryPointer_","inPointer","resetClickCount_","setTimeout","resetClickCountHandler_","bind","clearTimeout","touchToPointer_","radiusX","radiusY","force","inFunction","touches","slice","pointer","findTouch_","touchList","searchId","d","Number","out","i$1","outTarget","over","enter","outEvent","leave","cleanUpPointer_","lt","CLONE_PROPS","PointerEventHandler","element_","eventMap_","eventSourceList_","registerSources","registerSource","register_","s","newEvents","handler","eventSource","addEvents_","unregister_","removeEvents_","eventHandler_","events","eventName","eventCopy","fireEvent","contains_","container","contained","contains","inType","wrapMouseEvent","MapBrowserEventHandler","moveTolerance","map_","clickTimeoutId_","dragging_","dragListenerKeys_","moveTolerance_","down_","getViewport","activePointers_","trackedTouches_","pointerEventHandler_","documentPointerEventHandler_","pointerdownListenerKey_","handlePointerDown_","relayedListenerKey_","relayEvent_","emulateClick_","newEvent","updateActivePointers_","handlePointerUp_","isMouseActionButton_","handlePointerMove_","isMoving_","MapEventType","MapProperty","RenderEventType","TileState","assert","assertion","errorCode","PriorityQueue","priorityFunction","keyFunction","priorityFunction_","keyFunction_","elements_","priorities_","queuedElements_","dequeue","elements","priorities","siftUp_","elementKey","enqueue","priority","Infinity","siftDown_","getCount","getLeftChildIndex_","getRightChildIndex_","getParentIndex_","heapify_","isKeyQueued","isQueued","startIndex","lIndex","rIndex","smallerChildIndex","parentIndex","reprioritize","TileQueue","PriorityQueue$$1","tilePriorityFunction","tileChangeCallback","apply","getKey","tileChangeCallback_","tilesLoading_","tilesLoadingKeys_","added","handleTileChange","getTilesLoading","tile","state","getState","tileKey","loadMoreTiles","maxTotalLoading","maxNewLoads","newLoads","abortedTiles","load","clamp","min","max","cosh","exp","squaredSegmentDistance","x1","y1","x2","y2","squaredDistance","toRadians","angleInDegrees","PI","modulo","r","lerp","none","center","disable","rotation","delta","none$1","ViewHint","ViewProperty","add","closestOnSegment","segment","x0","y0","start","along","equals$1","coordinate1","coordinate2","rotate","angle","cosAngle","cos","sinAngle","sin","scale","squaredDistance$1","coord1","coord2","distance","sqrt","squaredDistanceToSegment","easeIn","pow","easeOut","inAndOut","linear","Corner","Relationship","boundingExtent","coordinates","extent","extendCoordinate","buffer","opt_extent","clone","closestSquaredDistanceXY","containsCoordinate","containsXY","containsExtent","extent1","extent2","coordinateRelationship","minX","minY","maxX","maxY","relationship","createOrUpdate","createOrUpdateEmpty","createOrUpdateFromCoordinate","createOrUpdateFromCoordinates","extendCoordinates","createOrUpdateFromFlatCoordinates","flatCoordinates","offset","stride","extendFlatCoordinates","equals$2","extend$1","extendXY","forEachCorner","callback","val","getBottomLeft","getBottomRight","getTopRight","getTopLeft","getArea","area","isEmpty$1","getWidth","getHeight","getCenter","getCorner","corner","getForViewAndSize","resolution","size","cosRotation","sinRotation","xCos","xSin","yCos","ySin","x3","y3","getIntersection","intersection","intersects","scaleFromCenter","deltaX","deltaY","GeometryType","GeometryLayout","transform2D","transform","opt_dest","dest","translate","k","getDistance","c1","c2","opt_radius","radius","lat1","lat2","deltaLatBy2","deltaLonBy2","atan2","Units","METERS_PER_UNIT","Projection","code_","units_","extent_","worldExtent_","worldExtent","axisOrientation_","axisOrientation","global_","global","canWrapX_","getPointResolutionFunc_","getPointResolution","defaultTileGrid_","metersPerUnit_","metersPerUnit","canWrapX","getCode","getExtent","getUnits","getMetersPerUnit","getWorldExtent","getAxisOrientation","isGlobal","setGlobal","getDefaultTileGrid","setDefaultTileGrid","tileGrid","setExtent","setWorldExtent","setGetPointResolution","func","getPointResolutionFunc","HALF_SIZE","EXTENT","WORLD_EXTENT","EPSG3857Projection","Projection$$1","units","point","PROJECTIONS","fromEPSG4326","input","opt_output","opt_dimension","dimension","halfSize","log","tan","toEPSG4326","atan","projections2","forwardTransform","inverseTransform","EXTENT$1","METERS_PER_UNIT$1","EPSG4326Projection","opt_axisOrientation","PROJECTIONS$1","cache","transforms","add$2","destination","transformFn","sourceCode","destinationCode","cloneTransform","identityTransform","addProjection","projection","add$1","get$2","projectionLike","opt_units","pointResolution","getter","toEPSG4326$$1","getTransformFromProjections","vertices","addEquivalentProjections","projections","addProjections","createProjection","defaultCode","equivalent","projection1","projection2","equalUnits","sourceProjection","destinationProjection","transformFunc","get$1","getTransform","tmp_","reset","multiply","transform1","transform2","a1","b1","d1","e1","f1","a2","b2","d2","e2","f2","c","setFromArray","rotate$2","scale$2","translate$1","compose","dx1","dy1","sx","sy","dx2","dy2","invert","mat","det","tmpTransform","SimpleGeometry","Geometry$$1","layout","computeExtent","getCoordinates","getFirstCoordinate","getFlatCoordinates","getLastCoordinate","getLayout","getSimplifiedGeometry","squaredTolerance","simplifiedGeometryRevision","simplifiedGeometryCache","simplifiedGeometryMaxMinSquaredTolerance","simplifiedGeometry","getSimplifiedGeometryInternal","getStride","setFlatCoordinates","getStrideForLayout","setCoordinates","opt_layout","setLayout","nesting","getLayoutForStride","applyTransform","anchor","anchorX","anchorY","rotate$1","opt_sy","opt_anchor","scale$1","Geometry","extentRevision_","closestPointXY","closestPoint","minSquaredDistance","getClosestPoint","opt_closestPoint","NaN","intersectsCoordinate","returnOrUpdate","simplify","tolerance","getType","intersectsExtent","sourceProj","inCoordinates","outCoordinates","pixelExtent","projectedExtent","linearRing","twiceArea","linearRings","ends","assignClosest","offset1","offset2","maxSquaredDelta","squaredDelta","arrayMaxSquaredDelta","assignClosestPoint","maxDelta","isRing","opt_tmpPoint","squaredDistance$$1","tmpPoint","assignClosestArrayPoint","deflateCoordinate","deflateCoordinates","deflateCoordinatesArray","coordinatess","opt_ends","jj","inflateCoordinates","opt_coordinates","inflateCoordinatesArray","opt_coordinatess","inflateMultiCoordinatesArray","endss","opt_coordinatesss","coordinatesss","douglasPeucker","simplifiedFlatCoordinates","simplifiedOffset","markers","stack","last","first","maxSquaredDistance","snap","round","quantize","quantizeArray","simplifiedEnds","LinearRing","SimpleGeometry$$1","maxDelta_","maxDeltaRevision_","Point","linearRingContainsExtent","linearRingContainsXY","wn","linearRingsContainsXY","getInteriorPointOfArray","flatCenters","flatCentersOffset","intersections","rr","pointX","maxSegmentLength","segmentLength","isNaN","ret","point1","point2","intersectsLineString","coordinatesExtent","startRel","endRel","startX","startY","endX","endY","slope","intersectsSegment","intersectsLinearRingArray","intersectsLinearRing","linearRingIsClockwise","edge","linearRingIsOriented","opt_right","right","isClockwise","orientLinearRings","orientLinearRingsArray","Polygon","ends_","flatInteriorPointRevision_","flatInteriorPoint_","orientedRevision_","orientedFlatCoordinates_","appendLinearRing","linearRing$$1","getOrientedFlatCoordinates","getEnds","getFlatInteriorPoint","flatCenter","getInteriorPoint","getLinearRingCount","getLinearRing","getLinearRings","linearRings$$1","offset$$1","fromExtent","fromCircle","circle","opt_sides","opt_angle","sides","arrayLength","polygon","makeRegular","getRadius","startAngle","View","hints_","animations_","updateAnimationKey_","updateAnimations_","projection_","applyOptions_","properties","resolutionConstraintInfo","resolutionConstraint","maxResolution","minResolution","minZoom","maxZoom","zoomFactor","resolutions","z","floor","power","createSnapToResolutions","defaultMaxResolution","defaultMinResolution","defaultMaxZoom","opt_maxLevel","oldLevel","newLevel","createSnapToPower","constraint","createResolutionConstraint","maxResolution_","minResolution_","zoomFactor_","resolutions_","minZoom_","centerConstraint","createCenterConstraint","rotationConstraint","enableRotation","constrainRotation","opt_tolerance","theta","createRotationConstraint","constraints_","zoom","constrainResolution","getResolution","options_","getUpdatedOptions_","newOptions","getZoom","getRotation","animate","var_args","animationCount","isDef","setCenter","setZoom","setRotation","animationCallback","Date","now","series","animation","complete","duration","easing","sourceCenter","targetCenter","sourceResolution","targetResolution","sourceRotation","targetRotation","isNoopAnimation","setHint","getAnimating","getInteracting","cancelAnimations","cancelAnimationFrame","more","seriesComplete","elapsed","fraction","progress","calculateCenterZoom","calculateCenterRotate","filter","Boolean","requestAnimationFrame","currentCenter","currentResolution","getSizeFromViewport_","selector","querySelector","metrics","getComputedStyle","parseInt","constrainCenter","opt_delta","opt_direction","getConstraints","getHints","opt_hints","calculateExtent","opt_size","getMaxResolution","getMinResolution","getMaxZoom","getZoomForResolution","setMaxZoom","getMinZoom","setMinZoom","getProjection","getResolutions","getResolutionForExtent","xResolution","yResolution","getResolutionForValueFunction","opt_power","getValueForResolutionFunction","pixelRatio","pixelResolution","nearest","getResolutionForZoom","fit","geometryOrExtent","geometry","padding","coords","minRotX","minRotY","maxRotX","maxRotY","rotX","rotY","constrainedResolution","centerRotX","centerRotY","setResolution","centerOn","position","centerX","centerY","hint","returnValue","createCanvasContext2D","opt_width","opt_height","outerWidth","offsetWidth","style","marginLeft","marginRight","outerHeight","offsetHeight","marginTop","marginBottom","replaceNode","newNode","oldNode","parent","parentNode","replaceChild","removeNode","node","removeChild","removeChildren","lastChild","LayerProperty","BaseLayer","opacity","visible","zIndex","state_","getLayerState","layer","managed","getOpacity","sourceState","getSourceState","getVisible","getZIndex","getLayersArray","getLayerStatesArray","opt_states","setMaxResolution","setMinResolution","setOpacity","setVisible","setZIndex","zindex","SourceState","Property$1","LayerGroup","BaseLayer$$1","baseOptions","layers","layersListenerKeys_","listenerKeys_","handleLayersChanged_","setLayers","handleLayerChange_","getLayers","id","handleLayersAdd_","handleLayersRemove_","layersArray","collectionEvent","states","pos","ownLayerState","layerState","toSize","PluggableMap","optionsInternal","keyboardEventTarget","getElementById","controls","interactions","overlays","layerGroup","createOptionsInternal","maxTilesLoading_","maxTilesLoading","loadTilesWhileAnimating_","loadTilesWhileAnimating","loadTilesWhileInteracting_","loadTilesWhileInteracting","pixelRatio_","animationDelayKey_","animationDelay_","renderFrame_","coordinateToPixelTransform_","pixelToCoordinateTransform_","frameIndex_","frameState_","previousExtent_","viewPropertyListenerKey_","viewChangeListenerKey_","layerGroupPropertyListenerKeys_","viewport_","className","overflow","msTouchAction","touchAction","overlayContainer_","appendChild","overlayContainerStopEvent_","overlayEvents","mapBrowserEventHandler_","handleMapBrowserEvent","keyboardEventTarget_","keyHandlerKeys_","handleBrowserEvent","overlays_","overlayIdIndex_","renderer_","createRenderer","handleResize_","focus_","postRenderFunctions_","tileQueue_","getTilePriority","handleTileChange_","skippedFeatureUids_","handleLayerGroupChanged_","handleViewChanged_","handleSizeChanged_","handleTargetChanged_","control","setMap","interaction","addOverlayInternal_","getId","addControl","getControls","addInteraction","getInteractions","addLayer","getLayerGroup","addOverlay","overlay","getOverlays","setTarget","forEachFeatureAtPixel","hitTolerance","layerFilter","forEachFeatureAtCoordinate","getFeaturesAtPixel","features","feature","forEachLayerAtPixel","hasFeatureAtPixel","hasFeatureAtCoordinate","getEventCoordinate","viewportPosition","getBoundingClientRect","eventPosition","left","top","getTarget","getTargetElement","pixelToCoordinateTransform","getOverlayById","getPixelFromCoordinate","coordinateToPixelTransform","getRenderer","getSize","getView","getOverlayContainer","getOverlayContainerStopEvent","tileSourceKey","tileCenter","tileResolution","wantedTiles","focus","mapBrowserEvent","interactionsArray","getActive","handleEvent","handlePostRender","tileQueue","hints","viewHints","getLoading","getSource","loading","dispatchRenderEvent","postRenderFunctions","render","targetElement","updateSize","removeLayerRenderers","handleViewPropertyChanged_","setAttribute","isRendered","renderSync","removeControl","removeInteraction","removeLayer","removeOverlay","time","viewState","previousFrameState","hasArea","layerStatesArray","layerStates","skippedFeatureUids","usedTiles","renderFrame","setLayerGroup","setSize","setView","skipFeature","computedStyle","parseFloat","unskipFeature","Control","target_","listenerKeys","getMap","getFontFamilies","font","family","fontFamily","Layer","mapPrecomposeKey_","mapRenderKey_","sourceChangeKey_","handleSourcePropertyChange_","setSource","handleSourceChange_","renderEvent","visibleAtResolution","Attribution","Control$$1","ulElement_","collapsed_","collapsed","overrideCollapsible_","collapsible","collapsible_","tipLabel","collapseLabel","collapseLabel_","textContent","label","label_","activeLabel","title","handleClick_","cssClasses","renderedAttributions_","renderedVisible_","collectSourceAttributions_","lookup","visibleAttributions","attributionGetter","getAttributions","attributions","getAttributionsCollapsible","setCollapsible","updateElement_","display","innerHTML","handleToggle_","classList","toggle","getCollapsible","setCollapsed","getCollapsed","mapEvent","changeType","getChangeType","body","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","requestFullscreen","FullScreen","cssClassName_","labelNode_","createTextNode","labelActive","labelActiveNode_","button_","setClassName_","isFullScreen","isFullScreenSupported","keys_","source_","handleFullScreen_","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","mozRequestFullScreenWithKeys","requestFullScreen","requestFullScreenWithKeys","handleFullScreenChange_","fullscreen","activeClassName","inactiveClassName","nextClassName","mozFullScreenEnabled","msFullscreenEnabled","fullscreenEnabled","webkitIsFullScreen","mozFullScreen","msFullscreenElement","fullscreenElement","Rotate","render$2","callResetNorth_","resetNorth","duration_","autoHide_","autoHide","rotation_","resetNorth_","msTransform","webkitTransform","Zoom","zoomInLabel","zoomOutLabel","zoomInTipLabel","zoomOutTipLabel","inElement","outElement","zoomByDelta_","newResolution","defaults","zoomOptions","rotateOptions","attribution","attributionOptions","Kinetic","decay","minVelocity","delay","decay_","minVelocity_","delay_","points_","angle_","initialVelocity_","update","lastIndex","firstIndex","getAngle","InteractionProperty","Interaction","setActive","active","rotate$3","opt_duration","rotateWithoutConstraints","currentRotation","zoomWithoutConstraints","zoomByDelta","DoubleClickZoom","Interaction$$1","delta_","stopEvent","altShiftKeysOnly","activeElement","always","mouseActionButton","never","singleClick","noModifierKeys","shiftKeyOnly","targetNotEditable","tagName","mouseOnly","primaryAction","PointerInteraction","handleDownEvent","handleDragEvent","handleMoveEvent","handleUpEvent","stopDown","handlingDownUpSequence","trackedPointers_","targetPointers","updateTrackedPointers_","handledUp","handled","isPointerDraggingEvent","centroid","pointerEvents","DragPan","PointerInteraction$$1","kinetic_","kinetic","lastCentroid","lastPointersCount_","panning_","condition_","condition","noKinetic_","centroid$$1","distance$$1","centerpx","DragRotate","lastAngle_","RenderBox","geometry_","startPixel_","endPixel_","render_","startPixel","endPixel","setPixels","createOrUpdateGeometry","getGeometry","DragBoxEventType","DragBoxEvent","DragZoom","DragBox$$1","onBoxEnd","out_","DragBox","box_","minArea_","minArea","onBoxEnd_","boxEndCondition_","boxEndCondition","defaultBoxEndCondition","mapExtent","boxPixelExtent","KeyCode","KeyboardPan","handleEvent$1","defaultCondition_","pixelDelta_","pixelDelta","keyCode","mapUnitsDelta","pan","KeyboardZoom","handleEvent$2","charCode","charCodeAt","Mode","MouseWheelZoom","timeout_","timeout","useAnchor_","useAnchor","constrainResolution_","lastAnchor_","startTime_","timeoutId_","mode_","trackpadEventGap_","trackpadTimeoutId_","trackpadDeltaPerZoom_","trackpadZoomBuffer_","decrementInteractingHint_","wheelEvent","deltaMode","WheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","wheelDeltaY","rebound","timeLeft","handleWheelZoom_","setMouseAnchor","PinchRotate","pointerOptions","anchor_","rotating_","rotationDelta_","threshold_","threshold","rotationDelta","touch0","touch1","PinchZoom","lastDistance_","lastScaleDelta_","scaleDelta","Feature","opt_geometryOrProperties","id_","geometryName_","style_","styleFunction_","geometryChangeKey_","handleGeometryChanged_","setGeometry","setGeometryName","getGeometryName","getStyle","setStyle","getStyleFunction","handleGeometryChange_","styles","setId","Circle","setCenterAndRadius","getRadiusSquared_","setRadius","interpolatePoint","pointY","cumulativeLengths","haystack","needle","opt_comparator","mid","cmp","comparator","low","high","found","binarySearch","o","lineStringCoordinateAtM","m","extrapolate","lo","hi","m0","lineStringLength","LineString","flatMidpoint_","flatMidpointRevision_","appendCoordinate","forEachSegment","getCoordinateAtM","opt_extrapolate","getCoordinateAt","getFlatMidpoint","MultiLineString","lineStrings","lineString","appendLineString","opt_interpolate","interpolate","lineStringsCoordinateAtM","getLineString","getLineStrings","getFlatMidpoints","midpoints","douglasPeuckerArray","intersectsLineStringArray","MultiPoint","appendPoint","getPoint","getPoints","points","MultiPolygon","opt_endss","endss_","flatInteriorPointsRevision_","flatInteriorPoints_","polygons","appendPolygon","newEndss","multiArrayMaxSquaredDelta","assignClosestMultiArrayPoint","linearRingssContainsXY","linearRingss","getEndss","getFlatInteriorPoints","linearRingss$1","interiorPoints","getInteriorPointsOfMultiArray","getInteriorPoints","linearRingsAreOriented","simplifiedEndss","quantizeMultiArray","getPolygon","prevEnds","getPolygons","intersectsLinearRingMultiArray","deflateMultiCoordinatesArray","lastEnds","LayerType","VectorRenderType","HEX_COLOR_RE_","NAMED_COLOR_RE_","asString","color","fromString","cacheSize","g","exec","el","rgb","fromNamed","hasAlpha","substr","normalize","fromStringInternal_","asArray","asColorLike","ImageState","LRUCache","opt_highWaterMark","highWaterMark","count_","entries_","oldest_","newest_","canExpireCache","containsKey","entry","value_","key_","newer","older","peekLast","peekLastKey","peekFirstKey","replace","prune","defaultFillStyle","defaultLineDash","defaultStrokeStyle","defaultPadding","labelCache","checkedFonts","measureContext","textHeights","checkFont","interval","referenceWidth","checked","referenceFonts","text","isAvailable","getMeasureContext","weight","fontWeight","available","referenceFont","measureText","check","done","clearInterval","fontSpec","fontFamilies","setInterval","span","heights","measureTextHeight","margin","measureTextWidth","rotateAtOffset","offsetX","offsetY","resetTransform","drawImage","image","originX","originY","w","h","alpha","globalAlpha","setTransform","ImageStyle","opacity_","rotateWithView_","rotateWithView","scale_","getScale","getRotateWithView","getSnapToPixel","getAnchor","getImage","getHitDetectionImage","getImageState","getImageSize","getHitDetectionImageSize","getOrigin","setRotateWithView","setScale","setSnapToPixel","snapToPixel","listenImageChange","thisArg","unlistenImageChange","CircleStyle","RegularShape$$1","fill","stroke","atlasManager","getFill","getStroke","atlasManager_","radius_","ImageStyle$$1","RegularShape","checksums_","canvas_","hitDetectionCanvas_","fill_","origin_","radius1","radius2_","radius2","stroke_","size_","imageSize_","hitDetectionImageSize_","getRadius2","imageSize","strokeStyle","lineCap","lineJoin","miterLimit","lineDash","lineDashOffset","strokeWidth","getColor","getLineDash","getLineDashOffset","getLineJoin","getLineCap","getMiterLimit","renderOptions","draw_","createHitDetectionCanvas_","renderHitDetectionCallback","hasCustomHitDetectionImage","drawHitDetectionCanvas_","getChecksum","info","hitImage","angle0","radiusC","beginPath","arc","lineTo","fillStyle","lineWidth","closePath","strokeChecksum","fillChecksum","checksum","Fill","color_","checksum_","setColor","Stroke","lineCap_","lineDash_","lineDashOffset_","lineJoin_","miterLimit_","width_","setLineCap","setLineDashOffset","setLineJoin","setMiterLimit","setWidth","Style","geometryFunction_","defaultGeometryFunction","image_","renderer","text_","zIndex_","getText","setRenderer","getGeometryFunction","setFill","setImage","setStroke","setText","defaultStyles","createDefaultStyle","createEditingStyle","white","blue","concat","Property$2","VectorLayer","Layer$$1","renderBuffer","updateWhileAnimating","updateWhileInteracting","declutter_","declutter","renderBuffer_","updateWhileAnimating_","updateWhileInteracting_","renderMode_","renderMode","getDeclutter","setDeclutter","getRenderBuffer","getRenderOrder","getUpdateWhileAnimating","getUpdateWhileInteracting","setRenderOrder","renderOrder","styleFunction","toFunction","getRenderMode","FormatType","xhr","url","format","success","failure","XMLHttpRequest","open","responseType","onload","status","responseText","responseXML","DOMParser","parseFromString","readFeatures","featureProjection","readProjection","getLastExtent","onerror","send","loadFeaturesXhr","dataProjection","addFeatures","all","Source","attributions_","adaptAttributions","attributionsCollapsible_","attributionsCollapsible","wrapX_","wrapX","getWrapX","refresh","setAttributions","setState","attributionLike","VectorEventType","createCommonjsModule","fn","module","self","quickselect","swap","defaultCompare","compare","quickselectStep","sd","newLeft","newRight","factory","quickselect$1","freeze","default","__moduleExports","quickselect$2","rbush_1","rbush","default_1","maxEntries","_maxEntries","_minEntries","ceil","_initFormat","findItem","items","equalsFn","calcBBox","toBBox","distBBox","children","destNode","createNode","child","extend$2","leaf","compareNodeMinX","compareNodeMinY","bboxArea","bboxMargin","intersects$1","multiSelect","_all","search","bbox","result","childBBox","nodesToSearch","collides","insert","_build","_splitRoot","tmpNode","_insert","goingUp","path","indexes","_condense","compareMinX","compareMinY","toJSON","fromJSON","N","M","right2","right3","N2","N1","_chooseSubtree","level","targetNode","enlargement","minEnlargement","isNode","insertPath","_split","_adjustParentBBoxes","_chooseSplitAxis","splitIndex","_chooseSplitIndex","bbox1","bbox2","overlap","minOverlap","_allDistMargin","leftBBox","rightBBox","siblings","compareArr","Function","join","RBush","opt_maxEntries","rbush_","items_","extents","uid","getAll","getInExtent","forEach_","forEachInExtent","VectorSourceEvent","opt_feature","VectorSource","Source$$1","loader_","format_","overlaps_","overlaps","url_","loader","strategy_","strategy","collection","useSpatialIndex","featuresRtree_","loadedExtentsRtree_","nullGeometryFeatures_","idIndex_","undefIdIndex_","featureChangeKeys_","featuresCollection_","addFeaturesInternal","bindFeaturesCollection_","addFeature","addFeatureInternal","featureKey","addToIndex_","setupChangeEvents_","handleFeatureChange_","valid","newFeatures","geometryFeatures","length$1","feature$1","featureKey$1","i$2","length$2","modifyingCollection","removeFeature","opt_fast","featureId","removeFeatureInternal","clearEvent","forEachFeature","forEachFeatureAtCoordinateDirect","forEachFeatureInExtent","forEachFeatureIntersectingExtent","getFeaturesCollection","getFeatures","getFeaturesAtCoordinate","getFeaturesInExtent","getClosestFeatureToCoordinate","opt_filter","closestFeature","previousMinSquaredDistance","minDistance","getFeatureById","getFormat","getOverlaps","getUrl","sid","removeFromIdIndex_","hasFeature","loadFeatures","this$1","loadedExtentsRtree","extentsToLoad","loop","extentToLoad","removeLoadedExtent","removed","setLoader","Mode$1","DrawEventType","DrawEvent","Draw","shouldHandle_","downPx_","downTimeout_","lastDragTime_","freehand_","features_","snapTolerance_","snapTolerance","type_","mode","getMode","stopClick_","stopClick","minPoints_","minPoints","maxPoints_","maxPoints","finishCondition_","finishCondition","geometryFunction","opt_geometry","squaredLength","Constructor","dragVertexDelay_","dragVertexDelay","finishCoordinate_","sketchFeature_","sketchPoint_","sketchCoords_","sketchLine_","sketchLineCoords_","squaredClickTolerance_","clickTolerance","overlay_","geometryName","freehandCondition_","freehand","freehandCondition","updateState_","getOverlay","pass","addToDrawing_","startDrawing_","circleMode","finishDrawing","atFinish_","abortDrawing_","downPx","clickPx","modifyDrawing_","createOrUpdateSketchPoint_","at","potentiallyDone","potentiallyFinishCoordinates","sketchCoords","finishCoordinate","finishPixel","updateSketchFeatures_","sketchLineGeom","ring","removeLastPoint","sketchFeature","sketchFeatures","overlaySource","ModifyEventType","ModifyEvent","mapBrowserPointerEvent","Modify","defaultDeleteCondition_","altKeyOnly","deleteCondition_","deleteCondition","insertVertexCondition_","insertVertexCondition","vertexFeature_","vertexSegments_","lastPixel_","ignoreNextSingleClick_","modified_","rBush_","pixelTolerance_","pixelTolerance","snappedToVertex_","changingFeature_","dragSegments_","SEGMENT_WRITERS_","writePointGeometry_","writeLineStringGeometry_","writePolygonGeometry_","writeMultiPointGeometry_","writeMultiLineStringGeometry_","writeMultiPolygonGeometry_","writeCircleGeometry_","writeGeometryCollectionGeometry_","handleSourceAdd_","handleSourceRemove_","addFeature_","handleFeatureAdd_","handleFeatureRemove_","lastPointerEvent_","handlePointerAtPixel_","willModifyFeatures_","removeFeature_","removeFeatureSegmentData_","rBush","nodesToRemove","segmentData","depth","lines","rings","kk","centerSegmentData","circumferenceSegmentData","featureSegments","geometries","getGeometriesArray","createOrUpdateVertexFeature_","vertexFeature","removePoint","vertex","dragSegment","setGeometryCoordinates_","pixelCoordinate","insertVertices","vertexExtent","segmentDataMatches","componentSegments","compareIndexes","segmentDataMatch","closestOnSegmentData","insertVertex_","box","nodes","pointDistanceToSegmentDataSquared","closestSegment","vertexPixel","dist","vertexSegments","pixel1","pixel2","squaredDist1","squaredDist2","rTree","updateSegmentIndices_","newSegmentData","newSegmentData2","removeVertex_","component","newIndex","dragSegments","segmentsByFeature","deleted","segments","pointCoordinates","circleGeometry","distanceToCenterSquared","distanceToCircumference","SelectEventType","SelectEvent","selected","deselected","Select","handleEvent$3","addCondition_","addCondition","removeCondition_","removeCondition","toggleCondition_","toggleCondition","multi_","multi","filter_","hitTolerance_","featureOverlay","featureOverlay_","layerFilter_","featureLayerAssociation_","addFeatureLayerAssociation_","getHitTolerance","getLayer","setHitTolerance","currentMap","selectedFeatures","removeFeatureLayerAssociation_","remove$$1","pointerMove$1","defaults$1","altShiftDragRotate","doubleClickZoom","zoomDelta","zoomDuration","dragPan","onFocusOnly","pinchRotate","pinchZoom","keyboard","mouseWheelZoom","shiftDragZoom","ImageCanvas","ImageBase$$1","opt_loader","error_","getError","handleLoad_","err","ImageBase","getPixelRatio","RenderEvent","opt_vectorContext","opt_context","opt_glContext","vectorContext","glContext","VectorContext","drawCustom","drawGeometry","drawCircle","drawFeature","drawGeometryCollection","geometryCollectionGeometry","drawLineString","lineStringGeometry","drawMultiLineString","multiLineStringGeometry","drawMultiPoint","multiPointGeometry","drawMultiPolygon","multiPolygonGeometry","drawPoint","pointGeometry","drawPolygon","polygonGeometry","drawText","setFillStrokeStyle","setImageStyle","imageStyle","opt_declutterGroup","setTextStyle","textStyle","CanvasImmediateRenderer","VectorContext$$1","viewRotation","context_","transform_","viewRotation_","contextFillState_","contextStrokeState_","contextTextState_","fillState_","strokeState_","imageAnchorX_","imageAnchorY_","imageHeight_","imageOpacity_","imageOriginX_","imageOriginY_","imageRotateWithView_","imageRotation_","imageScale_","imageWidth_","textOffsetX_","textOffsetY_","textRotateWithView_","textRotation_","textScale_","textFillState_","textStrokeState_","textState_","pixelCoordinates_","tmpLocalTransform_","drawImages_","pixelCoordinates","localTransform","drawText_","setContextFillState_","setContextStrokeState_","setContextTextState_","strokeText","fillText","moveToLineTo_","close","moveTo","drawRings_","simpleGeometry","transformGeom2D","flatMidpoint","geometryExtent","flatMidpoints","flatInteriorPoint","flatInteriorPoints","fillState","contextFillState","strokeState","contextStrokeState","textState","contextTextState","textAlign","textBaseline","fillStyleColor","strokeStyleColor","strokeStyleLineCap","strokeStyleLineDash","strokeStyleLineDashOffset","strokeStyleLineJoin","strokeStyleWidth","strokeStyleMiterLimit","imageAnchor","imageImage","imageOrigin","textFillStyle","textFillStyleColor","textStrokeStyle","textStrokeStyleColor","textStrokeStyleLineCap","textStrokeStyleLineDash","textStrokeStyleLineDashOffset","textStrokeStyleLineJoin","textStrokeStyleWidth","textStrokeStyleMiterLimit","textFont","getFont","textOffsetX","getOffsetX","textOffsetY","getOffsetY","textRotateWithView","textRotation","textScale","textText","textTextAlign","getTextAlign","textTextBaseline","getTextBaseline","IconImageCache","cache_","cacheSize_","maxCacheSize_","src","crossOrigin","expire","iconImage","maxCacheSize","shared","MapRenderer","layerRenderers_","layerRendererListeners_","layerRendererConstructors_","registerLayerRenderers","constructors","calculateMatrices2D","removeLayerRendererByKey_","thisArg2","viewResolution","translatedCoordinate","projectionExtent","worldWidth","layerRenderer","getLayerRenderer","layerKey","candidate","handleLayerRendererChange_","getLayerRendererByKey","getLayerRenderers","removeUnusedLayerRenderers_","scheduleExpireIconCache","scheduleRemoveUnusedLayerRenderers","expireIconCache","sortByZIndex","state1","state2","layerRendererConstructors","CanvasMapRenderer","MapRenderer$$1","insertBefore","childNodes","composeEvent","clearRect","save","prepareFrame","composeFrame","restore","numLayers","forEachLayerAtCoordinate","ctor","LayerRenderer","layer_","createLoadedTileFinder","tiles","tileRange","forEachLoadedTile","tileCoord","handleImageChange_","renderIfReadyAndVisible","loadImage","imageState","scheduleExpireCache","tileSource","postRenderFunction","expireCache","updateUsedTiles","zKey","manageTilePyramid","currentZ","preload","opt_tileCallback","getTileRangeForExtentAndZ","getTile","getTileCoordCenter","useTile","CanvasLayerRenderer","LayerRenderer$$1","renderedResolution","clip","topLeft","topRight","bottomRight","bottomLeft","dispatchComposeEvent_","opt_transform","postCompose","preCompose","IntermediateCanvasRenderer","CanvasLayerRenderer$$1","coordinateToCanvasPixelTransform","hitCanvasContext_","clipped","imageTransform","getImageTransform","dw","dh","imageData","getImageData","CanvasImageLayerRenderer","IntermediateCanvasRenderer$$1","imageLayer","imageTransform_","skippedFeatures_","vectorRenderer_","viewCenter","imageSource","vectorRenderer","renderedExtent","skippedFeatures","imageFrameState","newSkippedFeatures","replayGroupChanged","imageExtent","imageResolution","imagePixelRatio","mapRenderer","TileRange","createOrUpdate$1","containsTileRange","CanvasTileLayerRenderer","tileLayer","opt_noContext","oversampling_","renderedExtent_","renderedRevision","renderedTiles","newTiles_","tmpExtent","tmpTileRange_","zDirection","isDrawableTile_","tileState","useInterimTilesOnError","getUseInterimTilesOnError","getPreload","getInterimTile","sourceRevision","getTileGridForProjection","getZForResolution","oversampling","getTileRangeExtent","tilePixelRatio","getTilePixelRatio","tilesToDrawByZ","findLoadedTiles","animatingOrInteracting","tmpTileRange","inTransition","getAlpha","childTileRange","getTileCoordChildTileRange","covered","forEachTileCoordParentTileRange","tilePixelSize","getTilePixelSize","currentScale","currentTilePixelSize","tileExtent","tileGutter","tilesToDraw","zs","tileCoordKey","getGutterForProjection","getTileCoordExtent","getTileCoord","drawTileImage","gutter","transition","getTileImage","getOpaque","alphaChanged","endTransition","ReplayGroup","getReplay","replayType","addDeclutter","group","ReplayType","drawTextOnPath","measure","startM","maxAngle","previousAngle","reverse","numChars","segmentM","chunk","chunkLength","char","charAt","charLength","charM","segmentPos","unshift","Instruction","fillInstruction","strokeInstruction","beginPathInstruction","closePathInstruction","ORDER","TEXT_ALIGN","tmpTransform$1","CanvasReplay","maxExtent","declutterTree","maxLineWidth","alignFill_","beginGeometryInstruction1_","beginGeometryInstruction2_","bufferedMaxExtent_","instructions","coordinateCache_","renderedTransform_","hitDetectionInstructions","replayTextBackground_","p1","p2","p3","p4","fillInstruction$$1","strokeInstruction$$1","setStrokeStyle_","replayImage_","declutterGroup","fillStroke","boxW","boxH","boxX","boxY","strokePadding","intersects$$1","declutterArgs","applyPixelRatio","dashArray","dash","appendFlatCoordinates","closed","skipFirst","myEnd","getBufferedMaxExtent","lastRel","nextRel","lastCoord","nextCoord","skipped","drawCustomCoordinates_","replayEnds","replayEnd","beginGeometry","replayEndss","replayBegin","myEnds","endGeometry","finish","origin","repeatSize","instruction","renderDeclutter_","groupCount","declutterData","replay_","skippedFeaturesHash","featureCallback","opt_hitExtent","dd","prevX","prevY","roundX","roundY","skipFeatures","pendingFill","pendingStroke","lastFillInstruction","lastStrokeInstruction","coordinateCache","batchSize","backgroundFill","backgroundStroke","baseline","fillKey","strokeKey","textKey","pathLength","textLength","textStates","parts","cc","chars","part","replay","replayHitDetection","opt_featureCallback","reverseHitDetectionInstructions","createFill","applyStroke","createStroke","updateFillStyle","currentFillStyle","updateStrokeStyle","currentStrokeStyle","currentLineCap","currentLineDash","currentLineDashOffset","currentLineJoin","currentLineWidth","currentMiterLimit","endGeometryInstruction","CanvasImageReplay","CanvasReplay$$1","declutterGroup_","hitDetectionImage_","anchorX_","anchorY_","height_","originX_","originY_","drawCoordinates_","myBegin","hitDetectionImage","CanvasLineStringReplay","drawFlatCoordinates_","moveToLineToInstruction","lastStroke","CanvasPolygonReplay","drawFlatCoordinatess_","numEnds","setFillStrokeStyles_","circleInstruction","matchingChunk","m12","m23","x12","y12","x23","y23","chunkStart","chunkEnd","chunkM","acos","TextPlacement","BATCH_CONSTRUCTORS","CanvasTextReplay","labels_","fillStates","strokeStates","textKey_","fillKey_","strokeKey_","widths_","geometryType","placement","flatEnd","flatOffset","oo","range","drawChars_","drawTextImage_","align","numLines","widths","currentWidth","measureTextWidths","lineHeight","renderWidth","leftRight","getOverflow","getMaxAngle","getPlacement","getBackgroundFill","getBackgroundStroke","getPadding","CanvasReplayGroup","ReplayGroup$$1","opt_renderBuffer","declutterTree_","tolerance_","maxExtent_","resolution_","replaysByZIndex_","hitDetectionContext_","hitDetectionTransform_","flatClipCoords","getClipCoords","hasReplays","replays","candidates","replayKey","declutterReplays","hitExtent","contextSize","declutteredFeatures","mask","circleArrayCache","arraySize","error","fillCircleArrayRowToMiddle","getCircleArray","zIndexKey","getReplays","opt_replayTypes","opt_declutterReplays","replayTypes","0","GEOMETRY_RENDERERS","replayGroup","imageReplay","textReplay","lineStringReplay","polygonReplay","geometryRenderer","circleReplay","defaultOrder","feature1","feature2","getSquaredTolerance","getTolerance","renderFeature","renderGeometry","getGeometries","renderFeatureInternal","CanvasVectorLayerRenderer","vectorLayer","dirty_","renderedRevision_","renderedResolution_","renderedRenderOrder_","replayGroup_","handleFontsChanged_","vectorSource","clipExtent","replayContext","drawOffsetX","drawOffsetY","transparentLayer","hasRenderListeners","drawWidth","drawHeight","drawSize","world","mainContextAlpha","handleStyleImageChange_","animating","interacting","frameStateExtent","vectorLayerRevision","vectorLayerRenderBuffer","vectorLayerRenderOrder","dirty","VectorTileRenderType","IMAGE_REPLAYS","VECTOR_REPLAYS","CanvasVectorTileLayerRenderer","CanvasTileLayerRenderer$$1","renderedLayerRevision_","tmpTransform_","createReplayGroup_","renderTileImage_","layerRevision","revision","replayState","getReplayState","renderedRenderOrder","sourceTileGrid","getTileGrid","tt","sourceTile","tileKeys","sourceTileCoord","sourceTileExtent","sharedExtent","bufferedExtent","tileProjection","reproject","setProjection","setReplayGroup","getReplayGroup","getReplayTransform_","renderResolution","clips","worldOffset","transform$$1","currentClip","zz","replayData","replayDeclutter","renderedTileRevision","wrappedTileCoord","pixelScale","Map","PluggableMap$$1","OverlayPositioning","Property$3","Overlay","insertFirst","autoPan","autoPanAnimation","autoPanMargin","rendered","bottom_","left_","right_","top_","mapPostrenderListenerKey","handleElementChanged","handleMapChanged","handleOffsetChanged","handlePositionChanged","handlePositioningChanged","setElement","setOffset","setPositioning","positioning","setPosition","getElement","getOffset","getPosition","getPositioning","updatePixelPosition","panIntoView","mapRect","getRect","overlayRect","offsetLeft","offsetRight","offsetTop","offsetBottom","centerPx","newCenterPx","pageXOffset","pageYOffset","mapSize","updateRenderedPosition","bottom","getOptions","OverviewMap","render$3","ovmapDiv_","ovmap_","ovmap","boxSizing","boxOverlay_","scope","overlayBox","mousePosition","endMoving","oldMap","oldView","unbindView_","handleMapPropertyChange_","bindView_","resetExtent_","newView","handleRotationChanged_","validateExtent_","ovmapSize","ovextent","topLeftPixel","bottomRightPixel","boxWidth","boxHeight","ovmapWidth","ovmapHeight","recenter_","ovview","steps","MAX_RATIO","LN2","updateBox_","ovresolution","rotateBottomLeft","calculateCoordinateRotate_","coordinateRotate","getOverviewMap","Units$1","LEADING_DIGITS","ScaleLine","render$4","innerElement_","viewState_","minWidth_","minWidth","renderedWidth_","renderedHTML_","handleUnitsChanged_","setUnits","pointResolutionUnits","nominalCount","suffix","metersPerDegree","html","WebGLShader","isAnimated","WebGLFragment","WebGLShader$$1","WebGLVertex","fragment","Locations","program","u_projectionMatrix","getUniformLocation","u_offsetScaleMatrix","u_offsetRotateMatrix","u_lineWidth","u_pixelRatio","u_opacity","u_fillColor","u_strokeColor","u_size","a_position","getAttribLocation","a_instruction","a_radius","fromTransform","mat4","WebGLReplay","projectionMatrix_","offsetRotateMatrix_","offsetScaleMatrix_","tmpMat4_","indices","indicesBuffer","startIndices","startIndicesFeature","verticesBuffer","getDeleteResourcesFunction","setUpProgram","shutDownProgram","locations","drawReplay","hitDetection","drawHitDetectionReplayOneByOne","drawHitDetectionReplay","oneByOne","drawHitDetectionReplayAll","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","tmpStencil","tmpStencilFunc","tmpStencilMaskVal","tmpStencilRef","tmpStencilMask","tmpStencilOpFail","tmpStencilOpPass","tmpStencilOpZFail","getGL","isEnabled","STENCIL_TEST","STENCIL_FUNC","STENCIL_VALUE_MASK","STENCIL_REF","STENCIL_WRITEMASK","STENCIL_FAIL","STENCIL_PASS_DEPTH_PASS","STENCIL_PASS_DEPTH_FAIL","enable","STENCIL_BUFFER_BIT","stencilMask","stencilFunc","ALWAYS","stencilOp","KEEP","REPLACE","NOTEQUAL","bindBuffer","projectionMatrix","offsetScaleMatrix","offsetRotateMatrix","uniformMatrix4fv","uniform1f","drawElements","elementType","hasOESElementIndexUint","numItems","offsetInBytes","DEFAULT_FILLSTYLE","DEFAULT_LINEDASH","DEFAULT_STROKESTYLE","EPSILON","triangleIsCounterClockwise","BufferUsage","WebGLBuffer","opt_arr","opt_usage","arr_","usage_","getUsage","WebGLCircleReplay","WebGLReplay$$1","defaultLocations_","styles_","styleIndices_","fillColor","strokeColor","numVertices","numIndices","lastState","deleteBuffer","getProgram","useProgram","enableVertexAttribArray","vertexAttribPointer","uniform2fv","disableVertexAttribArray","nextStyle","setFillStyle_","drawReplaySkipping_","groupStart","featureIndex","featureStart","uniform4fv","CanvasGradient","CanvasPattern","fragment$1","vertex$1","Locations$1","u_image","a_texCoord","a_offsets","a_opacity","a_rotateWithView","ContextEventType","WebGLContext","gl_","bufferCache_","shaderCache_","programCache_","currentProgram_","hitDetectionFramebuffer_","hitDetectionTexture_","hitDetectionRenderbuffer_","getExtension","handleWebGLContextLost","handleWebGLContextRestored","buf","bufferKey","bufferCacheEntry","arrayBuffer","createBuffer","Float32Array","Uint32Array","Uint16Array","bufferData","isContextLost","key$1","deleteProgram","key$2","deleteShader","deleteFramebuffer","deleteRenderbuffer","deleteTexture","getCanvas","getHitDetectionFramebuffer","initHitDetectionFramebuffer_","getShader","shaderObject","shaderKey","shader","createShader","shaderSource","compileShader","fragmentShaderObject","vertexShaderObject","programKey","createProgram","attachShader","linkProgram","framebuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","texture","createEmptyTexture","renderbuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferTexture2D","COLOR_ATTACHMENT0","TEXTURE_2D","framebufferRenderbuffer","DEPTH_ATTACHMENT","bindTexture","createTextureInternal","opt_wrapS","opt_wrapT","createTexture","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","WebGLTextureReplay","groupIndices","hitDetectionGroupIndices","imageHeight","imageWidth","defaultLocations","textures","getTextures","drawCoordinates","createTextures","images","texturePerImage","getHitDetectionTextures","drawReplaySkipping","groupEnd","hitDetectionTextures","opt_all","WebGLImageReplay","WebGLTextureReplay$$1","images_","hitDetectionImages_","textures_","hitDetectionTextures_","lineStringIsClosed","fragment$2","vertex$2","Locations$2","u_miterLimit","u_color","a_lastPos","a_nextPos","a_direction","Instruction$1","WebGLLineStringReplay","startCoords","sign","p0","lastSign","addVertices_","product","isValid_","indexCount","drawPolygonCoordinates","holeFlatCoordinates","setPolygonStyle","opt_index","getCurrentIndex","tmpDepthFunc","DEPTH_FUNC","tmpDepthMask","DEPTH_WRITEMASK","DEPTH_TEST","depthMask","depthFunc","fragment$3","vertex$3","Locations$3","LinkedList","opt_circular","first_","last_","head_","circular_","length_","insertItem","next","head","removeItem","firstItem","lastItem","nextItem","getNextItem","prevItem","getPrevItem","getCurrItem","setFirstItem","list","WebGLPolygonReplay","outerRing","rtree","processFlatCoordinates_","maxCoords","getMaxCoords_","holeLists","holeList","classifyPoints_","currList","currItem","getIntersections_","bridgeHole_","triangulate_","clockwise","createPoint_","insertItem_","seg","ccw","s0","s1","pointsReclassified","reflex","removeItem_","hole","holeMaxX","listMaxX","bestPoint","p5","minDist","intersectingSegments","currSeg","calculateIntersection_","pointsInTriangle","getPointsInTriangle_","currPoint","currTheta","p0Bridge","p1Bridge","simple","isSimple_","clipEars_","resolveSelfIntersections_","splitPolygon_","isClockwise_","s2","s3","processedEars","variableCriterion","diagonalIsInside_","opt_touch","resolvedIntersections","breakCond","newPolygon","newRtree","opt_rtree","opt_reflex","segmentsInExtent","denom","ub","p1IsLeftOf","p1IsRightOf","p3IsLeftOf","p3IsRightOf","p1InCone","p3InCone","currIndex","currLineIndex","holes","holeFlatCoords","lineDeleter","nullStrokeStyle","Atlas","space","space_","emptyBlocks_","renderCallback","block","split_","newBlock1","newBlock2","updateBlocks_","args","AtlasManager","currentSize_","initialSize","maxSize_","maxSize","atlases_","currentHitSize_","hitAtlases_","getInfo","getInfo_","hitInfo","mergeInfos_","atlases","opt_renderHitCallback","add_","renderHitCallback","isHitAtlas","atlas","HIT_DETECTION_SIZE","BATCH_CONSTRUCTORS$1","WebGLTextReplay","measureCanvas_","textAlign_","textBaseline_","offsetX_","offsetY_","currAtlas_","currX","currY","charArr","charInfo","glyphAtlas","textSize","getTextSize_","textHeight","str","sum","curr","addCharToAtlas_","reduce","mCtx","ctx","getAtlas_","params","hash","calculateHash_","WebGLReplayGroup","functions","replayHitDetection_","Uint8Array","readPixels","WebGLImmediateRenderer","center_","imageStyle_","fillStyle_","strokeStyle_","textStyle_","fragment$4","vertex$4","Locations$4","u_texCoordMatrix","u_texture","WebGLLayerRenderer","arrayBuffer_","framebufferDimension","texCoordMatrix","uniform1i","getTexCoordMatrix","getProjectionMatrix","getTexture","drawArrays","WebGLImageLayerRenderer","WebGLLayerRenderer$$1","hitTransformationMatrix_","createTexture_","imageElement","updateProjectionMatrix_","canvasWidth","canvasHeight","canvasExtentWidth","canvasExtentHeight","getHitTransformationMatrix_","pixelOnFrameBuffer","mapCoordTransform","projectionMatrixInv","WebGLMapRenderer","clipTileCanvasWidth_","clipTileCanvasHeight_","clipTileContext_","antialias","preserveDrawingBuffer","stencil","textureCache_","tileTextureQueue_","loadNextTileTexture_","tileSize","bindTileTexture","textureCacheFrameMarkerCount_","initializeGL_","magFilter","minFilter","textureCacheEntry","imageTile","clipTileCanvas","clipTileContext","expireCache_","getTileTextureQueue","renderers","activeTexture","blendFuncSeparate","isTileTextureLoaded","layerStatesToDraw","clearColor","viewport","layerState$1","Tile","interimTile","transition_","transitionStarts_","refreshInterimChain","ImageTile","Tile$$1","tileLoadFunction","crossOrigin_","src_","Image","imageListenerKeys_","tileLoadFunction_","unlistenImage_","getBlankImage","handleImageError_","handleImageLoad_","naturalWidth","naturalHeight","fillRect","createOrUpdate$2","opt_tileCoord","getKeyZXY","getKey$1","TileCache","LRUCache$$1","pruneExceptNewestZ","fromKey","tmpTileCoord","TileGrid","opt_strict","every","currentVal","res","origins","origins_","tileSizes_","tileSizes","tileSize_","fullTileRanges_","tmpSize_","sizes","calculateTileRanges_","getForProjection","opt_maxZoom","opt_tileSize","opt_corner","resolutionsFromExtent","createForExtent","extentFromProjection","createForProjection","half","forEachTileCoord","opt_tileRange","tileCoordExtent","getTileSize","getTileCoordForXYAndZ_","getTileCoordForCoordAndResolution","getTileCoordForXYAndResolution_","reverseIntersectionPolicy","adjustX","adjustY","xFromOrigin","yFromOrigin","tileCoordX","tileCoordY","getTileCoordForCoordAndZ","getTileCoordResolution","getFullTileRange","fullTileRanges","TileSource","opaque_","opaque","tilePixelRatio_","tileCache","tmpSize","tileOptions","getTileCacheForProjection","loaded","setKey","thisProj","ratio","getTileCoordForTileUrlFunction","opt_projection","worldsAway","withinExtentAndZ","TileSourceEvent","fragment$5","vertex$5","Locations$5","u_tileOffset","WebGLTileLayerRenderer","fragmentShader_","vertexShader_","locations_","renderArrayBuffer_","renderedTileRange_","renderedFramebufferExtent_","framebufferExtent","tilePixelResolution","tileRangeSize","roundUpToPowerOfTwo","framebufferExtentDimension","allTilesLoaded","tileTextureQueue","pixelOnMapScaled","pixelOnFrameBufferScaled","WebGLVectorLayerRenderer","layerState_","SCISSOR_TEST","scissor","WebGLMap","TileProperty","TileLayer","setPreload","setUseInterimTilesOnError","calculateSourceResolution","targetProj","targetMetersPerUnit","sourceMetersPerUnit","sourceExtent","compensationFactor","isFinite","enlargeClipPoint","centroidX","centroidY","dX","dY","render$6","targetExtent","triangulation","sources","opt_renderEdges","sourceDataExtent","canvasWidthInUnits","canvasHeightInUnits","stitchContext","stitchScale","xPos","yPos","srcWidth","srcHeight","targetTopLeft","getTriangles","triangle","u0","v0","u1","v1","u2","v2","sourceNumericalShiftX","sourceNumericalShiftY","affineCoefs","maxRow","maxEl","absValue","coef","solveLinearSystem","Triangulation","maxSourceExtent","errorThreshold","sourceProj_","targetProj_","transformInvCache","transformInv","transformInv_","maxSourceExtent_","errorThresholdSquared_","triangles_","wrapsXInSource_","canWrapXInSource_","sourceWorldWidth_","targetWorldWidth_","destinationTopLeft","destinationTopRight","destinationBottomRight","destinationBottomLeft","sourceTopLeft","sourceTopRight","sourceBottomRight","sourceBottomLeft","addQuad_","leftBound","newTriangle","addTriangle_","aSrc","bSrc","cSrc","dSrc","maxSubdivision","sourceQuadExtent","sourceCoverageX","sourceWorldWidth","wrapsX","needsSubdivision","centerSrc","bc","bcSrc","da","daSrc","ab","abSrc","cd","cdSrc","calculateSourceExtent","ReprojTile","targetTileGrid","getTileFunction","opt_errorThreshold","renderEdges_","gutter_","sourceTileGrid_","targetTileGrid_","wrappedTileCoord_","sourceTiles_","sourcesListenerKeys_","sourceZ_","maxTargetExtent","limitedTargetExtent","sourceProjExtent","errorThresholdInPixels","triangulation_","sourceRange","srcX","srcY","unlistenSources_","reproject_","leftToLoad","sourceListenKey","createFromTemplate","template","zRegEx","xRegEx","yRegEx","dashYRegEx","createFromTemplates","templates","tileUrlFunctions","createFromTileUrlFunctions","nullTileUrlFunction","TileEventType","defaultTileLoadFunction","XYZ","TileImage$$1","xyzOptions","gridOptions","createXYZ","reprojectionErrorThreshold","tileUrlFunction","urls","UrlTile$$1","TileImage","tileClass","tileCacheForProjection","tileGridForProjection","reprojectionErrorThreshold_","renderReprojectionEdges_","usedTileCache","getGutter","projKey","createTile_","urlTileCoord","tileUrl","newTile","getTileInternal","setRenderReprojectionEdges","setTileGridForProjection","tilegrid","proj","TileSource$$1","UrlTile","generateTileUrlFunction_","setUrls","setUrl","setTileUrlFunction","tileLoadingKeys_","getTileLoadFunction","getTileUrlFunction","getUrls","setTileLoadFunction","match","startCharCode","stopCharCode","fromCharCode","stop","expandUrl","publish","payload","CustomEvent","createEvent","initCustomEvent","PROJECT_NAME","EVENTS","ROI_ADDED","ROI_REMOVED","ROI_DRAWN","ROI_SELECTED","ROI_MODIFIED","MOVE_STARTED","MOVE_ENDED","tagToKeyword","generateUID","random","_uid","Symbol","_scoord3d","ROI","scoord3d","_coordinates","_frameOfReferenceUID","_fiducialUID","Scoord3D","frameOfReferenceUID","fiducialUID","Point$1","some","super","Polyline","find","Polygon$1","Ellipse","dicomwebClient","_typeof","iterator","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","stringToUint8Array","containsToken","token","findToken","maxSearchLength","searchLength","guid","s4","substring","multipartDecode","response","separator","headerIndex","boundaryString","header","identifyBoundary","limit","itemLimit","uint8ArrayToString","boundaryIndex","boundary","boundaryLength","components","headerTokenIndex","isObject","isEmptyObject","getFirstResult","getFirstResultIfLengthGtOne","MEDIATYPES","findSubstring","before","after","beforeIndex","lastIndexOf","afterIndex","api","DICOMwebClient","instance","_classCallCheck","baseURL","console","username","password","qidoURLPrefix","qidoURL","wadoURLPrefix","wadoURL","stowURLPrefix","stowURL","headers","protoProps","staticProps","queryString","encodeURIComponent","mediaType","sepIndex","mediaTypeType","_assertMediaTypeIsValid","mediaTypes","supportedMediaTypes","fieldValueParts","transferSyntaxUID","fieldValue","flat","endsWith","expectedMediaTypes","actualType","_parseMediaType","expectedMediaType","expectedType","byteRange","commonMediaTypes","Set","startsWith","from","method","_this","Promise","resolve","reject","request","setRequestHeader","userHeaders","onloadstart","onloadend","onreadystatechange","readyState","warn","progressCallback","onprogress","_httpRequest","urlWithQueryParams","_parseQueryParameters","Accept","_httpGet","acceptHeaderFieldValue","_buildAcceptHeaderFieldValue","Range","_buildRangeHeaderFieldValue","_buildMultipartAcceptHeaderFieldValue","then","defaultMediaType","acceptableMediaTypes","_httpPost","queryParams","_httpGetApplicationJson","studyInstanceUID","seriesInstanceUID","contentType","transferSyntax","sopInstanceUID","paramString","frameNumbers","_httpGetMultipartApplicationOctetStream","commonMediaType","_getCommonMediaType","_httpGetMultipartImage","_httpGetMultipartVideo","_httpGetImage","_httpGetVideo","_httpGetText","_httpGetApplicationPdf","debug","_httpGetMultipartApplicationDicom","BulkDataURI","_multipartEncode","datasets","contentTypeString","footer","headerArray","footerArray","headerLength","footerLength","contentArrays","datasetBuffer","contentArray","contentLength","multipartArray","multipartEncode","utils","getStudyInstanceUIDFromUri","uri","getSeriesInstanceUIDFromUri","getSOPInstanceUIDFromUri","getFrameNumbersFromUri","numbers","version","__esModule","_getPixelSpacing","metadata","SharedFunctionalGroupsSequence","PixelMeasuresSequence","PixelSpacing","_geometryCoordinates2scoord3dCoordinates","pyramid","TotalPixelMatrixOriginSequence","xOffset","XOffsetInSlideCoordinateSystem","yOffset","YOffsetInSlideCoordinateSystem","pixelSpacing","toFixed","_coordinateFormatGeometry2Scoord3d","_scoord3dCoordinates2geometryCoordinates","coord","_coordinateFormatScoord3d2Geometry","_getROIFromFeature","roi","FrameOfReferenceUID","centerCoordinate","_geometry2Scoord3d","_usewebgl","_map","_features","_drawingSource","_drawingLayer","_segmentations","_client","_controls","_interactions","_pyramidMetadata","_pyramidFrameMappings","_pyramidBaseMetadata","_metadata","VLWholeSlideMicroscopyImageViewer","useWebGL","client","retrieveRendered","sopClassUID","imageType","loadJSONDataset","dataset","tag","keyword","vr","NumberOfFrames","formatImageMetadata","sizeDiff","TotalPixelMatrixColumns","ConcatenationFrameOffsetNumber","frameMappings","rows","Rows","columns","Columns","totalPixelMatrixColumns","TotalPixelMatrixRows","SOPInstanceUID","numberOfFrames","frameOffsetNumber","dimensionOrganizationType","DimensionOrganizationType","tilesPerRow","frameMapping","rowFraction","rowIndex","frameNumber","functionalGroups","PerFrameFunctionalGroupsSequence","planePositions","PlanePositionSlideSequence","rowPosition","RowPositionInTotalImagePixelMatrix","columnPosition","ColumnPositionInTotalImagePixelMatrix","getFrameMapping","cols","alreadyExists","SOPInstanceUIDOfConcatenationSource","ConcatenationUID","InConcatenationNumber","nLevels","totalSizes","basePixelSpacing","baseTotalPixelMatrixColumns","baseTotalPixelMatrixRows","totalPixelMatrixRows","adjustedTotalPixelMatrixColumns","adjustedTotalPixelMatrixRows","pyramidFrameMappings","degrees","ImageOrientationSlide","pixelRes","rasterSource","StudyInstanceUID","SeriesInstanceUID","img","retrieveOptions","retrieveInstanceFramesRendered","renderedFrame","blob","Blob","URL","createObjectURL","retrieveInstanceFrames","rawFrames","overviewView","draw","select","modify","overview","logo","scaleElement","backgroundColor","borderRadius","scaleInnerElement","fontSize","borderWidth","borderStyle","borderTop","borderRightColor","borderLeftColor","borderBottomColor","willChange","getAllROIs","deactivateDrawInteraction","customOptionsMapping","freehandpolygon","line","freehandline","defaultDrawOptions","customDrawOptions","allDrawOptions","deactivateSelectInteraction","deactivateModifyInteraction","rois","getROI","graphicType","graphicData","majorAxisCoordinates","_scoord3d2Geometry","Multipoint","Ellipsoid"],"mappings":"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","file":"vendors~dicom-microscopy-viewer.bundle.27138bbe67bfdf144979.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.DICOMMicroscopyViewer = {})));\n}(this, (function (exports) { 'use strict';\n\n  /**\n   * @module ol/util\n   */\n\n  /**\n   * @return {?} Any return.\n   */\n  function abstract() {\n    return /** @type {?} */ ((function() {\n      throw new Error('Unimplemented abstract method.');\n    })());\n  }\n\n  /**\n   * Counter for getUid.\n   * @type {number}\n   * @private\n   */\n  var uidCounter_ = 0;\n\n  /**\n   * Gets a unique ID for an object. This mutates the object so that further calls\n   * with the same object as a parameter returns the same value. Unique IDs are generated\n   * as a strictly increasing sequence. Adapted from goog.getUid.\n   *\n   * @param {Object} obj The object to get the unique ID for.\n   * @return {string} The unique ID for the object.\n   * @function module:ol.getUid\n   * @api\n   */\n  function getUid(obj) {\n    return obj.ol_uid || (obj.ol_uid = String(++uidCounter_));\n  }\n\n  /**\n   * OpenLayers version.\n   * @type {string}\n   */\n  var VERSION = '5.3.0';\n\n  /**\n   * @module ol/AssertionError\n   */\n\n  /**\n   * Error object thrown when an assertion failed. This is an ECMA-262 Error,\n   * extended with a `code` property.\n   * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error.\n   */\n  var AssertionError = /*@__PURE__*/(function (Error) {\n    function AssertionError(code) {\n      var path = 'v' + VERSION.split('-')[0];\n      var message = 'Assertion failed. See https://openlayers.org/en/' + path +\n      '/doc/errors/#' + code + ' for details.';\n\n      Error.call(this, message);\n\n      /**\n       * Error code. The meaning of the code can be found on\n       * https://openlayers.org/en/latest/doc/errors/ (replace `latest` with\n       * the version found in the OpenLayers script's header comment if a version\n       * other than the latest is used).\n       * @type {number}\n       * @api\n       */\n      this.code = code;\n\n      /**\n       * @type {string}\n       */\n      this.name = 'AssertionError';\n\n      // Re-assign message, see https://github.com/Rich-Harris/buble/issues/40\n      this.message = message;\n    }\n\n    if ( Error ) AssertionError.__proto__ = Error;\n    AssertionError.prototype = Object.create( Error && Error.prototype );\n    AssertionError.prototype.constructor = AssertionError;\n\n    return AssertionError;\n  }(Error));\n\n  /**\n   * @module ol/CollectionEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var CollectionEventType = {\n    /**\n     * Triggered when an item is added to the collection.\n     * @event module:ol/Collection.CollectionEvent#add\n     * @api\n     */\n    ADD: 'add',\n    /**\n     * Triggered when an item is removed from the collection.\n     * @event module:ol/Collection.CollectionEvent#remove\n     * @api\n     */\n    REMOVE: 'remove'\n  };\n\n  /**\n   * @module ol/ObjectEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var ObjectEventType = {\n    /**\n     * Triggered when a property is changed.\n     * @event module:ol/Object.ObjectEvent#propertychange\n     * @api\n     */\n    PROPERTYCHANGE: 'propertychange'\n  };\n\n  /**\n   * @module ol/obj\n   */\n\n\n  /**\n   * Polyfill for Object.assign().  Assigns enumerable and own properties from\n   * one or more source objects to a target object.\n   * See https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign.\n   *\n   * @param {!Object} target The target object.\n   * @param {...Object} var_sources The source object(s).\n   * @return {!Object} The modified target object.\n   */\n  var assign = (typeof Object.assign === 'function') ? Object.assign : function(target, var_sources) {\n    var arguments$1 = arguments;\n\n    if (target === undefined || target === null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var output = Object(target);\n    for (var i = 1, ii = arguments.length; i < ii; ++i) {\n      var source = arguments$1[i];\n      if (source !== undefined && source !== null) {\n        for (var key in source) {\n          if (source.hasOwnProperty(key)) {\n            output[key] = source[key];\n          }\n        }\n      }\n    }\n    return output;\n  };\n\n\n  /**\n   * Removes all properties from an object.\n   * @param {Object} object The object to clear.\n   */\n  function clear(object) {\n    for (var property in object) {\n      delete object[property];\n    }\n  }\n\n\n  /**\n   * Get an array of property values from an object.\n   * @param {Object<K,V>} object The object from which to get the values.\n   * @return {!Array<V>} The property values.\n   * @template K,V\n   */\n  function getValues(object) {\n    var values = [];\n    for (var property in object) {\n      values.push(object[property]);\n    }\n    return values;\n  }\n\n\n  /**\n   * Determine if an object has any properties.\n   * @param {Object} object The object to check.\n   * @return {boolean} The object is empty.\n   */\n  function isEmpty(object) {\n    var property;\n    for (property in object) {\n      return false;\n    }\n    return !property;\n  }\n\n  /**\n   * @module ol/events\n   */\n\n\n  /**\n   * Key to use with {@link module:ol/Observable~Observable#unByKey}.\n   * @typedef {Object} EventsKey\n   * @property {Object} [bindTo]\n   * @property {ListenerFunction} [boundListener]\n   * @property {boolean} callOnce\n   * @property {number} [deleteIndex]\n   * @property {ListenerFunction} listener\n   * @property {import(\"./events/Target.js\").EventTargetLike} target\n   * @property {string} type\n   * @api\n   */\n\n\n  /**\n   * Listener function. This function is called with an event object as argument.\n   * When the function returns `false`, event propagation will stop.\n   *\n   * @typedef {function((Event|import(\"./events/Event.js\").default)): (void|boolean)} ListenerFunction\n   * @api\n   */\n\n\n  /**\n   * @param {EventsKey} listenerObj Listener object.\n   * @return {ListenerFunction} Bound listener.\n   */\n  function bindListener(listenerObj) {\n    var boundListener = function(evt) {\n      var listener = listenerObj.listener;\n      var bindTo = listenerObj.bindTo || listenerObj.target;\n      if (listenerObj.callOnce) {\n        unlistenByKey(listenerObj);\n      }\n      return listener.call(bindTo, evt);\n    };\n    listenerObj.boundListener = boundListener;\n    return boundListener;\n  }\n\n\n  /**\n   * Finds the matching {@link module:ol/events~EventsKey} in the given listener\n   * array.\n   *\n   * @param {!Array<!EventsKey>} listeners Array of listeners.\n   * @param {!Function} listener The listener function.\n   * @param {Object=} opt_this The `this` value inside the listener.\n   * @param {boolean=} opt_setDeleteIndex Set the deleteIndex on the matching\n   *     listener, for {@link module:ol/events~unlistenByKey}.\n   * @return {EventsKey|undefined} The matching listener object.\n   */\n  function findListener(listeners, listener, opt_this, opt_setDeleteIndex) {\n    var listenerObj;\n    for (var i = 0, ii = listeners.length; i < ii; ++i) {\n      listenerObj = listeners[i];\n      if (listenerObj.listener === listener &&\n          listenerObj.bindTo === opt_this) {\n        if (opt_setDeleteIndex) {\n          listenerObj.deleteIndex = i;\n        }\n        return listenerObj;\n      }\n    }\n    return undefined;\n  }\n\n\n  /**\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Target.\n   * @param {string} type Type.\n   * @return {Array<EventsKey>|undefined} Listeners.\n   */\n  function getListeners(target, type) {\n    var listenerMap = getListenerMap(target);\n    return listenerMap ? listenerMap[type] : undefined;\n  }\n\n\n  /**\n   * Get the lookup of listeners.\n   * @param {Object} target Target.\n   * @param {boolean=} opt_create If a map should be created if it doesn't exist.\n   * @return {!Object<string, Array<EventsKey>>} Map of\n   *     listeners by event type.\n   */\n  function getListenerMap(target, opt_create) {\n    var listenerMap = target.ol_lm;\n    if (!listenerMap && opt_create) {\n      listenerMap = target.ol_lm = {};\n    }\n    return listenerMap;\n  }\n\n\n  /**\n   * Remove the listener map from a target.\n   * @param {Object} target Target.\n   */\n  function removeListenerMap(target) {\n    delete target.ol_lm;\n  }\n\n\n  /**\n   * Clean up all listener objects of the given type.  All properties on the\n   * listener objects will be removed, and if no listeners remain in the listener\n   * map, it will be removed from the target.\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Target.\n   * @param {string} type Type.\n   */\n  function removeListeners(target, type) {\n    var listeners = getListeners(target, type);\n    if (listeners) {\n      for (var i = 0, ii = listeners.length; i < ii; ++i) {\n        /** @type {import(\"./events/Target.js\").default} */ (target).\n          removeEventListener(type, listeners[i].boundListener);\n        clear(listeners[i]);\n      }\n      listeners.length = 0;\n      var listenerMap = getListenerMap(target);\n      if (listenerMap) {\n        delete listenerMap[type];\n        if (Object.keys(listenerMap).length === 0) {\n          removeListenerMap(target);\n        }\n      }\n    }\n  }\n\n\n  /**\n   * Registers an event listener on an event target. Inspired by\n   * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n   *\n   * This function efficiently binds a `listener` to a `this` object, and returns\n   * a key for use with {@link module:ol/events~unlistenByKey}.\n   *\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n   * @param {string} type Event type.\n   * @param {ListenerFunction} listener Listener.\n   * @param {Object=} opt_this Object referenced by the `this` keyword in the\n   *     listener. Default is the `target`.\n   * @param {boolean=} opt_once If true, add the listener as one-off listener.\n   * @return {EventsKey} Unique key for the listener.\n   */\n  function listen(target, type, listener, opt_this, opt_once) {\n    var listenerMap = getListenerMap(target, true);\n    var listeners = listenerMap[type];\n    if (!listeners) {\n      listeners = listenerMap[type] = [];\n    }\n    var listenerObj = findListener(listeners, listener, opt_this, false);\n    if (listenerObj) {\n      if (!opt_once) {\n        // Turn one-off listener into a permanent one.\n        listenerObj.callOnce = false;\n      }\n    } else {\n      listenerObj = /** @type {EventsKey} */ ({\n        bindTo: opt_this,\n        callOnce: !!opt_once,\n        listener: listener,\n        target: target,\n        type: type\n      });\n      /** @type {import(\"./events/Target.js\").default} */ (target).\n        addEventListener(type, bindListener(listenerObj));\n      listeners.push(listenerObj);\n    }\n\n    return listenerObj;\n  }\n\n\n  /**\n   * Registers a one-off event listener on an event target. Inspired by\n   * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n   *\n   * This function efficiently binds a `listener` as self-unregistering listener\n   * to a `this` object, and returns a key for use with\n   * {@link module:ol/events~unlistenByKey} in case the listener needs to be\n   * unregistered before it is called.\n   *\n   * When {@link module:ol/events~listen} is called with the same arguments after this\n   * function, the self-unregistering listener will be turned into a permanent\n   * listener.\n   *\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n   * @param {string} type Event type.\n   * @param {ListenerFunction} listener Listener.\n   * @param {Object=} opt_this Object referenced by the `this` keyword in the\n   *     listener. Default is the `target`.\n   * @return {EventsKey} Key for unlistenByKey.\n   */\n  function listenOnce(target, type, listener, opt_this) {\n    return listen(target, type, listener, opt_this, true);\n  }\n\n\n  /**\n   * Unregisters an event listener on an event target. Inspired by\n   * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n   *\n   * To return a listener, this function needs to be called with the exact same\n   * arguments that were used for a previous {@link module:ol/events~listen} call.\n   *\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n   * @param {string} type Event type.\n   * @param {ListenerFunction} listener Listener.\n   * @param {Object=} opt_this Object referenced by the `this` keyword in the\n   *     listener. Default is the `target`.\n   */\n  function unlisten(target, type, listener, opt_this) {\n    var listeners = getListeners(target, type);\n    if (listeners) {\n      var listenerObj = findListener(listeners, listener, opt_this, true);\n      if (listenerObj) {\n        unlistenByKey(listenerObj);\n      }\n    }\n  }\n\n\n  /**\n   * Unregisters event listeners on an event target. Inspired by\n   * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n   *\n   * The argument passed to this function is the key returned from\n   * {@link module:ol/events~listen} or {@link module:ol/events~listenOnce}.\n   *\n   * @param {EventsKey} key The key.\n   */\n  function unlistenByKey(key) {\n    if (key && key.target) {\n      /** @type {import(\"./events/Target.js\").default} */ (key.target).\n        removeEventListener(key.type, key.boundListener);\n      var listeners = getListeners(key.target, key.type);\n      if (listeners) {\n        var i = 'deleteIndex' in key ? key.deleteIndex : listeners.indexOf(key);\n        if (i !== -1) {\n          listeners.splice(i, 1);\n        }\n        if (listeners.length === 0) {\n          removeListeners(key.target, key.type);\n        }\n      }\n      clear(key);\n    }\n  }\n\n\n  /**\n   * Unregisters all event listeners on an event target. Inspired by\n   * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n   *\n   * @param {import(\"./events/Target.js\").EventTargetLike} target Target.\n   */\n  function unlistenAll(target) {\n    var listenerMap = getListenerMap(target);\n    if (listenerMap) {\n      for (var type in listenerMap) {\n        removeListeners(target, type);\n      }\n    }\n  }\n\n  /**\n   * @module ol/Disposable\n   */\n\n  /**\n   * @classdesc\n   * Objects that need to clean up after themselves.\n   */\n  var Disposable = function Disposable() {\n    /**\n     * The object has already been disposed.\n     * @type {boolean}\n     * @private\n     */\n    this.disposed_ = false;\n  };\n\n  /**\n   * Clean up.\n   */\n  Disposable.prototype.dispose = function dispose () {\n    if (!this.disposed_) {\n      this.disposed_ = true;\n      this.disposeInternal();\n    }\n  };\n\n  /**\n   * Extension point for disposable objects.\n   * @protected\n   */\n  Disposable.prototype.disposeInternal = function disposeInternal () {};\n\n  /**\n   * @module ol/functions\n   */\n\n  /**\n   * Always returns true.\n   * @returns {boolean} true.\n   */\n  function TRUE() {\n    return true;\n  }\n\n  /**\n   * Always returns false.\n   * @returns {boolean} false.\n   */\n  function FALSE() {\n    return false;\n  }\n\n  /**\n   * A reusable function, used e.g. as a default for callbacks.\n   *\n   * @return {void} Nothing.\n   */\n  function VOID() {}\n\n  /**\n   * @module ol/events/Event\n   */\n\n  /**\n   * @classdesc\n   * Stripped down implementation of the W3C DOM Level 2 Event interface.\n   * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n   *\n   * This implementation only provides `type` and `target` properties, and\n   * `stopPropagation` and `preventDefault` methods. It is meant as base class\n   * for higher level events defined in the library, and works with\n   * {@link module:ol/events/Target~Target}.\n   */\n  var Event = function Event(type) {\n\n    /**\n     * @type {boolean}\n     */\n    this.propagationStopped;\n\n    /**\n     * The event type.\n     * @type {string}\n     * @api\n     */\n    this.type = type;\n\n    /**\n     * The event target.\n     * @type {Object}\n     * @api\n     */\n    this.target = null;\n  };\n\n  /**\n   * Stop event propagation.\n   * @api\n   */\n  Event.prototype.preventDefault = function preventDefault () {\n    this.propagationStopped = true;\n  };\n\n  /**\n   * Stop event propagation.\n   * @api\n   */\n  Event.prototype.stopPropagation = function stopPropagation () {\n    this.propagationStopped = true;\n  };\n\n\n  /**\n   * @param {Event|import(\"./Event.js\").default} evt Event\n   */\n  function stopPropagation(evt) {\n    evt.stopPropagation();\n  }\n\n  /**\n   * @module ol/events/Target\n   */\n\n\n  /**\n   * @typedef {EventTarget|Target} EventTargetLike\n   */\n\n\n  /**\n   * @classdesc\n   * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n   * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n   *\n   * There are two important simplifications compared to the specification:\n   *\n   * 1. The handling of `useCapture` in `addEventListener` and\n   *    `removeEventListener`. There is no real capture model.\n   * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n   *    There is no event target hierarchy. When a listener calls\n   *    `stopPropagation` or `preventDefault` on an event object, it means that no\n   *    more listeners after this one will be called. Same as when the listener\n   *    returns false.\n   */\n  var Target = /*@__PURE__*/(function (Disposable$$1) {\n    function Target() {\n\n      Disposable$$1.call(this);\n\n      /**\n       * @private\n       * @type {!Object<string, number>}\n       */\n      this.pendingRemovals_ = {};\n\n      /**\n       * @private\n       * @type {!Object<string, number>}\n       */\n      this.dispatching_ = {};\n\n      /**\n       * @private\n       * @type {!Object<string, Array<import(\"../events.js\").ListenerFunction>>}\n       */\n      this.listeners_ = {};\n\n    }\n\n    if ( Disposable$$1 ) Target.__proto__ = Disposable$$1;\n    Target.prototype = Object.create( Disposable$$1 && Disposable$$1.prototype );\n    Target.prototype.constructor = Target;\n\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../events.js\").ListenerFunction} listener Listener.\n     */\n    Target.prototype.addEventListener = function addEventListener (type, listener) {\n      var listeners = this.listeners_[type];\n      if (!listeners) {\n        listeners = this.listeners_[type] = [];\n      }\n      if (listeners.indexOf(listener) === -1) {\n        listeners.push(listener);\n      }\n    };\n\n    /**\n     * Dispatches an event and calls all listeners listening for events\n     * of this type. The event parameter can either be a string or an\n     * Object with a `type` property.\n     *\n     * @param {{type: string,\n     *     target: (EventTargetLike|undefined),\n     *     propagationStopped: (boolean|undefined)}|\n     *     import(\"./Event.js\").default|string} event Event object.\n     * @return {boolean|undefined} `false` if anyone called preventDefault on the\n     *     event object or if any of the listeners returned false.\n     * @api\n     */\n    Target.prototype.dispatchEvent = function dispatchEvent (event) {\n      var evt = typeof event === 'string' ? new Event(event) : event;\n      var type = evt.type;\n      evt.target = this;\n      var listeners = this.listeners_[type];\n      var propagate;\n      if (listeners) {\n        if (!(type in this.dispatching_)) {\n          this.dispatching_[type] = 0;\n          this.pendingRemovals_[type] = 0;\n        }\n        ++this.dispatching_[type];\n        for (var i = 0, ii = listeners.length; i < ii; ++i) {\n          if (listeners[i].call(this, evt) === false || evt.propagationStopped) {\n            propagate = false;\n            break;\n          }\n        }\n        --this.dispatching_[type];\n        if (this.dispatching_[type] === 0) {\n          var pendingRemovals = this.pendingRemovals_[type];\n          delete this.pendingRemovals_[type];\n          while (pendingRemovals--) {\n            this.removeEventListener(type, VOID);\n          }\n          delete this.dispatching_[type];\n        }\n        return propagate;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Target.prototype.disposeInternal = function disposeInternal () {\n      unlistenAll(this);\n    };\n\n    /**\n     * Get the listeners for a specified event type. Listeners are returned in the\n     * order that they will be called in.\n     *\n     * @param {string} type Type.\n     * @return {Array<import(\"../events.js\").ListenerFunction>} Listeners.\n     */\n    Target.prototype.getListeners = function getListeners$$1 (type) {\n      return this.listeners_[type];\n    };\n\n    /**\n     * @param {string=} opt_type Type. If not provided,\n     *     `true` will be returned if this event target has any listeners.\n     * @return {boolean} Has listeners.\n     */\n    Target.prototype.hasListener = function hasListener (opt_type) {\n      return opt_type ?\n        opt_type in this.listeners_ :\n        Object.keys(this.listeners_).length > 0;\n    };\n\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../events.js\").ListenerFunction} listener Listener.\n     */\n    Target.prototype.removeEventListener = function removeEventListener (type, listener) {\n      var listeners = this.listeners_[type];\n      if (listeners) {\n        var index = listeners.indexOf(listener);\n        if (type in this.pendingRemovals_) {\n          // make listener a no-op, and remove later in #dispatchEvent()\n          listeners[index] = VOID;\n          ++this.pendingRemovals_[type];\n        } else {\n          listeners.splice(index, 1);\n          if (listeners.length === 0) {\n            delete this.listeners_[type];\n          }\n        }\n      }\n    };\n\n    return Target;\n  }(Disposable));\n\n  /**\n   * @module ol/events/EventType\n   */\n\n  /**\n   * @enum {string}\n   * @const\n   */\n  var EventType = {\n    /**\n     * Generic change event. Triggered when the revision counter is increased.\n     * @event module:ol/events/Event~Event#change\n     * @api\n     */\n    CHANGE: 'change',\n\n    CLEAR: 'clear',\n    CONTEXTMENU: 'contextmenu',\n    CLICK: 'click',\n    DBLCLICK: 'dblclick',\n    DRAGENTER: 'dragenter',\n    DRAGOVER: 'dragover',\n    DROP: 'drop',\n    ERROR: 'error',\n    KEYDOWN: 'keydown',\n    KEYPRESS: 'keypress',\n    LOAD: 'load',\n    MOUSEDOWN: 'mousedown',\n    MOUSEMOVE: 'mousemove',\n    MOUSEOUT: 'mouseout',\n    MOUSEUP: 'mouseup',\n    MOUSEWHEEL: 'mousewheel',\n    MSPOINTERDOWN: 'MSPointerDown',\n    RESIZE: 'resize',\n    TOUCHSTART: 'touchstart',\n    TOUCHMOVE: 'touchmove',\n    TOUCHEND: 'touchend',\n    WHEEL: 'wheel'\n  };\n\n  /**\n   * @module ol/Observable\n   */\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * An event target providing convenient methods for listener registration\n   * and unregistration. A generic `change` event is always available through\n   * {@link module:ol/Observable~Observable#changed}.\n   *\n   * @fires import(\"./events/Event.js\").Event\n   * @api\n   */\n  var Observable = /*@__PURE__*/(function (EventTarget) {\n    function Observable() {\n\n      EventTarget.call(this);\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.revision_ = 0;\n\n    }\n\n    if ( EventTarget ) Observable.__proto__ = EventTarget;\n    Observable.prototype = Object.create( EventTarget && EventTarget.prototype );\n    Observable.prototype.constructor = Observable;\n\n    /**\n     * Increases the revision counter and dispatches a 'change' event.\n     * @api\n     */\n    Observable.prototype.changed = function changed () {\n      ++this.revision_;\n      this.dispatchEvent(EventType.CHANGE);\n    };\n\n    /**\n     * Get the version number for this object.  Each time the object is modified,\n     * its version number will be incremented.\n     * @return {number} Revision.\n     * @api\n     */\n    Observable.prototype.getRevision = function getRevision () {\n      return this.revision_;\n    };\n\n    /**\n     * Listen for a certain type of event.\n     * @param {string|Array<string>} type The event type or array of event types.\n     * @param {function(?): ?} listener The listener function.\n     * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n     *     called with an array of event types as the first argument, the return\n     *     will be an array of keys.\n     * @api\n     */\n    Observable.prototype.on = function on (type, listener) {\n      if (Array.isArray(type)) {\n        var len = type.length;\n        var keys = new Array(len);\n        for (var i = 0; i < len; ++i) {\n          keys[i] = listen(this, type[i], listener);\n        }\n        return keys;\n      } else {\n        return listen(this, /** @type {string} */ (type), listener);\n      }\n    };\n\n    /**\n     * Listen once for a certain type of event.\n     * @param {string|Array<string>} type The event type or array of event types.\n     * @param {function(?): ?} listener The listener function.\n     * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n     *     called with an array of event types as the first argument, the return\n     *     will be an array of keys.\n     * @api\n     */\n    Observable.prototype.once = function once (type, listener) {\n      if (Array.isArray(type)) {\n        var len = type.length;\n        var keys = new Array(len);\n        for (var i = 0; i < len; ++i) {\n          keys[i] = listenOnce(this, type[i], listener);\n        }\n        return keys;\n      } else {\n        return listenOnce(this, /** @type {string} */ (type), listener);\n      }\n    };\n\n    /**\n     * Unlisten for a certain type of event.\n     * @param {string|Array<string>} type The event type or array of event types.\n     * @param {function(?): ?} listener The listener function.\n     * @api\n     */\n    Observable.prototype.un = function un (type, listener) {\n      if (Array.isArray(type)) {\n        for (var i = 0, ii = type.length; i < ii; ++i) {\n          unlisten(this, type[i], listener);\n        }\n        return;\n      } else {\n        unlisten(this, /** @type {string} */ (type), listener);\n      }\n    };\n\n    return Observable;\n  }(Target));\n\n  /**\n   * @module ol/Object\n   */\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/Object~BaseObject} instances are instances of this type.\n   */\n  var ObjectEvent = /*@__PURE__*/(function (Event$$1) {\n    function ObjectEvent(type, key, oldValue) {\n      Event$$1.call(this, type);\n\n      /**\n       * The name of the property whose value is changing.\n       * @type {string}\n       * @api\n       */\n      this.key = key;\n\n      /**\n       * The old value. To get the new value use `e.target.get(e.key)` where\n       * `e` is the event object.\n       * @type {*}\n       * @api\n       */\n      this.oldValue = oldValue;\n\n    }\n\n    if ( Event$$1 ) ObjectEvent.__proto__ = Event$$1;\n    ObjectEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    ObjectEvent.prototype.constructor = ObjectEvent;\n\n    return ObjectEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * Most non-trivial classes inherit from this.\n   *\n   * This extends {@link module:ol/Observable} with observable\n   * properties, where each property is observable as well as the object as a\n   * whole.\n   *\n   * Classes that inherit from this have pre-defined properties, to which you can\n   * add your owns. The pre-defined properties are listed in this documentation as\n   * 'Observable Properties', and have their own accessors; for example,\n   * {@link module:ol/Map~Map} has a `target` property, accessed with\n   * `getTarget()` and changed with `setTarget()`. Not all properties are however\n   * settable. There are also general-purpose accessors `get()` and `set()`. For\n   * example, `get('target')` is equivalent to `getTarget()`.\n   *\n   * The `set` accessors trigger a change event, and you can monitor this by\n   * registering a listener. For example, {@link module:ol/View~View} has a\n   * `center` property, so `view.on('change:center', function(evt) {...});` would\n   * call the function whenever the value of the center property changes. Within\n   * the function, `evt.target` would be the view, so `evt.target.getCenter()`\n   * would return the new center.\n   *\n   * You can add your own observable properties with\n   * `object.set('prop', 'value')`, and retrieve that with `object.get('prop')`.\n   * You can listen for changes on that property value with\n   * `object.on('change:prop', listener)`. You can get a list of all\n   * properties with {@link module:ol/Object~BaseObject#getProperties}.\n   *\n   * Note that the observable properties are separate from standard JS properties.\n   * You can, for example, give your map object a title with\n   * `map.title='New title'` and with `map.set('title', 'Another title')`. The\n   * first will be a `hasOwnProperty`; the second will appear in\n   * `getProperties()`. Only the second is observable.\n   *\n   * Properties can be deleted by using the unset method. E.g.\n   * object.unset('foo').\n   *\n   * @fires ObjectEvent\n   * @api\n   */\n  var BaseObject = /*@__PURE__*/(function (Observable$$1) {\n    function BaseObject(opt_values) {\n      Observable$$1.call(this);\n\n      // Call {@link module:ol/util~getUid} to ensure that the order of objects' ids is\n      // the same as the order in which they were created.  This also helps to\n      // ensure that object properties are always added in the same order, which\n      // helps many JavaScript engines generate faster code.\n      getUid(this);\n\n      /**\n       * @private\n       * @type {!Object<string, *>}\n       */\n      this.values_ = {};\n\n      if (opt_values !== undefined) {\n        this.setProperties(opt_values);\n      }\n    }\n\n    if ( Observable$$1 ) BaseObject.__proto__ = Observable$$1;\n    BaseObject.prototype = Object.create( Observable$$1 && Observable$$1.prototype );\n    BaseObject.prototype.constructor = BaseObject;\n\n    /**\n     * Gets a value.\n     * @param {string} key Key name.\n     * @return {*} Value.\n     * @api\n     */\n    BaseObject.prototype.get = function get (key) {\n      var value;\n      if (this.values_.hasOwnProperty(key)) {\n        value = this.values_[key];\n      }\n      return value;\n    };\n\n    /**\n     * Get a list of object property names.\n     * @return {Array<string>} List of property names.\n     * @api\n     */\n    BaseObject.prototype.getKeys = function getKeys () {\n      return Object.keys(this.values_);\n    };\n\n    /**\n     * Get an object of all property names and values.\n     * @return {Object<string, *>} Object.\n     * @api\n     */\n    BaseObject.prototype.getProperties = function getProperties () {\n      return assign({}, this.values_);\n    };\n\n    /**\n     * @param {string} key Key name.\n     * @param {*} oldValue Old value.\n     */\n    BaseObject.prototype.notify = function notify (key, oldValue) {\n      var eventType;\n      eventType = getChangeEventType(key);\n      this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n      eventType = ObjectEventType.PROPERTYCHANGE;\n      this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n    };\n\n    /**\n     * Sets a value.\n     * @param {string} key Key name.\n     * @param {*} value Value.\n     * @param {boolean=} opt_silent Update without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.set = function set (key, value, opt_silent) {\n      if (opt_silent) {\n        this.values_[key] = value;\n      } else {\n        var oldValue = this.values_[key];\n        this.values_[key] = value;\n        if (oldValue !== value) {\n          this.notify(key, oldValue);\n        }\n      }\n    };\n\n    /**\n     * Sets a collection of key-value pairs.  Note that this changes any existing\n     * properties and adds new ones (it does not remove any existing properties).\n     * @param {Object<string, *>} values Values.\n     * @param {boolean=} opt_silent Update without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.setProperties = function setProperties (values, opt_silent) {\n      for (var key in values) {\n        this.set(key, values[key], opt_silent);\n      }\n    };\n\n    /**\n     * Unsets a property.\n     * @param {string} key Key name.\n     * @param {boolean=} opt_silent Unset without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.unset = function unset (key, opt_silent) {\n      if (key in this.values_) {\n        var oldValue = this.values_[key];\n        delete this.values_[key];\n        if (!opt_silent) {\n          this.notify(key, oldValue);\n        }\n      }\n    };\n\n    return BaseObject;\n  }(Observable));\n\n\n  /**\n   * @type {Object<string, string>}\n   */\n  var changeEventTypeCache = {};\n\n\n  /**\n   * @param {string} key Key name.\n   * @return {string} Change name.\n   */\n  function getChangeEventType(key) {\n    return changeEventTypeCache.hasOwnProperty(key) ?\n      changeEventTypeCache[key] :\n      (changeEventTypeCache[key] = 'change:' + key);\n  }\n\n  /**\n   * @module ol/Collection\n   */\n\n\n  /**\n   * @enum {string}\n   * @private\n   */\n  var Property = {\n    LENGTH: 'length'\n  };\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/Collection~Collection} instances are instances of this\n   * type.\n   */\n  var CollectionEvent = /*@__PURE__*/(function (Event$$1) {\n    function CollectionEvent(type, opt_element) {\n      Event$$1.call(this, type);\n\n      /**\n       * The element that is added to or removed from the collection.\n       * @type {*}\n       * @api\n       */\n      this.element = opt_element;\n\n    }\n\n    if ( Event$$1 ) CollectionEvent.__proto__ = Event$$1;\n    CollectionEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    CollectionEvent.prototype.constructor = CollectionEvent;\n\n    return CollectionEvent;\n  }(Event));\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {boolean} [unique=false] Disallow the same item from being added to\n   * the collection twice.\n   */\n\n  /**\n   * @classdesc\n   * An expanded version of standard JS Array, adding convenience methods for\n   * manipulation. Add and remove changes to the Collection trigger a Collection\n   * event. Note that this does not cover changes to the objects _within_ the\n   * Collection; they trigger events on the appropriate object, not on the\n   * Collection as a whole.\n   *\n   * @fires CollectionEvent\n   *\n   * @template T\n   * @api\n   */\n  var Collection = /*@__PURE__*/(function (BaseObject$$1) {\n    function Collection(opt_array, opt_options) {\n\n      BaseObject$$1.call(this);\n\n      var options = opt_options || {};\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.unique_ = !!options.unique;\n\n      /**\n       * @private\n       * @type {!Array<T>}\n       */\n      this.array_ = opt_array ? opt_array : [];\n\n      if (this.unique_) {\n        for (var i = 0, ii = this.array_.length; i < ii; ++i) {\n          this.assertUnique_(this.array_[i], i);\n        }\n      }\n\n      this.updateLength_();\n\n    }\n\n    if ( BaseObject$$1 ) Collection.__proto__ = BaseObject$$1;\n    Collection.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Collection.prototype.constructor = Collection;\n\n    /**\n     * Remove all elements from the collection.\n     * @api\n     */\n    Collection.prototype.clear = function clear () {\n      while (this.getLength() > 0) {\n        this.pop();\n      }\n    };\n\n    /**\n     * Add elements to the collection.  This pushes each item in the provided array\n     * to the end of the collection.\n     * @param {!Array<T>} arr Array.\n     * @return {Collection<T>} This collection.\n     * @api\n     */\n    Collection.prototype.extend = function extend (arr) {\n      for (var i = 0, ii = arr.length; i < ii; ++i) {\n        this.push(arr[i]);\n      }\n      return this;\n    };\n\n    /**\n     * Iterate over each element, calling the provided callback.\n     * @param {function(T, number, Array<T>): *} f The function to call\n     *     for every element. This function takes 3 arguments (the element, the\n     *     index and the array). The return value is ignored.\n     * @api\n     */\n    Collection.prototype.forEach = function forEach (f) {\n      var array = this.array_;\n      for (var i = 0, ii = array.length; i < ii; ++i) {\n        f(array[i], i, array);\n      }\n    };\n\n    /**\n     * Get a reference to the underlying Array object. Warning: if the array\n     * is mutated, no events will be dispatched by the collection, and the\n     * collection's \"length\" property won't be in sync with the actual length\n     * of the array.\n     * @return {!Array<T>} Array.\n     * @api\n     */\n    Collection.prototype.getArray = function getArray () {\n      return this.array_;\n    };\n\n    /**\n     * Get the element at the provided index.\n     * @param {number} index Index.\n     * @return {T} Element.\n     * @api\n     */\n    Collection.prototype.item = function item (index) {\n      return this.array_[index];\n    };\n\n    /**\n     * Get the length of this collection.\n     * @return {number} The length of the array.\n     * @observable\n     * @api\n     */\n    Collection.prototype.getLength = function getLength () {\n      return this.get(Property.LENGTH);\n    };\n\n    /**\n     * Insert an element at the provided index.\n     * @param {number} index Index.\n     * @param {T} elem Element.\n     * @api\n     */\n    Collection.prototype.insertAt = function insertAt (index, elem) {\n      if (this.unique_) {\n        this.assertUnique_(elem);\n      }\n      this.array_.splice(index, 0, elem);\n      this.updateLength_();\n      this.dispatchEvent(\n        new CollectionEvent(CollectionEventType.ADD, elem));\n    };\n\n    /**\n     * Remove the last element of the collection and return it.\n     * Return `undefined` if the collection is empty.\n     * @return {T|undefined} Element.\n     * @api\n     */\n    Collection.prototype.pop = function pop () {\n      return this.removeAt(this.getLength() - 1);\n    };\n\n    /**\n     * Insert the provided element at the end of the collection.\n     * @param {T} elem Element.\n     * @return {number} New length of the collection.\n     * @api\n     */\n    Collection.prototype.push = function push (elem) {\n      if (this.unique_) {\n        this.assertUnique_(elem);\n      }\n      var n = this.getLength();\n      this.insertAt(n, elem);\n      return this.getLength();\n    };\n\n    /**\n     * Remove the first occurrence of an element from the collection.\n     * @param {T} elem Element.\n     * @return {T|undefined} The removed element or undefined if none found.\n     * @api\n     */\n    Collection.prototype.remove = function remove (elem) {\n      var arr = this.array_;\n      for (var i = 0, ii = arr.length; i < ii; ++i) {\n        if (arr[i] === elem) {\n          return this.removeAt(i);\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * Remove the element at the provided index and return it.\n     * Return `undefined` if the collection does not contain this index.\n     * @param {number} index Index.\n     * @return {T|undefined} Value.\n     * @api\n     */\n    Collection.prototype.removeAt = function removeAt (index) {\n      var prev = this.array_[index];\n      this.array_.splice(index, 1);\n      this.updateLength_();\n      this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE, prev));\n      return prev;\n    };\n\n    /**\n     * Set the element at the provided index.\n     * @param {number} index Index.\n     * @param {T} elem Element.\n     * @api\n     */\n    Collection.prototype.setAt = function setAt (index, elem) {\n      var n = this.getLength();\n      if (index < n) {\n        if (this.unique_) {\n          this.assertUnique_(elem, index);\n        }\n        var prev = this.array_[index];\n        this.array_[index] = elem;\n        this.dispatchEvent(\n          new CollectionEvent(CollectionEventType.REMOVE, prev));\n        this.dispatchEvent(\n          new CollectionEvent(CollectionEventType.ADD, elem));\n      } else {\n        for (var j = n; j < index; ++j) {\n          this.insertAt(j, undefined);\n        }\n        this.insertAt(index, elem);\n      }\n    };\n\n    /**\n     * @private\n     */\n    Collection.prototype.updateLength_ = function updateLength_ () {\n      this.set(Property.LENGTH, this.array_.length);\n    };\n\n    /**\n     * @private\n     * @param {T} elem Element.\n     * @param {number=} opt_except Optional index to ignore.\n     */\n    Collection.prototype.assertUnique_ = function assertUnique_ (elem, opt_except) {\n      for (var i = 0, ii = this.array_.length; i < ii; ++i) {\n        if (this.array_[i] === elem && i !== opt_except) {\n          throw new AssertionError(58);\n        }\n      }\n    };\n\n    return Collection;\n  }(BaseObject));\n\n  /**\n   * @module ol/MapEvent\n   */\n\n  /**\n   * @classdesc\n   * Events emitted as map events are instances of this type.\n   * See {@link module:ol/PluggableMap~PluggableMap} for which events trigger a map event.\n   */\n  var MapEvent = /*@__PURE__*/(function (Event$$1) {\n    function MapEvent(type, map, opt_frameState) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The map where the event occurred.\n       * @type {import(\"./PluggableMap.js\").default}\n       * @api\n       */\n      this.map = map;\n\n      /**\n       * The frame state at the time of the event.\n       * @type {?import(\"./PluggableMap.js\").FrameState}\n       * @api\n       */\n      this.frameState = opt_frameState !== undefined ? opt_frameState : null;\n\n    }\n\n    if ( Event$$1 ) MapEvent.__proto__ = Event$$1;\n    MapEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    MapEvent.prototype.constructor = MapEvent;\n\n    return MapEvent;\n  }(Event));\n\n  /**\n   * @module ol/MapBrowserEvent\n   */\n\n  /**\n   * @classdesc\n   * Events emitted as map browser events are instances of this type.\n   * See {@link module:ol/PluggableMap~PluggableMap} for which events trigger a map browser event.\n   */\n  var MapBrowserEvent = /*@__PURE__*/(function (MapEvent$$1) {\n    function MapBrowserEvent(type, map, browserEvent, opt_dragging, opt_frameState) {\n\n      MapEvent$$1.call(this, type, map, opt_frameState);\n\n      /**\n       * The original browser event.\n       * @const\n       * @type {Event}\n       * @api\n       */\n      this.originalEvent = browserEvent;\n\n      /**\n       * The map pixel relative to the viewport corresponding to the original browser event.\n       * @type {import(\"./pixel.js\").Pixel}\n       * @api\n       */\n      this.pixel = map.getEventPixel(browserEvent);\n\n      /**\n       * The coordinate in view projection corresponding to the original browser event.\n       * @type {import(\"./coordinate.js\").Coordinate}\n       * @api\n       */\n      this.coordinate = map.getCoordinateFromPixel(this.pixel);\n\n      /**\n       * Indicates if the map is currently being dragged. Only set for\n       * `POINTERDRAG` and `POINTERMOVE` events. Default is `false`.\n       *\n       * @type {boolean}\n       * @api\n       */\n      this.dragging = opt_dragging !== undefined ? opt_dragging : false;\n\n    }\n\n    if ( MapEvent$$1 ) MapBrowserEvent.__proto__ = MapEvent$$1;\n    MapBrowserEvent.prototype = Object.create( MapEvent$$1 && MapEvent$$1.prototype );\n    MapBrowserEvent.prototype.constructor = MapBrowserEvent;\n\n    /**\n     * Prevents the default browser action.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/event.preventDefault.\n     * @override\n     * @api\n     */\n    MapBrowserEvent.prototype.preventDefault = function preventDefault () {\n      MapEvent$$1.prototype.preventDefault.call(this);\n      this.originalEvent.preventDefault();\n    };\n\n    /**\n     * Prevents further propagation of the current event.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/event.stopPropagation.\n     * @override\n     * @api\n     */\n    MapBrowserEvent.prototype.stopPropagation = function stopPropagation () {\n      MapEvent$$1.prototype.stopPropagation.call(this);\n      this.originalEvent.stopPropagation();\n    };\n\n    return MapBrowserEvent;\n  }(MapEvent));\n\n  /**\n   * @module ol/webgl\n   */\n\n\n  /**\n   * Constants taken from goog.webgl\n   */\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var ONE = 1;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var SRC_ALPHA = 0x0302;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var COLOR_ATTACHMENT0 = 0x8CE0;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var COLOR_BUFFER_BIT = 0x00004000;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TRIANGLES = 0x0004;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TRIANGLE_STRIP = 0x0005;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var ONE_MINUS_SRC_ALPHA = 0x0303;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var ARRAY_BUFFER = 0x8892;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var ELEMENT_ARRAY_BUFFER = 0x8893;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var STREAM_DRAW = 0x88E0;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var STATIC_DRAW = 0x88E4;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DYNAMIC_DRAW = 0x88E8;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var CULL_FACE = 0x0B44;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var BLEND = 0x0BE2;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var STENCIL_TEST = 0x0B90;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEPTH_TEST = 0x0B71;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var SCISSOR_TEST = 0x0C11;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var UNSIGNED_BYTE = 0x1401;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var UNSIGNED_SHORT = 0x1403;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var UNSIGNED_INT = 0x1405;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var FLOAT = 0x1406;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var RGBA = 0x1908;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var FRAGMENT_SHADER = 0x8B30;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var VERTEX_SHADER = 0x8B31;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var LINEAR = 0x2601;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE_MAG_FILTER = 0x2800;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE_MIN_FILTER = 0x2801;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE_WRAP_S = 0x2802;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE_WRAP_T = 0x2803;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE_2D = 0x0DE1;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var TEXTURE0 = 0x84C0;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var CLAMP_TO_EDGE = 0x812F;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var FRAMEBUFFER = 0x8D40;\n\n\n  /** end of goog.webgl constants\n   */\n\n\n  /**\n   * @const\n   * @type {Array<string>}\n   */\n  var CONTEXT_IDS = [\n    'experimental-webgl',\n    'webgl',\n    'webkit-3d',\n    'moz-webgl'\n  ];\n\n\n  /**\n   * @param {HTMLCanvasElement} canvas Canvas.\n   * @param {Object=} opt_attributes Attributes.\n   * @return {WebGLRenderingContext} WebGL rendering context.\n   */\n  function getContext(canvas, opt_attributes) {\n    var ii = CONTEXT_IDS.length;\n    for (var i = 0; i < ii; ++i) {\n      try {\n        var context = canvas.getContext(CONTEXT_IDS[i], opt_attributes);\n        if (context) {\n          return /** @type {!WebGLRenderingContext} */ (context);\n        }\n      } catch (e) {\n        // pass\n      }\n    }\n    return null;\n  }\n\n\n  /**\n   * The maximum supported WebGL texture size in pixels. If WebGL is not\n   * supported, the value is set to `undefined`.\n   * @type {number|undefined}\n   */\n  var MAX_TEXTURE_SIZE; // value is set below\n\n\n  /**\n   * List of supported WebGL extensions.\n   * @type {Array<string>}\n   */\n  var EXTENSIONS; // value is set below\n\n  //TODO Remove side effects\n  if (typeof window !== 'undefined' && 'WebGLRenderingContext' in window) {\n    try {\n      var canvas = /** @type {HTMLCanvasElement} */ (document.createElement('canvas'));\n      var gl = getContext(canvas, {failIfMajorPerformanceCaveat: true});\n      if (gl) {\n        MAX_TEXTURE_SIZE = /** @type {number} */ (gl.getParameter(gl.MAX_TEXTURE_SIZE));\n        EXTENSIONS = gl.getSupportedExtensions();\n      }\n    } catch (e) {\n      // pass\n    }\n  }\n\n  /**\n   * @module ol/has\n   */\n\n  var ua = typeof navigator !== 'undefined' ?\n    navigator.userAgent.toLowerCase() : '';\n\n  /**\n   * User agent string says we are dealing with Firefox as browser.\n   * @type {boolean}\n   */\n  var FIREFOX = ua.indexOf('firefox') !== -1;\n\n  /**\n   * User agent string says we are dealing with Safari as browser.\n   * @type {boolean}\n   */\n  var SAFARI = ua.indexOf('safari') !== -1 && ua.indexOf('chrom') == -1;\n\n  /**\n   * User agent string says we are dealing with a WebKit engine.\n   * @type {boolean}\n   */\n  var WEBKIT = ua.indexOf('webkit') !== -1 && ua.indexOf('edge') == -1;\n\n  /**\n   * User agent string says we are dealing with a Mac as platform.\n   * @type {boolean}\n   */\n  var MAC = ua.indexOf('macintosh') !== -1;\n\n\n  /**\n   * The ratio between physical pixels and device-independent pixels\n   * (dips) on the device (`window.devicePixelRatio`).\n   * @const\n   * @type {number}\n   * @api\n   */\n  var DEVICE_PIXEL_RATIO = window.devicePixelRatio || 1;\n\n\n  /**\n   * True if the browser's Canvas implementation implements {get,set}LineDash.\n   * @type {boolean}\n   */\n  var CANVAS_LINE_DASH = function() {\n    var has = false;\n    try {\n      has = !!document.createElement('canvas').getContext('2d').setLineDash;\n    } catch (e) {\n      // pass\n    }\n    return has;\n  }();\n\n\n  /**\n   * True if browser supports touch events.\n   * @const\n   * @type {boolean}\n   * @api\n   */\n  var TOUCH = 'ontouchstart' in window;\n\n\n  /**\n   * True if browser supports pointer events.\n   * @const\n   * @type {boolean}\n   */\n  var POINTER = 'PointerEvent' in window;\n\n\n  /**\n   * True if browser supports ms pointer events (IE 10).\n   * @const\n   * @type {boolean}\n   */\n  var MSPOINTER = !!(navigator.msPointerEnabled);\n\n  /**\n   * @module ol/MapBrowserEventType\n   */\n\n  /**\n   * Constants for event names.\n   * @enum {string}\n   */\n  var MapBrowserEventType = {\n\n    /**\n     * A true single click with no dragging and no double click. Note that this\n     * event is delayed by 250 ms to ensure that it is not a double click.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#singleclick\n     * @api\n     */\n    SINGLECLICK: 'singleclick',\n\n    /**\n     * A click with no dragging. A double click will fire two of this.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#click\n     * @api\n     */\n    CLICK: EventType.CLICK,\n\n    /**\n     * A true double click, with no dragging.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#dblclick\n     * @api\n     */\n    DBLCLICK: EventType.DBLCLICK,\n\n    /**\n     * Triggered when a pointer is dragged.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointerdrag\n     * @api\n     */\n    POINTERDRAG: 'pointerdrag',\n\n    /**\n     * Triggered when a pointer is moved. Note that on touch devices this is\n     * triggered when the map is panned, so is not the same as mousemove.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointermove\n     * @api\n     */\n    POINTERMOVE: 'pointermove',\n\n    POINTERDOWN: 'pointerdown',\n    POINTERUP: 'pointerup',\n    POINTEROVER: 'pointerover',\n    POINTEROUT: 'pointerout',\n    POINTERENTER: 'pointerenter',\n    POINTERLEAVE: 'pointerleave',\n    POINTERCANCEL: 'pointercancel'\n  };\n\n  /**\n   * @module ol/MapBrowserPointerEvent\n   */\n\n  var MapBrowserPointerEvent = /*@__PURE__*/(function (MapBrowserEvent$$1) {\n    function MapBrowserPointerEvent(type, map, pointerEvent, opt_dragging, opt_frameState) {\n\n      MapBrowserEvent$$1.call(this, type, map, pointerEvent.originalEvent, opt_dragging, opt_frameState);\n\n      /**\n       * @const\n       * @type {import(\"./pointer/PointerEvent.js\").default}\n       */\n      this.pointerEvent = pointerEvent;\n\n    }\n\n    if ( MapBrowserEvent$$1 ) MapBrowserPointerEvent.__proto__ = MapBrowserEvent$$1;\n    MapBrowserPointerEvent.prototype = Object.create( MapBrowserEvent$$1 && MapBrowserEvent$$1.prototype );\n    MapBrowserPointerEvent.prototype.constructor = MapBrowserPointerEvent;\n\n    return MapBrowserPointerEvent;\n  }(MapBrowserEvent));\n\n  /**\n   * @module ol/pointer/EventType\n   */\n\n  /**\n   * Constants for event names.\n   * @enum {string}\n   */\n  var PointerEventType = {\n    POINTERMOVE: 'pointermove',\n    POINTERDOWN: 'pointerdown',\n    POINTERUP: 'pointerup',\n    POINTEROVER: 'pointerover',\n    POINTEROUT: 'pointerout',\n    POINTERENTER: 'pointerenter',\n    POINTERLEAVE: 'pointerleave',\n    POINTERCANCEL: 'pointercancel'\n  };\n\n  /**\n   * @module ol/pointer/EventSource\n   */\n\n  var EventSource = function EventSource(dispatcher, mapping) {\n\n    /**\n     * @type {import(\"./PointerEventHandler.js\").default}\n     */\n    this.dispatcher = dispatcher;\n\n    /**\n     * @private\n     * @const\n     * @type {!Object<string, function(Event)>}\n     */\n    this.mapping_ = mapping;\n  };\n\n  /**\n   * List of events supported by this source.\n   * @return {Array<string>} Event names\n   */\n  EventSource.prototype.getEvents = function getEvents () {\n    return Object.keys(this.mapping_);\n  };\n\n  /**\n   * Returns the handler that should handle a given event type.\n   * @param {string} eventType The event type.\n   * @return {function(Event)} Handler\n   */\n  EventSource.prototype.getHandlerForEvent = function getHandlerForEvent (eventType) {\n    return this.mapping_[eventType];\n  };\n\n  /**\n   * @module ol/pointer/MouseSource\n   */\n\n\n  /**\n   * @type {number}\n   */\n  var POINTER_ID = 1;\n\n\n  /**\n   * @type {string}\n   */\n  var POINTER_TYPE = 'mouse';\n\n\n  /**\n   * Radius around touchend that swallows mouse events.\n   *\n   * @type {number}\n   */\n  var DEDUP_DIST = 25;\n\n  /**\n   * Handler for `mousedown`.\n   *\n   * @this {MouseSource}\n   * @param {MouseEvent} inEvent The in event.\n   */\n  function mousedown(inEvent) {\n    if (!this.isEventSimulatedFromTouch_(inEvent)) {\n      // TODO(dfreedman) workaround for some elements not sending mouseup\n      // http://crbug/149091\n      if (POINTER_ID.toString() in this.pointerMap) {\n        this.cancel(inEvent);\n      }\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.pointerMap[POINTER_ID.toString()] = inEvent;\n      this.dispatcher.down(e, inEvent);\n    }\n  }\n\n  /**\n   * Handler for `mousemove`.\n   *\n   * @this {MouseSource}\n   * @param {MouseEvent} inEvent The in event.\n   */\n  function mousemove(inEvent) {\n    if (!this.isEventSimulatedFromTouch_(inEvent)) {\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.dispatcher.move(e, inEvent);\n    }\n  }\n\n  /**\n   * Handler for `mouseup`.\n   *\n   * @this {MouseSource}\n   * @param {MouseEvent} inEvent The in event.\n   */\n  function mouseup(inEvent) {\n    if (!this.isEventSimulatedFromTouch_(inEvent)) {\n      var p = this.pointerMap[POINTER_ID.toString()];\n\n      if (p && p.button === inEvent.button) {\n        var e = prepareEvent(inEvent, this.dispatcher);\n        this.dispatcher.up(e, inEvent);\n        this.cleanupMouse();\n      }\n    }\n  }\n\n  /**\n   * Handler for `mouseover`.\n   *\n   * @this {MouseSource}\n   * @param {MouseEvent} inEvent The in event.\n   */\n  function mouseover(inEvent) {\n    if (!this.isEventSimulatedFromTouch_(inEvent)) {\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.dispatcher.enterOver(e, inEvent);\n    }\n  }\n\n  /**\n   * Handler for `mouseout`.\n   *\n   * @this {MouseSource}\n   * @param {MouseEvent} inEvent The in event.\n   */\n  function mouseout(inEvent) {\n    if (!this.isEventSimulatedFromTouch_(inEvent)) {\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.dispatcher.leaveOut(e, inEvent);\n    }\n  }\n\n\n  var MouseSource = /*@__PURE__*/(function (EventSource$$1) {\n    function MouseSource(dispatcher) {\n      var mapping = {\n        'mousedown': mousedown,\n        'mousemove': mousemove,\n        'mouseup': mouseup,\n        'mouseover': mouseover,\n        'mouseout': mouseout\n      };\n      EventSource$$1.call(this, dispatcher, mapping);\n\n      /**\n       * @const\n       * @type {!Object<string, Event|Object>}\n       */\n      this.pointerMap = dispatcher.pointerMap;\n\n      /**\n       * @const\n       * @type {Array<import(\"../pixel.js\").Pixel>}\n       */\n      this.lastTouches = [];\n    }\n\n    if ( EventSource$$1 ) MouseSource.__proto__ = EventSource$$1;\n    MouseSource.prototype = Object.create( EventSource$$1 && EventSource$$1.prototype );\n    MouseSource.prototype.constructor = MouseSource;\n\n    /**\n     * Detect if a mouse event was simulated from a touch by\n     * checking if previously there was a touch event at the\n     * same position.\n     *\n     * FIXME - Known problem with the native Android browser on\n     * Samsung GT-I9100 (Android 4.1.2):\n     * In case the page is scrolled, this function does not work\n     * correctly when a canvas is used (WebGL or canvas renderer).\n     * Mouse listeners on canvas elements (for this browser), create\n     * two mouse events: One 'good' and one 'bad' one (on other browsers or\n     * when a div is used, there is only one event). For the 'bad' one,\n     * clientX/clientY and also pageX/pageY are wrong when the page\n     * is scrolled. Because of that, this function can not detect if\n     * the events were simulated from a touch event. As result, a\n     * pointer event at a wrong position is dispatched, which confuses\n     * the map interactions.\n     * It is unclear, how one can get the correct position for the event\n     * or detect that the positions are invalid.\n     *\n     * @private\n     * @param {MouseEvent} inEvent The in event.\n     * @return {boolean} True, if the event was generated by a touch.\n     */\n    MouseSource.prototype.isEventSimulatedFromTouch_ = function isEventSimulatedFromTouch_ (inEvent) {\n      var lts = this.lastTouches;\n      var x = inEvent.clientX;\n      var y = inEvent.clientY;\n      for (var i = 0, l = lts.length, t = (void 0); i < l && (t = lts[i]); i++) {\n        // simulated mouse events will be swallowed near a primary touchend\n        var dx = Math.abs(x - t[0]);\n        var dy = Math.abs(y - t[1]);\n        if (dx <= DEDUP_DIST && dy <= DEDUP_DIST) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * Dispatches a `pointercancel` event.\n     *\n     * @param {Event} inEvent The in event.\n     */\n    MouseSource.prototype.cancel = function cancel (inEvent) {\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.dispatcher.cancel(e, inEvent);\n      this.cleanupMouse();\n    };\n\n    /**\n     * Remove the mouse from the list of active pointers.\n     */\n    MouseSource.prototype.cleanupMouse = function cleanupMouse () {\n      delete this.pointerMap[POINTER_ID.toString()];\n    };\n\n    return MouseSource;\n  }(EventSource));\n\n\n  /**\n   * Creates a copy of the original event that will be used\n   * for the fake pointer event.\n   *\n   * @param {Event} inEvent The in event.\n   * @param {import(\"./PointerEventHandler.js\").default} dispatcher Event handler.\n   * @return {Object} The copied event.\n   */\n  function prepareEvent(inEvent, dispatcher) {\n    var e = dispatcher.cloneEvent(inEvent, inEvent);\n\n    // forward mouse preventDefault\n    var pd = e.preventDefault;\n    e.preventDefault = function() {\n      inEvent.preventDefault();\n      pd();\n    };\n\n    e.pointerId = POINTER_ID;\n    e.isPrimary = true;\n    e.pointerType = POINTER_TYPE;\n\n    return e;\n  }\n\n  /**\n   * @module ol/pointer/MsSource\n   */\n\n\n  /**\n   * @const\n   * @type {Array<string>}\n   */\n  var POINTER_TYPES = [\n    '',\n    'unavailable',\n    'touch',\n    'pen',\n    'mouse'\n  ];\n\n  /**\n   * Handler for `msPointerDown`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerDown(inEvent) {\n    this.pointerMap[inEvent.pointerId.toString()] = inEvent;\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.down(e, inEvent);\n  }\n\n  /**\n   * Handler for `msPointerMove`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerMove(inEvent) {\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.move(e, inEvent);\n  }\n\n  /**\n   * Handler for `msPointerUp`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerUp(inEvent) {\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.up(e, inEvent);\n    this.cleanup(inEvent.pointerId);\n  }\n\n  /**\n   * Handler for `msPointerOut`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerOut(inEvent) {\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.leaveOut(e, inEvent);\n  }\n\n  /**\n   * Handler for `msPointerOver`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerOver(inEvent) {\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.enterOver(e, inEvent);\n  }\n\n  /**\n   * Handler for `msPointerCancel`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msPointerCancel(inEvent) {\n    var e = this.prepareEvent_(inEvent);\n    this.dispatcher.cancel(e, inEvent);\n    this.cleanup(inEvent.pointerId);\n  }\n\n  /**\n   * Handler for `msLostPointerCapture`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msLostPointerCapture(inEvent) {\n    var e = this.dispatcher.makeEvent('lostpointercapture', inEvent, inEvent);\n    this.dispatcher.dispatchEvent(e);\n  }\n\n  /**\n   * Handler for `msGotPointerCapture`.\n   *\n   * @this {MsSource}\n   * @param {MSPointerEvent} inEvent The in event.\n   */\n  function msGotPointerCapture(inEvent) {\n    var e = this.dispatcher.makeEvent('gotpointercapture', inEvent, inEvent);\n    this.dispatcher.dispatchEvent(e);\n  }\n\n  var MsSource = /*@__PURE__*/(function (EventSource$$1) {\n    function MsSource(dispatcher) {\n      var mapping = {\n        'MSPointerDown': msPointerDown,\n        'MSPointerMove': msPointerMove,\n        'MSPointerUp': msPointerUp,\n        'MSPointerOut': msPointerOut,\n        'MSPointerOver': msPointerOver,\n        'MSPointerCancel': msPointerCancel,\n        'MSGotPointerCapture': msGotPointerCapture,\n        'MSLostPointerCapture': msLostPointerCapture\n      };\n      EventSource$$1.call(this, dispatcher, mapping);\n\n      /**\n       * @const\n       * @type {!Object<string, MSPointerEvent|Object>}\n       */\n      this.pointerMap = dispatcher.pointerMap;\n    }\n\n    if ( EventSource$$1 ) MsSource.__proto__ = EventSource$$1;\n    MsSource.prototype = Object.create( EventSource$$1 && EventSource$$1.prototype );\n    MsSource.prototype.constructor = MsSource;\n\n    /**\n     * Creates a copy of the original event that will be used\n     * for the fake pointer event.\n     *\n     * @private\n     * @param {MSPointerEvent} inEvent The in event.\n     * @return {Object} The copied event.\n     */\n    MsSource.prototype.prepareEvent_ = function prepareEvent_ (inEvent) {\n      /** @type {MSPointerEvent|Object} */\n      var e = inEvent;\n      if (typeof inEvent.pointerType === 'number') {\n        e = this.dispatcher.cloneEvent(inEvent, inEvent);\n        e.pointerType = POINTER_TYPES[inEvent.pointerType];\n      }\n\n      return e;\n    };\n\n    /**\n     * Remove this pointer from the list of active pointers.\n     * @param {number} pointerId Pointer identifier.\n     */\n    MsSource.prototype.cleanup = function cleanup (pointerId) {\n      delete this.pointerMap[pointerId.toString()];\n    };\n\n    return MsSource;\n  }(EventSource));\n\n  /**\n   * @module ol/pointer/NativeSource\n   */\n\n  /**\n   * Handler for `pointerdown`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerDown(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `pointermove`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerMove(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `pointerup`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerUp(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `pointerout`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerOut(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `pointerover`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerOver(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `pointercancel`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function pointerCancel(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `lostpointercapture`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function lostPointerCapture(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  /**\n   * Handler for `gotpointercapture`.\n   *\n   * @this {NativeSource}\n   * @param {Event} inEvent The in event.\n   */\n  function gotPointerCapture(inEvent) {\n    this.dispatcher.fireNativeEvent(inEvent);\n  }\n\n  var NativeSource = /*@__PURE__*/(function (EventSource$$1) {\n    function NativeSource(dispatcher) {\n      var mapping = {\n        'pointerdown': pointerDown,\n        'pointermove': pointerMove,\n        'pointerup': pointerUp,\n        'pointerout': pointerOut,\n        'pointerover': pointerOver,\n        'pointercancel': pointerCancel,\n        'gotpointercapture': gotPointerCapture,\n        'lostpointercapture': lostPointerCapture\n      };\n      EventSource$$1.call(this, dispatcher, mapping);\n    }\n\n    if ( EventSource$$1 ) NativeSource.__proto__ = EventSource$$1;\n    NativeSource.prototype = Object.create( EventSource$$1 && EventSource$$1.prototype );\n    NativeSource.prototype.constructor = NativeSource;\n\n    return NativeSource;\n  }(EventSource));\n\n  /**\n   * @module ol/pointer/PointerEvent\n   */\n\n\n  /**\n   * Is the `buttons` property supported?\n   * @type {boolean}\n   */\n  var HAS_BUTTONS = false;\n\n\n  var PointerEvent = /*@__PURE__*/(function (_Event) {\n    function PointerEvent(type, originalEvent, opt_eventDict) {\n      _Event.call(this, type);\n\n      /**\n       * @const\n       * @type {Event}\n       */\n      this.originalEvent = originalEvent;\n\n      var eventDict = opt_eventDict ? opt_eventDict : {};\n\n      /**\n       * @type {number}\n       */\n      this.buttons = getButtons(eventDict);\n\n      /**\n       * @type {number}\n       */\n      this.pressure = getPressure(eventDict, this.buttons);\n\n      // MouseEvent related properties\n\n      /**\n       * @type {boolean}\n       */\n      this.bubbles = 'bubbles' in eventDict ? eventDict['bubbles'] : false;\n\n      /**\n       * @type {boolean}\n       */\n      this.cancelable = 'cancelable' in eventDict ? eventDict['cancelable'] : false;\n\n      /**\n       * @type {Object}\n       */\n      this.view = 'view' in eventDict ? eventDict['view'] : null;\n\n      /**\n       * @type {number}\n       */\n      this.detail = 'detail' in eventDict ? eventDict['detail'] : null;\n\n      /**\n       * @type {number}\n       */\n      this.screenX = 'screenX' in eventDict ? eventDict['screenX'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.screenY = 'screenY' in eventDict ? eventDict['screenY'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.clientX = 'clientX' in eventDict ? eventDict['clientX'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.clientY = 'clientY' in eventDict ? eventDict['clientY'] : 0;\n\n      /**\n       * @type {boolean}\n       */\n      this.ctrlKey = 'ctrlKey' in eventDict ? eventDict['ctrlKey'] : false;\n\n      /**\n       * @type {boolean}\n       */\n      this.altKey = 'altKey' in eventDict ? eventDict['altKey'] : false;\n\n      /**\n       * @type {boolean}\n       */\n      this.shiftKey = 'shiftKey' in eventDict ? eventDict['shiftKey'] : false;\n\n      /**\n       * @type {boolean}\n       */\n      this.metaKey = 'metaKey' in eventDict ? eventDict['metaKey'] : false;\n\n      /**\n       * @type {number}\n       */\n      this.button = 'button' in eventDict ? eventDict['button'] : 0;\n\n      /**\n       * @type {Node}\n       */\n      this.relatedTarget = 'relatedTarget' in eventDict ?\n        eventDict['relatedTarget'] : null;\n\n      // PointerEvent related properties\n\n      /**\n       * @const\n       * @type {number}\n       */\n      this.pointerId = 'pointerId' in eventDict ? eventDict['pointerId'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.width = 'width' in eventDict ? eventDict['width'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.height = 'height' in eventDict ? eventDict['height'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.tiltX = 'tiltX' in eventDict ? eventDict['tiltX'] : 0;\n\n      /**\n       * @type {number}\n       */\n      this.tiltY = 'tiltY' in eventDict ? eventDict['tiltY'] : 0;\n\n      /**\n       * @type {string}\n       */\n      this.pointerType = 'pointerType' in eventDict ? eventDict['pointerType'] : '';\n\n      /**\n       * @type {number}\n       */\n      this.hwTimestamp = 'hwTimestamp' in eventDict ? eventDict['hwTimestamp'] : 0;\n\n      /**\n       * @type {boolean}\n       */\n      this.isPrimary = 'isPrimary' in eventDict ? eventDict['isPrimary'] : false;\n\n      // keep the semantics of preventDefault\n      if (originalEvent.preventDefault) {\n        this.preventDefault = function() {\n          originalEvent.preventDefault();\n        };\n      }\n    }\n\n    if ( _Event ) PointerEvent.__proto__ = _Event;\n    PointerEvent.prototype = Object.create( _Event && _Event.prototype );\n    PointerEvent.prototype.constructor = PointerEvent;\n\n    return PointerEvent;\n  }(Event));\n\n\n  /**\n   * @param {Object<string, ?>} eventDict The event dictionary.\n   * @return {number} Button indicator.\n   */\n  function getButtons(eventDict) {\n    // According to the w3c spec,\n    // http://www.w3.org/TR/DOM-Level-3-Events/#events-MouseEvent-button\n    // MouseEvent.button == 0 can mean either no mouse button depressed, or the\n    // left mouse button depressed.\n    //\n    // As of now, the only way to distinguish between the two states of\n    // MouseEvent.button is by using the deprecated MouseEvent.which property, as\n    // this maps mouse buttons to positive integers > 0, and uses 0 to mean that\n    // no mouse button is held.\n    //\n    // MouseEvent.which is derived from MouseEvent.button at MouseEvent creation,\n    // but initMouseEvent does not expose an argument with which to set\n    // MouseEvent.which. Calling initMouseEvent with a buttonArg of 0 will set\n    // MouseEvent.button == 0 and MouseEvent.which == 1, breaking the expectations\n    // of app developers.\n    //\n    // The only way to propagate the correct state of MouseEvent.which and\n    // MouseEvent.button to a new MouseEvent.button == 0 and MouseEvent.which == 0\n    // is to call initMouseEvent with a buttonArg value of -1.\n    //\n    // This is fixed with DOM Level 4's use of buttons\n    var buttons;\n    if (eventDict.buttons || HAS_BUTTONS) {\n      buttons = eventDict.buttons;\n    } else {\n      switch (eventDict.which) {\n        case 1: buttons = 1; break;\n        case 2: buttons = 4; break;\n        case 3: buttons = 2; break;\n        default: buttons = 0;\n      }\n    }\n    return buttons;\n  }\n\n\n  /**\n   * @param {Object<string, ?>} eventDict The event dictionary.\n   * @param {number} buttons Button indicator.\n   * @return {number} The pressure.\n   */\n  function getPressure(eventDict, buttons) {\n    // Spec requires that pointers without pressure specified use 0.5 for down\n    // state and 0 for up state.\n    var pressure = 0;\n    if (eventDict.pressure) {\n      pressure = eventDict.pressure;\n    } else {\n      pressure = buttons ? 0.5 : 0;\n    }\n    return pressure;\n  }\n\n\n  /**\n   * Checks if the `buttons` property is supported.\n   */\n  (function() {\n    try {\n      var ev = new MouseEvent('click', {buttons: 1});\n      HAS_BUTTONS = ev.buttons === 1;\n    } catch (e) {\n      // pass\n    }\n  })();\n\n  /**\n   * @module ol/array\n   */\n\n\n  /**\n   * Performs a binary search on the provided sorted list and returns the index of the item if found. If it can't be found it'll return -1.\n   * https://github.com/darkskyapp/binary-search\n   *\n   * @param {Array<*>} haystack Items to search through.\n   * @param {*} needle The item to look for.\n   * @param {Function=} opt_comparator Comparator function.\n   * @return {number} The index of the item if found, -1 if not.\n   */\n  function binarySearch(haystack, needle, opt_comparator) {\n    var mid, cmp;\n    var comparator = opt_comparator || numberSafeCompareFunction;\n    var low = 0;\n    var high = haystack.length;\n    var found = false;\n\n    while (low < high) {\n      /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n       * to double (which gives the wrong results). */\n      mid = low + (high - low >> 1);\n      cmp = +comparator(haystack[mid], needle);\n\n      if (cmp < 0.0) { /* Too low. */\n        low = mid + 1;\n\n      } else { /* Key found or too high */\n        high = mid;\n        found = !cmp;\n      }\n    }\n\n    /* Key not found. */\n    return found ? low : ~low;\n  }\n\n\n  /**\n   * Compare function for array sort that is safe for numbers.\n   * @param {*} a The first object to be compared.\n   * @param {*} b The second object to be compared.\n   * @return {number} A negative number, zero, or a positive number as the first\n   *     argument is less than, equal to, or greater than the second.\n   */\n  function numberSafeCompareFunction(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n\n  /**\n   * Whether the array contains the given object.\n   * @param {Array<*>} arr The array to test for the presence of the element.\n   * @param {*} obj The object for which to test.\n   * @return {boolean} The object is in the array.\n   */\n  function includes(arr, obj) {\n    return arr.indexOf(obj) >= 0;\n  }\n\n\n  /**\n   * @param {Array<number>} arr Array.\n   * @param {number} target Target.\n   * @param {number} direction 0 means return the nearest, > 0\n   *    means return the largest nearest, < 0 means return the\n   *    smallest nearest.\n   * @return {number} Index.\n   */\n  function linearFindNearest(arr, target, direction) {\n    var n = arr.length;\n    if (arr[0] <= target) {\n      return 0;\n    } else if (target <= arr[n - 1]) {\n      return n - 1;\n    } else {\n      var i;\n      if (direction > 0) {\n        for (i = 1; i < n; ++i) {\n          if (arr[i] < target) {\n            return i - 1;\n          }\n        }\n      } else if (direction < 0) {\n        for (i = 1; i < n; ++i) {\n          if (arr[i] <= target) {\n            return i;\n          }\n        }\n      } else {\n        for (i = 1; i < n; ++i) {\n          if (arr[i] == target) {\n            return i;\n          } else if (arr[i] < target) {\n            if (arr[i - 1] - target < target - arr[i]) {\n              return i - 1;\n            } else {\n              return i;\n            }\n          }\n        }\n      }\n      return n - 1;\n    }\n  }\n\n\n  /**\n   * @param {Array<*>} arr Array.\n   * @param {number} begin Begin index.\n   * @param {number} end End index.\n   */\n  function reverseSubArray(arr, begin, end) {\n    while (begin < end) {\n      var tmp = arr[begin];\n      arr[begin] = arr[end];\n      arr[end] = tmp;\n      ++begin;\n      --end;\n    }\n  }\n\n\n  /**\n   * @param {Array<VALUE>} arr The array to modify.\n   * @param {!Array<VALUE>|VALUE} data The elements or arrays of elements to add to arr.\n   * @template VALUE\n   */\n  function extend(arr, data) {\n    var extension = Array.isArray(data) ? data : [data];\n    var length = extension.length;\n    for (var i = 0; i < length; i++) {\n      arr[arr.length] = extension[i];\n    }\n  }\n\n\n  /**\n   * @param {Array<VALUE>} arr The array to modify.\n   * @param {VALUE} obj The element to remove.\n   * @template VALUE\n   * @return {boolean} If the element was removed.\n   */\n  function remove(arr, obj) {\n    var i = arr.indexOf(obj);\n    var found = i > -1;\n    if (found) {\n      arr.splice(i, 1);\n    }\n    return found;\n  }\n\n\n  /**\n   * @param {Array|Uint8ClampedArray} arr1 The first array to compare.\n   * @param {Array|Uint8ClampedArray} arr2 The second array to compare.\n   * @return {boolean} Whether the two arrays are equal.\n   */\n  function equals(arr1, arr2) {\n    var len1 = arr1.length;\n    if (len1 !== arr2.length) {\n      return false;\n    }\n    for (var i = 0; i < len1; i++) {\n      if (arr1[i] !== arr2[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n\n  /**\n   * Sort the passed array such that the relative order of equal elements is preverved.\n   * See https://en.wikipedia.org/wiki/Sorting_algorithm#Stability for details.\n   * @param {Array<*>} arr The array to sort (modifies original).\n   * @param {!function(*, *): number} compareFnc Comparison function.\n   * @api\n   */\n  function stableSort(arr, compareFnc) {\n    var length = arr.length;\n    var tmp = Array(arr.length);\n    var i;\n    for (i = 0; i < length; i++) {\n      tmp[i] = {index: i, value: arr[i]};\n    }\n    tmp.sort(function(a, b) {\n      return compareFnc(a.value, b.value) || a.index - b.index;\n    });\n    for (i = 0; i < arr.length; i++) {\n      arr[i] = tmp[i].value;\n    }\n  }\n\n\n  /**\n   * @param {Array<*>} arr The array to test.\n   * @param {Function=} opt_func Comparison function.\n   * @param {boolean=} opt_strict Strictly sorted (default false).\n   * @return {boolean} Return index.\n   */\n  function isSorted(arr, opt_func, opt_strict) {\n    var compare = opt_func || numberSafeCompareFunction;\n    return arr.every(function(currentVal, index) {\n      if (index === 0) {\n        return true;\n      }\n      var res = compare(arr[index - 1], currentVal);\n      return !(res > 0 || opt_strict && res === 0);\n    });\n  }\n\n  /**\n   * @module ol/pointer/TouchSource\n   */\n\n\n  /**\n   * @type {number}\n   */\n  var CLICK_COUNT_TIMEOUT = 200;\n\n  /**\n   * @type {string}\n   */\n  var POINTER_TYPE$1 = 'touch';\n\n  /**\n   * Handler for `touchstart`, triggers `pointerover`,\n   * `pointerenter` and `pointerdown` events.\n   *\n   * @this {TouchSource}\n   * @param {TouchEvent} inEvent The in event.\n   */\n  function touchstart(inEvent) {\n    this.vacuumTouches_(inEvent);\n    this.setPrimaryTouch_(inEvent.changedTouches[0]);\n    this.dedupSynthMouse_(inEvent);\n    this.clickCount_++;\n    this.processTouches_(inEvent, this.overDown_);\n  }\n\n  /**\n   * Handler for `touchmove`.\n   *\n   * @this {TouchSource}\n   * @param {TouchEvent} inEvent The in event.\n   */\n  function touchmove(inEvent) {\n    this.processTouches_(inEvent, this.moveOverOut_);\n  }\n\n  /**\n   * Handler for `touchend`, triggers `pointerup`,\n   * `pointerout` and `pointerleave` events.\n   *\n   * @this {TouchSource}\n   * @param {TouchEvent} inEvent The event.\n   */\n  function touchend(inEvent) {\n    this.dedupSynthMouse_(inEvent);\n    this.processTouches_(inEvent, this.upOut_);\n  }\n\n  /**\n   * Handler for `touchcancel`, triggers `pointercancel`,\n   * `pointerout` and `pointerleave` events.\n   *\n   * @this {TouchSource}\n   * @param {TouchEvent} inEvent The in event.\n   */\n  function touchcancel(inEvent) {\n    this.processTouches_(inEvent, this.cancelOut_);\n  }\n\n\n  var TouchSource = /*@__PURE__*/(function (EventSource$$1) {\n    function TouchSource(dispatcher, mouseSource) {\n      var mapping = {\n        'touchstart': touchstart,\n        'touchmove': touchmove,\n        'touchend': touchend,\n        'touchcancel': touchcancel\n      };\n      EventSource$$1.call(this, dispatcher, mapping);\n\n      /**\n       * @const\n       * @type {!Object<string, Event|Object>}\n       */\n      this.pointerMap = dispatcher.pointerMap;\n\n      /**\n       * @const\n       * @type {import(\"./MouseSource.js\").default}\n       */\n      this.mouseSource = mouseSource;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.firstTouchId_ = undefined;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.clickCount_ = 0;\n\n      /**\n       * @private\n       * @type {?}\n       */\n      this.resetId_;\n\n      /**\n       * Mouse event timeout: This should be long enough to\n       * ignore compat mouse events made by touch.\n       * @private\n       * @type {number}\n       */\n      this.dedupTimeout_ = 2500;\n    }\n\n    if ( EventSource$$1 ) TouchSource.__proto__ = EventSource$$1;\n    TouchSource.prototype = Object.create( EventSource$$1 && EventSource$$1.prototype );\n    TouchSource.prototype.constructor = TouchSource;\n\n    /**\n     * @private\n     * @param {Touch} inTouch The in touch.\n     * @return {boolean} True, if this is the primary touch.\n     */\n    TouchSource.prototype.isPrimaryTouch_ = function isPrimaryTouch_ (inTouch) {\n      return this.firstTouchId_ === inTouch.identifier;\n    };\n\n    /**\n     * Set primary touch if there are no pointers, or the only pointer is the mouse.\n     * @param {Touch} inTouch The in touch.\n     * @private\n     */\n    TouchSource.prototype.setPrimaryTouch_ = function setPrimaryTouch_ (inTouch) {\n      var count = Object.keys(this.pointerMap).length;\n      if (count === 0 || (count === 1 && POINTER_ID.toString() in this.pointerMap)) {\n        this.firstTouchId_ = inTouch.identifier;\n        this.cancelResetClickCount_();\n      }\n    };\n\n    /**\n     * @private\n     * @param {PointerEvent} inPointer The in pointer object.\n     */\n    TouchSource.prototype.removePrimaryPointer_ = function removePrimaryPointer_ (inPointer) {\n      if (inPointer.isPrimary) {\n        this.firstTouchId_ = undefined;\n        this.resetClickCount_();\n      }\n    };\n\n    /**\n     * @private\n     */\n    TouchSource.prototype.resetClickCount_ = function resetClickCount_ () {\n      this.resetId_ = setTimeout(\n        this.resetClickCountHandler_.bind(this),\n        CLICK_COUNT_TIMEOUT);\n    };\n\n    /**\n     * @private\n     */\n    TouchSource.prototype.resetClickCountHandler_ = function resetClickCountHandler_ () {\n      this.clickCount_ = 0;\n      this.resetId_ = undefined;\n    };\n\n    /**\n     * @private\n     */\n    TouchSource.prototype.cancelResetClickCount_ = function cancelResetClickCount_ () {\n      if (this.resetId_ !== undefined) {\n        clearTimeout(this.resetId_);\n      }\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} browserEvent Browser event\n     * @param {Touch} inTouch Touch event\n     * @return {PointerEvent} A pointer object.\n     */\n    TouchSource.prototype.touchToPointer_ = function touchToPointer_ (browserEvent, inTouch) {\n      var e = this.dispatcher.cloneEvent(browserEvent, inTouch);\n      // Spec specifies that pointerId 1 is reserved for Mouse.\n      // Touch identifiers can start at 0.\n      // Add 2 to the touch identifier for compatibility.\n      e.pointerId = inTouch.identifier + 2;\n      // TODO: check if this is necessary?\n      //e.target = findTarget(e);\n      e.bubbles = true;\n      e.cancelable = true;\n      e.detail = this.clickCount_;\n      e.button = 0;\n      e.buttons = 1;\n      e.width = inTouch.radiusX || 0;\n      e.height = inTouch.radiusY || 0;\n      e.pressure = inTouch.force || 0.5;\n      e.isPrimary = this.isPrimaryTouch_(inTouch);\n      e.pointerType = POINTER_TYPE$1;\n\n      // make sure that the properties that are different for\n      // each `Touch` object are not copied from the BrowserEvent object\n      e.clientX = inTouch.clientX;\n      e.clientY = inTouch.clientY;\n      e.screenX = inTouch.screenX;\n      e.screenY = inTouch.screenY;\n\n      return e;\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} inEvent Touch event\n     * @param {function(TouchEvent, PointerEvent)} inFunction In function.\n     */\n    TouchSource.prototype.processTouches_ = function processTouches_ (inEvent, inFunction) {\n      var touches = Array.prototype.slice.call(inEvent.changedTouches);\n      var count = touches.length;\n      function preventDefault() {\n        inEvent.preventDefault();\n      }\n      for (var i = 0; i < count; ++i) {\n        var pointer = this.touchToPointer_(inEvent, touches[i]);\n        // forward touch preventDefaults\n        pointer.preventDefault = preventDefault;\n        inFunction.call(this, inEvent, pointer);\n      }\n    };\n\n    /**\n     * @private\n     * @param {TouchList} touchList The touch list.\n     * @param {number} searchId Search identifier.\n     * @return {boolean} True, if the `Touch` with the given id is in the list.\n     */\n    TouchSource.prototype.findTouch_ = function findTouch_ (touchList, searchId) {\n      var l = touchList.length;\n      for (var i = 0; i < l; i++) {\n        var touch = touchList[i];\n        if (touch.identifier === searchId) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * In some instances, a touchstart can happen without a touchend. This\n     * leaves the pointermap in a broken state.\n     * Therefore, on every touchstart, we remove the touches that did not fire a\n     * touchend event.\n     * To keep state globally consistent, we fire a pointercancel for\n     * this \"abandoned\" touch\n     *\n     * @private\n     * @param {TouchEvent} inEvent The in event.\n     */\n    TouchSource.prototype.vacuumTouches_ = function vacuumTouches_ (inEvent) {\n      var touchList = inEvent.touches;\n      // pointerMap.getCount() should be < touchList.length here,\n      // as the touchstart has not been processed yet.\n      var keys = Object.keys(this.pointerMap);\n      var count = keys.length;\n      if (count >= touchList.length) {\n        var d = [];\n        for (var i = 0; i < count; ++i) {\n          var key = Number(keys[i]);\n          var value = this.pointerMap[key];\n          // Never remove pointerId == 1, which is mouse.\n          // Touch identifiers are 2 smaller than their pointerId, which is the\n          // index in pointermap.\n          if (key != POINTER_ID && !this.findTouch_(touchList, key - 2)) {\n            d.push(value.out);\n          }\n        }\n        for (var i$1 = 0; i$1 < d.length; ++i$1) {\n          this.cancelOut_(inEvent, d[i$1]);\n        }\n      }\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} browserEvent The event.\n     * @param {PointerEvent} inPointer The in pointer object.\n     */\n    TouchSource.prototype.overDown_ = function overDown_ (browserEvent, inPointer) {\n      this.pointerMap[inPointer.pointerId] = {\n        target: inPointer.target,\n        out: inPointer,\n        outTarget: inPointer.target\n      };\n      this.dispatcher.over(inPointer, browserEvent);\n      this.dispatcher.enter(inPointer, browserEvent);\n      this.dispatcher.down(inPointer, browserEvent);\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} browserEvent The event.\n     * @param {PointerEvent} inPointer The in pointer.\n     */\n    TouchSource.prototype.moveOverOut_ = function moveOverOut_ (browserEvent, inPointer) {\n      var event = inPointer;\n      var pointer = this.pointerMap[event.pointerId];\n      // a finger drifted off the screen, ignore it\n      if (!pointer) {\n        return;\n      }\n      var outEvent = pointer.out;\n      var outTarget = pointer.outTarget;\n      this.dispatcher.move(event, browserEvent);\n      if (outEvent && outTarget !== event.target) {\n        outEvent.relatedTarget = event.target;\n        /** @type {Object} */ (event).relatedTarget = outTarget;\n        // recover from retargeting by shadow\n        outEvent.target = outTarget;\n        if (event.target) {\n          this.dispatcher.leaveOut(outEvent, browserEvent);\n          this.dispatcher.enterOver(event, browserEvent);\n        } else {\n          // clean up case when finger leaves the screen\n          /** @type {Object} */ (event).target = outTarget;\n          /** @type {Object} */ (event).relatedTarget = null;\n          this.cancelOut_(browserEvent, event);\n        }\n      }\n      pointer.out = event;\n      pointer.outTarget = event.target;\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} browserEvent An event.\n     * @param {PointerEvent} inPointer The inPointer object.\n     */\n    TouchSource.prototype.upOut_ = function upOut_ (browserEvent, inPointer) {\n      this.dispatcher.up(inPointer, browserEvent);\n      this.dispatcher.out(inPointer, browserEvent);\n      this.dispatcher.leave(inPointer, browserEvent);\n      this.cleanUpPointer_(inPointer);\n    };\n\n    /**\n     * @private\n     * @param {TouchEvent} browserEvent The event.\n     * @param {PointerEvent} inPointer The in pointer.\n     */\n    TouchSource.prototype.cancelOut_ = function cancelOut_ (browserEvent, inPointer) {\n      this.dispatcher.cancel(inPointer, browserEvent);\n      this.dispatcher.out(inPointer, browserEvent);\n      this.dispatcher.leave(inPointer, browserEvent);\n      this.cleanUpPointer_(inPointer);\n    };\n\n    /**\n     * @private\n     * @param {PointerEvent} inPointer The inPointer object.\n     */\n    TouchSource.prototype.cleanUpPointer_ = function cleanUpPointer_ (inPointer) {\n      delete this.pointerMap[inPointer.pointerId];\n      this.removePrimaryPointer_(inPointer);\n    };\n\n    /**\n     * Prevent synth mouse events from creating pointer events.\n     *\n     * @private\n     * @param {TouchEvent} inEvent The in event.\n     */\n    TouchSource.prototype.dedupSynthMouse_ = function dedupSynthMouse_ (inEvent) {\n      var lts = this.mouseSource.lastTouches;\n      var t = inEvent.changedTouches[0];\n      // only the primary finger will synth mouse events\n      if (this.isPrimaryTouch_(t)) {\n        // remember x/y of last touch\n        var lt = [t.clientX, t.clientY];\n        lts.push(lt);\n\n        setTimeout(function() {\n          // remove touch after timeout\n          remove(lts, lt);\n        }, this.dedupTimeout_);\n      }\n    };\n\n    return TouchSource;\n  }(EventSource));\n\n  /**\n   * @module ol/pointer/PointerEventHandler\n   */\n\n\n  /**\n   * Properties to copy when cloning an event, with default values.\n   * @type {Array<Array>}\n   */\n  var CLONE_PROPS = [\n    // MouseEvent\n    ['bubbles', false],\n    ['cancelable', false],\n    ['view', null],\n    ['detail', null],\n    ['screenX', 0],\n    ['screenY', 0],\n    ['clientX', 0],\n    ['clientY', 0],\n    ['ctrlKey', false],\n    ['altKey', false],\n    ['shiftKey', false],\n    ['metaKey', false],\n    ['button', 0],\n    ['relatedTarget', null],\n    // DOM Level 3\n    ['buttons', 0],\n    // PointerEvent\n    ['pointerId', 0],\n    ['width', 0],\n    ['height', 0],\n    ['pressure', 0],\n    ['tiltX', 0],\n    ['tiltY', 0],\n    ['pointerType', ''],\n    ['hwTimestamp', 0],\n    ['isPrimary', false],\n    // event instance\n    ['type', ''],\n    ['target', null],\n    ['currentTarget', null],\n    ['which', 0]\n  ];\n\n\n  var PointerEventHandler = /*@__PURE__*/(function (EventTarget) {\n    function PointerEventHandler(element) {\n      EventTarget.call(this);\n\n      /**\n       * @const\n       * @private\n       * @type {Element|HTMLDocument}\n       */\n      this.element_ = element;\n\n      /**\n       * @const\n       * @type {!Object<string, Event|Object>}\n       */\n      this.pointerMap = {};\n\n      /**\n       * @type {Object<string, function(Event)>}\n       * @private\n       */\n      this.eventMap_ = {};\n\n      /**\n       * @type {Array<import(\"./EventSource.js\").default>}\n       * @private\n       */\n      this.eventSourceList_ = [];\n\n      this.registerSources();\n    }\n\n    if ( EventTarget ) PointerEventHandler.__proto__ = EventTarget;\n    PointerEventHandler.prototype = Object.create( EventTarget && EventTarget.prototype );\n    PointerEventHandler.prototype.constructor = PointerEventHandler;\n\n    /**\n     * Set up the event sources (mouse, touch and native pointers)\n     * that generate pointer events.\n     */\n    PointerEventHandler.prototype.registerSources = function registerSources () {\n      if (POINTER) {\n        this.registerSource('native', new NativeSource(this));\n      } else if (MSPOINTER) {\n        this.registerSource('ms', new MsSource(this));\n      } else {\n        var mouseSource = new MouseSource(this);\n        this.registerSource('mouse', mouseSource);\n\n        if (TOUCH) {\n          this.registerSource('touch', new TouchSource(this, mouseSource));\n        }\n      }\n\n      // register events on the viewport element\n      this.register_();\n    };\n\n    /**\n     * Add a new event source that will generate pointer events.\n     *\n     * @param {string} name A name for the event source\n     * @param {import(\"./EventSource.js\").default} source The source event.\n     */\n    PointerEventHandler.prototype.registerSource = function registerSource (name, source) {\n      var s = source;\n      var newEvents = s.getEvents();\n\n      if (newEvents) {\n        newEvents.forEach(function(e) {\n          var handler = s.getHandlerForEvent(e);\n\n          if (handler) {\n            this.eventMap_[e] = handler.bind(s);\n          }\n        }.bind(this));\n        this.eventSourceList_.push(s);\n      }\n    };\n\n    /**\n     * Set up the events for all registered event sources.\n     * @private\n     */\n    PointerEventHandler.prototype.register_ = function register_ () {\n      var l = this.eventSourceList_.length;\n      for (var i = 0; i < l; i++) {\n        var eventSource = this.eventSourceList_[i];\n        this.addEvents_(eventSource.getEvents());\n      }\n    };\n\n    /**\n     * Remove all registered events.\n     * @private\n     */\n    PointerEventHandler.prototype.unregister_ = function unregister_ () {\n      var l = this.eventSourceList_.length;\n      for (var i = 0; i < l; i++) {\n        var eventSource = this.eventSourceList_[i];\n        this.removeEvents_(eventSource.getEvents());\n      }\n    };\n\n    /**\n     * Calls the right handler for a new event.\n     * @private\n     * @param {Event} inEvent Browser event.\n     */\n    PointerEventHandler.prototype.eventHandler_ = function eventHandler_ (inEvent) {\n      var type = inEvent.type;\n      var handler = this.eventMap_[type];\n      if (handler) {\n        handler(inEvent);\n      }\n    };\n\n    /**\n     * Setup listeners for the given events.\n     * @private\n     * @param {Array<string>} events List of events.\n     */\n    PointerEventHandler.prototype.addEvents_ = function addEvents_ (events) {\n      events.forEach(function(eventName) {\n        listen(this.element_, eventName, this.eventHandler_, this);\n      }.bind(this));\n    };\n\n    /**\n     * Unregister listeners for the given events.\n     * @private\n     * @param {Array<string>} events List of events.\n     */\n    PointerEventHandler.prototype.removeEvents_ = function removeEvents_ (events) {\n      events.forEach(function(e) {\n        unlisten(this.element_, e, this.eventHandler_, this);\n      }.bind(this));\n    };\n\n    /**\n     * Returns a snapshot of inEvent, with writable properties.\n     *\n     * @param {Event} event Browser event.\n     * @param {Event|Touch} inEvent An event that contains\n     *    properties to copy.\n     * @return {Object} An object containing shallow copies of\n     *    `inEvent`'s properties.\n     */\n    PointerEventHandler.prototype.cloneEvent = function cloneEvent (event, inEvent) {\n      var eventCopy = {};\n      for (var i = 0, ii = CLONE_PROPS.length; i < ii; i++) {\n        var p = CLONE_PROPS[i][0];\n        eventCopy[p] = event[p] || inEvent[p] || CLONE_PROPS[i][1];\n      }\n\n      return eventCopy;\n    };\n\n    // EVENTS\n\n\n    /**\n     * Triggers a 'pointerdown' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.down = function down (data, event) {\n      this.fireEvent(PointerEventType.POINTERDOWN, data, event);\n    };\n\n    /**\n     * Triggers a 'pointermove' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.move = function move (data, event) {\n      this.fireEvent(PointerEventType.POINTERMOVE, data, event);\n    };\n\n    /**\n     * Triggers a 'pointerup' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.up = function up (data, event) {\n      this.fireEvent(PointerEventType.POINTERUP, data, event);\n    };\n\n    /**\n     * Triggers a 'pointerenter' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.enter = function enter (data, event) {\n      data.bubbles = false;\n      this.fireEvent(PointerEventType.POINTERENTER, data, event);\n    };\n\n    /**\n     * Triggers a 'pointerleave' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.leave = function leave (data, event) {\n      data.bubbles = false;\n      this.fireEvent(PointerEventType.POINTERLEAVE, data, event);\n    };\n\n    /**\n     * Triggers a 'pointerover' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.over = function over (data, event) {\n      data.bubbles = true;\n      this.fireEvent(PointerEventType.POINTEROVER, data, event);\n    };\n\n    /**\n     * Triggers a 'pointerout' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.out = function out (data, event) {\n      data.bubbles = true;\n      this.fireEvent(PointerEventType.POINTEROUT, data, event);\n    };\n\n    /**\n     * Triggers a 'pointercancel' event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.cancel = function cancel (data, event) {\n      this.fireEvent(PointerEventType.POINTERCANCEL, data, event);\n    };\n\n    /**\n     * Triggers a combination of 'pointerout' and 'pointerleave' events.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.leaveOut = function leaveOut (data, event) {\n      this.out(data, event);\n      if (!this.contains_(data.target, data.relatedTarget)) {\n        this.leave(data, event);\n      }\n    };\n\n    /**\n     * Triggers a combination of 'pointerover' and 'pointerevents' events.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.enterOver = function enterOver (data, event) {\n      this.over(data, event);\n      if (!this.contains_(data.target, data.relatedTarget)) {\n        this.enter(data, event);\n      }\n    };\n\n    /**\n     * @private\n     * @param {Element} container The container element.\n     * @param {Element} contained The contained element.\n     * @return {boolean} Returns true if the container element\n     *   contains the other element.\n     */\n    PointerEventHandler.prototype.contains_ = function contains_ (container, contained) {\n      if (!container || !contained) {\n        return false;\n      }\n      return container.contains(contained);\n    };\n\n    // EVENT CREATION AND TRACKING\n    /**\n     * Creates a new Event of type `inType`, based on the information in\n     * `data`.\n     *\n     * @param {string} inType A string representing the type of event to create.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     * @return {PointerEvent} A PointerEvent of type `inType`.\n     */\n    PointerEventHandler.prototype.makeEvent = function makeEvent (inType, data, event) {\n      return new PointerEvent(inType, event, data);\n    };\n\n    /**\n     * Make and dispatch an event in one call.\n     * @param {string} inType A string representing the type of event.\n     * @param {Object} data Pointer event data.\n     * @param {Event} event The event.\n     */\n    PointerEventHandler.prototype.fireEvent = function fireEvent (inType, data, event) {\n      var e = this.makeEvent(inType, data, event);\n      this.dispatchEvent(e);\n    };\n\n    /**\n     * Creates a pointer event from a native pointer event\n     * and dispatches this event.\n     * @param {Event} event A platform event with a target.\n     */\n    PointerEventHandler.prototype.fireNativeEvent = function fireNativeEvent (event) {\n      var e = this.makeEvent(event.type, event, event);\n      this.dispatchEvent(e);\n    };\n\n    /**\n     * Wrap a native mouse event into a pointer event.\n     * This proxy method is required for the legacy IE support.\n     * @param {string} eventType The pointer event type.\n     * @param {Event} event The event.\n     * @return {PointerEvent} The wrapped event.\n     */\n    PointerEventHandler.prototype.wrapMouseEvent = function wrapMouseEvent (eventType, event) {\n      var pointerEvent = this.makeEvent(\n        eventType, prepareEvent(event, this), event);\n      return pointerEvent;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    PointerEventHandler.prototype.disposeInternal = function disposeInternal () {\n      this.unregister_();\n      EventTarget.prototype.disposeInternal.call(this);\n    };\n\n    return PointerEventHandler;\n  }(Target));\n\n  /**\n   * @module ol/MapBrowserEventHandler\n   */\n\n  var MapBrowserEventHandler = /*@__PURE__*/(function (EventTarget) {\n    function MapBrowserEventHandler(map, moveTolerance) {\n\n      EventTarget.call(this);\n\n      /**\n       * This is the element that we will listen to the real events on.\n       * @type {import(\"./PluggableMap.js\").default}\n       * @private\n       */\n      this.map_ = map;\n\n      /**\n       * @type {any}\n       * @private\n       */\n      this.clickTimeoutId_;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.dragging_ = false;\n\n      /**\n       * @type {!Array<import(\"./events.js\").EventsKey>}\n       * @private\n       */\n      this.dragListenerKeys_ = [];\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.moveTolerance_ = moveTolerance ?\n        moveTolerance * DEVICE_PIXEL_RATIO : DEVICE_PIXEL_RATIO;\n\n      /**\n       * The most recent \"down\" type event (or null if none have occurred).\n       * Set on pointerdown.\n       * @type {import(\"./pointer/PointerEvent.js\").default}\n       * @private\n       */\n      this.down_ = null;\n\n      var element = this.map_.getViewport();\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.activePointers_ = 0;\n\n      /**\n       * @type {!Object<number, boolean>}\n       * @private\n       */\n      this.trackedTouches_ = {};\n\n      /**\n       * Event handler which generates pointer events for\n       * the viewport element.\n       *\n       * @type {PointerEventHandler}\n       * @private\n       */\n      this.pointerEventHandler_ = new PointerEventHandler(element);\n\n      /**\n       * Event handler which generates pointer events for\n       * the document (used when dragging).\n       *\n       * @type {PointerEventHandler}\n       * @private\n       */\n      this.documentPointerEventHandler_ = null;\n\n      /**\n       * @type {?import(\"./events.js\").EventsKey}\n       * @private\n       */\n      this.pointerdownListenerKey_ = listen(this.pointerEventHandler_,\n        PointerEventType.POINTERDOWN,\n        this.handlePointerDown_, this);\n\n      /**\n       * @type {?import(\"./events.js\").EventsKey}\n       * @private\n       */\n      this.relayedListenerKey_ = listen(this.pointerEventHandler_,\n        PointerEventType.POINTERMOVE,\n        this.relayEvent_, this);\n\n    }\n\n    if ( EventTarget ) MapBrowserEventHandler.__proto__ = EventTarget;\n    MapBrowserEventHandler.prototype = Object.create( EventTarget && EventTarget.prototype );\n    MapBrowserEventHandler.prototype.constructor = MapBrowserEventHandler;\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.emulateClick_ = function emulateClick_ (pointerEvent) {\n      var newEvent = new MapBrowserPointerEvent(\n        MapBrowserEventType.CLICK, this.map_, pointerEvent);\n      this.dispatchEvent(newEvent);\n      if (this.clickTimeoutId_ !== undefined) {\n        // double-click\n        clearTimeout(this.clickTimeoutId_);\n        this.clickTimeoutId_ = undefined;\n        newEvent = new MapBrowserPointerEvent(\n          MapBrowserEventType.DBLCLICK, this.map_, pointerEvent);\n        this.dispatchEvent(newEvent);\n      } else {\n        // click\n        this.clickTimeoutId_ = setTimeout(function() {\n          this.clickTimeoutId_ = undefined;\n          var newEvent = new MapBrowserPointerEvent(\n            MapBrowserEventType.SINGLECLICK, this.map_, pointerEvent);\n          this.dispatchEvent(newEvent);\n        }.bind(this), 250);\n      }\n    };\n\n    /**\n     * Keeps track on how many pointers are currently active.\n     *\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.updateActivePointers_ = function updateActivePointers_ (pointerEvent) {\n      var event = pointerEvent;\n\n      if (event.type == MapBrowserEventType.POINTERUP ||\n          event.type == MapBrowserEventType.POINTERCANCEL) {\n        delete this.trackedTouches_[event.pointerId];\n      } else if (event.type == MapBrowserEventType.POINTERDOWN) {\n        this.trackedTouches_[event.pointerId] = true;\n      }\n      this.activePointers_ = Object.keys(this.trackedTouches_).length;\n    };\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerUp_ = function handlePointerUp_ (pointerEvent) {\n      this.updateActivePointers_(pointerEvent);\n      var newEvent = new MapBrowserPointerEvent(\n        MapBrowserEventType.POINTERUP, this.map_, pointerEvent);\n      this.dispatchEvent(newEvent);\n\n      // We emulate click events on left mouse button click, touch contact, and pen\n      // contact. isMouseActionButton returns true in these cases (evt.button is set\n      // to 0).\n      // See http://www.w3.org/TR/pointerevents/#button-states\n      // We only fire click, singleclick, and doubleclick if nobody has called\n      // event.stopPropagation() or event.preventDefault().\n      if (!newEvent.propagationStopped && !this.dragging_ && this.isMouseActionButton_(pointerEvent)) {\n        this.emulateClick_(this.down_);\n      }\n\n      if (this.activePointers_ === 0) {\n        this.dragListenerKeys_.forEach(unlistenByKey);\n        this.dragListenerKeys_.length = 0;\n        this.dragging_ = false;\n        this.down_ = null;\n        this.documentPointerEventHandler_.dispose();\n        this.documentPointerEventHandler_ = null;\n      }\n    };\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @return {boolean} If the left mouse button was pressed.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.isMouseActionButton_ = function isMouseActionButton_ (pointerEvent) {\n      return pointerEvent.button === 0;\n    };\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerDown_ = function handlePointerDown_ (pointerEvent) {\n      this.updateActivePointers_(pointerEvent);\n      var newEvent = new MapBrowserPointerEvent(\n        MapBrowserEventType.POINTERDOWN, this.map_, pointerEvent);\n      this.dispatchEvent(newEvent);\n\n      this.down_ = pointerEvent;\n\n      if (this.dragListenerKeys_.length === 0) {\n        /* Set up a pointer event handler on the `document`,\n         * which is required when the pointer is moved outside\n         * the viewport when dragging.\n         */\n        this.documentPointerEventHandler_ =\n            new PointerEventHandler(document);\n\n        this.dragListenerKeys_.push(\n          listen(this.documentPointerEventHandler_,\n            MapBrowserEventType.POINTERMOVE,\n            this.handlePointerMove_, this),\n          listen(this.documentPointerEventHandler_,\n            MapBrowserEventType.POINTERUP,\n            this.handlePointerUp_, this),\n          /* Note that the listener for `pointercancel is set up on\n           * `pointerEventHandler_` and not `documentPointerEventHandler_` like\n           * the `pointerup` and `pointermove` listeners.\n           *\n           * The reason for this is the following: `TouchSource.vacuumTouches_()`\n           * issues `pointercancel` events, when there was no `touchend` for a\n           * `touchstart`. Now, let's say a first `touchstart` is registered on\n           * `pointerEventHandler_`. The `documentPointerEventHandler_` is set up.\n           * But `documentPointerEventHandler_` doesn't know about the first\n           * `touchstart`. If there is no `touchend` for the `touchstart`, we can\n           * only receive a `touchcancel` from `pointerEventHandler_`, because it is\n           * only registered there.\n           */\n          listen(this.pointerEventHandler_,\n            MapBrowserEventType.POINTERCANCEL,\n            this.handlePointerUp_, this)\n        );\n      }\n    };\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerMove_ = function handlePointerMove_ (pointerEvent) {\n      // Between pointerdown and pointerup, pointermove events are triggered.\n      // To avoid a 'false' touchmove event to be dispatched, we test if the pointer\n      // moved a significant distance.\n      if (this.isMoving_(pointerEvent)) {\n        this.dragging_ = true;\n        var newEvent = new MapBrowserPointerEvent(\n          MapBrowserEventType.POINTERDRAG, this.map_, pointerEvent,\n          this.dragging_);\n        this.dispatchEvent(newEvent);\n      }\n\n      // Some native android browser triggers mousemove events during small period\n      // of time. See: https://code.google.com/p/android/issues/detail?id=5491 or\n      // https://code.google.com/p/android/issues/detail?id=19827\n      // ex: Galaxy Tab P3110 + Android 4.1.1\n      pointerEvent.preventDefault();\n    };\n\n    /**\n     * Wrap and relay a pointer event.  Note that this requires that the type\n     * string for the MapBrowserPointerEvent matches the PointerEvent type.\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.relayEvent_ = function relayEvent_ (pointerEvent) {\n      var dragging = !!(this.down_ && this.isMoving_(pointerEvent));\n      this.dispatchEvent(new MapBrowserPointerEvent(\n        pointerEvent.type, this.map_, pointerEvent, dragging));\n    };\n\n    /**\n     * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n     * event.\n     * @return {boolean} Is moving.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.isMoving_ = function isMoving_ (pointerEvent) {\n      return this.dragging_ ||\n          Math.abs(pointerEvent.clientX - this.down_.clientX) > this.moveTolerance_ ||\n          Math.abs(pointerEvent.clientY - this.down_.clientY) > this.moveTolerance_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MapBrowserEventHandler.prototype.disposeInternal = function disposeInternal () {\n      if (this.relayedListenerKey_) {\n        unlistenByKey(this.relayedListenerKey_);\n        this.relayedListenerKey_ = null;\n      }\n      if (this.pointerdownListenerKey_) {\n        unlistenByKey(this.pointerdownListenerKey_);\n        this.pointerdownListenerKey_ = null;\n      }\n\n      this.dragListenerKeys_.forEach(unlistenByKey);\n      this.dragListenerKeys_.length = 0;\n\n      if (this.documentPointerEventHandler_) {\n        this.documentPointerEventHandler_.dispose();\n        this.documentPointerEventHandler_ = null;\n      }\n      if (this.pointerEventHandler_) {\n        this.pointerEventHandler_.dispose();\n        this.pointerEventHandler_ = null;\n      }\n      EventTarget.prototype.disposeInternal.call(this);\n    };\n\n    return MapBrowserEventHandler;\n  }(Target));\n\n  /**\n   * @module ol/MapEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var MapEventType = {\n\n    /**\n     * Triggered after a map frame is rendered.\n     * @event module:ol/MapEvent~MapEvent#postrender\n     * @api\n     */\n    POSTRENDER: 'postrender',\n\n    /**\n     * Triggered when the map starts moving.\n     * @event module:ol/MapEvent~MapEvent#movestart\n     * @api\n     */\n    MOVESTART: 'movestart',\n\n    /**\n     * Triggered after the map is moved.\n     * @event module:ol/MapEvent~MapEvent#moveend\n     * @api\n     */\n    MOVEEND: 'moveend'\n\n  };\n\n  /**\n   * @module ol/MapProperty\n   */\n\n  /**\n   * @enum {string}\n   */\n  var MapProperty = {\n    LAYERGROUP: 'layergroup',\n    SIZE: 'size',\n    TARGET: 'target',\n    VIEW: 'view'\n  };\n\n  /**\n   * @module ol/render/EventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var RenderEventType = {\n    /**\n     * @event module:ol/render/Event~RenderEvent#postcompose\n     * @api\n     */\n    POSTCOMPOSE: 'postcompose',\n    /**\n     * @event module:ol/render/Event~RenderEvent#precompose\n     * @api\n     */\n    PRECOMPOSE: 'precompose',\n    /**\n     * @event module:ol/render/Event~RenderEvent#render\n     * @api\n     */\n    RENDER: 'render',\n    /**\n     * Triggered when rendering is complete, i.e. all sources and tiles have\n     * finished loading for the current viewport, and all tiles are faded in.\n     * @event module:ol/render/Event~RenderEvent#rendercomplete\n     * @api\n     */\n    RENDERCOMPLETE: 'rendercomplete'\n  };\n\n  /**\n   * @module ol/TileState\n   */\n\n  /**\n   * @enum {number}\n   */\n  var TileState = {\n    IDLE: 0,\n    LOADING: 1,\n    LOADED: 2,\n    /**\n     * Indicates that tile loading failed\n     * @type {number}\n     */\n    ERROR: 3,\n    EMPTY: 4,\n    ABORT: 5\n  };\n\n  /**\n   * @module ol/asserts\n   */\n\n  /**\n   * @param {*} assertion Assertion we expected to be truthy.\n   * @param {number} errorCode Error code.\n   */\n  function assert(assertion, errorCode) {\n    if (!assertion) {\n      throw new AssertionError(errorCode);\n    }\n  }\n\n  /**\n   * @module ol/structs/PriorityQueue\n   */\n\n\n  /**\n   * @type {number}\n   */\n  var DROP = Infinity;\n\n\n  /**\n   * @classdesc\n   * Priority queue.\n   *\n   * The implementation is inspired from the Closure Library's Heap class and\n   * Python's heapq module.\n   *\n   * See http://closure-library.googlecode.com/svn/docs/closure_goog_structs_heap.js.source.html\n   * and http://hg.python.org/cpython/file/2.7/Lib/heapq.py.\n   *\n   * @template T\n   */\n  var PriorityQueue = function PriorityQueue(priorityFunction, keyFunction) {\n\n    /**\n     * @type {function(T): number}\n     * @private\n     */\n    this.priorityFunction_ = priorityFunction;\n\n    /**\n     * @type {function(T): string}\n     * @private\n     */\n    this.keyFunction_ = keyFunction;\n\n    /**\n     * @type {Array<T>}\n     * @private\n     */\n    this.elements_ = [];\n\n    /**\n     * @type {Array<number>}\n     * @private\n     */\n    this.priorities_ = [];\n\n    /**\n     * @type {!Object<string, boolean>}\n     * @private\n     */\n    this.queuedElements_ = {};\n\n  };\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  PriorityQueue.prototype.clear = function clear$1 () {\n    this.elements_.length = 0;\n    this.priorities_.length = 0;\n    clear(this.queuedElements_);\n  };\n\n\n  /**\n   * Remove and return the highest-priority element. O(log N).\n   * @return {T} Element.\n   */\n  PriorityQueue.prototype.dequeue = function dequeue () {\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var element = elements[0];\n    if (elements.length == 1) {\n      elements.length = 0;\n      priorities.length = 0;\n    } else {\n      elements[0] = elements.pop();\n      priorities[0] = priorities.pop();\n      this.siftUp_(0);\n    }\n    var elementKey = this.keyFunction_(element);\n    delete this.queuedElements_[elementKey];\n    return element;\n  };\n\n\n  /**\n   * Enqueue an element. O(log N).\n   * @param {T} element Element.\n   * @return {boolean} The element was added to the queue.\n   */\n  PriorityQueue.prototype.enqueue = function enqueue (element) {\n    assert(!(this.keyFunction_(element) in this.queuedElements_),\n      31); // Tried to enqueue an `element` that was already added to the queue\n    var priority = this.priorityFunction_(element);\n    if (priority != DROP) {\n      this.elements_.push(element);\n      this.priorities_.push(priority);\n      this.queuedElements_[this.keyFunction_(element)] = true;\n      this.siftDown_(0, this.elements_.length - 1);\n      return true;\n    }\n    return false;\n  };\n\n\n  /**\n   * @return {number} Count.\n   */\n  PriorityQueue.prototype.getCount = function getCount () {\n    return this.elements_.length;\n  };\n\n\n  /**\n   * Gets the index of the left child of the node at the given index.\n   * @param {number} index The index of the node to get the left child for.\n   * @return {number} The index of the left child.\n   * @private\n   */\n  PriorityQueue.prototype.getLeftChildIndex_ = function getLeftChildIndex_ (index) {\n    return index * 2 + 1;\n  };\n\n\n  /**\n   * Gets the index of the right child of the node at the given index.\n   * @param {number} index The index of the node to get the right child for.\n   * @return {number} The index of the right child.\n   * @private\n   */\n  PriorityQueue.prototype.getRightChildIndex_ = function getRightChildIndex_ (index) {\n    return index * 2 + 2;\n  };\n\n\n  /**\n   * Gets the index of the parent of the node at the given index.\n   * @param {number} index The index of the node to get the parent for.\n   * @return {number} The index of the parent.\n   * @private\n   */\n  PriorityQueue.prototype.getParentIndex_ = function getParentIndex_ (index) {\n    return (index - 1) >> 1;\n  };\n\n\n  /**\n   * Make this a heap. O(N).\n   * @private\n   */\n  PriorityQueue.prototype.heapify_ = function heapify_ () {\n    var i;\n    for (i = (this.elements_.length >> 1) - 1; i >= 0; i--) {\n      this.siftUp_(i);\n    }\n  };\n\n\n  /**\n   * @return {boolean} Is empty.\n   */\n  PriorityQueue.prototype.isEmpty = function isEmpty$$1 () {\n    return this.elements_.length === 0;\n  };\n\n\n  /**\n   * @param {string} key Key.\n   * @return {boolean} Is key queued.\n   */\n  PriorityQueue.prototype.isKeyQueued = function isKeyQueued (key) {\n    return key in this.queuedElements_;\n  };\n\n\n  /**\n   * @param {T} element Element.\n   * @return {boolean} Is queued.\n   */\n  PriorityQueue.prototype.isQueued = function isQueued (element) {\n    return this.isKeyQueued(this.keyFunction_(element));\n  };\n\n\n  /**\n   * @param {number} index The index of the node to move down.\n   * @private\n   */\n  PriorityQueue.prototype.siftUp_ = function siftUp_ (index) {\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var count = elements.length;\n    var element = elements[index];\n    var priority = priorities[index];\n    var startIndex = index;\n\n    while (index < (count >> 1)) {\n      var lIndex = this.getLeftChildIndex_(index);\n      var rIndex = this.getRightChildIndex_(index);\n\n      var smallerChildIndex = rIndex < count &&\n          priorities[rIndex] < priorities[lIndex] ?\n        rIndex : lIndex;\n\n      elements[index] = elements[smallerChildIndex];\n      priorities[index] = priorities[smallerChildIndex];\n      index = smallerChildIndex;\n    }\n\n    elements[index] = element;\n    priorities[index] = priority;\n    this.siftDown_(startIndex, index);\n  };\n\n\n  /**\n   * @param {number} startIndex The index of the root.\n   * @param {number} index The index of the node to move up.\n   * @private\n   */\n  PriorityQueue.prototype.siftDown_ = function siftDown_ (startIndex, index) {\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var element = elements[index];\n    var priority = priorities[index];\n\n    while (index > startIndex) {\n      var parentIndex = this.getParentIndex_(index);\n      if (priorities[parentIndex] > priority) {\n        elements[index] = elements[parentIndex];\n        priorities[index] = priorities[parentIndex];\n        index = parentIndex;\n      } else {\n        break;\n      }\n    }\n    elements[index] = element;\n    priorities[index] = priority;\n  };\n\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  PriorityQueue.prototype.reprioritize = function reprioritize () {\n    var priorityFunction = this.priorityFunction_;\n    var elements = this.elements_;\n    var priorities = this.priorities_;\n    var index = 0;\n    var n = elements.length;\n    var element, i, priority;\n    for (i = 0; i < n; ++i) {\n      element = elements[i];\n      priority = priorityFunction(element);\n      if (priority == DROP) {\n        delete this.queuedElements_[this.keyFunction_(element)];\n      } else {\n        priorities[index] = priority;\n        elements[index++] = element;\n      }\n    }\n    elements.length = index;\n    priorities.length = index;\n    this.heapify_();\n  };\n\n  /**\n   * @module ol/TileQueue\n   */\n\n\n  /**\n   * @typedef {function(import(\"./Tile.js\").default, string, import(\"./coordinate.js\").Coordinate, number): number} PriorityFunction\n   */\n\n\n  var TileQueue = /*@__PURE__*/(function (PriorityQueue$$1) {\n    function TileQueue(tilePriorityFunction, tileChangeCallback) {\n\n      PriorityQueue$$1.call(\n        /**\n         * @param {Array} element Element.\n         * @return {number} Priority.\n         */\n        this, function(element) {\n          return tilePriorityFunction.apply(null, element);\n        },\n        /**\n         * @param {Array} element Element.\n         * @return {string} Key.\n         */\n        function(element) {\n          return (/** @type {import(\"./Tile.js\").default} */ (element[0]).getKey());\n        });\n\n      /**\n       * @private\n       * @type {function(): ?}\n       */\n      this.tileChangeCallback_ = tileChangeCallback;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.tilesLoading_ = 0;\n\n      /**\n       * @private\n       * @type {!Object<string,boolean>}\n       */\n      this.tilesLoadingKeys_ = {};\n\n    }\n\n    if ( PriorityQueue$$1 ) TileQueue.__proto__ = PriorityQueue$$1;\n    TileQueue.prototype = Object.create( PriorityQueue$$1 && PriorityQueue$$1.prototype );\n    TileQueue.prototype.constructor = TileQueue;\n\n    /**\n     * @inheritDoc\n     */\n    TileQueue.prototype.enqueue = function enqueue (element) {\n      var added = PriorityQueue$$1.prototype.enqueue.call(this, element);\n      if (added) {\n        var tile = element[0];\n        listen(tile, EventType.CHANGE, this.handleTileChange, this);\n      }\n      return added;\n    };\n\n    /**\n     * @return {number} Number of tiles loading.\n     */\n    TileQueue.prototype.getTilesLoading = function getTilesLoading () {\n      return this.tilesLoading_;\n    };\n\n    /**\n     * @param {import(\"./events/Event.js\").default} event Event.\n     * @protected\n     */\n    TileQueue.prototype.handleTileChange = function handleTileChange (event) {\n      var tile = /** @type {import(\"./Tile.js\").default} */ (event.target);\n      var state = tile.getState();\n      if (state === TileState.LOADED || state === TileState.ERROR ||\n          state === TileState.EMPTY || state === TileState.ABORT) {\n        unlisten(tile, EventType.CHANGE, this.handleTileChange, this);\n        var tileKey = tile.getKey();\n        if (tileKey in this.tilesLoadingKeys_) {\n          delete this.tilesLoadingKeys_[tileKey];\n          --this.tilesLoading_;\n        }\n        this.tileChangeCallback_();\n      }\n    };\n\n    /**\n     * @param {number} maxTotalLoading Maximum number tiles to load simultaneously.\n     * @param {number} maxNewLoads Maximum number of new tiles to load.\n     */\n    TileQueue.prototype.loadMoreTiles = function loadMoreTiles (maxTotalLoading, maxNewLoads) {\n      var newLoads = 0;\n      var abortedTiles = false;\n      var state, tile, tileKey;\n      while (this.tilesLoading_ < maxTotalLoading && newLoads < maxNewLoads &&\n             this.getCount() > 0) {\n        tile = /** @type {import(\"./Tile.js\").default} */ (this.dequeue()[0]);\n        tileKey = tile.getKey();\n        state = tile.getState();\n        if (state === TileState.ABORT) {\n          abortedTiles = true;\n        } else if (state === TileState.IDLE && !(tileKey in this.tilesLoadingKeys_)) {\n          this.tilesLoadingKeys_[tileKey] = true;\n          ++this.tilesLoading_;\n          ++newLoads;\n          tile.load();\n        }\n      }\n      if (newLoads === 0 && abortedTiles) {\n        // Do not stop the render loop when all wanted tiles were aborted due to\n        // a small, saturated tile cache.\n        this.tileChangeCallback_();\n      }\n    };\n\n    return TileQueue;\n  }(PriorityQueue));\n\n  /**\n   * @module ol/tilegrid/common\n   */\n\n  /**\n   * Default maximum zoom for default tile grids.\n   * @type {number}\n   */\n  var DEFAULT_MAX_ZOOM = 42;\n\n  /**\n   * Default tile size.\n   * @type {number}\n   */\n  var DEFAULT_TILE_SIZE = 256;\n\n  /**\n   * @module ol/math\n   */\n\n  /**\n   * Takes a number and clamps it to within the provided bounds.\n   * @param {number} value The input number.\n   * @param {number} min The minimum value to return.\n   * @param {number} max The maximum value to return.\n   * @return {number} The input number if it is within bounds, or the nearest\n   *     number within the bounds.\n   */\n  function clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n  }\n\n\n  /**\n   * Return the hyperbolic cosine of a given number. The method will use the\n   * native `Math.cosh` function if it is available, otherwise the hyperbolic\n   * cosine will be calculated via the reference implementation of the Mozilla\n   * developer network.\n   *\n   * @param {number} x X.\n   * @return {number} Hyperbolic cosine of x.\n   */\n  var cosh = (function() {\n    // Wrapped in a iife, to save the overhead of checking for the native\n    // implementation on every invocation.\n    var cosh;\n    if ('cosh' in Math) {\n      // The environment supports the native Math.cosh function, use it…\n      cosh = Math.cosh;\n    } else {\n      // … else, use the reference implementation of MDN:\n      cosh = function(x) {\n        var y = /** @type {Math} */ (Math).exp(x);\n        return (y + 1 / y) / 2;\n      };\n    }\n    return cosh;\n  }());\n\n\n  /**\n   * @param {number} x X.\n   * @return {number} The smallest power of two greater than or equal to x.\n   */\n  function roundUpToPowerOfTwo(x) {\n    assert(0 < x, 29); // `x` must be greater than `0`\n    return Math.pow(2, Math.ceil(Math.log(x) / Math.LN2));\n  }\n\n\n  /**\n   * Returns the square of the closest distance between the point (x, y) and the\n   * line segment (x1, y1) to (x2, y2).\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {number} x1 X1.\n   * @param {number} y1 Y1.\n   * @param {number} x2 X2.\n   * @param {number} y2 Y2.\n   * @return {number} Squared distance.\n   */\n  function squaredSegmentDistance(x, y, x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    if (dx !== 0 || dy !== 0) {\n      var t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n      if (t > 1) {\n        x1 = x2;\n        y1 = y2;\n      } else if (t > 0) {\n        x1 += dx * t;\n        y1 += dy * t;\n      }\n    }\n    return squaredDistance(x, y, x1, y1);\n  }\n\n\n  /**\n   * Returns the square of the distance between the points (x1, y1) and (x2, y2).\n   * @param {number} x1 X1.\n   * @param {number} y1 Y1.\n   * @param {number} x2 X2.\n   * @param {number} y2 Y2.\n   * @return {number} Squared distance.\n   */\n  function squaredDistance(x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return dx * dx + dy * dy;\n  }\n\n\n  /**\n   * Solves system of linear equations using Gaussian elimination method.\n   *\n   * @param {Array<Array<number>>} mat Augmented matrix (n x n + 1 column)\n   *                                     in row-major order.\n   * @return {Array<number>} The resulting vector.\n   */\n  function solveLinearSystem(mat) {\n    var n = mat.length;\n\n    for (var i = 0; i < n; i++) {\n      // Find max in the i-th column (ignoring i - 1 first rows)\n      var maxRow = i;\n      var maxEl = Math.abs(mat[i][i]);\n      for (var r = i + 1; r < n; r++) {\n        var absValue = Math.abs(mat[r][i]);\n        if (absValue > maxEl) {\n          maxEl = absValue;\n          maxRow = r;\n        }\n      }\n\n      if (maxEl === 0) {\n        return null; // matrix is singular\n      }\n\n      // Swap max row with i-th (current) row\n      var tmp = mat[maxRow];\n      mat[maxRow] = mat[i];\n      mat[i] = tmp;\n\n      // Subtract the i-th row to make all the remaining rows 0 in the i-th column\n      for (var j = i + 1; j < n; j++) {\n        var coef = -mat[j][i] / mat[i][i];\n        for (var k = i; k < n + 1; k++) {\n          if (i == k) {\n            mat[j][k] = 0;\n          } else {\n            mat[j][k] += coef * mat[i][k];\n          }\n        }\n      }\n    }\n\n    // Solve Ax=b for upper triangular matrix A (mat)\n    var x = new Array(n);\n    for (var l = n - 1; l >= 0; l--) {\n      x[l] = mat[l][n] / mat[l][l];\n      for (var m = l - 1; m >= 0; m--) {\n        mat[m][n] -= mat[m][l] * x[l];\n      }\n    }\n    return x;\n  }\n\n\n  /**\n   * Converts degrees to radians.\n   *\n   * @param {number} angleInDegrees Angle in degrees.\n   * @return {number} Angle in radians.\n   */\n  function toRadians(angleInDegrees) {\n    return angleInDegrees * Math.PI / 180;\n  }\n\n  /**\n   * Returns the modulo of a / b, depending on the sign of b.\n   *\n   * @param {number} a Dividend.\n   * @param {number} b Divisor.\n   * @return {number} Modulo.\n   */\n  function modulo(a, b) {\n    var r = a % b;\n    return r * b < 0 ? r + b : r;\n  }\n\n  /**\n   * Calculates the linearly interpolated value of x between a and b.\n   *\n   * @param {number} a Number\n   * @param {number} b Number\n   * @param {number} x Value to be interpolated.\n   * @return {number} Interpolated value.\n   */\n  function lerp(a, b, x) {\n    return a + x * (b - a);\n  }\n\n  /**\n   * @module ol/centerconstraint\n   */\n\n\n  /**\n   * @typedef {function((import(\"./coordinate.js\").Coordinate|undefined)): (import(\"./coordinate.js\").Coordinate|undefined)} Type\n   */\n\n\n  /**\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @return {Type} The constraint.\n   */\n  function createExtent(extent) {\n    return (\n      /**\n       * @param {import(\"./coordinate.js\").Coordinate=} center Center.\n       * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n       */\n      function(center) {\n        if (center) {\n          return [\n            clamp(center[0], extent[0], extent[2]),\n            clamp(center[1], extent[1], extent[3])\n          ];\n        } else {\n          return undefined;\n        }\n      }\n    );\n  }\n\n\n  /**\n   * @param {import(\"./coordinate.js\").Coordinate=} center Center.\n   * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n   */\n  function none(center) {\n    return center;\n  }\n\n  /**\n   * @module ol/resolutionconstraint\n   */\n\n\n  /**\n   * @typedef {function((number|undefined), number, number): (number|undefined)} Type\n   */\n\n\n  /**\n   * @param {Array<number>} resolutions Resolutions.\n   * @return {Type} Zoom function.\n   */\n  function createSnapToResolutions(resolutions) {\n    return (\n      /**\n       * @param {number|undefined} resolution Resolution.\n       * @param {number} delta Delta.\n       * @param {number} direction Direction.\n       * @return {number|undefined} Resolution.\n       */\n      function(resolution, delta, direction) {\n        if (resolution !== undefined) {\n          var z = linearFindNearest(resolutions, resolution, direction);\n          z = clamp(z + delta, 0, resolutions.length - 1);\n          var index = Math.floor(z);\n          if (z != index && index < resolutions.length - 1) {\n            var power = resolutions[index] / resolutions[index + 1];\n            return resolutions[index] / Math.pow(power, z - index);\n          } else {\n            return resolutions[index];\n          }\n        } else {\n          return undefined;\n        }\n      }\n    );\n  }\n\n\n  /**\n   * @param {number} power Power.\n   * @param {number} maxResolution Maximum resolution.\n   * @param {number=} opt_maxLevel Maximum level.\n   * @return {Type} Zoom function.\n   */\n  function createSnapToPower(power, maxResolution, opt_maxLevel) {\n    return (\n      /**\n       * @param {number|undefined} resolution Resolution.\n       * @param {number} delta Delta.\n       * @param {number} direction Direction.\n       * @return {number|undefined} Resolution.\n       */\n      function(resolution, delta, direction) {\n        if (resolution !== undefined) {\n          var offset = -direction / 2 + 0.5;\n          var oldLevel = Math.floor(\n            Math.log(maxResolution / resolution) / Math.log(power) + offset);\n          var newLevel = Math.max(oldLevel + delta, 0);\n          if (opt_maxLevel !== undefined) {\n            newLevel = Math.min(newLevel, opt_maxLevel);\n          }\n          return maxResolution / Math.pow(power, newLevel);\n        } else {\n          return undefined;\n        }\n      });\n  }\n\n  /**\n   * @module ol/rotationconstraint\n   */\n\n\n  /**\n   * @typedef {function((number|undefined), number): (number|undefined)} Type\n   */\n\n\n  /**\n   * @param {number|undefined} rotation Rotation.\n   * @param {number} delta Delta.\n   * @return {number|undefined} Rotation.\n   */\n  function disable(rotation, delta) {\n    if (rotation !== undefined) {\n      return 0;\n    } else {\n      return undefined;\n    }\n  }\n\n\n  /**\n   * @param {number|undefined} rotation Rotation.\n   * @param {number} delta Delta.\n   * @return {number|undefined} Rotation.\n   */\n  function none$1(rotation, delta) {\n    if (rotation !== undefined) {\n      return rotation + delta;\n    } else {\n      return undefined;\n    }\n  }\n\n\n  /**\n   * @param {number} n N.\n   * @return {Type} Rotation constraint.\n   */\n  function createSnapToN(n) {\n    var theta = 2 * Math.PI / n;\n    return (\n      /**\n       * @param {number|undefined} rotation Rotation.\n       * @param {number} delta Delta.\n       * @return {number|undefined} Rotation.\n       */\n      function(rotation, delta) {\n        if (rotation !== undefined) {\n          rotation = Math.floor((rotation + delta) / theta + 0.5) * theta;\n          return rotation;\n        } else {\n          return undefined;\n        }\n      });\n  }\n\n\n  /**\n   * @param {number=} opt_tolerance Tolerance.\n   * @return {Type} Rotation constraint.\n   */\n  function createSnapToZero(opt_tolerance) {\n    var tolerance = opt_tolerance || toRadians(5);\n    return (\n      /**\n       * @param {number|undefined} rotation Rotation.\n       * @param {number} delta Delta.\n       * @return {number|undefined} Rotation.\n       */\n      function(rotation, delta) {\n        if (rotation !== undefined) {\n          if (Math.abs(rotation + delta) <= tolerance) {\n            return 0;\n          } else {\n            return rotation + delta;\n          }\n        } else {\n          return undefined;\n        }\n      });\n  }\n\n  /**\n   * @module ol/ViewHint\n   */\n\n  /**\n   * @enum {number}\n   */\n  var ViewHint = {\n    ANIMATING: 0,\n    INTERACTING: 1\n  };\n\n  /**\n   * @module ol/ViewProperty\n   */\n\n  /**\n   * @enum {string}\n   */\n  var ViewProperty = {\n    CENTER: 'center',\n    RESOLUTION: 'resolution',\n    ROTATION: 'rotation'\n  };\n\n  /**\n   * @module ol/string\n   */\n\n  /**\n   * @module ol/coordinate\n   */\n\n\n  /**\n   * An array of numbers representing an xy coordinate. Example: `[16, 48]`.\n   * @typedef {Array<number>} Coordinate\n   * @api\n   */\n\n\n  /**\n   * A function that takes a {@link module:ol/coordinate~Coordinate} and\n   * transforms it into a `{string}`.\n   *\n   * @typedef {function((Coordinate|undefined)): string} CoordinateFormat\n   * @api\n   */\n\n\n  /**\n   * Add `delta` to `coordinate`. `coordinate` is modified in place and returned\n   * by the function.\n   *\n   * Example:\n   *\n   *     import {add} from 'ol/coordinate';\n   *\n   *     var coord = [7.85, 47.983333];\n   *     add(coord, [-2, 4]);\n   *     // coord is now [5.85, 51.983333]\n   *\n   * @param {Coordinate} coordinate Coordinate.\n   * @param {Coordinate} delta Delta.\n   * @return {Coordinate} The input coordinate adjusted by\n   * the given delta.\n   * @api\n   */\n  function add(coordinate, delta) {\n    coordinate[0] += delta[0];\n    coordinate[1] += delta[1];\n    return coordinate;\n  }\n\n\n  /**\n   * Calculates the point closest to the passed coordinate on the passed circle.\n   *\n   * @param {Coordinate} coordinate The coordinate.\n   * @param {import(\"./geom/Circle.js\").default} circle The circle.\n   * @return {Coordinate} Closest point on the circumference.\n   */\n  function closestOnCircle(coordinate, circle) {\n    var r = circle.getRadius();\n    var center = circle.getCenter();\n    var x0 = center[0];\n    var y0 = center[1];\n    var x1 = coordinate[0];\n    var y1 = coordinate[1];\n\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    if (dx === 0 && dy === 0) {\n      dx = 1;\n    }\n    var d = Math.sqrt(dx * dx + dy * dy);\n\n    var x = x0 + r * dx / d;\n    var y = y0 + r * dy / d;\n\n    return [x, y];\n  }\n\n\n  /**\n   * Calculates the point closest to the passed coordinate on the passed segment.\n   * This is the foot of the perpendicular of the coordinate to the segment when\n   * the foot is on the segment, or the closest segment coordinate when the foot\n   * is outside the segment.\n   *\n   * @param {Coordinate} coordinate The coordinate.\n   * @param {Array<Coordinate>} segment The two coordinates\n   * of the segment.\n   * @return {Coordinate} The foot of the perpendicular of\n   * the coordinate to the segment.\n   */\n  function closestOnSegment(coordinate, segment) {\n    var x0 = coordinate[0];\n    var y0 = coordinate[1];\n    var start = segment[0];\n    var end = segment[1];\n    var x1 = start[0];\n    var y1 = start[1];\n    var x2 = end[0];\n    var y2 = end[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var along = (dx === 0 && dy === 0) ? 0 :\n      ((dx * (x0 - x1)) + (dy * (y0 - y1))) / ((dx * dx + dy * dy) || 0);\n    var x, y;\n    if (along <= 0) {\n      x = x1;\n      y = y1;\n    } else if (along >= 1) {\n      x = x2;\n      y = y2;\n    } else {\n      x = x1 + along * dx;\n      y = y1 + along * dy;\n    }\n    return [x, y];\n  }\n\n\n  /**\n   * @param {Coordinate} coordinate1 First coordinate.\n   * @param {Coordinate} coordinate2 Second coordinate.\n   * @return {boolean} The two coordinates are equal.\n   */\n  function equals$1(coordinate1, coordinate2) {\n    var equals = true;\n    for (var i = coordinate1.length - 1; i >= 0; --i) {\n      if (coordinate1[i] != coordinate2[i]) {\n        equals = false;\n        break;\n      }\n    }\n    return equals;\n  }\n\n\n  /**\n   * Rotate `coordinate` by `angle`. `coordinate` is modified in place and\n   * returned by the function.\n   *\n   * Example:\n   *\n   *     import {rotate} from 'ol/coordinate';\n   *\n   *     var coord = [7.85, 47.983333];\n   *     var rotateRadians = Math.PI / 2; // 90 degrees\n   *     rotate(coord, rotateRadians);\n   *     // coord is now [-47.983333, 7.85]\n   *\n   * @param {Coordinate} coordinate Coordinate.\n   * @param {number} angle Angle in radian.\n   * @return {Coordinate} Coordinate.\n   * @api\n   */\n  function rotate(coordinate, angle) {\n    var cosAngle = Math.cos(angle);\n    var sinAngle = Math.sin(angle);\n    var x = coordinate[0] * cosAngle - coordinate[1] * sinAngle;\n    var y = coordinate[1] * cosAngle + coordinate[0] * sinAngle;\n    coordinate[0] = x;\n    coordinate[1] = y;\n    return coordinate;\n  }\n\n\n  /**\n   * Scale `coordinate` by `scale`. `coordinate` is modified in place and returned\n   * by the function.\n   *\n   * Example:\n   *\n   *     import {scale as scaleCoordinate} from 'ol/coordinate';\n   *\n   *     var coord = [7.85, 47.983333];\n   *     var scale = 1.2;\n   *     scaleCoordinate(coord, scale);\n   *     // coord is now [9.42, 57.5799996]\n   *\n   * @param {Coordinate} coordinate Coordinate.\n   * @param {number} scale Scale factor.\n   * @return {Coordinate} Coordinate.\n   */\n  function scale(coordinate, scale) {\n    coordinate[0] *= scale;\n    coordinate[1] *= scale;\n    return coordinate;\n  }\n\n\n  /**\n   * @param {Coordinate} coord1 First coordinate.\n   * @param {Coordinate} coord2 Second coordinate.\n   * @return {number} Squared distance between coord1 and coord2.\n   */\n  function squaredDistance$1(coord1, coord2) {\n    var dx = coord1[0] - coord2[0];\n    var dy = coord1[1] - coord2[1];\n    return dx * dx + dy * dy;\n  }\n\n\n  /**\n   * @param {Coordinate} coord1 First coordinate.\n   * @param {Coordinate} coord2 Second coordinate.\n   * @return {number} Distance between coord1 and coord2.\n   */\n  function distance(coord1, coord2) {\n    return Math.sqrt(squaredDistance$1(coord1, coord2));\n  }\n\n\n  /**\n   * Calculate the squared distance from a coordinate to a line segment.\n   *\n   * @param {Coordinate} coordinate Coordinate of the point.\n   * @param {Array<Coordinate>} segment Line segment (2\n   * coordinates).\n   * @return {number} Squared distance from the point to the line segment.\n   */\n  function squaredDistanceToSegment(coordinate, segment) {\n    return squaredDistance$1(coordinate,\n      closestOnSegment(coordinate, segment));\n  }\n\n  /**\n   * @module ol/easing\n   */\n\n\n  /**\n   * Start slow and speed up.\n   * @param {number} t Input between 0 and 1.\n   * @return {number} Output between 0 and 1.\n   * @api\n   */\n  function easeIn(t) {\n    return Math.pow(t, 3);\n  }\n\n\n  /**\n   * Start fast and slow down.\n   * @param {number} t Input between 0 and 1.\n   * @return {number} Output between 0 and 1.\n   * @api\n   */\n  function easeOut(t) {\n    return 1 - easeIn(1 - t);\n  }\n\n\n  /**\n   * Start slow, speed up, and then slow down again.\n   * @param {number} t Input between 0 and 1.\n   * @return {number} Output between 0 and 1.\n   * @api\n   */\n  function inAndOut(t) {\n    return 3 * t * t - 2 * t * t * t;\n  }\n\n\n  /**\n   * Maintain a constant speed over time.\n   * @param {number} t Input between 0 and 1.\n   * @return {number} Output between 0 and 1.\n   * @api\n   */\n  function linear(t) {\n    return t;\n  }\n\n  /**\n   * @module ol/extent/Corner\n   */\n\n  /**\n   * Extent corner.\n   * @enum {string}\n   */\n  var Corner = {\n    BOTTOM_LEFT: 'bottom-left',\n    BOTTOM_RIGHT: 'bottom-right',\n    TOP_LEFT: 'top-left',\n    TOP_RIGHT: 'top-right'\n  };\n\n  /**\n   * @module ol/extent/Relationship\n   */\n\n  /**\n   * Relationship to an extent.\n   * @enum {number}\n   */\n  var Relationship = {\n    UNKNOWN: 0,\n    INTERSECTING: 1,\n    ABOVE: 2,\n    RIGHT: 4,\n    BELOW: 8,\n    LEFT: 16\n  };\n\n  /**\n   * @module ol/extent\n   */\n\n\n  /**\n   * An array of numbers representing an extent: `[minx, miny, maxx, maxy]`.\n   * @typedef {Array<number>} Extent\n   * @api\n   */\n\n  /**\n   * Build an extent that includes all given coordinates.\n   *\n   * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n   * @return {Extent} Bounding extent.\n   * @api\n   */\n  function boundingExtent(coordinates) {\n    var extent = createEmpty();\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n      extendCoordinate(extent, coordinates[i]);\n    }\n    return extent;\n  }\n\n\n  /**\n   * Return extent increased by the provided value.\n   * @param {Extent} extent Extent.\n   * @param {number} value The amount by which the extent should be buffered.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   * @api\n   */\n  function buffer(extent, value, opt_extent) {\n    if (opt_extent) {\n      opt_extent[0] = extent[0] - value;\n      opt_extent[1] = extent[1] - value;\n      opt_extent[2] = extent[2] + value;\n      opt_extent[3] = extent[3] + value;\n      return opt_extent;\n    } else {\n      return [\n        extent[0] - value,\n        extent[1] - value,\n        extent[2] + value,\n        extent[3] + value\n      ];\n    }\n  }\n\n\n  /**\n   * Creates a clone of an extent.\n   *\n   * @param {Extent} extent Extent to clone.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} The clone.\n   */\n  function clone(extent, opt_extent) {\n    if (opt_extent) {\n      opt_extent[0] = extent[0];\n      opt_extent[1] = extent[1];\n      opt_extent[2] = extent[2];\n      opt_extent[3] = extent[3];\n      return opt_extent;\n    } else {\n      return extent.slice();\n    }\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {number} Closest squared distance.\n   */\n  function closestSquaredDistanceXY(extent, x, y) {\n    var dx, dy;\n    if (x < extent[0]) {\n      dx = extent[0] - x;\n    } else if (extent[2] < x) {\n      dx = x - extent[2];\n    } else {\n      dx = 0;\n    }\n    if (y < extent[1]) {\n      dy = extent[1] - y;\n    } else if (extent[3] < y) {\n      dy = y - extent[3];\n    } else {\n      dy = 0;\n    }\n    return dx * dx + dy * dy;\n  }\n\n\n  /**\n   * Check if the passed coordinate is contained or on the edge of the extent.\n   *\n   * @param {Extent} extent Extent.\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n   * @return {boolean} The coordinate is contained in the extent.\n   * @api\n   */\n  function containsCoordinate(extent, coordinate) {\n    return containsXY(extent, coordinate[0], coordinate[1]);\n  }\n\n\n  /**\n   * Check if one extent contains another.\n   *\n   * An extent is deemed contained if it lies completely within the other extent,\n   * including if they share one or more edges.\n   *\n   * @param {Extent} extent1 Extent 1.\n   * @param {Extent} extent2 Extent 2.\n   * @return {boolean} The second extent is contained by or on the edge of the\n   *     first.\n   * @api\n   */\n  function containsExtent(extent1, extent2) {\n    return extent1[0] <= extent2[0] && extent2[2] <= extent1[2] &&\n        extent1[1] <= extent2[1] && extent2[3] <= extent1[3];\n  }\n\n\n  /**\n   * Check if the passed coordinate is contained or on the edge of the extent.\n   *\n   * @param {Extent} extent Extent.\n   * @param {number} x X coordinate.\n   * @param {number} y Y coordinate.\n   * @return {boolean} The x, y values are contained in the extent.\n   * @api\n   */\n  function containsXY(extent, x, y) {\n    return extent[0] <= x && x <= extent[2] && extent[1] <= y && y <= extent[3];\n  }\n\n\n  /**\n   * Get the relationship between a coordinate and extent.\n   * @param {Extent} extent The extent.\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate The coordinate.\n   * @return {Relationship} The relationship (bitwise compare with\n   *     import(\"./extent/Relationship.js\").Relationship).\n   */\n  function coordinateRelationship(extent, coordinate) {\n    var minX = extent[0];\n    var minY = extent[1];\n    var maxX = extent[2];\n    var maxY = extent[3];\n    var x = coordinate[0];\n    var y = coordinate[1];\n    var relationship = Relationship.UNKNOWN;\n    if (x < minX) {\n      relationship = relationship | Relationship.LEFT;\n    } else if (x > maxX) {\n      relationship = relationship | Relationship.RIGHT;\n    }\n    if (y < minY) {\n      relationship = relationship | Relationship.BELOW;\n    } else if (y > maxY) {\n      relationship = relationship | Relationship.ABOVE;\n    }\n    if (relationship === Relationship.UNKNOWN) {\n      relationship = Relationship.INTERSECTING;\n    }\n    return relationship;\n  }\n\n\n  /**\n   * Create an empty extent.\n   * @return {Extent} Empty extent.\n   * @api\n   */\n  function createEmpty() {\n    return [Infinity, Infinity, -Infinity, -Infinity];\n  }\n\n\n  /**\n   * Create a new extent or update the provided extent.\n   * @param {number} minX Minimum X.\n   * @param {number} minY Minimum Y.\n   * @param {number} maxX Maximum X.\n   * @param {number} maxY Maximum Y.\n   * @param {Extent=} opt_extent Destination extent.\n   * @return {Extent} Extent.\n   */\n  function createOrUpdate(minX, minY, maxX, maxY, opt_extent) {\n    if (opt_extent) {\n      opt_extent[0] = minX;\n      opt_extent[1] = minY;\n      opt_extent[2] = maxX;\n      opt_extent[3] = maxY;\n      return opt_extent;\n    } else {\n      return [minX, minY, maxX, maxY];\n    }\n  }\n\n\n  /**\n   * Create a new empty extent or make the provided one empty.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   */\n  function createOrUpdateEmpty(opt_extent) {\n    return createOrUpdate(\n      Infinity, Infinity, -Infinity, -Infinity, opt_extent);\n  }\n\n\n  /**\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   */\n  function createOrUpdateFromCoordinate(coordinate, opt_extent) {\n    var x = coordinate[0];\n    var y = coordinate[1];\n    return createOrUpdate(x, y, x, y, opt_extent);\n  }\n\n\n  /**\n   * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   */\n  function createOrUpdateFromCoordinates(coordinates, opt_extent) {\n    var extent = createOrUpdateEmpty(opt_extent);\n    return extendCoordinates(extent, coordinates);\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   */\n  function createOrUpdateFromFlatCoordinates(flatCoordinates, offset, end, stride, opt_extent) {\n    var extent = createOrUpdateEmpty(opt_extent);\n    return extendFlatCoordinates(extent, flatCoordinates, offset, end, stride);\n  }\n\n\n  /**\n   * Determine if two extents are equivalent.\n   * @param {Extent} extent1 Extent 1.\n   * @param {Extent} extent2 Extent 2.\n   * @return {boolean} The two extents are equivalent.\n   * @api\n   */\n  function equals$2(extent1, extent2) {\n    return extent1[0] == extent2[0] && extent1[2] == extent2[2] &&\n        extent1[1] == extent2[1] && extent1[3] == extent2[3];\n  }\n\n\n  /**\n   * Modify an extent to include another extent.\n   * @param {Extent} extent1 The extent to be modified.\n   * @param {Extent} extent2 The extent that will be included in the first.\n   * @return {Extent} A reference to the first (extended) extent.\n   * @api\n   */\n  function extend$1(extent1, extent2) {\n    if (extent2[0] < extent1[0]) {\n      extent1[0] = extent2[0];\n    }\n    if (extent2[2] > extent1[2]) {\n      extent1[2] = extent2[2];\n    }\n    if (extent2[1] < extent1[1]) {\n      extent1[1] = extent2[1];\n    }\n    if (extent2[3] > extent1[3]) {\n      extent1[3] = extent2[3];\n    }\n    return extent1;\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n   */\n  function extendCoordinate(extent, coordinate) {\n    if (coordinate[0] < extent[0]) {\n      extent[0] = coordinate[0];\n    }\n    if (coordinate[0] > extent[2]) {\n      extent[2] = coordinate[0];\n    }\n    if (coordinate[1] < extent[1]) {\n      extent[1] = coordinate[1];\n    }\n    if (coordinate[1] > extent[3]) {\n      extent[3] = coordinate[1];\n    }\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n   * @return {Extent} Extent.\n   */\n  function extendCoordinates(extent, coordinates) {\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n      extendCoordinate(extent, coordinates[i]);\n    }\n    return extent;\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {Extent} Extent.\n   */\n  function extendFlatCoordinates(extent, flatCoordinates, offset, end, stride) {\n    for (; offset < end; offset += stride) {\n      extendXY(extent, flatCoordinates[offset], flatCoordinates[offset + 1]);\n    }\n    return extent;\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {number} x X.\n   * @param {number} y Y.\n   */\n  function extendXY(extent, x, y) {\n    extent[0] = Math.min(extent[0], x);\n    extent[1] = Math.min(extent[1], y);\n    extent[2] = Math.max(extent[2], x);\n    extent[3] = Math.max(extent[3], y);\n  }\n\n\n  /**\n   * This function calls `callback` for each corner of the extent. If the\n   * callback returns a truthy value the function returns that value\n   * immediately. Otherwise the function returns `false`.\n   * @param {Extent} extent Extent.\n   * @param {function(this:T, import(\"./coordinate.js\").Coordinate): S} callback Callback.\n   * @param {T=} opt_this Value to use as `this` when executing `callback`.\n   * @return {S|boolean} Value.\n   * @template S, T\n   */\n  function forEachCorner(extent, callback, opt_this) {\n    var val;\n    val = callback.call(opt_this, getBottomLeft(extent));\n    if (val) {\n      return val;\n    }\n    val = callback.call(opt_this, getBottomRight(extent));\n    if (val) {\n      return val;\n    }\n    val = callback.call(opt_this, getTopRight(extent));\n    if (val) {\n      return val;\n    }\n    val = callback.call(opt_this, getTopLeft(extent));\n    if (val) {\n      return val;\n    }\n    return false;\n  }\n\n\n  /**\n   * Get the size of an extent.\n   * @param {Extent} extent Extent.\n   * @return {number} Area.\n   * @api\n   */\n  function getArea(extent) {\n    var area = 0;\n    if (!isEmpty$1(extent)) {\n      area = getWidth(extent) * getHeight(extent);\n    }\n    return area;\n  }\n\n\n  /**\n   * Get the bottom left coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @return {import(\"./coordinate.js\").Coordinate} Bottom left coordinate.\n   * @api\n   */\n  function getBottomLeft(extent) {\n    return [extent[0], extent[1]];\n  }\n\n\n  /**\n   * Get the bottom right coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @return {import(\"./coordinate.js\").Coordinate} Bottom right coordinate.\n   * @api\n   */\n  function getBottomRight(extent) {\n    return [extent[2], extent[1]];\n  }\n\n\n  /**\n   * Get the center coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @return {import(\"./coordinate.js\").Coordinate} Center.\n   * @api\n   */\n  function getCenter(extent) {\n    return [(extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2];\n  }\n\n\n  /**\n   * Get a corner coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @param {Corner} corner Corner.\n   * @return {import(\"./coordinate.js\").Coordinate} Corner coordinate.\n   */\n  function getCorner(extent, corner) {\n    var coordinate;\n    if (corner === Corner.BOTTOM_LEFT) {\n      coordinate = getBottomLeft(extent);\n    } else if (corner === Corner.BOTTOM_RIGHT) {\n      coordinate = getBottomRight(extent);\n    } else if (corner === Corner.TOP_LEFT) {\n      coordinate = getTopLeft(extent);\n    } else if (corner === Corner.TOP_RIGHT) {\n      coordinate = getTopRight(extent);\n    } else {\n      assert(false, 13); // Invalid corner\n    }\n    return coordinate;\n  }\n\n\n  /**\n   * @param {import(\"./coordinate.js\").Coordinate} center Center.\n   * @param {number} resolution Resolution.\n   * @param {number} rotation Rotation.\n   * @param {import(\"./size.js\").Size} size Size.\n   * @param {Extent=} opt_extent Destination extent.\n   * @return {Extent} Extent.\n   */\n  function getForViewAndSize(center, resolution, rotation, size, opt_extent) {\n    var dx = resolution * size[0] / 2;\n    var dy = resolution * size[1] / 2;\n    var cosRotation = Math.cos(rotation);\n    var sinRotation = Math.sin(rotation);\n    var xCos = dx * cosRotation;\n    var xSin = dx * sinRotation;\n    var yCos = dy * cosRotation;\n    var ySin = dy * sinRotation;\n    var x = center[0];\n    var y = center[1];\n    var x0 = x - xCos + ySin;\n    var x1 = x - xCos - ySin;\n    var x2 = x + xCos - ySin;\n    var x3 = x + xCos + ySin;\n    var y0 = y - xSin - yCos;\n    var y1 = y - xSin + yCos;\n    var y2 = y + xSin + yCos;\n    var y3 = y + xSin - yCos;\n    return createOrUpdate(\n      Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3),\n      Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3),\n      opt_extent);\n  }\n\n\n  /**\n   * Get the height of an extent.\n   * @param {Extent} extent Extent.\n   * @return {number} Height.\n   * @api\n   */\n  function getHeight(extent) {\n    return extent[3] - extent[1];\n  }\n\n\n  /**\n   * Get the intersection of two extents.\n   * @param {Extent} extent1 Extent 1.\n   * @param {Extent} extent2 Extent 2.\n   * @param {Extent=} opt_extent Optional extent to populate with intersection.\n   * @return {Extent} Intersecting extent.\n   * @api\n   */\n  function getIntersection(extent1, extent2, opt_extent) {\n    var intersection = opt_extent ? opt_extent : createEmpty();\n    if (intersects(extent1, extent2)) {\n      if (extent1[0] > extent2[0]) {\n        intersection[0] = extent1[0];\n      } else {\n        intersection[0] = extent2[0];\n      }\n      if (extent1[1] > extent2[1]) {\n        intersection[1] = extent1[1];\n      } else {\n        intersection[1] = extent2[1];\n      }\n      if (extent1[2] < extent2[2]) {\n        intersection[2] = extent1[2];\n      } else {\n        intersection[2] = extent2[2];\n      }\n      if (extent1[3] < extent2[3]) {\n        intersection[3] = extent1[3];\n      } else {\n        intersection[3] = extent2[3];\n      }\n    } else {\n      createOrUpdateEmpty(intersection);\n    }\n    return intersection;\n  }\n\n\n  /**\n   * Get the top left coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @return {import(\"./coordinate.js\").Coordinate} Top left coordinate.\n   * @api\n   */\n  function getTopLeft(extent) {\n    return [extent[0], extent[3]];\n  }\n\n\n  /**\n   * Get the top right coordinate of an extent.\n   * @param {Extent} extent Extent.\n   * @return {import(\"./coordinate.js\").Coordinate} Top right coordinate.\n   * @api\n   */\n  function getTopRight(extent) {\n    return [extent[2], extent[3]];\n  }\n\n\n  /**\n   * Get the width of an extent.\n   * @param {Extent} extent Extent.\n   * @return {number} Width.\n   * @api\n   */\n  function getWidth(extent) {\n    return extent[2] - extent[0];\n  }\n\n\n  /**\n   * Determine if one extent intersects another.\n   * @param {Extent} extent1 Extent 1.\n   * @param {Extent} extent2 Extent.\n   * @return {boolean} The two extents intersect.\n   * @api\n   */\n  function intersects(extent1, extent2) {\n    return extent1[0] <= extent2[2] &&\n        extent1[2] >= extent2[0] &&\n        extent1[1] <= extent2[3] &&\n        extent1[3] >= extent2[1];\n  }\n\n\n  /**\n   * Determine if an extent is empty.\n   * @param {Extent} extent Extent.\n   * @return {boolean} Is empty.\n   * @api\n   */\n  function isEmpty$1(extent) {\n    return extent[2] < extent[0] || extent[3] < extent[1];\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {Extent=} opt_extent Extent.\n   * @return {Extent} Extent.\n   */\n  function returnOrUpdate(extent, opt_extent) {\n    if (opt_extent) {\n      opt_extent[0] = extent[0];\n      opt_extent[1] = extent[1];\n      opt_extent[2] = extent[2];\n      opt_extent[3] = extent[3];\n      return opt_extent;\n    } else {\n      return extent;\n    }\n  }\n\n\n  /**\n   * @param {Extent} extent Extent.\n   * @param {number} value Value.\n   */\n  function scaleFromCenter(extent, value) {\n    var deltaX = ((extent[2] - extent[0]) / 2) * (value - 1);\n    var deltaY = ((extent[3] - extent[1]) / 2) * (value - 1);\n    extent[0] -= deltaX;\n    extent[2] += deltaX;\n    extent[1] -= deltaY;\n    extent[3] += deltaY;\n  }\n\n\n  /**\n   * Determine if the segment between two coordinates intersects (crosses,\n   * touches, or is contained by) the provided extent.\n   * @param {Extent} extent The extent.\n   * @param {import(\"./coordinate.js\").Coordinate} start Segment start coordinate.\n   * @param {import(\"./coordinate.js\").Coordinate} end Segment end coordinate.\n   * @return {boolean} The segment intersects the extent.\n   */\n  function intersectsSegment(extent, start, end) {\n    var intersects = false;\n    var startRel = coordinateRelationship(extent, start);\n    var endRel = coordinateRelationship(extent, end);\n    if (startRel === Relationship.INTERSECTING ||\n        endRel === Relationship.INTERSECTING) {\n      intersects = true;\n    } else {\n      var minX = extent[0];\n      var minY = extent[1];\n      var maxX = extent[2];\n      var maxY = extent[3];\n      var startX = start[0];\n      var startY = start[1];\n      var endX = end[0];\n      var endY = end[1];\n      var slope = (endY - startY) / (endX - startX);\n      var x, y;\n      if (!!(endRel & Relationship.ABOVE) &&\n          !(startRel & Relationship.ABOVE)) {\n        // potentially intersects top\n        x = endX - ((endY - maxY) / slope);\n        intersects = x >= minX && x <= maxX;\n      }\n      if (!intersects && !!(endRel & Relationship.RIGHT) &&\n          !(startRel & Relationship.RIGHT)) {\n        // potentially intersects right\n        y = endY - ((endX - maxX) * slope);\n        intersects = y >= minY && y <= maxY;\n      }\n      if (!intersects && !!(endRel & Relationship.BELOW) &&\n          !(startRel & Relationship.BELOW)) {\n        // potentially intersects bottom\n        x = endX - ((endY - minY) / slope);\n        intersects = x >= minX && x <= maxX;\n      }\n      if (!intersects && !!(endRel & Relationship.LEFT) &&\n          !(startRel & Relationship.LEFT)) {\n        // potentially intersects left\n        y = endY - ((endX - minX) * slope);\n        intersects = y >= minY && y <= maxY;\n      }\n\n    }\n    return intersects;\n  }\n\n  /**\n   * @module ol/geom/GeometryType\n   */\n\n  /**\n   * The geometry type. One of `'Point'`, `'LineString'`, `'LinearRing'`,\n   * `'Polygon'`, `'MultiPoint'`, `'MultiLineString'`, `'MultiPolygon'`,\n   * `'GeometryCollection'`, `'Circle'`.\n   * @enum {string}\n   */\n  var GeometryType = {\n    POINT: 'Point',\n    LINE_STRING: 'LineString',\n    LINEAR_RING: 'LinearRing',\n    POLYGON: 'Polygon',\n    MULTI_POINT: 'MultiPoint',\n    MULTI_LINE_STRING: 'MultiLineString',\n    MULTI_POLYGON: 'MultiPolygon',\n    GEOMETRY_COLLECTION: 'GeometryCollection',\n    CIRCLE: 'Circle'\n  };\n\n  /**\n   * @module ol/geom/GeometryLayout\n   */\n\n  /**\n   * The coordinate layout for geometries, indicating whether a 3rd or 4th z ('Z')\n   * or measure ('M') coordinate is available. Supported values are `'XY'`,\n   * `'XYZ'`, `'XYM'`, `'XYZM'`.\n   * @enum {string}\n   */\n  var GeometryLayout = {\n    XY: 'XY',\n    XYZ: 'XYZ',\n    XYM: 'XYM',\n    XYZM: 'XYZM'\n  };\n\n  /**\n   * @module ol/geom/flat/transform\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {import(\"../../transform.js\").Transform} transform Transform.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Transformed coordinates.\n   */\n  function transform2D(flatCoordinates, offset, end, stride, transform, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n      var x = flatCoordinates[j];\n      var y = flatCoordinates[j + 1];\n      dest[i++] = transform[0] * x + transform[2] * y + transform[4];\n      dest[i++] = transform[1] * x + transform[3] * y + transform[5];\n    }\n    if (opt_dest && dest.length != i) {\n      dest.length = i;\n    }\n    return dest;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} angle Angle.\n   * @param {Array<number>} anchor Rotation anchor point.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Transformed coordinates.\n   */\n  function rotate$1(flatCoordinates, offset, end, stride, angle, anchor, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var anchorX = anchor[0];\n    var anchorY = anchor[1];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n      var deltaX = flatCoordinates[j] - anchorX;\n      var deltaY = flatCoordinates[j + 1] - anchorY;\n      dest[i++] = anchorX + deltaX * cos - deltaY * sin;\n      dest[i++] = anchorY + deltaX * sin + deltaY * cos;\n      for (var k = j + 2; k < j + stride; ++k) {\n        dest[i++] = flatCoordinates[k];\n      }\n    }\n    if (opt_dest && dest.length != i) {\n      dest.length = i;\n    }\n    return dest;\n  }\n\n\n  /**\n   * Scale the coordinates.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} sx Scale factor in the x-direction.\n   * @param {number} sy Scale factor in the y-direction.\n   * @param {Array<number>} anchor Scale anchor point.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Transformed coordinates.\n   */\n  function scale$1(flatCoordinates, offset, end, stride, sx, sy, anchor, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var anchorX = anchor[0];\n    var anchorY = anchor[1];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n      var deltaX = flatCoordinates[j] - anchorX;\n      var deltaY = flatCoordinates[j + 1] - anchorY;\n      dest[i++] = anchorX + sx * deltaX;\n      dest[i++] = anchorY + sy * deltaY;\n      for (var k = j + 2; k < j + stride; ++k) {\n        dest[i++] = flatCoordinates[k];\n      }\n    }\n    if (opt_dest && dest.length != i) {\n      dest.length = i;\n    }\n    return dest;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} deltaX Delta X.\n   * @param {number} deltaY Delta Y.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Transformed coordinates.\n   */\n  function translate(flatCoordinates, offset, end, stride, deltaX, deltaY, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n      dest[i++] = flatCoordinates[j] + deltaX;\n      dest[i++] = flatCoordinates[j + 1] + deltaY;\n      for (var k = j + 2; k < j + stride; ++k) {\n        dest[i++] = flatCoordinates[k];\n      }\n    }\n    if (opt_dest && dest.length != i) {\n      dest.length = i;\n    }\n    return dest;\n  }\n\n  /**\n   * @license\n   * Latitude/longitude spherical geodesy formulae taken from\n   * http://www.movable-type.co.uk/scripts/latlong.html\n   * Licensed under CC-BY-3.0.\n   */\n\n\n  /**\n   * Object literal with options for the {@link getLength} or {@link getArea}\n   * functions.\n   * @typedef {Object} SphereMetricOptions\n   * @property {import(\"./proj.js\").ProjectionLike} [projection='EPSG:3857']\n   * Projection of the  geometry.  By default, the geometry is assumed to be in\n   * Web Mercator.\n   * @property {number} [radius=6371008.8] Sphere radius.  By default, the radius of the\n   * earth is used (Clarke 1866 Authalic Sphere).\n   */\n\n\n  /**\n   * The mean Earth radius (1/3 * (2a + b)) for the WGS84 ellipsoid.\n   * https://en.wikipedia.org/wiki/Earth_radius#Mean_radius\n   * @type {number}\n   */\n  var DEFAULT_RADIUS = 6371008.8;\n\n\n  /**\n   * Get the great circle distance (in meters) between two geographic coordinates.\n   * @param {Array} c1 Starting coordinate.\n   * @param {Array} c2 Ending coordinate.\n   * @param {number=} opt_radius The sphere radius to use.  Defaults to the Earth's\n   *     mean radius using the WGS84 ellipsoid.\n   * @return {number} The great circle distance between the points (in meters).\n   * @api\n   */\n  function getDistance(c1, c2, opt_radius) {\n    var radius = opt_radius || DEFAULT_RADIUS;\n    var lat1 = toRadians(c1[1]);\n    var lat2 = toRadians(c2[1]);\n    var deltaLatBy2 = (lat2 - lat1) / 2;\n    var deltaLonBy2 = toRadians(c2[0] - c1[0]) / 2;\n    var a = Math.sin(deltaLatBy2) * Math.sin(deltaLatBy2) +\n        Math.sin(deltaLonBy2) * Math.sin(deltaLonBy2) *\n        Math.cos(lat1) * Math.cos(lat2);\n    return 2 * radius * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  }\n\n  /**\n   * @module ol/proj/Units\n   */\n\n  /**\n   * Projection units: `'degrees'`, `'ft'`, `'m'`, `'pixels'`, `'tile-pixels'` or\n   * `'us-ft'`.\n   * @enum {string}\n   */\n  var Units = {\n    DEGREES: 'degrees',\n    FEET: 'ft',\n    METERS: 'm',\n    PIXELS: 'pixels',\n    TILE_PIXELS: 'tile-pixels',\n    USFEET: 'us-ft'\n  };\n\n\n  /**\n   * Meters per unit lookup table.\n   * @const\n   * @type {Object<Units, number>}\n   * @api\n   */\n  var METERS_PER_UNIT = {};\n  // use the radius of the Normal sphere\n  METERS_PER_UNIT[Units.DEGREES] = 2 * Math.PI * 6370997 / 360;\n  METERS_PER_UNIT[Units.FEET] = 0.3048;\n  METERS_PER_UNIT[Units.METERS] = 1;\n  METERS_PER_UNIT[Units.USFEET] = 1200 / 3937;\n\n  /**\n   * @module ol/proj/Projection\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} code The SRS identifier code, e.g. `EPSG:4326`.\n   * @property {import(\"./Units.js\").default|string} [units] Units. Required unless a\n   * proj4 projection is defined for `code`.\n   * @property {import(\"../extent.js\").Extent} [extent] The validity extent for the SRS.\n   * @property {string} [axisOrientation='enu'] The axis orientation as specified in Proj4.\n   * @property {boolean} [global=false] Whether the projection is valid for the whole globe.\n   * @property {number} [metersPerUnit] The meters per unit for the SRS.\n   * If not provided, the `units` are used to get the meters per unit from the {@link module:ol/proj/Units~METERS_PER_UNIT}\n   * lookup table.\n   * @property {import(\"../extent.js\").Extent} [worldExtent] The world extent for the SRS.\n   * @property {function(number, import(\"../coordinate.js\").Coordinate):number} [getPointResolution]\n   * Function to determine resolution at a point. The function is called with a\n   * `{number}` view resolution and an `{import(\"../coordinate.js\").Coordinate}` as arguments, and returns\n   * the `{number}` resolution at the passed coordinate. If this is `undefined`,\n   * the default {@link module:ol/proj#getPointResolution} function will be used.\n   */\n\n\n  /**\n   * @classdesc\n   * Projection definition class. One of these is created for each projection\n   * supported in the application and stored in the {@link module:ol/proj} namespace.\n   * You can use these in applications, but this is not required, as API params\n   * and options use {@link module:ol/proj~ProjectionLike} which means the simple string\n   * code will suffice.\n   *\n   * You can use {@link module:ol/proj~get} to retrieve the object for a particular\n   * projection.\n   *\n   * The library includes definitions for `EPSG:4326` and `EPSG:3857`, together\n   * with the following aliases:\n   * * `EPSG:4326`: CRS:84, urn:ogc:def:crs:EPSG:6.6:4326,\n   *     urn:ogc:def:crs:OGC:1.3:CRS84, urn:ogc:def:crs:OGC:2:84,\n   *     http://www.opengis.net/gml/srs/epsg.xml#4326,\n   *     urn:x-ogc:def:crs:EPSG:4326\n   * * `EPSG:3857`: EPSG:102100, EPSG:102113, EPSG:900913,\n   *     urn:ogc:def:crs:EPSG:6.18:3:3857,\n   *     http://www.opengis.net/gml/srs/epsg.xml#3857\n   *\n   * If you use [proj4js](https://github.com/proj4js/proj4js), aliases can\n   * be added using `proj4.defs()`. After all required projection definitions are\n   * added, call the {@link module:ol/proj/proj4~register} function.\n   *\n   * @api\n   */\n  var Projection = function Projection(options) {\n    /**\n     * @private\n     * @type {string}\n     */\n    this.code_ = options.code;\n\n    /**\n     * Units of projected coordinates. When set to `TILE_PIXELS`, a\n     * `this.extent_` and `this.worldExtent_` must be configured properly for each\n     * tile.\n     * @private\n     * @type {import(\"./Units.js\").default}\n     */\n    this.units_ = /** @type {import(\"./Units.js\").default} */ (options.units);\n\n    /**\n     * Validity extent of the projection in projected coordinates. For projections\n     * with `TILE_PIXELS` units, this is the extent of the tile in\n     * tile pixel space.\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.extent_ = options.extent !== undefined ? options.extent : null;\n\n    /**\n     * Extent of the world in EPSG:4326. For projections with\n     * `TILE_PIXELS` units, this is the extent of the tile in\n     * projected coordinate space.\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.worldExtent_ = options.worldExtent !== undefined ?\n      options.worldExtent : null;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.axisOrientation_ = options.axisOrientation !== undefined ?\n      options.axisOrientation : 'enu';\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.global_ = options.global !== undefined ? options.global : false;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.canWrapX_ = !!(this.global_ && this.extent_);\n\n    /**\n     * @private\n     * @type {function(number, import(\"../coordinate.js\").Coordinate):number|undefined}\n     */\n    this.getPointResolutionFunc_ = options.getPointResolution;\n\n    /**\n     * @private\n     * @type {import(\"../tilegrid/TileGrid.js\").default}\n     */\n    this.defaultTileGrid_ = null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.metersPerUnit_ = options.metersPerUnit;\n  };\n\n  /**\n   * @return {boolean} The projection is suitable for wrapping the x-axis\n   */\n  Projection.prototype.canWrapX = function canWrapX () {\n    return this.canWrapX_;\n  };\n\n  /**\n   * Get the code for this projection, e.g. 'EPSG:4326'.\n   * @return {string} Code.\n   * @api\n   */\n  Projection.prototype.getCode = function getCode () {\n    return this.code_;\n  };\n\n  /**\n   * Get the validity extent for this projection.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   * @api\n   */\n  Projection.prototype.getExtent = function getExtent () {\n    return this.extent_;\n  };\n\n  /**\n   * Get the units of this projection.\n   * @return {import(\"./Units.js\").default} Units.\n   * @api\n   */\n  Projection.prototype.getUnits = function getUnits () {\n    return this.units_;\n  };\n\n  /**\n   * Get the amount of meters per unit of this projection.If the projection is\n   * not configured with `metersPerUnit` or a units identifier, the return is\n   * `undefined`.\n   * @return {number|undefined} Meters.\n   * @api\n   */\n  Projection.prototype.getMetersPerUnit = function getMetersPerUnit () {\n    return this.metersPerUnit_ || METERS_PER_UNIT[this.units_];\n  };\n\n  /**\n   * Get the world extent for this projection.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   * @api\n   */\n  Projection.prototype.getWorldExtent = function getWorldExtent () {\n    return this.worldExtent_;\n  };\n\n  /**\n   * Get the axis orientation of this projection.\n   * Example values are:\n   * enu - the default easting, northing, elevation.\n   * neu - northing, easting, up - useful for \"lat/long\" geographic coordinates,\n   *   or south orientated transverse mercator.\n   * wnu - westing, northing, up - some planetary coordinate systems have\n   *   \"west positive\" coordinate systems\n   * @return {string} Axis orientation.\n   * @api\n   */\n  Projection.prototype.getAxisOrientation = function getAxisOrientation () {\n    return this.axisOrientation_;\n  };\n\n  /**\n   * Is this projection a global projection which spans the whole world?\n   * @return {boolean} Whether the projection is global.\n   * @api\n   */\n  Projection.prototype.isGlobal = function isGlobal () {\n    return this.global_;\n  };\n\n  /**\n   * Set if the projection is a global projection which spans the whole world\n   * @param {boolean} global Whether the projection is global.\n   * @api\n   */\n  Projection.prototype.setGlobal = function setGlobal (global) {\n    this.global_ = global;\n    this.canWrapX_ = !!(global && this.extent_);\n  };\n\n  /**\n   * @return {import(\"../tilegrid/TileGrid.js\").default} The default tile grid.\n   */\n  Projection.prototype.getDefaultTileGrid = function getDefaultTileGrid () {\n    return this.defaultTileGrid_;\n  };\n\n  /**\n   * @param {import(\"../tilegrid/TileGrid.js\").default} tileGrid The default tile grid.\n   */\n  Projection.prototype.setDefaultTileGrid = function setDefaultTileGrid (tileGrid) {\n    this.defaultTileGrid_ = tileGrid;\n  };\n\n  /**\n   * Set the validity extent for this projection.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @api\n   */\n  Projection.prototype.setExtent = function setExtent (extent) {\n    this.extent_ = extent;\n    this.canWrapX_ = !!(this.global_ && extent);\n  };\n\n  /**\n   * Set the world extent for this projection.\n   * @param {import(\"../extent.js\").Extent} worldExtent World extent\n   *   [minlon, minlat, maxlon, maxlat].\n   * @api\n   */\n  Projection.prototype.setWorldExtent = function setWorldExtent (worldExtent) {\n    this.worldExtent_ = worldExtent;\n  };\n\n  /**\n   * Set the getPointResolution function (see {@link module:ol/proj~getPointResolution}\n   * for this projection.\n   * @param {function(number, import(\"../coordinate.js\").Coordinate):number} func Function\n   * @api\n   */\n  Projection.prototype.setGetPointResolution = function setGetPointResolution (func) {\n    this.getPointResolutionFunc_ = func;\n  };\n\n  /**\n   * Get the custom point resolution function for this projection (if set).\n   * @return {function(number, import(\"../coordinate.js\").Coordinate):number|undefined} The custom point\n   * resolution function (if set).\n   */\n  Projection.prototype.getPointResolutionFunc = function getPointResolutionFunc () {\n    return this.getPointResolutionFunc_;\n  };\n\n  /**\n   * @module ol/proj/epsg3857\n   */\n\n\n  /**\n   * Radius of WGS84 sphere\n   *\n   * @const\n   * @type {number}\n   */\n  var RADIUS = 6378137;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var HALF_SIZE = Math.PI * RADIUS;\n\n\n  /**\n   * @const\n   * @type {import(\"../extent.js\").Extent}\n   */\n  var EXTENT = [\n    -HALF_SIZE, -HALF_SIZE,\n    HALF_SIZE, HALF_SIZE\n  ];\n\n\n  /**\n   * @const\n   * @type {import(\"../extent.js\").Extent}\n   */\n  var WORLD_EXTENT = [-180, -85, 180, 85];\n\n\n  /**\n   * @classdesc\n   * Projection object for web/spherical Mercator (EPSG:3857).\n   */\n  var EPSG3857Projection = /*@__PURE__*/(function (Projection$$1) {\n    function EPSG3857Projection(code) {\n      Projection$$1.call(this, {\n        code: code,\n        units: Units.METERS,\n        extent: EXTENT,\n        global: true,\n        worldExtent: WORLD_EXTENT,\n        getPointResolution: function(resolution, point) {\n          return resolution / cosh(point[1] / RADIUS);\n        }\n      });\n\n    }\n\n    if ( Projection$$1 ) EPSG3857Projection.__proto__ = Projection$$1;\n    EPSG3857Projection.prototype = Object.create( Projection$$1 && Projection$$1.prototype );\n    EPSG3857Projection.prototype.constructor = EPSG3857Projection;\n\n    return EPSG3857Projection;\n  }(Projection));\n\n\n  /**\n   * Projections equal to EPSG:3857.\n   *\n   * @const\n   * @type {Array<import(\"./Projection.js\").default>}\n   */\n  var PROJECTIONS = [\n    new EPSG3857Projection('EPSG:3857'),\n    new EPSG3857Projection('EPSG:102100'),\n    new EPSG3857Projection('EPSG:102113'),\n    new EPSG3857Projection('EPSG:900913'),\n    new EPSG3857Projection('urn:ogc:def:crs:EPSG:6.18:3:3857'),\n    new EPSG3857Projection('urn:ogc:def:crs:EPSG::3857'),\n    new EPSG3857Projection('http://www.opengis.net/gml/srs/epsg.xml#3857')\n  ];\n\n\n  /**\n   * Transformation from EPSG:4326 to EPSG:3857.\n   *\n   * @param {Array<number>} input Input array of coordinate values.\n   * @param {Array<number>=} opt_output Output array of coordinate values.\n   * @param {number=} opt_dimension Dimension (default is `2`).\n   * @return {Array<number>} Output array of coordinate values.\n   */\n  function fromEPSG4326(input, opt_output, opt_dimension) {\n    var length = input.length;\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var output = opt_output;\n    if (output === undefined) {\n      if (dimension > 2) {\n        // preserve values beyond second dimension\n        output = input.slice();\n      } else {\n        output = new Array(length);\n      }\n    }\n    var halfSize = HALF_SIZE;\n    for (var i = 0; i < length; i += dimension) {\n      output[i] = halfSize * input[i] / 180;\n      var y = RADIUS *\n          Math.log(Math.tan(Math.PI * (input[i + 1] + 90) / 360));\n      if (y > halfSize) {\n        y = halfSize;\n      } else if (y < -halfSize) {\n        y = -halfSize;\n      }\n      output[i + 1] = y;\n    }\n    return output;\n  }\n\n\n  /**\n   * Transformation from EPSG:3857 to EPSG:4326.\n   *\n   * @param {Array<number>} input Input array of coordinate values.\n   * @param {Array<number>=} opt_output Output array of coordinate values.\n   * @param {number=} opt_dimension Dimension (default is `2`).\n   * @return {Array<number>} Output array of coordinate values.\n   */\n  function toEPSG4326(input, opt_output, opt_dimension) {\n    var length = input.length;\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var output = opt_output;\n    if (output === undefined) {\n      if (dimension > 2) {\n        // preserve values beyond second dimension\n        output = input.slice();\n      } else {\n        output = new Array(length);\n      }\n    }\n    for (var i = 0; i < length; i += dimension) {\n      output[i] = 180 * input[i] / HALF_SIZE;\n      output[i + 1] = 360 * Math.atan(\n        Math.exp(input[i + 1] / RADIUS)) / Math.PI - 90;\n    }\n    return output;\n  }\n\n  /**\n   * @module ol/proj/epsg4326\n   */\n\n\n  /**\n   * Semi-major radius of the WGS84 ellipsoid.\n   *\n   * @const\n   * @type {number}\n   */\n  var RADIUS$1 = 6378137;\n\n\n  /**\n   * Extent of the EPSG:4326 projection which is the whole world.\n   *\n   * @const\n   * @type {import(\"../extent.js\").Extent}\n   */\n  var EXTENT$1 = [-180, -90, 180, 90];\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var METERS_PER_UNIT$1 = Math.PI * RADIUS$1 / 180;\n\n\n  /**\n   * @classdesc\n   * Projection object for WGS84 geographic coordinates (EPSG:4326).\n   *\n   * Note that OpenLayers does not strictly comply with the EPSG definition.\n   * The EPSG registry defines 4326 as a CRS for Latitude,Longitude (y,x).\n   * OpenLayers treats EPSG:4326 as a pseudo-projection, with x,y coordinates.\n   */\n  var EPSG4326Projection = /*@__PURE__*/(function (Projection$$1) {\n    function EPSG4326Projection(code, opt_axisOrientation) {\n      Projection$$1.call(this, {\n        code: code,\n        units: Units.DEGREES,\n        extent: EXTENT$1,\n        axisOrientation: opt_axisOrientation,\n        global: true,\n        metersPerUnit: METERS_PER_UNIT$1,\n        worldExtent: EXTENT$1\n      });\n\n    }\n\n    if ( Projection$$1 ) EPSG4326Projection.__proto__ = Projection$$1;\n    EPSG4326Projection.prototype = Object.create( Projection$$1 && Projection$$1.prototype );\n    EPSG4326Projection.prototype.constructor = EPSG4326Projection;\n\n    return EPSG4326Projection;\n  }(Projection));\n\n\n  /**\n   * Projections equal to EPSG:4326.\n   *\n   * @const\n   * @type {Array<import(\"./Projection.js\").default>}\n   */\n  var PROJECTIONS$1 = [\n    new EPSG4326Projection('CRS:84'),\n    new EPSG4326Projection('EPSG:4326', 'neu'),\n    new EPSG4326Projection('urn:ogc:def:crs:EPSG::4326', 'neu'),\n    new EPSG4326Projection('urn:ogc:def:crs:EPSG:6.6:4326', 'neu'),\n    new EPSG4326Projection('urn:ogc:def:crs:OGC:1.3:CRS84'),\n    new EPSG4326Projection('urn:ogc:def:crs:OGC:2:84'),\n    new EPSG4326Projection('http://www.opengis.net/gml/srs/epsg.xml#4326', 'neu'),\n    new EPSG4326Projection('urn:x-ogc:def:crs:EPSG:4326', 'neu')\n  ];\n\n  /**\n   * @module ol/proj/projections\n   */\n\n\n  /**\n   * @type {Object<string, import(\"./Projection.js\").default>}\n   */\n  var cache = {};\n\n\n  /**\n   * Get a cached projection by code.\n   * @param {string} code The code for the projection.\n   * @return {import(\"./Projection.js\").default} The projection (if cached).\n   */\n  function get(code) {\n    return cache[code] || null;\n  }\n\n\n  /**\n   * Add a projection to the cache.\n   * @param {string} code The projection code.\n   * @param {import(\"./Projection.js\").default} projection The projection to cache.\n   */\n  function add$1(code, projection) {\n    cache[code] = projection;\n  }\n\n  /**\n   * @module ol/proj/transforms\n   */\n\n\n  /**\n   * @private\n   * @type {!Object<string, Object<string, import(\"../proj.js\").TransformFunction>>}\n   */\n  var transforms = {};\n\n\n  /**\n   * Registers a conversion function to convert coordinates from the source\n   * projection to the destination projection.\n   *\n   * @param {import(\"./Projection.js\").default} source Source.\n   * @param {import(\"./Projection.js\").default} destination Destination.\n   * @param {import(\"../proj.js\").TransformFunction} transformFn Transform.\n   */\n  function add$2(source, destination, transformFn) {\n    var sourceCode = source.getCode();\n    var destinationCode = destination.getCode();\n    if (!(sourceCode in transforms)) {\n      transforms[sourceCode] = {};\n    }\n    transforms[sourceCode][destinationCode] = transformFn;\n  }\n\n\n  /**\n   * Get a transform given a source code and a destination code.\n   * @param {string} sourceCode The code for the source projection.\n   * @param {string} destinationCode The code for the destination projection.\n   * @return {import(\"../proj.js\").TransformFunction|undefined} The transform function (if found).\n   */\n  function get$1(sourceCode, destinationCode) {\n    var transform;\n    if (sourceCode in transforms && destinationCode in transforms[sourceCode]) {\n      transform = transforms[sourceCode][destinationCode];\n    }\n    return transform;\n  }\n\n  /**\n   * @module ol/proj\n   */\n\n  /**\n   * @param {Array<number>} input Input coordinate array.\n   * @param {Array<number>=} opt_output Output array of coordinate values.\n   * @param {number=} opt_dimension Dimension.\n   * @return {Array<number>} Output coordinate array (new array, same coordinate\n   *     values).\n   */\n  function cloneTransform(input, opt_output, opt_dimension) {\n    var output;\n    if (opt_output !== undefined) {\n      for (var i = 0, ii = input.length; i < ii; ++i) {\n        opt_output[i] = input[i];\n      }\n      output = opt_output;\n    } else {\n      output = input.slice();\n    }\n    return output;\n  }\n\n\n  /**\n   * @param {Array<number>} input Input coordinate array.\n   * @param {Array<number>=} opt_output Output array of coordinate values.\n   * @param {number=} opt_dimension Dimension.\n   * @return {Array<number>} Input coordinate array (same array as input).\n   */\n  function identityTransform(input, opt_output, opt_dimension) {\n    if (opt_output !== undefined && input !== opt_output) {\n      for (var i = 0, ii = input.length; i < ii; ++i) {\n        opt_output[i] = input[i];\n      }\n      input = opt_output;\n    }\n    return input;\n  }\n\n\n  /**\n   * Add a Projection object to the list of supported projections that can be\n   * looked up by their code.\n   *\n   * @param {Projection} projection Projection instance.\n   * @api\n   */\n  function addProjection(projection) {\n    add$1(projection.getCode(), projection);\n    add$2(projection, projection, cloneTransform);\n  }\n\n\n  /**\n   * @param {Array<Projection>} projections Projections.\n   */\n  function addProjections(projections) {\n    projections.forEach(addProjection);\n  }\n\n\n  /**\n   * Fetches a Projection object for the code specified.\n   *\n   * @param {ProjectionLike} projectionLike Either a code string which is\n   *     a combination of authority and identifier such as \"EPSG:4326\", or an\n   *     existing projection object, or undefined.\n   * @return {Projection} Projection object, or null if not in list.\n   * @api\n   */\n  function get$2(projectionLike) {\n    return typeof projectionLike === 'string' ?\n      get(/** @type {string} */ (projectionLike)) :\n      (/** @type {Projection} */ (projectionLike) || null);\n  }\n\n\n  /**\n   * Get the resolution of the point in degrees or distance units.\n   * For projections with degrees as the unit this will simply return the\n   * provided resolution. For other projections the point resolution is\n   * by default estimated by transforming the 'point' pixel to EPSG:4326,\n   * measuring its width and height on the normal sphere,\n   * and taking the average of the width and height.\n   * A custom function can be provided for a specific projection, either\n   * by setting the `getPointResolution` option in the\n   * {@link module:ol/proj/Projection~Projection} constructor or by using\n   * {@link module:ol/proj/Projection~Projection#setGetPointResolution} to change an existing\n   * projection object.\n   * @param {ProjectionLike} projection The projection.\n   * @param {number} resolution Nominal resolution in projection units.\n   * @param {import(\"./coordinate.js\").Coordinate} point Point to find adjusted resolution at.\n   * @param {Units=} opt_units Units to get the point resolution in.\n   * Default is the projection's units.\n   * @return {number} Point resolution.\n   * @api\n   */\n  function getPointResolution(projection, resolution, point, opt_units) {\n    projection = get$2(projection);\n    var pointResolution;\n    var getter = projection.getPointResolutionFunc();\n    if (getter) {\n      pointResolution = getter(resolution, point);\n    } else {\n      var units = projection.getUnits();\n      if (units == Units.DEGREES && !opt_units || opt_units == Units.DEGREES) {\n        pointResolution = resolution;\n      } else {\n        // Estimate point resolution by transforming the center pixel to EPSG:4326,\n        // measuring its width and height on the normal sphere, and taking the\n        // average of the width and height.\n        var toEPSG4326$$1 = getTransformFromProjections(projection, get$2('EPSG:4326'));\n        var vertices = [\n          point[0] - resolution / 2, point[1],\n          point[0] + resolution / 2, point[1],\n          point[0], point[1] - resolution / 2,\n          point[0], point[1] + resolution / 2\n        ];\n        vertices = toEPSG4326$$1(vertices, vertices, 2);\n        var width = getDistance(vertices.slice(0, 2), vertices.slice(2, 4));\n        var height = getDistance(vertices.slice(4, 6), vertices.slice(6, 8));\n        pointResolution = (width + height) / 2;\n        var metersPerUnit = opt_units ?\n          METERS_PER_UNIT[opt_units] :\n          projection.getMetersPerUnit();\n        if (metersPerUnit !== undefined) {\n          pointResolution /= metersPerUnit;\n        }\n      }\n    }\n    return pointResolution;\n  }\n\n\n  /**\n   * Registers transformation functions that don't alter coordinates. Those allow\n   * to transform between projections with equal meaning.\n   *\n   * @param {Array<Projection>} projections Projections.\n   * @api\n   */\n  function addEquivalentProjections(projections) {\n    addProjections(projections);\n    projections.forEach(function(source) {\n      projections.forEach(function(destination) {\n        if (source !== destination) {\n          add$2(source, destination, cloneTransform);\n        }\n      });\n    });\n  }\n\n\n  /**\n   * Registers transformation functions to convert coordinates in any projection\n   * in projection1 to any projection in projection2.\n   *\n   * @param {Array<Projection>} projections1 Projections with equal\n   *     meaning.\n   * @param {Array<Projection>} projections2 Projections with equal\n   *     meaning.\n   * @param {TransformFunction} forwardTransform Transformation from any\n   *   projection in projection1 to any projection in projection2.\n   * @param {TransformFunction} inverseTransform Transform from any projection\n   *   in projection2 to any projection in projection1..\n   */\n  function addEquivalentTransforms(projections1, projections2, forwardTransform, inverseTransform) {\n    projections1.forEach(function(projection1) {\n      projections2.forEach(function(projection2) {\n        add$2(projection1, projection2, forwardTransform);\n        add$2(projection2, projection1, inverseTransform);\n      });\n    });\n  }\n\n\n  /**\n   * @param {Projection|string|undefined} projection Projection.\n   * @param {string} defaultCode Default code.\n   * @return {Projection} Projection.\n   */\n  function createProjection(projection, defaultCode) {\n    if (!projection) {\n      return get$2(defaultCode);\n    } else if (typeof projection === 'string') {\n      return get$2(projection);\n    } else {\n      return (\n        /** @type {Projection} */ (projection)\n      );\n    }\n  }\n\n\n  /**\n   * Checks if two projections are the same, that is every coordinate in one\n   * projection does represent the same geographic point as the same coordinate in\n   * the other projection.\n   *\n   * @param {Projection} projection1 Projection 1.\n   * @param {Projection} projection2 Projection 2.\n   * @return {boolean} Equivalent.\n   * @api\n   */\n  function equivalent(projection1, projection2) {\n    if (projection1 === projection2) {\n      return true;\n    }\n    var equalUnits = projection1.getUnits() === projection2.getUnits();\n    if (projection1.getCode() === projection2.getCode()) {\n      return equalUnits;\n    } else {\n      var transformFunc = getTransformFromProjections(projection1, projection2);\n      return transformFunc === cloneTransform && equalUnits;\n    }\n  }\n\n\n  /**\n   * Searches in the list of transform functions for the function for converting\n   * coordinates from the source projection to the destination projection.\n   *\n   * @param {Projection} sourceProjection Source Projection object.\n   * @param {Projection} destinationProjection Destination Projection\n   *     object.\n   * @return {TransformFunction} Transform function.\n   */\n  function getTransformFromProjections(sourceProjection, destinationProjection) {\n    var sourceCode = sourceProjection.getCode();\n    var destinationCode = destinationProjection.getCode();\n    var transformFunc = get$1(sourceCode, destinationCode);\n    if (!transformFunc) {\n      transformFunc = identityTransform;\n    }\n    return transformFunc;\n  }\n\n\n  /**\n   * Given the projection-like objects, searches for a transformation\n   * function to convert a coordinates array from the source projection to the\n   * destination projection.\n   *\n   * @param {ProjectionLike} source Source.\n   * @param {ProjectionLike} destination Destination.\n   * @return {TransformFunction} Transform function.\n   * @api\n   */\n  function getTransform(source, destination) {\n    var sourceProjection = get$2(source);\n    var destinationProjection = get$2(destination);\n    return getTransformFromProjections(sourceProjection, destinationProjection);\n  }\n\n\n  /**\n   * Transforms a coordinate from source projection to destination projection.\n   * This returns a new coordinate (and does not modify the original).\n   *\n   * See {@link module:ol/proj~transformExtent} for extent transformation.\n   * See the transform method of {@link module:ol/geom/Geometry~Geometry} and its\n   * subclasses for geometry transforms.\n   *\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {ProjectionLike} source Source projection-like.\n   * @param {ProjectionLike} destination Destination projection-like.\n   * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n   * @api\n   */\n  function transform(coordinate, source, destination) {\n    var transformFunc = getTransform(source, destination);\n    return transformFunc(coordinate, undefined, coordinate.length);\n  }\n\n  /**\n   * Add transforms to and from EPSG:4326 and EPSG:3857.  This function is called\n   * by when this module is executed and should only need to be called again after\n   * `clearAllProjections()` is called (e.g. in tests).\n   */\n  function addCommon() {\n    // Add transformations that don't alter coordinates to convert within set of\n    // projections with equal meaning.\n    addEquivalentProjections(PROJECTIONS);\n    addEquivalentProjections(PROJECTIONS$1);\n    // Add transformations to convert EPSG:4326 like coordinates to EPSG:3857 like\n    // coordinates and back.\n    addEquivalentTransforms(PROJECTIONS$1, PROJECTIONS, fromEPSG4326, toEPSG4326);\n  }\n\n  addCommon();\n\n  /**\n   * @module ol/transform\n   */\n\n\n  /**\n   * An array representing an affine 2d transformation for use with\n   * {@link module:ol/transform} functions. The array has 6 elements.\n   * @typedef {!Array<number>} Transform\n   */\n\n\n  /**\n   * Collection of affine 2d transformation functions. The functions work on an\n   * array of 6 elements. The element order is compatible with the [SVGMatrix\n   * interface](https://developer.mozilla.org/en-US/docs/Web/API/SVGMatrix) and is\n   * a subset (elements a to f) of a 3×3 matrix:\n   * ```\n   * [ a c e ]\n   * [ b d f ]\n   * [ 0 0 1 ]\n   * ```\n   */\n\n\n  /**\n   * @private\n   * @type {Transform}\n   */\n  var tmp_ = new Array(6);\n\n\n  /**\n   * Create an identity transform.\n   * @return {!Transform} Identity transform.\n   */\n  function create() {\n    return [1, 0, 0, 1, 0, 0];\n  }\n\n\n  /**\n   * Resets the given transform to an identity transform.\n   * @param {!Transform} transform Transform.\n   * @return {!Transform} Transform.\n   */\n  function reset(transform) {\n    return set(transform, 1, 0, 0, 1, 0, 0);\n  }\n\n\n  /**\n   * Multiply the underlying matrices of two transforms and return the result in\n   * the first transform.\n   * @param {!Transform} transform1 Transform parameters of matrix 1.\n   * @param {!Transform} transform2 Transform parameters of matrix 2.\n   * @return {!Transform} transform1 multiplied with transform2.\n   */\n  function multiply(transform1, transform2) {\n    var a1 = transform1[0];\n    var b1 = transform1[1];\n    var c1 = transform1[2];\n    var d1 = transform1[3];\n    var e1 = transform1[4];\n    var f1 = transform1[5];\n    var a2 = transform2[0];\n    var b2 = transform2[1];\n    var c2 = transform2[2];\n    var d2 = transform2[3];\n    var e2 = transform2[4];\n    var f2 = transform2[5];\n\n    transform1[0] = a1 * a2 + c1 * b2;\n    transform1[1] = b1 * a2 + d1 * b2;\n    transform1[2] = a1 * c2 + c1 * d2;\n    transform1[3] = b1 * c2 + d1 * d2;\n    transform1[4] = a1 * e2 + c1 * f2 + e1;\n    transform1[5] = b1 * e2 + d1 * f2 + f1;\n\n    return transform1;\n  }\n\n  /**\n   * Set the transform components a-f on a given transform.\n   * @param {!Transform} transform Transform.\n   * @param {number} a The a component of the transform.\n   * @param {number} b The b component of the transform.\n   * @param {number} c The c component of the transform.\n   * @param {number} d The d component of the transform.\n   * @param {number} e The e component of the transform.\n   * @param {number} f The f component of the transform.\n   * @return {!Transform} Matrix with transform applied.\n   */\n  function set(transform, a, b, c, d, e, f) {\n    transform[0] = a;\n    transform[1] = b;\n    transform[2] = c;\n    transform[3] = d;\n    transform[4] = e;\n    transform[5] = f;\n    return transform;\n  }\n\n\n  /**\n   * Set transform on one matrix from another matrix.\n   * @param {!Transform} transform1 Matrix to set transform to.\n   * @param {!Transform} transform2 Matrix to set transform from.\n   * @return {!Transform} transform1 with transform from transform2 applied.\n   */\n  function setFromArray(transform1, transform2) {\n    transform1[0] = transform2[0];\n    transform1[1] = transform2[1];\n    transform1[2] = transform2[2];\n    transform1[3] = transform2[3];\n    transform1[4] = transform2[4];\n    transform1[5] = transform2[5];\n    return transform1;\n  }\n\n\n  /**\n   * Transforms the given coordinate with the given transform returning the\n   * resulting, transformed coordinate. The coordinate will be modified in-place.\n   *\n   * @param {Transform} transform The transformation.\n   * @param {import(\"./coordinate.js\").Coordinate|import(\"./pixel.js\").Pixel} coordinate The coordinate to transform.\n   * @return {import(\"./coordinate.js\").Coordinate|import(\"./pixel.js\").Pixel} return coordinate so that operations can be\n   *     chained together.\n   */\n  function apply(transform, coordinate) {\n    var x = coordinate[0];\n    var y = coordinate[1];\n    coordinate[0] = transform[0] * x + transform[2] * y + transform[4];\n    coordinate[1] = transform[1] * x + transform[3] * y + transform[5];\n    return coordinate;\n  }\n\n\n  /**\n   * Applies rotation to the given transform.\n   * @param {!Transform} transform Transform.\n   * @param {number} angle Angle in radians.\n   * @return {!Transform} The rotated transform.\n   */\n  function rotate$2(transform, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return multiply(transform, set(tmp_, cos, sin, -sin, cos, 0, 0));\n  }\n\n\n  /**\n   * Applies scale to a given transform.\n   * @param {!Transform} transform Transform.\n   * @param {number} x Scale factor x.\n   * @param {number} y Scale factor y.\n   * @return {!Transform} The scaled transform.\n   */\n  function scale$2(transform, x, y) {\n    return multiply(transform, set(tmp_, x, 0, 0, y, 0, 0));\n  }\n\n\n  /**\n   * Applies translation to the given transform.\n   * @param {!Transform} transform Transform.\n   * @param {number} dx Translation x.\n   * @param {number} dy Translation y.\n   * @return {!Transform} The translated transform.\n   */\n  function translate$1(transform, dx, dy) {\n    return multiply(transform, set(tmp_, 1, 0, 0, 1, dx, dy));\n  }\n\n\n  /**\n   * Creates a composite transform given an initial translation, scale, rotation, and\n   * final translation (in that order only, not commutative).\n   * @param {!Transform} transform The transform (will be modified in place).\n   * @param {number} dx1 Initial translation x.\n   * @param {number} dy1 Initial translation y.\n   * @param {number} sx Scale factor x.\n   * @param {number} sy Scale factor y.\n   * @param {number} angle Rotation (in counter-clockwise radians).\n   * @param {number} dx2 Final translation x.\n   * @param {number} dy2 Final translation y.\n   * @return {!Transform} The composite transform.\n   */\n  function compose(transform, dx1, dy1, sx, sy, angle, dx2, dy2) {\n    var sin = Math.sin(angle);\n    var cos = Math.cos(angle);\n    transform[0] = sx * cos;\n    transform[1] = sy * sin;\n    transform[2] = -sx * sin;\n    transform[3] = sy * cos;\n    transform[4] = dx2 * sx * cos - dy2 * sx * sin + dx1;\n    transform[5] = dx2 * sy * sin + dy2 * sy * cos + dy1;\n    return transform;\n  }\n\n\n  /**\n   * Invert the given transform.\n   * @param {!Transform} transform Transform.\n   * @return {!Transform} Inverse of the transform.\n   */\n  function invert(transform) {\n    var det = determinant(transform);\n    assert(det !== 0, 32); // Transformation matrix cannot be inverted\n\n    var a = transform[0];\n    var b = transform[1];\n    var c = transform[2];\n    var d = transform[3];\n    var e = transform[4];\n    var f = transform[5];\n\n    transform[0] = d / det;\n    transform[1] = -b / det;\n    transform[2] = -c / det;\n    transform[3] = a / det;\n    transform[4] = (c * f - d * e) / det;\n    transform[5] = -(a * f - b * e) / det;\n\n    return transform;\n  }\n\n\n  /**\n   * Returns the determinant of the given matrix.\n   * @param {!Transform} mat Matrix.\n   * @return {number} Determinant.\n   */\n  function determinant(mat) {\n    return mat[0] * mat[3] - mat[1] * mat[2];\n  }\n\n  /**\n   * @module ol/geom/Geometry\n   */\n\n\n  /**\n   * @type {import(\"../transform.js\").Transform}\n   */\n  var tmpTransform = create();\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * Base class for vector geometries.\n   *\n   * To get notified of changes to the geometry, register a listener for the\n   * generic `change` event on your geometry instance.\n   *\n   * @abstract\n   * @api\n   */\n  var Geometry = /*@__PURE__*/(function (BaseObject$$1) {\n    function Geometry() {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @private\n       * @type {import(\"../extent.js\").Extent}\n       */\n      this.extent_ = createEmpty();\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.extentRevision_ = -1;\n\n      /**\n       * @protected\n       * @type {Object<string, Geometry>}\n       */\n      this.simplifiedGeometryCache = {};\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.simplifiedGeometryRevision = 0;\n\n    }\n\n    if ( BaseObject$$1 ) Geometry.__proto__ = BaseObject$$1;\n    Geometry.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Geometry.prototype.constructor = Geometry;\n\n    /**\n     * Make a complete copy of the geometry.\n     * @abstract\n     * @return {!Geometry} Clone.\n     */\n    Geometry.prototype.clone = function clone$$1 () {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    Geometry.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      return abstract();\n    };\n\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    Geometry.prototype.containsXY = function containsXY$$1 (x, y) {\n      return false;\n    };\n\n    /**\n     * Return the closest point of the geometry to the passed point as\n     * {@link module:ol/coordinate~Coordinate coordinate}.\n     * @param {import(\"../coordinate.js\").Coordinate} point Point.\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_closestPoint Closest point.\n     * @return {import(\"../coordinate.js\").Coordinate} Closest point.\n     * @api\n     */\n    Geometry.prototype.getClosestPoint = function getClosestPoint (point, opt_closestPoint) {\n      var closestPoint = opt_closestPoint ? opt_closestPoint : [NaN, NaN];\n      this.closestPointXY(point[0], point[1], closestPoint, Infinity);\n      return closestPoint;\n    };\n\n    /**\n     * Returns true if this geometry includes the specified coordinate. If the\n     * coordinate is on the boundary of the geometry, returns false.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {boolean} Contains coordinate.\n     * @api\n     */\n    Geometry.prototype.intersectsCoordinate = function intersectsCoordinate (coordinate) {\n      return this.containsXY(coordinate[0], coordinate[1]);\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    Geometry.prototype.computeExtent = function computeExtent (extent) {\n      return abstract();\n    };\n\n    /**\n     * Get the extent of the geometry.\n     * @param {import(\"../extent.js\").Extent=} opt_extent Extent.\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    Geometry.prototype.getExtent = function getExtent (opt_extent) {\n      if (this.extentRevision_ != this.getRevision()) {\n        this.extent_ = this.computeExtent(this.extent_);\n        this.extentRevision_ = this.getRevision();\n      }\n      return returnOrUpdate(this.extent_, opt_extent);\n    };\n\n    /**\n     * Rotate the geometry around a given coordinate. This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} angle Rotation angle in radians.\n     * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n     * @api\n     */\n    Geometry.prototype.rotate = function rotate (angle, anchor) {\n      abstract();\n    };\n\n    /**\n     * Scale the geometry (with an optional origin).  This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} sx The scaling factor in the x-direction.\n     * @param {number=} opt_sy The scaling factor in the y-direction (defaults to\n     *     sx).\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor The scale origin (defaults to the center\n     *     of the geometry extent).\n     * @api\n     */\n    Geometry.prototype.scale = function scale (sx, opt_sy, opt_anchor) {\n      abstract();\n    };\n\n    /**\n     * Create a simplified version of this geometry.  For linestrings, this uses\n     * the the {@link\n     * https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm\n     * Douglas Peucker} algorithm.  For polygons, a quantization-based\n     * simplification is used to preserve topology.\n     * @param {number} tolerance The tolerance distance for simplification.\n     * @return {Geometry} A new, simplified version of the original geometry.\n     * @api\n     */\n    Geometry.prototype.simplify = function simplify (tolerance) {\n      return this.getSimplifiedGeometry(tolerance * tolerance);\n    };\n\n    /**\n     * Create a simplified version of this geometry using the Douglas Peucker\n     * algorithm.\n     * See https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm.\n     * @abstract\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {Geometry} Simplified geometry.\n     */\n    Geometry.prototype.getSimplifiedGeometry = function getSimplifiedGeometry (squaredTolerance) {\n      return abstract();\n    };\n\n    /**\n     * Get the type of this geometry.\n     * @abstract\n     * @return {import(\"./GeometryType.js\").default} Geometry type.\n     */\n    Geometry.prototype.getType = function getType () {\n      return abstract();\n    };\n\n    /**\n     * Apply a transform function to each coordinate of the geometry.\n     * The geometry is modified in place.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     * @abstract\n     * @param {import(\"../proj.js\").TransformFunction} transformFn Transform.\n     */\n    Geometry.prototype.applyTransform = function applyTransform$$1 (transformFn) {\n      abstract();\n    };\n\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @abstract\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     */\n    Geometry.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return abstract();\n    };\n\n    /**\n     * Translate the geometry.  This modifies the geometry coordinates in place.  If\n     * instead you want a new geometry, first `clone()` this geometry.\n     * @abstract\n     * @param {number} deltaX Delta X.\n     * @param {number} deltaY Delta Y.\n     * @api\n     */\n    Geometry.prototype.translate = function translate$$1 (deltaX, deltaY) {\n      abstract();\n    };\n\n    /**\n     * Transform each coordinate of the geometry from one coordinate reference\n     * system to another. The geometry is modified in place.\n     * For example, a line will be transformed to a line and a circle to a circle.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     *\n     * @param {import(\"../proj.js\").ProjectionLike} source The current projection.  Can be a\n     *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n     * @param {import(\"../proj.js\").ProjectionLike} destination The desired projection.  Can be a\n     *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n     * @return {Geometry} This geometry.  Note that original geometry is\n     *     modified in place.\n     * @api\n     */\n    Geometry.prototype.transform = function transform$$1 (source, destination) {\n      /** @type {import(\"../proj/Projection.js\").default} */\n      var sourceProj = get$2(source);\n      var transformFn = sourceProj.getUnits() == Units.TILE_PIXELS ?\n        function(inCoordinates, outCoordinates, stride) {\n          var pixelExtent = sourceProj.getExtent();\n          var projectedExtent = sourceProj.getWorldExtent();\n          var scale = getHeight(projectedExtent) / getHeight(pixelExtent);\n          compose(tmpTransform,\n            projectedExtent[0], projectedExtent[3],\n            scale, -scale, 0,\n            0, 0);\n          transform2D(inCoordinates, 0, inCoordinates.length, stride,\n            tmpTransform, outCoordinates);\n          return getTransform(sourceProj, destination)(inCoordinates, outCoordinates, stride);\n        } :\n        getTransform(sourceProj, destination);\n      this.applyTransform(transformFn);\n      return this;\n    };\n\n    return Geometry;\n  }(BaseObject));\n\n  /**\n   * @module ol/geom/SimpleGeometry\n   */\n\n  /**\n   * @classdesc\n   * Abstract base class; only used for creating subclasses; do not instantiate\n   * in apps, as cannot be rendered.\n   *\n   * @abstract\n   * @api\n   */\n  var SimpleGeometry = /*@__PURE__*/(function (Geometry$$1) {\n    function SimpleGeometry() {\n\n      Geometry$$1.call(this);\n\n      /**\n       * @protected\n       * @type {GeometryLayout}\n       */\n      this.layout = GeometryLayout.XY;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.stride = 2;\n\n      /**\n       * @protected\n       * @type {Array<number>}\n       */\n      this.flatCoordinates = null;\n\n    }\n\n    if ( Geometry$$1 ) SimpleGeometry.__proto__ = Geometry$$1;\n    SimpleGeometry.prototype = Object.create( Geometry$$1 && Geometry$$1.prototype );\n    SimpleGeometry.prototype.constructor = SimpleGeometry;\n\n    /**\n     * @inheritDoc\n     */\n    SimpleGeometry.prototype.computeExtent = function computeExtent (extent) {\n      return createOrUpdateFromFlatCoordinates(this.flatCoordinates,\n        0, this.flatCoordinates.length, this.stride, extent);\n    };\n\n    /**\n     * @abstract\n     * @return {Array} Coordinates.\n     */\n    SimpleGeometry.prototype.getCoordinates = function getCoordinates () {\n      return abstract();\n    };\n\n    /**\n     * Return the first coordinate of the geometry.\n     * @return {import(\"../coordinate.js\").Coordinate} First coordinate.\n     * @api\n     */\n    SimpleGeometry.prototype.getFirstCoordinate = function getFirstCoordinate () {\n      return this.flatCoordinates.slice(0, this.stride);\n    };\n\n    /**\n     * @return {Array<number>} Flat coordinates.\n     */\n    SimpleGeometry.prototype.getFlatCoordinates = function getFlatCoordinates () {\n      return this.flatCoordinates;\n    };\n\n    /**\n     * Return the last coordinate of the geometry.\n     * @return {import(\"../coordinate.js\").Coordinate} Last point.\n     * @api\n     */\n    SimpleGeometry.prototype.getLastCoordinate = function getLastCoordinate () {\n      return this.flatCoordinates.slice(this.flatCoordinates.length - this.stride);\n    };\n\n    /**\n     * Return the {@link module:ol/geom/GeometryLayout layout} of the geometry.\n     * @return {GeometryLayout} Layout.\n     * @api\n     */\n    SimpleGeometry.prototype.getLayout = function getLayout () {\n      return this.layout;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    SimpleGeometry.prototype.getSimplifiedGeometry = function getSimplifiedGeometry (squaredTolerance) {\n      if (this.simplifiedGeometryRevision != this.getRevision()) {\n        clear(this.simplifiedGeometryCache);\n        this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n        this.simplifiedGeometryRevision = this.getRevision();\n      }\n      // If squaredTolerance is negative or if we know that simplification will not\n      // have any effect then just return this.\n      if (squaredTolerance < 0 ||\n          (this.simplifiedGeometryMaxMinSquaredTolerance !== 0 &&\n           squaredTolerance <= this.simplifiedGeometryMaxMinSquaredTolerance)) {\n        return this;\n      }\n      var key = squaredTolerance.toString();\n      if (this.simplifiedGeometryCache.hasOwnProperty(key)) {\n        return this.simplifiedGeometryCache[key];\n      } else {\n        var simplifiedGeometry =\n            this.getSimplifiedGeometryInternal(squaredTolerance);\n        var simplifiedFlatCoordinates = simplifiedGeometry.getFlatCoordinates();\n        if (simplifiedFlatCoordinates.length < this.flatCoordinates.length) {\n          this.simplifiedGeometryCache[key] = simplifiedGeometry;\n          return simplifiedGeometry;\n        } else {\n          // Simplification did not actually remove any coordinates.  We now know\n          // that any calls to getSimplifiedGeometry with a squaredTolerance less\n          // than or equal to the current squaredTolerance will also not have any\n          // effect.  This allows us to short circuit simplification (saving CPU\n          // cycles) and prevents the cache of simplified geometries from filling\n          // up with useless identical copies of this geometry (saving memory).\n          this.simplifiedGeometryMaxMinSquaredTolerance = squaredTolerance;\n          return this;\n        }\n      }\n    };\n\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {SimpleGeometry} Simplified geometry.\n     * @protected\n     */\n    SimpleGeometry.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      return this;\n    };\n\n    /**\n     * @return {number} Stride.\n     */\n    SimpleGeometry.prototype.getStride = function getStride () {\n      return this.stride;\n    };\n\n    /**\n     * @param {GeometryLayout} layout Layout.\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     */\n    SimpleGeometry.prototype.setFlatCoordinates = function setFlatCoordinates (layout, flatCoordinates) {\n      this.stride = getStrideForLayout(layout);\n      this.layout = layout;\n      this.flatCoordinates = flatCoordinates;\n    };\n\n    /**\n     * @abstract\n     * @param {!Array} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     */\n    SimpleGeometry.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      abstract();\n    };\n\n    /**\n     * @param {GeometryLayout|undefined} layout Layout.\n     * @param {Array} coordinates Coordinates.\n     * @param {number} nesting Nesting.\n     * @protected\n     */\n    SimpleGeometry.prototype.setLayout = function setLayout (layout, coordinates, nesting) {\n      /** @type {number} */\n      var stride;\n      if (layout) {\n        stride = getStrideForLayout(layout);\n      } else {\n        for (var i = 0; i < nesting; ++i) {\n          if (coordinates.length === 0) {\n            this.layout = GeometryLayout.XY;\n            this.stride = 2;\n            return;\n          } else {\n            coordinates = /** @type {Array} */ (coordinates[0]);\n          }\n        }\n        stride = coordinates.length;\n        layout = getLayoutForStride(stride);\n      }\n      this.layout = layout;\n      this.stride = stride;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    SimpleGeometry.prototype.applyTransform = function applyTransform$$1 (transformFn) {\n      if (this.flatCoordinates) {\n        transformFn(this.flatCoordinates, this.flatCoordinates, this.stride);\n        this.changed();\n      }\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    SimpleGeometry.prototype.rotate = function rotate$1$$1 (angle, anchor) {\n      var flatCoordinates = this.getFlatCoordinates();\n      if (flatCoordinates) {\n        var stride = this.getStride();\n        rotate$1(\n          flatCoordinates, 0, flatCoordinates.length,\n          stride, angle, anchor, flatCoordinates);\n        this.changed();\n      }\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    SimpleGeometry.prototype.scale = function scale$1$$1 (sx, opt_sy, opt_anchor) {\n      var sy = opt_sy;\n      if (sy === undefined) {\n        sy = sx;\n      }\n      var anchor = opt_anchor;\n      if (!anchor) {\n        anchor = getCenter(this.getExtent());\n      }\n      var flatCoordinates = this.getFlatCoordinates();\n      if (flatCoordinates) {\n        var stride = this.getStride();\n        scale$1(\n          flatCoordinates, 0, flatCoordinates.length,\n          stride, sx, sy, anchor, flatCoordinates);\n        this.changed();\n      }\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    SimpleGeometry.prototype.translate = function translate$1 (deltaX, deltaY) {\n      var flatCoordinates = this.getFlatCoordinates();\n      if (flatCoordinates) {\n        var stride = this.getStride();\n        translate(\n          flatCoordinates, 0, flatCoordinates.length, stride,\n          deltaX, deltaY, flatCoordinates);\n        this.changed();\n      }\n    };\n\n    return SimpleGeometry;\n  }(Geometry));\n\n\n  /**\n   * @param {number} stride Stride.\n   * @return {GeometryLayout} layout Layout.\n   */\n  function getLayoutForStride(stride) {\n    var layout;\n    if (stride == 2) {\n      layout = GeometryLayout.XY;\n    } else if (stride == 3) {\n      layout = GeometryLayout.XYZ;\n    } else if (stride == 4) {\n      layout = GeometryLayout.XYZM;\n    }\n    return (\n      /** @type {GeometryLayout} */ (layout)\n    );\n  }\n\n\n  /**\n   * @param {GeometryLayout} layout Layout.\n   * @return {number} Stride.\n   */\n  function getStrideForLayout(layout) {\n    var stride;\n    if (layout == GeometryLayout.XY) {\n      stride = 2;\n    } else if (layout == GeometryLayout.XYZ || layout == GeometryLayout.XYM) {\n      stride = 3;\n    } else if (layout == GeometryLayout.XYZM) {\n      stride = 4;\n    }\n    return /** @type {number} */ (stride);\n  }\n\n\n  /**\n   * @param {SimpleGeometry} simpleGeometry Simple geometry.\n   * @param {import(\"../transform.js\").Transform} transform Transform.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Transformed flat coordinates.\n   */\n  function transformGeom2D(simpleGeometry, transform, opt_dest) {\n    var flatCoordinates = simpleGeometry.getFlatCoordinates();\n    if (!flatCoordinates) {\n      return null;\n    } else {\n      var stride = simpleGeometry.getStride();\n      return transform2D(\n        flatCoordinates, 0, flatCoordinates.length, stride,\n        transform, opt_dest);\n    }\n  }\n\n  /**\n   * @module ol/geom/flat/area\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {number} Area.\n   */\n  function linearRing(flatCoordinates, offset, end, stride) {\n    var twiceArea = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n      var x2 = flatCoordinates[offset];\n      var y2 = flatCoordinates[offset + 1];\n      twiceArea += y1 * x2 - x1 * y2;\n      x1 = x2;\n      y1 = y2;\n    }\n    return twiceArea / 2;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @return {number} Area.\n   */\n  function linearRings(flatCoordinates, offset, ends, stride) {\n    var area = 0;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      area += linearRing(flatCoordinates, offset, end, stride);\n      offset = end;\n    }\n    return area;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @return {number} Area.\n   */\n  function linearRingss(flatCoordinates, offset, endss, stride) {\n    var area = 0;\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      area += linearRings(flatCoordinates, offset, ends, stride);\n      offset = ends[ends.length - 1];\n    }\n    return area;\n  }\n\n  /**\n   * @module ol/geom/flat/closest\n   */\n\n\n  /**\n   * Returns the point on the 2D line segment flatCoordinates[offset1] to\n   * flatCoordinates[offset2] that is closest to the point (x, y).  Extra\n   * dimensions are linearly interpolated.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset1 Offset 1.\n   * @param {number} offset2 Offset 2.\n   * @param {number} stride Stride.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {Array<number>} closestPoint Closest point.\n   */\n  function assignClosest(flatCoordinates, offset1, offset2, stride, x, y, closestPoint) {\n    var x1 = flatCoordinates[offset1];\n    var y1 = flatCoordinates[offset1 + 1];\n    var dx = flatCoordinates[offset2] - x1;\n    var dy = flatCoordinates[offset2 + 1] - y1;\n    var offset;\n    if (dx === 0 && dy === 0) {\n      offset = offset1;\n    } else {\n      var t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n      if (t > 1) {\n        offset = offset2;\n      } else if (t > 0) {\n        for (var i = 0; i < stride; ++i) {\n          closestPoint[i] = lerp(flatCoordinates[offset1 + i],\n            flatCoordinates[offset2 + i], t);\n        }\n        closestPoint.length = stride;\n        return;\n      } else {\n        offset = offset1;\n      }\n    }\n    for (var i$1 = 0; i$1 < stride; ++i$1) {\n      closestPoint[i$1] = flatCoordinates[offset + i$1];\n    }\n    closestPoint.length = stride;\n  }\n\n\n  /**\n   * Return the squared of the largest distance between any pair of consecutive\n   * coordinates.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} max Max squared delta.\n   * @return {number} Max squared delta.\n   */\n  function maxSquaredDelta(flatCoordinates, offset, end, stride, max) {\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    for (offset += stride; offset < end; offset += stride) {\n      var x2 = flatCoordinates[offset];\n      var y2 = flatCoordinates[offset + 1];\n      var squaredDelta = squaredDistance(x1, y1, x2, y2);\n      if (squaredDelta > max) {\n        max = squaredDelta;\n      }\n      x1 = x2;\n      y1 = y2;\n    }\n    return max;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} max Max squared delta.\n   * @return {number} Max squared delta.\n   */\n  function arrayMaxSquaredDelta(flatCoordinates, offset, ends, stride, max) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      max = maxSquaredDelta(\n        flatCoordinates, offset, end, stride, max);\n      offset = end;\n    }\n    return max;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {number} max Max squared delta.\n   * @return {number} Max squared delta.\n   */\n  function multiArrayMaxSquaredDelta(flatCoordinates, offset, endss, stride, max) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      max = arrayMaxSquaredDelta(\n        flatCoordinates, offset, ends, stride, max);\n      offset = ends[ends.length - 1];\n    }\n    return max;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} maxDelta Max delta.\n   * @param {boolean} isRing Is ring.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {Array<number>} closestPoint Closest point.\n   * @param {number} minSquaredDistance Minimum squared distance.\n   * @param {Array<number>=} opt_tmpPoint Temporary point object.\n   * @return {number} Minimum squared distance.\n   */\n  function assignClosestPoint(flatCoordinates, offset, end,\n    stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance,\n    opt_tmpPoint) {\n    if (offset == end) {\n      return minSquaredDistance;\n    }\n    var i, squaredDistance$$1;\n    if (maxDelta === 0) {\n      // All points are identical, so just test the first point.\n      squaredDistance$$1 = squaredDistance(\n        x, y, flatCoordinates[offset], flatCoordinates[offset + 1]);\n      if (squaredDistance$$1 < minSquaredDistance) {\n        for (i = 0; i < stride; ++i) {\n          closestPoint[i] = flatCoordinates[offset + i];\n        }\n        closestPoint.length = stride;\n        return squaredDistance$$1;\n      } else {\n        return minSquaredDistance;\n      }\n    }\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    var index = offset + stride;\n    while (index < end) {\n      assignClosest(\n        flatCoordinates, index - stride, index, stride, x, y, tmpPoint);\n      squaredDistance$$1 = squaredDistance(x, y, tmpPoint[0], tmpPoint[1]);\n      if (squaredDistance$$1 < minSquaredDistance) {\n        minSquaredDistance = squaredDistance$$1;\n        for (i = 0; i < stride; ++i) {\n          closestPoint[i] = tmpPoint[i];\n        }\n        closestPoint.length = stride;\n        index += stride;\n      } else {\n        // Skip ahead multiple points, because we know that all the skipped\n        // points cannot be any closer than the closest point we have found so\n        // far.  We know this because we know how close the current point is, how\n        // close the closest point we have found so far is, and the maximum\n        // distance between consecutive points.  For example, if we're currently\n        // at distance 10, the best we've found so far is 3, and that the maximum\n        // distance between consecutive points is 2, then we'll need to skip at\n        // least (10 - 3) / 2 == 3 (rounded down) points to have any chance of\n        // finding a closer point.  We use Math.max(..., 1) to ensure that we\n        // always advance at least one point, to avoid an infinite loop.\n        index += stride * Math.max(\n          ((Math.sqrt(squaredDistance$$1) -\n              Math.sqrt(minSquaredDistance)) / maxDelta) | 0, 1);\n      }\n    }\n    if (isRing) {\n      // Check the closing segment.\n      assignClosest(\n        flatCoordinates, end - stride, offset, stride, x, y, tmpPoint);\n      squaredDistance$$1 = squaredDistance(x, y, tmpPoint[0], tmpPoint[1]);\n      if (squaredDistance$$1 < minSquaredDistance) {\n        minSquaredDistance = squaredDistance$$1;\n        for (i = 0; i < stride; ++i) {\n          closestPoint[i] = tmpPoint[i];\n        }\n        closestPoint.length = stride;\n      }\n    }\n    return minSquaredDistance;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} maxDelta Max delta.\n   * @param {boolean} isRing Is ring.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {Array<number>} closestPoint Closest point.\n   * @param {number} minSquaredDistance Minimum squared distance.\n   * @param {Array<number>=} opt_tmpPoint Temporary point object.\n   * @return {number} Minimum squared distance.\n   */\n  function assignClosestArrayPoint(flatCoordinates, offset, ends,\n    stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance,\n    opt_tmpPoint) {\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      minSquaredDistance = assignClosestPoint(\n        flatCoordinates, offset, end, stride,\n        maxDelta, isRing, x, y, closestPoint, minSquaredDistance, tmpPoint);\n      offset = end;\n    }\n    return minSquaredDistance;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {number} maxDelta Max delta.\n   * @param {boolean} isRing Is ring.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {Array<number>} closestPoint Closest point.\n   * @param {number} minSquaredDistance Minimum squared distance.\n   * @param {Array<number>=} opt_tmpPoint Temporary point object.\n   * @return {number} Minimum squared distance.\n   */\n  function assignClosestMultiArrayPoint(flatCoordinates, offset,\n    endss, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance,\n    opt_tmpPoint) {\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      minSquaredDistance = assignClosestArrayPoint(\n        flatCoordinates, offset, ends, stride,\n        maxDelta, isRing, x, y, closestPoint, minSquaredDistance, tmpPoint);\n      offset = ends[ends.length - 1];\n    }\n    return minSquaredDistance;\n  }\n\n  /**\n   * @module ol/geom/flat/deflate\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {number} stride Stride.\n   * @return {number} offset Offset.\n   */\n  function deflateCoordinate(flatCoordinates, offset, coordinate, stride) {\n    for (var i = 0, ii = coordinate.length; i < ii; ++i) {\n      flatCoordinates[offset++] = coordinate[i];\n    }\n    return offset;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<import(\"../../coordinate.js\").Coordinate>} coordinates Coordinates.\n   * @param {number} stride Stride.\n   * @return {number} offset Offset.\n   */\n  function deflateCoordinates(flatCoordinates, offset, coordinates, stride) {\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n      var coordinate = coordinates[i];\n      for (var j = 0; j < stride; ++j) {\n        flatCoordinates[offset++] = coordinate[j];\n      }\n    }\n    return offset;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<import(\"../../coordinate.js\").Coordinate>>} coordinatess Coordinatess.\n   * @param {number} stride Stride.\n   * @param {Array<number>=} opt_ends Ends.\n   * @return {Array<number>} Ends.\n   */\n  function deflateCoordinatesArray(flatCoordinates, offset, coordinatess, stride, opt_ends) {\n    var ends = opt_ends ? opt_ends : [];\n    var i = 0;\n    for (var j = 0, jj = coordinatess.length; j < jj; ++j) {\n      var end = deflateCoordinates(\n        flatCoordinates, offset, coordinatess[j], stride);\n      ends[i++] = end;\n      offset = end;\n    }\n    ends.length = i;\n    return ends;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} coordinatesss Coordinatesss.\n   * @param {number} stride Stride.\n   * @param {Array<Array<number>>=} opt_endss Endss.\n   * @return {Array<Array<number>>} Endss.\n   */\n  function deflateMultiCoordinatesArray(flatCoordinates, offset, coordinatesss, stride, opt_endss) {\n    var endss = opt_endss ? opt_endss : [];\n    var i = 0;\n    for (var j = 0, jj = coordinatesss.length; j < jj; ++j) {\n      var ends = deflateCoordinatesArray(\n        flatCoordinates, offset, coordinatesss[j], stride, endss[i]);\n      endss[i++] = ends;\n      offset = ends[ends.length - 1];\n    }\n    endss.length = i;\n    return endss;\n  }\n\n  /**\n   * @module ol/geom/flat/inflate\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {Array<import(\"../../coordinate.js\").Coordinate>=} opt_coordinates Coordinates.\n   * @return {Array<import(\"../../coordinate.js\").Coordinate>} Coordinates.\n   */\n  function inflateCoordinates(flatCoordinates, offset, end, stride, opt_coordinates) {\n    var coordinates = opt_coordinates !== undefined ? opt_coordinates : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n      coordinates[i++] = flatCoordinates.slice(j, j + stride);\n    }\n    coordinates.length = i;\n    return coordinates;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {Array<Array<import(\"../../coordinate.js\").Coordinate>>=} opt_coordinatess Coordinatess.\n   * @return {Array<Array<import(\"../../coordinate.js\").Coordinate>>} Coordinatess.\n   */\n  function inflateCoordinatesArray(flatCoordinates, offset, ends, stride, opt_coordinatess) {\n    var coordinatess = opt_coordinatess !== undefined ? opt_coordinatess : [];\n    var i = 0;\n    for (var j = 0, jj = ends.length; j < jj; ++j) {\n      var end = ends[j];\n      coordinatess[i++] = inflateCoordinates(\n        flatCoordinates, offset, end, stride, coordinatess[i]);\n      offset = end;\n    }\n    coordinatess.length = i;\n    return coordinatess;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>=} opt_coordinatesss\n   *     Coordinatesss.\n   * @return {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} Coordinatesss.\n   */\n  function inflateMultiCoordinatesArray(flatCoordinates, offset, endss, stride, opt_coordinatesss) {\n    var coordinatesss = opt_coordinatesss !== undefined ? opt_coordinatesss : [];\n    var i = 0;\n    for (var j = 0, jj = endss.length; j < jj; ++j) {\n      var ends = endss[j];\n      coordinatesss[i++] = inflateCoordinatesArray(\n        flatCoordinates, offset, ends, stride, coordinatesss[i]);\n      offset = ends[ends.length - 1];\n    }\n    coordinatesss.length = i;\n    return coordinatesss;\n  }\n\n  /**\n   * @module ol/geom/flat/simplify\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} squaredTolerance Squared tolerance.\n   * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n   *     coordinates.\n   * @param {number} simplifiedOffset Simplified offset.\n   * @return {number} Simplified offset.\n   */\n  function douglasPeucker(flatCoordinates, offset, end,\n    stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n    var n = (end - offset) / stride;\n    if (n < 3) {\n      for (; offset < end; offset += stride) {\n        simplifiedFlatCoordinates[simplifiedOffset++] =\n            flatCoordinates[offset];\n        simplifiedFlatCoordinates[simplifiedOffset++] =\n            flatCoordinates[offset + 1];\n      }\n      return simplifiedOffset;\n    }\n    /** @type {Array<number>} */\n    var markers = new Array(n);\n    markers[0] = 1;\n    markers[n - 1] = 1;\n    /** @type {Array<number>} */\n    var stack = [offset, end - stride];\n    var index = 0;\n    while (stack.length > 0) {\n      var last = stack.pop();\n      var first = stack.pop();\n      var maxSquaredDistance = 0;\n      var x1 = flatCoordinates[first];\n      var y1 = flatCoordinates[first + 1];\n      var x2 = flatCoordinates[last];\n      var y2 = flatCoordinates[last + 1];\n      for (var i = first + stride; i < last; i += stride) {\n        var x = flatCoordinates[i];\n        var y = flatCoordinates[i + 1];\n        var squaredDistance$$1 = squaredSegmentDistance(\n          x, y, x1, y1, x2, y2);\n        if (squaredDistance$$1 > maxSquaredDistance) {\n          index = i;\n          maxSquaredDistance = squaredDistance$$1;\n        }\n      }\n      if (maxSquaredDistance > squaredTolerance) {\n        markers[(index - offset) / stride] = 1;\n        if (first + stride < index) {\n          stack.push(first, index);\n        }\n        if (index + stride < last) {\n          stack.push(index, last);\n        }\n      }\n    }\n    for (var i$1 = 0; i$1 < n; ++i$1) {\n      if (markers[i$1]) {\n        simplifiedFlatCoordinates[simplifiedOffset++] =\n            flatCoordinates[offset + i$1 * stride];\n        simplifiedFlatCoordinates[simplifiedOffset++] =\n            flatCoordinates[offset + i$1 * stride + 1];\n      }\n    }\n    return simplifiedOffset;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} squaredTolerance Squared tolerance.\n   * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n   *     coordinates.\n   * @param {number} simplifiedOffset Simplified offset.\n   * @param {Array<number>} simplifiedEnds Simplified ends.\n   * @return {number} Simplified offset.\n   */\n  function douglasPeuckerArray(flatCoordinates, offset,\n    ends, stride, squaredTolerance, simplifiedFlatCoordinates,\n    simplifiedOffset, simplifiedEnds) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      simplifiedOffset = douglasPeucker(\n        flatCoordinates, offset, end, stride, squaredTolerance,\n        simplifiedFlatCoordinates, simplifiedOffset);\n      simplifiedEnds.push(simplifiedOffset);\n      offset = end;\n    }\n    return simplifiedOffset;\n  }\n\n\n  /**\n   * @param {number} value Value.\n   * @param {number} tolerance Tolerance.\n   * @return {number} Rounded value.\n   */\n  function snap(value, tolerance) {\n    return tolerance * Math.round(value / tolerance);\n  }\n\n\n  /**\n   * Simplifies a line string using an algorithm designed by Tim Schaub.\n   * Coordinates are snapped to the nearest value in a virtual grid and\n   * consecutive duplicate coordinates are discarded.  This effectively preserves\n   * topology as the simplification of any subsection of a line string is\n   * independent of the rest of the line string.  This means that, for examples,\n   * the common edge between two polygons will be simplified to the same line\n   * string independently in both polygons.  This implementation uses a single\n   * pass over the coordinates and eliminates intermediate collinear points.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} tolerance Tolerance.\n   * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n   *     coordinates.\n   * @param {number} simplifiedOffset Simplified offset.\n   * @return {number} Simplified offset.\n   */\n  function quantize(flatCoordinates, offset, end, stride,\n    tolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n    // do nothing if the line is empty\n    if (offset == end) {\n      return simplifiedOffset;\n    }\n    // snap the first coordinate (P1)\n    var x1 = snap(flatCoordinates[offset], tolerance);\n    var y1 = snap(flatCoordinates[offset + 1], tolerance);\n    offset += stride;\n    // add the first coordinate to the output\n    simplifiedFlatCoordinates[simplifiedOffset++] = x1;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y1;\n    // find the next coordinate that does not snap to the same value as the first\n    // coordinate (P2)\n    var x2, y2;\n    do {\n      x2 = snap(flatCoordinates[offset], tolerance);\n      y2 = snap(flatCoordinates[offset + 1], tolerance);\n      offset += stride;\n      if (offset == end) {\n        // all coordinates snap to the same value, the line collapses to a point\n        // push the last snapped value anyway to ensure that the output contains\n        // at least two points\n        // FIXME should we really return at least two points anyway?\n        simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n        simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n        return simplifiedOffset;\n      }\n    } while (x2 == x1 && y2 == y1);\n    while (offset < end) {\n      // snap the next coordinate (P3)\n      var x3 = snap(flatCoordinates[offset], tolerance);\n      var y3 = snap(flatCoordinates[offset + 1], tolerance);\n      offset += stride;\n      // skip P3 if it is equal to P2\n      if (x3 == x2 && y3 == y2) {\n        continue;\n      }\n      // calculate the delta between P1 and P2\n      var dx1 = x2 - x1;\n      var dy1 = y2 - y1;\n      // calculate the delta between P3 and P1\n      var dx2 = x3 - x1;\n      var dy2 = y3 - y1;\n      // if P1, P2, and P3 are colinear and P3 is further from P1 than P2 is from\n      // P1 in the same direction then P2 is on the straight line between P1 and\n      // P3\n      if ((dx1 * dy2 == dy1 * dx2) &&\n          ((dx1 < 0 && dx2 < dx1) || dx1 == dx2 || (dx1 > 0 && dx2 > dx1)) &&\n          ((dy1 < 0 && dy2 < dy1) || dy1 == dy2 || (dy1 > 0 && dy2 > dy1))) {\n        // discard P2 and set P2 = P3\n        x2 = x3;\n        y2 = y3;\n        continue;\n      }\n      // either P1, P2, and P3 are not colinear, or they are colinear but P3 is\n      // between P3 and P1 or on the opposite half of the line to P2.  add P2,\n      // and continue with P1 = P2 and P2 = P3\n      simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n      simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n      x1 = x2;\n      y1 = y2;\n      x2 = x3;\n      y2 = y3;\n    }\n    // add the last point (P2)\n    simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n    return simplifiedOffset;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} tolerance Tolerance.\n   * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n   *     coordinates.\n   * @param {number} simplifiedOffset Simplified offset.\n   * @param {Array<number>} simplifiedEnds Simplified ends.\n   * @return {number} Simplified offset.\n   */\n  function quantizeArray(\n    flatCoordinates, offset, ends, stride,\n    tolerance,\n    simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      simplifiedOffset = quantize(\n        flatCoordinates, offset, end, stride,\n        tolerance,\n        simplifiedFlatCoordinates, simplifiedOffset);\n      simplifiedEnds.push(simplifiedOffset);\n      offset = end;\n    }\n    return simplifiedOffset;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {number} tolerance Tolerance.\n   * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n   *     coordinates.\n   * @param {number} simplifiedOffset Simplified offset.\n   * @param {Array<Array<number>>} simplifiedEndss Simplified endss.\n   * @return {number} Simplified offset.\n   */\n  function quantizeMultiArray(\n    flatCoordinates, offset, endss, stride,\n    tolerance,\n    simplifiedFlatCoordinates, simplifiedOffset, simplifiedEndss) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      var simplifiedEnds = [];\n      simplifiedOffset = quantizeArray(\n        flatCoordinates, offset, ends, stride,\n        tolerance,\n        simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds);\n      simplifiedEndss.push(simplifiedEnds);\n      offset = ends[ends.length - 1];\n    }\n    return simplifiedOffset;\n  }\n\n  /**\n   * @module ol/geom/LinearRing\n   */\n\n  /**\n   * @classdesc\n   * Linear ring geometry. Only used as part of polygon; cannot be rendered\n   * on its own.\n   *\n   * @api\n   */\n  var LinearRing = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function LinearRing(coordinates, opt_layout) {\n\n      SimpleGeometry$$1.call(this);\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDelta_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDeltaRevision_ = -1;\n\n      if (opt_layout !== undefined && !Array.isArray(coordinates[0])) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n      } else {\n        this.setCoordinates(/** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n      }\n\n    }\n\n    if ( SimpleGeometry$$1 ) LinearRing.__proto__ = SimpleGeometry$$1;\n    LinearRing.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    LinearRing.prototype.constructor = LinearRing;\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!LinearRing} Clone.\n     * @override\n     * @api\n     */\n    LinearRing.prototype.clone = function clone$$1 () {\n      return new LinearRing(this.flatCoordinates.slice(), this.layout);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LinearRing.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      if (this.maxDeltaRevision_ != this.getRevision()) {\n        this.maxDelta_ = Math.sqrt(maxSquaredDelta(\n          this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0));\n        this.maxDeltaRevision_ = this.getRevision();\n      }\n      return assignClosestPoint(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n\n    /**\n     * Return the area of the linear ring on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    LinearRing.prototype.getArea = function getArea$$1 () {\n      return linearRing(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n\n    /**\n     * Return the coordinates of the linear ring.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @override\n     * @api\n     */\n    LinearRing.prototype.getCoordinates = function getCoordinates () {\n      return inflateCoordinates(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LinearRing.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      var simplifiedFlatCoordinates = [];\n      simplifiedFlatCoordinates.length = douglasPeucker(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        squaredTolerance, simplifiedFlatCoordinates, 0);\n      return new LinearRing(simplifiedFlatCoordinates, GeometryLayout.XY);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    LinearRing.prototype.getType = function getType () {\n      return GeometryType.LINEAR_RING;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LinearRing.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return false;\n    };\n\n    /**\n     * Set the coordinates of the linear ring.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    LinearRing.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 1);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      this.flatCoordinates.length = deflateCoordinates(\n        this.flatCoordinates, 0, coordinates, this.stride);\n      this.changed();\n    };\n\n    return LinearRing;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/geom/Point\n   */\n\n  /**\n   * @classdesc\n   * Point geometry.\n   *\n   * @api\n   */\n  var Point = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function Point(coordinates, opt_layout) {\n      SimpleGeometry$$1.call(this);\n      this.setCoordinates(coordinates, opt_layout);\n    }\n\n    if ( SimpleGeometry$$1 ) Point.__proto__ = SimpleGeometry$$1;\n    Point.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    Point.prototype.constructor = Point;\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!Point} Clone.\n     * @override\n     * @api\n     */\n    Point.prototype.clone = function clone$$1 () {\n      var point = new Point(this.flatCoordinates.slice(), this.layout);\n      return point;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Point.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      var flatCoordinates = this.flatCoordinates;\n      var squaredDistance$$1 = squaredDistance(x, y, flatCoordinates[0], flatCoordinates[1]);\n      if (squaredDistance$$1 < minSquaredDistance) {\n        var stride = this.stride;\n        for (var i = 0; i < stride; ++i) {\n          closestPoint[i] = flatCoordinates[i];\n        }\n        closestPoint.length = stride;\n        return squaredDistance$$1;\n      } else {\n        return minSquaredDistance;\n      }\n    };\n\n    /**\n     * Return the coordinate of the point.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinates.\n     * @override\n     * @api\n     */\n    Point.prototype.getCoordinates = function getCoordinates () {\n      return !this.flatCoordinates ? [] : this.flatCoordinates.slice();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Point.prototype.computeExtent = function computeExtent (extent) {\n      return createOrUpdateFromCoordinate(this.flatCoordinates, extent);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Point.prototype.getType = function getType () {\n      return GeometryType.POINT;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Point.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return containsXY(extent, this.flatCoordinates[0], this.flatCoordinates[1]);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Point.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 0);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      this.flatCoordinates.length = deflateCoordinate(\n        this.flatCoordinates, 0, coordinates, this.stride);\n      this.changed();\n    };\n\n    return Point;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/geom/flat/contains\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} Contains extent.\n   */\n  function linearRingContainsExtent(flatCoordinates, offset, end, stride, extent) {\n    var outside = forEachCorner(extent,\n      /**\n       * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n       * @return {boolean} Contains (x, y).\n       */\n      function(coordinate) {\n        return !linearRingContainsXY(flatCoordinates, offset, end, stride, coordinate[0], coordinate[1]);\n      });\n    return !outside;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {boolean} Contains (x, y).\n   */\n  function linearRingContainsXY(flatCoordinates, offset, end, stride, x, y) {\n    // http://geomalgorithms.com/a03-_inclusion.html\n    // Copyright 2000 softSurfer, 2012 Dan Sunday\n    // This code may be freely used and modified for any purpose\n    // providing that this copyright notice is included with it.\n    // SoftSurfer makes no warranty for this code, and cannot be held\n    // liable for any real or imagined damage resulting from its use.\n    // Users of this code must verify correctness for their application.\n    var wn = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n      var x2 = flatCoordinates[offset];\n      var y2 = flatCoordinates[offset + 1];\n      if (y1 <= y) {\n        if (y2 > y && ((x2 - x1) * (y - y1)) - ((x - x1) * (y2 - y1)) > 0) {\n          wn++;\n        }\n      } else if (y2 <= y && ((x2 - x1) * (y - y1)) - ((x - x1) * (y2 - y1)) < 0) {\n        wn--;\n      }\n      x1 = x2;\n      y1 = y2;\n    }\n    return wn !== 0;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {boolean} Contains (x, y).\n   */\n  function linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y) {\n    if (ends.length === 0) {\n      return false;\n    }\n    if (!linearRingContainsXY(flatCoordinates, offset, ends[0], stride, x, y)) {\n      return false;\n    }\n    for (var i = 1, ii = ends.length; i < ii; ++i) {\n      if (linearRingContainsXY(flatCoordinates, ends[i - 1], ends[i], stride, x, y)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {boolean} Contains (x, y).\n   */\n  function linearRingssContainsXY(flatCoordinates, offset, endss, stride, x, y) {\n    if (endss.length === 0) {\n      return false;\n    }\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n        return true;\n      }\n      offset = ends[ends.length - 1];\n    }\n    return false;\n  }\n\n  /**\n   * @module ol/geom/flat/interiorpoint\n   */\n\n\n  /**\n   * Calculates a point that is likely to lie in the interior of the linear rings.\n   * Inspired by JTS's com.vividsolutions.jts.geom.Geometry#getInteriorPoint.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {Array<number>} flatCenters Flat centers.\n   * @param {number} flatCentersOffset Flat center offset.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Destination point as XYM coordinate, where M is the\n   * length of the horizontal intersection that the point belongs to.\n   */\n  function getInteriorPointOfArray(flatCoordinates, offset,\n    ends, stride, flatCenters, flatCentersOffset, opt_dest) {\n    var i, ii, x, x1, x2, y1, y2;\n    var y = flatCenters[flatCentersOffset + 1];\n    /** @type {Array<number>} */\n    var intersections = [];\n    // Calculate intersections with the horizontal line\n    for (var r = 0, rr = ends.length; r < rr; ++r) {\n      var end = ends[r];\n      x1 = flatCoordinates[end - stride];\n      y1 = flatCoordinates[end - stride + 1];\n      for (i = offset; i < end; i += stride) {\n        x2 = flatCoordinates[i];\n        y2 = flatCoordinates[i + 1];\n        if ((y <= y1 && y2 <= y) || (y1 <= y && y <= y2)) {\n          x = (y - y1) / (y2 - y1) * (x2 - x1) + x1;\n          intersections.push(x);\n        }\n        x1 = x2;\n        y1 = y2;\n      }\n    }\n    // Find the longest segment of the horizontal line that has its center point\n    // inside the linear ring.\n    var pointX = NaN;\n    var maxSegmentLength = -Infinity;\n    intersections.sort(numberSafeCompareFunction);\n    x1 = intersections[0];\n    for (i = 1, ii = intersections.length; i < ii; ++i) {\n      x2 = intersections[i];\n      var segmentLength = Math.abs(x2 - x1);\n      if (segmentLength > maxSegmentLength) {\n        x = (x1 + x2) / 2;\n        if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n          pointX = x;\n          maxSegmentLength = segmentLength;\n        }\n      }\n      x1 = x2;\n    }\n    if (isNaN(pointX)) {\n      // There is no horizontal line that has its center point inside the linear\n      // ring.  Use the center of the the linear ring's extent.\n      pointX = flatCenters[flatCentersOffset];\n    }\n    if (opt_dest) {\n      opt_dest.push(pointX, y, maxSegmentLength);\n      return opt_dest;\n    } else {\n      return [pointX, y, maxSegmentLength];\n    }\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {Array<number>} flatCenters Flat centers.\n   * @return {Array<number>} Interior points as XYM coordinates, where M is the\n   * length of the horizontal intersection that the point belongs to.\n   */\n  function getInteriorPointsOfMultiArray(flatCoordinates, offset, endss, stride, flatCenters) {\n    var interiorPoints = [];\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      interiorPoints = getInteriorPointOfArray(flatCoordinates,\n        offset, ends, stride, flatCenters, 2 * i, interiorPoints);\n      offset = ends[ends.length - 1];\n    }\n    return interiorPoints;\n  }\n\n  /**\n   * @module ol/geom/flat/segments\n   */\n\n\n  /**\n   * This function calls `callback` for each segment of the flat coordinates\n   * array. If the callback returns a truthy value the function returns that\n   * value immediately. Otherwise the function returns `false`.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {function(this: S, import(\"../../coordinate.js\").Coordinate, import(\"../../coordinate.js\").Coordinate): T} callback Function\n   *     called for each segment.\n   * @param {S=} opt_this The object to be used as the value of 'this'\n   *     within callback.\n   * @return {T|boolean} Value.\n   * @template T,S\n   */\n  function forEach(flatCoordinates, offset, end, stride, callback, opt_this) {\n    var point1 = [flatCoordinates[offset], flatCoordinates[offset + 1]];\n    var point2 = [];\n    var ret;\n    for (; (offset + stride) < end; offset += stride) {\n      point2[0] = flatCoordinates[offset + stride];\n      point2[1] = flatCoordinates[offset + stride + 1];\n      ret = callback.call(opt_this, point1, point2);\n      if (ret) {\n        return ret;\n      }\n      point1[0] = point2[0];\n      point1[1] = point2[1];\n    }\n    return false;\n  }\n\n  /**\n   * @module ol/geom/flat/intersectsextent\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} True if the geometry and the extent intersect.\n   */\n  function intersectsLineString(flatCoordinates, offset, end, stride, extent) {\n    var coordinatesExtent = extendFlatCoordinates(\n      createEmpty(), flatCoordinates, offset, end, stride);\n    if (!intersects(extent, coordinatesExtent)) {\n      return false;\n    }\n    if (containsExtent(extent, coordinatesExtent)) {\n      return true;\n    }\n    if (coordinatesExtent[0] >= extent[0] &&\n        coordinatesExtent[2] <= extent[2]) {\n      return true;\n    }\n    if (coordinatesExtent[1] >= extent[1] &&\n        coordinatesExtent[3] <= extent[3]) {\n      return true;\n    }\n    return forEach(flatCoordinates, offset, end, stride,\n      /**\n       * @param {import(\"../../coordinate.js\").Coordinate} point1 Start point.\n       * @param {import(\"../../coordinate.js\").Coordinate} point2 End point.\n       * @return {boolean} `true` if the segment and the extent intersect,\n       *     `false` otherwise.\n       */\n      function(point1, point2) {\n        return intersectsSegment(extent, point1, point2);\n      });\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} True if the geometry and the extent intersect.\n   */\n  function intersectsLineStringArray(flatCoordinates, offset, ends, stride, extent) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      if (intersectsLineString(\n        flatCoordinates, offset, ends[i], stride, extent)) {\n        return true;\n      }\n      offset = ends[i];\n    }\n    return false;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} True if the geometry and the extent intersect.\n   */\n  function intersectsLinearRing(flatCoordinates, offset, end, stride, extent) {\n    if (intersectsLineString(\n      flatCoordinates, offset, end, stride, extent)) {\n      return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[0], extent[1])) {\n      return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[0], extent[3])) {\n      return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[2], extent[1])) {\n      return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[2], extent[3])) {\n      return true;\n    }\n    return false;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} True if the geometry and the extent intersect.\n   */\n  function intersectsLinearRingArray(flatCoordinates, offset, ends, stride, extent) {\n    if (!intersectsLinearRing(\n      flatCoordinates, offset, ends[0], stride, extent)) {\n      return false;\n    }\n    if (ends.length === 1) {\n      return true;\n    }\n    for (var i = 1, ii = ends.length; i < ii; ++i) {\n      if (linearRingContainsExtent(flatCoordinates, ends[i - 1], ends[i], stride, extent)) {\n        if (!intersectsLineString(flatCoordinates, ends[i - 1], ends[i], stride, extent)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @param {import(\"../../extent.js\").Extent} extent Extent.\n   * @return {boolean} True if the geometry and the extent intersect.\n   */\n  function intersectsLinearRingMultiArray(flatCoordinates, offset, endss, stride, extent) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      if (intersectsLinearRingArray(\n        flatCoordinates, offset, ends, stride, extent)) {\n        return true;\n      }\n      offset = ends[ends.length - 1];\n    }\n    return false;\n  }\n\n  /**\n   * @module ol/geom/flat/reverse\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   */\n  function coordinates(flatCoordinates, offset, end, stride) {\n    while (offset < end - stride) {\n      for (var i = 0; i < stride; ++i) {\n        var tmp = flatCoordinates[offset + i];\n        flatCoordinates[offset + i] = flatCoordinates[end - stride + i];\n        flatCoordinates[end - stride + i] = tmp;\n      }\n      offset += stride;\n      end -= stride;\n    }\n  }\n\n  /**\n   * @module ol/geom/flat/orient\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {boolean} Is clockwise.\n   */\n  function linearRingIsClockwise(flatCoordinates, offset, end, stride) {\n    // http://tinyurl.com/clockwise-method\n    // https://github.com/OSGeo/gdal/blob/trunk/gdal/ogr/ogrlinearring.cpp\n    var edge = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n      var x2 = flatCoordinates[offset];\n      var y2 = flatCoordinates[offset + 1];\n      edge += (x2 - x1) * (y2 + y1);\n      x1 = x2;\n      y1 = y2;\n    }\n    return edge > 0;\n  }\n\n\n  /**\n   * Determines if linear rings are oriented.  By default, left-hand orientation\n   * is tested (first ring must be clockwise, remaining rings counter-clockwise).\n   * To test for right-hand orientation, use the `opt_right` argument.\n   *\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Array of end indexes.\n   * @param {number} stride Stride.\n   * @param {boolean=} opt_right Test for right-hand orientation\n   *     (counter-clockwise exterior ring and clockwise interior rings).\n   * @return {boolean} Rings are correctly oriented.\n   */\n  function linearRingIsOriented(flatCoordinates, offset, ends, stride, opt_right) {\n    var right = opt_right !== undefined ? opt_right : false;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      var isClockwise = linearRingIsClockwise(\n        flatCoordinates, offset, end, stride);\n      if (i === 0) {\n        if ((right && isClockwise) || (!right && !isClockwise)) {\n          return false;\n        }\n      } else {\n        if ((right && !isClockwise) || (!right && isClockwise)) {\n          return false;\n        }\n      }\n      offset = end;\n    }\n    return true;\n  }\n\n\n  /**\n   * Determines if linear rings are oriented.  By default, left-hand orientation\n   * is tested (first ring must be clockwise, remaining rings counter-clockwise).\n   * To test for right-hand orientation, use the `opt_right` argument.\n   *\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Array of array of end indexes.\n   * @param {number} stride Stride.\n   * @param {boolean=} opt_right Test for right-hand orientation\n   *     (counter-clockwise exterior ring and clockwise interior rings).\n   * @return {boolean} Rings are correctly oriented.\n   */\n  function linearRingsAreOriented(flatCoordinates, offset, endss, stride, opt_right) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      if (!linearRingIsOriented(\n        flatCoordinates, offset, endss[i], stride, opt_right)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n\n  /**\n   * Orient coordinates in a flat array of linear rings.  By default, rings\n   * are oriented following the left-hand rule (clockwise for exterior and\n   * counter-clockwise for interior rings).  To orient according to the\n   * right-hand rule, use the `opt_right` argument.\n   *\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {boolean=} opt_right Follow the right-hand rule for orientation.\n   * @return {number} End.\n   */\n  function orientLinearRings(flatCoordinates, offset, ends, stride, opt_right) {\n    var right = opt_right !== undefined ? opt_right : false;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      var isClockwise = linearRingIsClockwise(\n        flatCoordinates, offset, end, stride);\n      var reverse = i === 0 ?\n        (right && isClockwise) || (!right && !isClockwise) :\n        (right && !isClockwise) || (!right && isClockwise);\n      if (reverse) {\n        coordinates(flatCoordinates, offset, end, stride);\n      }\n      offset = end;\n    }\n    return offset;\n  }\n\n\n  /**\n   * Orient coordinates in a flat array of linear rings.  By default, rings\n   * are oriented following the left-hand rule (clockwise for exterior and\n   * counter-clockwise for interior rings).  To orient according to the\n   * right-hand rule, use the `opt_right` argument.\n   *\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Array of array of end indexes.\n   * @param {number} stride Stride.\n   * @param {boolean=} opt_right Follow the right-hand rule for orientation.\n   * @return {number} End.\n   */\n  function orientLinearRingsArray(flatCoordinates, offset, endss, stride, opt_right) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      offset = orientLinearRings(\n        flatCoordinates, offset, endss[i], stride, opt_right);\n    }\n    return offset;\n  }\n\n  /**\n   * @module ol/geom/Polygon\n   */\n\n  /**\n   * @classdesc\n   * Polygon geometry.\n   *\n   * @api\n   */\n  var Polygon = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function Polygon(coordinates, opt_layout, opt_ends) {\n\n      SimpleGeometry$$1.call(this);\n\n      /**\n       * @type {Array<number>}\n       * @private\n       */\n      this.ends_ = [];\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.flatInteriorPointRevision_ = -1;\n\n      /**\n       * @private\n       * @type {import(\"../coordinate.js\").Coordinate}\n       */\n      this.flatInteriorPoint_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDelta_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDeltaRevision_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.orientedRevision_ = -1;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.orientedFlatCoordinates_ = null;\n\n      if (opt_layout !== undefined && opt_ends) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n        this.ends_ = opt_ends;\n      } else {\n        this.setCoordinates(/** @type {Array<Array<import(\"../coordinate.js\").Coordinate>>} */ (coordinates), opt_layout);\n      }\n\n    }\n\n    if ( SimpleGeometry$$1 ) Polygon.__proto__ = SimpleGeometry$$1;\n    Polygon.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    Polygon.prototype.constructor = Polygon;\n\n    /**\n     * Append the passed linear ring to this polygon.\n     * @param {LinearRing} linearRing Linear ring.\n     * @api\n     */\n    Polygon.prototype.appendLinearRing = function appendLinearRing (linearRing$$1) {\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = linearRing$$1.getFlatCoordinates().slice();\n      } else {\n        extend(this.flatCoordinates, linearRing$$1.getFlatCoordinates());\n      }\n      this.ends_.push(this.flatCoordinates.length);\n      this.changed();\n    };\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!Polygon} Clone.\n     * @override\n     * @api\n     */\n    Polygon.prototype.clone = function clone$$1 () {\n      return new Polygon(this.flatCoordinates.slice(), this.layout, this.ends_.slice());\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Polygon.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      if (this.maxDeltaRevision_ != this.getRevision()) {\n        this.maxDelta_ = Math.sqrt(arrayMaxSquaredDelta(\n          this.flatCoordinates, 0, this.ends_, this.stride, 0));\n        this.maxDeltaRevision_ = this.getRevision();\n      }\n      return assignClosestArrayPoint(\n        this.flatCoordinates, 0, this.ends_, this.stride,\n        this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Polygon.prototype.containsXY = function containsXY$$1 (x, y) {\n      return linearRingsContainsXY(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, x, y);\n    };\n\n    /**\n     * Return the area of the polygon on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    Polygon.prototype.getArea = function getArea$$1 () {\n      return linearRings(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride);\n    };\n\n    /**\n     * Get the coordinate array for this geometry.  This array has the structure\n     * of a GeoJSON coordinate array for polygons.\n     *\n     * @param {boolean=} opt_right Orient coordinates according to the right-hand\n     *     rule (counter-clockwise for exterior and clockwise for interior rings).\n     *     If `false`, coordinates will be oriented according to the left-hand rule\n     *     (clockwise for exterior and counter-clockwise for interior rings).\n     *     By default, coordinate orientation will depend on how the geometry was\n     *     constructed.\n     * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} Coordinates.\n     * @override\n     * @api\n     */\n    Polygon.prototype.getCoordinates = function getCoordinates (opt_right) {\n      var flatCoordinates;\n      if (opt_right !== undefined) {\n        flatCoordinates = this.getOrientedFlatCoordinates().slice();\n        orientLinearRings(\n          flatCoordinates, 0, this.ends_, this.stride, opt_right);\n      } else {\n        flatCoordinates = this.flatCoordinates;\n      }\n\n      return inflateCoordinatesArray(\n        flatCoordinates, 0, this.ends_, this.stride);\n    };\n\n    /**\n     * @return {Array<number>} Ends.\n     */\n    Polygon.prototype.getEnds = function getEnds () {\n      return this.ends_;\n    };\n\n    /**\n     * @return {Array<number>} Interior point.\n     */\n    Polygon.prototype.getFlatInteriorPoint = function getFlatInteriorPoint () {\n      if (this.flatInteriorPointRevision_ != this.getRevision()) {\n        var flatCenter = getCenter(this.getExtent());\n        this.flatInteriorPoint_ = getInteriorPointOfArray(\n          this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride,\n          flatCenter, 0);\n        this.flatInteriorPointRevision_ = this.getRevision();\n      }\n      return this.flatInteriorPoint_;\n    };\n\n    /**\n     * Return an interior point of the polygon.\n     * @return {Point} Interior point as XYM coordinate, where M is the\n     * length of the horizontal intersection that the point belongs to.\n     * @api\n     */\n    Polygon.prototype.getInteriorPoint = function getInteriorPoint () {\n      return new Point(this.getFlatInteriorPoint(), GeometryLayout.XYM);\n    };\n\n    /**\n     * Return the number of rings of the polygon,  this includes the exterior\n     * ring and any interior rings.\n     *\n     * @return {number} Number of rings.\n     * @api\n     */\n    Polygon.prototype.getLinearRingCount = function getLinearRingCount () {\n      return this.ends_.length;\n    };\n\n    /**\n     * Return the Nth linear ring of the polygon geometry. Return `null` if the\n     * given index is out of range.\n     * The exterior linear ring is available at index `0` and the interior rings\n     * at index `1` and beyond.\n     *\n     * @param {number} index Index.\n     * @return {LinearRing} Linear ring.\n     * @api\n     */\n    Polygon.prototype.getLinearRing = function getLinearRing (index) {\n      if (index < 0 || this.ends_.length <= index) {\n        return null;\n      }\n      return new LinearRing(this.flatCoordinates.slice(\n        index === 0 ? 0 : this.ends_[index - 1], this.ends_[index]), this.layout);\n    };\n\n    /**\n     * Return the linear rings of the polygon.\n     * @return {Array<LinearRing>} Linear rings.\n     * @api\n     */\n    Polygon.prototype.getLinearRings = function getLinearRings () {\n      var layout = this.layout;\n      var flatCoordinates = this.flatCoordinates;\n      var ends = this.ends_;\n      var linearRings$$1 = [];\n      var offset$$1 = 0;\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var linearRing$$1 = new LinearRing(flatCoordinates.slice(offset$$1, end), layout);\n        linearRings$$1.push(linearRing$$1);\n        offset$$1 = end;\n      }\n      return linearRings$$1;\n    };\n\n    /**\n     * @return {Array<number>} Oriented flat coordinates.\n     */\n    Polygon.prototype.getOrientedFlatCoordinates = function getOrientedFlatCoordinates () {\n      if (this.orientedRevision_ != this.getRevision()) {\n        var flatCoordinates = this.flatCoordinates;\n        if (linearRingIsOriented(\n          flatCoordinates, 0, this.ends_, this.stride)) {\n          this.orientedFlatCoordinates_ = flatCoordinates;\n        } else {\n          this.orientedFlatCoordinates_ = flatCoordinates.slice();\n          this.orientedFlatCoordinates_.length =\n              orientLinearRings(\n                this.orientedFlatCoordinates_, 0, this.ends_, this.stride);\n        }\n        this.orientedRevision_ = this.getRevision();\n      }\n      return this.orientedFlatCoordinates_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Polygon.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      var simplifiedFlatCoordinates = [];\n      var simplifiedEnds = [];\n      simplifiedFlatCoordinates.length = quantizeArray(\n        this.flatCoordinates, 0, this.ends_, this.stride,\n        Math.sqrt(squaredTolerance),\n        simplifiedFlatCoordinates, 0, simplifiedEnds);\n      return new Polygon(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEnds);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Polygon.prototype.getType = function getType () {\n      return GeometryType.POLYGON;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Polygon.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return intersectsLinearRingArray(\n        this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, extent);\n    };\n\n    /**\n     * Set the coordinates of the polygon.\n     * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    Polygon.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 2);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      var ends = deflateCoordinatesArray(\n        this.flatCoordinates, 0, coordinates, this.stride, this.ends_);\n      this.flatCoordinates.length = ends.length === 0 ? 0 : ends[ends.length - 1];\n      this.changed();\n    };\n\n    return Polygon;\n  }(SimpleGeometry));\n\n\n  /**\n   * Create a polygon from an extent. The layout used is `XY`.\n   * @param {import(\"../extent.js\").Extent} extent The extent.\n   * @return {Polygon} The polygon.\n   * @api\n   */\n  function fromExtent(extent) {\n    var minX = extent[0];\n    var minY = extent[1];\n    var maxX = extent[2];\n    var maxY = extent[3];\n    var flatCoordinates =\n        [minX, minY, minX, maxY, maxX, maxY, maxX, minY, minX, minY];\n    return new Polygon(flatCoordinates, GeometryLayout.XY, [flatCoordinates.length]);\n  }\n\n\n  /**\n   * Create a regular polygon from a circle.\n   * @param {import(\"./Circle.js\").default} circle Circle geometry.\n   * @param {number=} opt_sides Number of sides of the polygon. Default is 32.\n   * @param {number=} opt_angle Start angle for the first vertex of the polygon in\n   *     radians. Default is 0.\n   * @return {Polygon} Polygon geometry.\n   * @api\n   */\n  function fromCircle(circle, opt_sides, opt_angle) {\n    var sides = opt_sides ? opt_sides : 32;\n    var stride = circle.getStride();\n    var layout = circle.getLayout();\n    var center = circle.getCenter();\n    var arrayLength = stride * (sides + 1);\n    var flatCoordinates = new Array(arrayLength);\n    for (var i = 0; i < arrayLength; i += stride) {\n      flatCoordinates[i] = 0;\n      flatCoordinates[i + 1] = 0;\n      for (var j = 2; j < stride; j++) {\n        flatCoordinates[i + j] = center[j];\n      }\n    }\n    var ends = [flatCoordinates.length];\n    var polygon = new Polygon(flatCoordinates, layout, ends);\n    makeRegular(polygon, center, circle.getRadius(), opt_angle);\n    return polygon;\n  }\n\n\n  /**\n   * Modify the coordinates of a polygon to make it a regular polygon.\n   * @param {Polygon} polygon Polygon geometry.\n   * @param {import(\"../coordinate.js\").Coordinate} center Center of the regular polygon.\n   * @param {number} radius Radius of the regular polygon.\n   * @param {number=} opt_angle Start angle for the first vertex of the polygon in\n   *     radians. Default is 0.\n   */\n  function makeRegular(polygon, center, radius, opt_angle) {\n    var flatCoordinates = polygon.getFlatCoordinates();\n    var stride = polygon.getStride();\n    var sides = flatCoordinates.length / stride - 1;\n    var startAngle = opt_angle ? opt_angle : 0;\n    for (var i = 0; i <= sides; ++i) {\n      var offset$$1 = i * stride;\n      var angle = startAngle + (modulo(i, sides) * 2 * Math.PI / sides);\n      flatCoordinates[offset$$1] = center[0] + (radius * Math.cos(angle));\n      flatCoordinates[offset$$1 + 1] = center[1] + (radius * Math.sin(angle));\n    }\n    polygon.changed();\n  }\n\n  /**\n   * @module ol/View\n   */\n\n\n  /**\n   * An animation configuration\n   *\n   * @typedef {Object} Animation\n   * @property {import(\"./coordinate.js\").Coordinate} [sourceCenter]\n   * @property {import(\"./coordinate.js\").Coordinate} [targetCenter]\n   * @property {number} [sourceResolution]\n   * @property {number} [targetResolution]\n   * @property {number} [sourceRotation]\n   * @property {number} [targetRotation]\n   * @property {import(\"./coordinate.js\").Coordinate} [anchor]\n   * @property {number} start\n   * @property {number} duration\n   * @property {boolean} complete\n   * @property {function(number):number} easing\n   * @property {function(boolean)} callback\n   */\n\n\n  /**\n   * @typedef {Object} Constraints\n   * @property {import(\"./centerconstraint.js\").Type} center\n   * @property {import(\"./resolutionconstraint.js\").Type} resolution\n   * @property {import(\"./rotationconstraint.js\").Type} rotation\n   */\n\n\n  /**\n   * @typedef {Object} FitOptions\n   * @property {import(\"./size.js\").Size} [size] The size in pixels of the box to fit\n   * the extent into. Default is the current size of the first map in the DOM that\n   * uses this view, or `[100, 100]` if no such map is found.\n   * @property {!Array<number>} [padding=[0, 0, 0, 0]] Padding (in pixels) to be\n   * cleared inside the view. Values in the array are top, right, bottom and left\n   * padding.\n   * @property {boolean} [constrainResolution=true] Constrain the resolution.\n   * @property {boolean} [nearest=false] If `constrainResolution` is `true`, get\n   * the nearest extent instead of the closest that actually fits the view.\n   * @property {number} [minResolution=0] Minimum resolution that we zoom to.\n   * @property {number} [maxZoom] Maximum zoom level that we zoom to. If\n   * `minResolution` is given, this property is ignored.\n   * @property {number} [duration] The duration of the animation in milliseconds.\n   * By default, there is no animation to the target extent.\n   * @property {function(number):number} [easing] The easing function used during\n   * the animation (defaults to {@link module:ol/easing~inAndOut}).\n   * The function will be called for each frame with a number representing a\n   * fraction of the animation's duration.  The function should return a number\n   * between 0 and 1 representing the progress toward the destination state.\n   * @property {function(boolean)} [callback] Function called when the view is in\n   * its final position. The callback will be called with `true` if the animation\n   * series completed on its own or `false` if it was cancelled.\n   */\n\n\n  /**\n   * @typedef {Object} ViewOptions\n   * @property {import(\"./coordinate.js\").Coordinate} [center] The initial center for\n   * the view. The coordinate system for the center is specified with the\n   * `projection` option. Layer sources will not be fetched if this is not set,\n   * but the center can be set later with {@link #setCenter}.\n   * @property {boolean|number} [constrainRotation=true] Rotation constraint.\n   * `false` means no constraint. `true` means no constraint, but snap to zero\n   * near zero. A number constrains the rotation to that number of values. For\n   * example, `4` will constrain the rotation to 0, 90, 180, and 270 degrees.\n   * @property {boolean} [enableRotation=true] Enable rotation.\n   * If `false`, a rotation constraint that always sets the rotation to zero is\n   * used. The `constrainRotation` option has no effect if `enableRotation` is\n   * `false`.\n   * @property {import(\"./extent.js\").Extent} [extent] The extent that constrains the\n   * center, in other words, center cannot be set outside this extent.\n   * @property {number} [maxResolution] The maximum resolution used to determine\n   * the resolution constraint. It is used together with `minResolution` (or\n   * `maxZoom`) and `zoomFactor`. If unspecified it is calculated in such a way\n   * that the projection's validity extent fits in a 256x256 px tile. If the\n   * projection is Spherical Mercator (the default) then `maxResolution` defaults\n   * to `40075016.68557849 / 256 = 156543.03392804097`.\n   * @property {number} [minResolution] The minimum resolution used to determine\n   * the resolution constraint.  It is used together with `maxResolution` (or\n   * `minZoom`) and `zoomFactor`.  If unspecified it is calculated assuming 29\n   * zoom levels (with a factor of 2). If the projection is Spherical Mercator\n   * (the default) then `minResolution` defaults to\n   * `40075016.68557849 / 256 / Math.pow(2, 28) = 0.0005831682455839253`.\n   * @property {number} [maxZoom=28] The maximum zoom level used to determine the\n   * resolution constraint. It is used together with `minZoom` (or\n   * `maxResolution`) and `zoomFactor`.  Note that if `minResolution` is also\n   * provided, it is given precedence over `maxZoom`.\n   * @property {number} [minZoom=0] The minimum zoom level used to determine the\n   * resolution constraint. It is used together with `maxZoom` (or\n   * `minResolution`) and `zoomFactor`.  Note that if `maxResolution` is also\n   * provided, it is given precedence over `minZoom`.\n   * @property {import(\"./proj.js\").ProjectionLike} [projection='EPSG:3857'] The\n   * projection. The default is Spherical Mercator.\n   * @property {number} [resolution] The initial resolution for the view. The\n   * units are `projection` units per pixel (e.g. meters per pixel). An\n   * alternative to setting this is to set `zoom`. Layer sources will not be\n   * fetched if neither this nor `zoom` are defined, but they can be set later\n   * with {@link #setZoom} or {@link #setResolution}.\n   * @property {Array<number>} [resolutions] Resolutions to determine the\n   * resolution constraint. If set the `maxResolution`, `minResolution`,\n   * `minZoom`, `maxZoom`, and `zoomFactor` options are ignored.\n   * @property {number} [rotation=0] The initial rotation for the view in radians\n   * (positive rotation clockwise, 0 means North).\n   * @property {number} [zoom] Only used if `resolution` is not defined. Zoom\n   * level used to calculate the initial resolution for the view. The initial\n   * resolution is determined using the {@link #constrainResolution} method.\n   * @property {number} [zoomFactor=2] The zoom factor used to determine the\n   * resolution constraint.\n   */\n\n\n  /**\n   * @typedef {Object} AnimationOptions\n   * @property {import(\"./coordinate.js\").Coordinate} [center] The center of the view at the end of\n   * the animation.\n   * @property {number} [zoom] The zoom level of the view at the end of the\n   * animation. This takes precedence over `resolution`.\n   * @property {number} [resolution] The resolution of the view at the end\n   * of the animation.  If `zoom` is also provided, this option will be ignored.\n   * @property {number} [rotation] The rotation of the view at the end of\n   * the animation.\n   * @property {import(\"./coordinate.js\").Coordinate} [anchor] Optional anchor to remained fixed\n   * during a rotation or resolution animation.\n   * @property {number} [duration=1000] The duration of the animation in milliseconds.\n   * @property {function(number):number} [easing] The easing function used\n   * during the animation (defaults to {@link module:ol/easing~inAndOut}).\n   * The function will be called for each frame with a number representing a\n   * fraction of the animation's duration.  The function should return a number\n   * between 0 and 1 representing the progress toward the destination state.\n   */\n\n\n  /**\n   * @typedef {Object} State\n   * @property {import(\"./coordinate.js\").Coordinate} center\n   * @property {import(\"./proj/Projection.js\").default} projection\n   * @property {number} resolution\n   * @property {number} rotation\n   * @property {number} zoom\n   */\n\n\n  /**\n   * Default min zoom level for the map view.\n   * @type {number}\n   */\n  var DEFAULT_MIN_ZOOM = 0;\n\n\n  /**\n   * @classdesc\n   * A View object represents a simple 2D view of the map.\n   *\n   * This is the object to act upon to change the center, resolution,\n   * and rotation of the map.\n   *\n   * ### The view states\n   *\n   * An View is determined by three states: `center`, `resolution`,\n   * and `rotation`. Each state has a corresponding getter and setter, e.g.\n   * `getCenter` and `setCenter` for the `center` state.\n   *\n   * An View has a `projection`. The projection determines the\n   * coordinate system of the center, and its units determine the units of the\n   * resolution (projection units per pixel). The default projection is\n   * Spherical Mercator (EPSG:3857).\n   *\n   * ### The constraints\n   *\n   * `setCenter`, `setResolution` and `setRotation` can be used to change the\n   * states of the view. Any value can be passed to the setters. And the value\n   * that is passed to a setter will effectively be the value set in the view,\n   * and returned by the corresponding getter.\n   *\n   * But a View object also has a *resolution constraint*, a\n   * *rotation constraint* and a *center constraint*.\n   *\n   * As said above, no constraints are applied when the setters are used to set\n   * new states for the view. Applying constraints is done explicitly through\n   * the use of the `constrain*` functions (`constrainResolution` and\n   * `constrainRotation` and `constrainCenter`).\n   *\n   * The main users of the constraints are the interactions and the\n   * controls. For example, double-clicking on the map changes the view to\n   * the \"next\" resolution. And releasing the fingers after pinch-zooming\n   * snaps to the closest resolution (with an animation).\n   *\n   * The *resolution constraint* snaps to specific resolutions. It is\n   * determined by the following options: `resolutions`, `maxResolution`,\n   * `maxZoom`, and `zoomFactor`. If `resolutions` is set, the other three\n   * options are ignored. See documentation for each option for more\n   * information.\n   *\n   * The *rotation constraint* snaps to specific angles. It is determined\n   * by the following options: `enableRotation` and `constrainRotation`.\n   * By default the rotation value is snapped to zero when approaching the\n   * horizontal.\n   *\n   * The *center constraint* is determined by the `extent` option. By\n   * default the center is not constrained at all.\n   *\n    * @api\n   */\n  var View = /*@__PURE__*/(function (BaseObject$$1) {\n    function View(opt_options) {\n      BaseObject$$1.call(this);\n\n      var options = assign({}, opt_options);\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.hints_ = [0, 0];\n\n      /**\n       * @private\n       * @type {Array<Array<Animation>>}\n       */\n      this.animations_ = [];\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.updateAnimationKey_;\n\n      this.updateAnimations_ = this.updateAnimations_.bind(this);\n\n      /**\n       * @private\n       * @const\n       * @type {import(\"./proj/Projection.js\").default}\n       */\n      this.projection_ = createProjection(options.projection, 'EPSG:3857');\n\n      this.applyOptions_(options);\n    }\n\n    if ( BaseObject$$1 ) View.__proto__ = BaseObject$$1;\n    View.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    View.prototype.constructor = View;\n\n    /**\n     * Set up the view with the given options.\n     * @param {ViewOptions} options View options.\n     */\n    View.prototype.applyOptions_ = function applyOptions_ (options) {\n\n      /**\n       * @type {Object<string, *>}\n       */\n      var properties = {};\n      properties[ViewProperty.CENTER] = options.center !== undefined ?\n        options.center : null;\n\n      var resolutionConstraintInfo = createResolutionConstraint(options);\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxResolution_ = resolutionConstraintInfo.maxResolution;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.minResolution_ = resolutionConstraintInfo.minResolution;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.zoomFactor_ = resolutionConstraintInfo.zoomFactor;\n\n      /**\n       * @private\n       * @type {Array<number>|undefined}\n       */\n      this.resolutions_ = options.resolutions;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.minZoom_ = resolutionConstraintInfo.minZoom;\n\n      var centerConstraint = createCenterConstraint(options);\n      var resolutionConstraint = resolutionConstraintInfo.constraint;\n      var rotationConstraint = createRotationConstraint(options);\n\n      /**\n       * @private\n       * @type {Constraints}\n       */\n      this.constraints_ = {\n        center: centerConstraint,\n        resolution: resolutionConstraint,\n        rotation: rotationConstraint\n      };\n\n      if (options.resolution !== undefined) {\n        properties[ViewProperty.RESOLUTION] = options.resolution;\n      } else if (options.zoom !== undefined) {\n        properties[ViewProperty.RESOLUTION] = this.constrainResolution(\n          this.maxResolution_, options.zoom - this.minZoom_);\n\n        if (this.resolutions_) { // in case map zoom is out of min/max zoom range\n          properties[ViewProperty.RESOLUTION] = clamp(\n            Number(this.getResolution() || properties[ViewProperty.RESOLUTION]),\n            this.minResolution_, this.maxResolution_);\n        }\n      }\n      properties[ViewProperty.ROTATION] = options.rotation !== undefined ? options.rotation : 0;\n      this.setProperties(properties);\n\n      /**\n       * @private\n       * @type {ViewOptions}\n       */\n      this.options_ = options;\n\n    };\n\n    /**\n     * Get an updated version of the view options used to construct the view.  The\n     * current resolution (or zoom), center, and rotation are applied to any stored\n     * options.  The provided options can be used to apply new min/max zoom or\n     * resolution limits.\n     * @param {ViewOptions} newOptions New options to be applied.\n     * @return {ViewOptions} New options updated with the current view state.\n     */\n    View.prototype.getUpdatedOptions_ = function getUpdatedOptions_ (newOptions) {\n      var options = assign({}, this.options_);\n\n      // preserve resolution (or zoom)\n      if (options.resolution !== undefined) {\n        options.resolution = this.getResolution();\n      } else {\n        options.zoom = this.getZoom();\n      }\n\n      // preserve center\n      options.center = this.getCenter();\n\n      // preserve rotation\n      options.rotation = this.getRotation();\n\n      return assign({}, options, newOptions);\n    };\n\n    /**\n     * Animate the view.  The view's center, zoom (or resolution), and rotation\n     * can be animated for smooth transitions between view states.  For example,\n     * to animate the view to a new zoom level:\n     *\n     *     view.animate({zoom: view.getZoom() + 1});\n     *\n     * By default, the animation lasts one second and uses in-and-out easing.  You\n     * can customize this behavior by including `duration` (in milliseconds) and\n     * `easing` options (see {@link module:ol/easing}).\n     *\n     * To chain together multiple animations, call the method with multiple\n     * animation objects.  For example, to first zoom and then pan:\n     *\n     *     view.animate({zoom: 10}, {center: [0, 0]});\n     *\n     * If you provide a function as the last argument to the animate method, it\n     * will get called at the end of an animation series.  The callback will be\n     * called with `true` if the animation series completed on its own or `false`\n     * if it was cancelled.\n     *\n     * Animations are cancelled by user interactions (e.g. dragging the map) or by\n     * calling `view.setCenter()`, `view.setResolution()`, or `view.setRotation()`\n     * (or another method that calls one of these).\n     *\n     * @param {...(AnimationOptions|function(boolean))} var_args Animation\n     *     options.  Multiple animations can be run in series by passing multiple\n     *     options objects.  To run multiple animations in parallel, call the method\n     *     multiple times.  An optional callback can be provided as a final\n     *     argument.  The callback will be called with a boolean indicating whether\n     *     the animation completed without being cancelled.\n     * @api\n     */\n    View.prototype.animate = function animate (var_args) {\n      var arguments$1 = arguments;\n\n      var animationCount = arguments.length;\n      var callback;\n      if (animationCount > 1 && typeof arguments[animationCount - 1] === 'function') {\n        callback = arguments[animationCount - 1];\n        --animationCount;\n      }\n      if (!this.isDef()) {\n        // if view properties are not yet set, shortcut to the final state\n        var state = arguments[animationCount - 1];\n        if (state.center) {\n          this.setCenter(state.center);\n        }\n        if (state.zoom !== undefined) {\n          this.setZoom(state.zoom);\n        }\n        if (state.rotation !== undefined) {\n          this.setRotation(state.rotation);\n        }\n        if (callback) {\n          animationCallback(callback, true);\n        }\n        return;\n      }\n      var start = Date.now();\n      var center = this.getCenter().slice();\n      var resolution = this.getResolution();\n      var rotation = this.getRotation();\n      var series = [];\n      for (var i = 0; i < animationCount; ++i) {\n        var options = /** @type {AnimationOptions} */ (arguments$1[i]);\n\n        var animation = /** @type {Animation} */ ({\n          start: start,\n          complete: false,\n          anchor: options.anchor,\n          duration: options.duration !== undefined ? options.duration : 1000,\n          easing: options.easing || inAndOut\n        });\n\n        if (options.center) {\n          animation.sourceCenter = center;\n          animation.targetCenter = options.center;\n          center = animation.targetCenter;\n        }\n\n        if (options.zoom !== undefined) {\n          animation.sourceResolution = resolution;\n          animation.targetResolution = this.constrainResolution(\n            this.maxResolution_, options.zoom - this.minZoom_, 0);\n          resolution = animation.targetResolution;\n        } else if (options.resolution) {\n          animation.sourceResolution = resolution;\n          animation.targetResolution = options.resolution;\n          resolution = animation.targetResolution;\n        }\n\n        if (options.rotation !== undefined) {\n          animation.sourceRotation = rotation;\n          var delta = modulo(options.rotation - rotation + Math.PI, 2 * Math.PI) - Math.PI;\n          animation.targetRotation = rotation + delta;\n          rotation = animation.targetRotation;\n        }\n\n        animation.callback = callback;\n\n        // check if animation is a no-op\n        if (isNoopAnimation(animation)) {\n          animation.complete = true;\n          // we still push it onto the series for callback handling\n        } else {\n          start += animation.duration;\n        }\n        series.push(animation);\n      }\n      this.animations_.push(series);\n      this.setHint(ViewHint.ANIMATING, 1);\n      this.updateAnimations_();\n    };\n\n    /**\n     * Determine if the view is being animated.\n     * @return {boolean} The view is being animated.\n     * @api\n     */\n    View.prototype.getAnimating = function getAnimating () {\n      return this.hints_[ViewHint.ANIMATING] > 0;\n    };\n\n    /**\n     * Determine if the user is interacting with the view, such as panning or zooming.\n     * @return {boolean} The view is being interacted with.\n     * @api\n     */\n    View.prototype.getInteracting = function getInteracting () {\n      return this.hints_[ViewHint.INTERACTING] > 0;\n    };\n\n    /**\n     * Cancel any ongoing animations.\n     * @api\n     */\n    View.prototype.cancelAnimations = function cancelAnimations () {\n      this.setHint(ViewHint.ANIMATING, -this.hints_[ViewHint.ANIMATING]);\n      for (var i = 0, ii = this.animations_.length; i < ii; ++i) {\n        var series = this.animations_[i];\n        if (series[0].callback) {\n          animationCallback(series[0].callback, false);\n        }\n      }\n      this.animations_.length = 0;\n    };\n\n    /**\n     * Update all animations.\n     */\n    View.prototype.updateAnimations_ = function updateAnimations_ () {\n      if (this.updateAnimationKey_ !== undefined) {\n        cancelAnimationFrame(this.updateAnimationKey_);\n        this.updateAnimationKey_ = undefined;\n      }\n      if (!this.getAnimating()) {\n        return;\n      }\n      var now = Date.now();\n      var more = false;\n      for (var i = this.animations_.length - 1; i >= 0; --i) {\n        var series = this.animations_[i];\n        var seriesComplete = true;\n        for (var j = 0, jj = series.length; j < jj; ++j) {\n          var animation = series[j];\n          if (animation.complete) {\n            continue;\n          }\n          var elapsed = now - animation.start;\n          var fraction = animation.duration > 0 ? elapsed / animation.duration : 1;\n          if (fraction >= 1) {\n            animation.complete = true;\n            fraction = 1;\n          } else {\n            seriesComplete = false;\n          }\n          var progress = animation.easing(fraction);\n          if (animation.sourceCenter) {\n            var x0 = animation.sourceCenter[0];\n            var y0 = animation.sourceCenter[1];\n            var x1 = animation.targetCenter[0];\n            var y1 = animation.targetCenter[1];\n            var x = x0 + progress * (x1 - x0);\n            var y = y0 + progress * (y1 - y0);\n            this.set(ViewProperty.CENTER, [x, y]);\n          }\n          if (animation.sourceResolution && animation.targetResolution) {\n            var resolution = progress === 1 ?\n              animation.targetResolution :\n              animation.sourceResolution + progress * (animation.targetResolution - animation.sourceResolution);\n            if (animation.anchor) {\n              this.set(ViewProperty.CENTER,\n                this.calculateCenterZoom(resolution, animation.anchor));\n            }\n            this.set(ViewProperty.RESOLUTION, resolution);\n          }\n          if (animation.sourceRotation !== undefined && animation.targetRotation !== undefined) {\n            var rotation = progress === 1 ?\n              modulo(animation.targetRotation + Math.PI, 2 * Math.PI) - Math.PI :\n              animation.sourceRotation + progress * (animation.targetRotation - animation.sourceRotation);\n            if (animation.anchor) {\n              this.set(ViewProperty.CENTER,\n                this.calculateCenterRotate(rotation, animation.anchor));\n            }\n            this.set(ViewProperty.ROTATION, rotation);\n          }\n          more = true;\n          if (!animation.complete) {\n            break;\n          }\n        }\n        if (seriesComplete) {\n          this.animations_[i] = null;\n          this.setHint(ViewHint.ANIMATING, -1);\n          var callback = series[0].callback;\n          if (callback) {\n            animationCallback(callback, true);\n          }\n        }\n      }\n      // prune completed series\n      this.animations_ = this.animations_.filter(Boolean);\n      if (more && this.updateAnimationKey_ === undefined) {\n        this.updateAnimationKey_ = requestAnimationFrame(this.updateAnimations_);\n      }\n    };\n\n    /**\n     * @param {number} rotation Target rotation.\n     * @param {import(\"./coordinate.js\").Coordinate} anchor Rotation anchor.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center for rotation and anchor.\n     */\n    View.prototype.calculateCenterRotate = function calculateCenterRotate (rotation, anchor) {\n      var center;\n      var currentCenter = this.getCenter();\n      if (currentCenter !== undefined) {\n        center = [currentCenter[0] - anchor[0], currentCenter[1] - anchor[1]];\n        rotate(center, rotation - this.getRotation());\n        add(center, anchor);\n      }\n      return center;\n    };\n\n    /**\n     * @param {number} resolution Target resolution.\n     * @param {import(\"./coordinate.js\").Coordinate} anchor Zoom anchor.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center for resolution and anchor.\n     */\n    View.prototype.calculateCenterZoom = function calculateCenterZoom (resolution, anchor) {\n      var center;\n      var currentCenter = this.getCenter();\n      var currentResolution = this.getResolution();\n      if (currentCenter !== undefined && currentResolution !== undefined) {\n        var x = anchor[0] - resolution * (anchor[0] - currentCenter[0]) / currentResolution;\n        var y = anchor[1] - resolution * (anchor[1] - currentCenter[1]) / currentResolution;\n        center = [x, y];\n      }\n      return center;\n    };\n\n    /**\n     * @private\n     * @return {import(\"./size.js\").Size} Viewport size or `[100, 100]` when no viewport is found.\n     */\n    View.prototype.getSizeFromViewport_ = function getSizeFromViewport_ () {\n      var size = [100, 100];\n      var selector = '.ol-viewport[data-view=\"' + getUid(this) + '\"]';\n      var element = document.querySelector(selector);\n      if (element) {\n        var metrics = getComputedStyle(element);\n        size[0] = parseInt(metrics.width, 10);\n        size[1] = parseInt(metrics.height, 10);\n      }\n      return size;\n    };\n\n    /**\n     * Get the constrained center of this view.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center Center.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Constrained center.\n     * @api\n     */\n    View.prototype.constrainCenter = function constrainCenter (center) {\n      return this.constraints_.center(center);\n    };\n\n    /**\n     * Get the constrained resolution of this view.\n     * @param {number|undefined} resolution Resolution.\n     * @param {number=} opt_delta Delta. Default is `0`.\n     * @param {number=} opt_direction Direction. Default is `0`.\n     * @return {number|undefined} Constrained resolution.\n     * @api\n     */\n    View.prototype.constrainResolution = function constrainResolution (resolution, opt_delta, opt_direction) {\n      var delta = opt_delta || 0;\n      var direction = opt_direction || 0;\n      return this.constraints_.resolution(resolution, delta, direction);\n    };\n\n    /**\n     * Get the constrained rotation of this view.\n     * @param {number|undefined} rotation Rotation.\n     * @param {number=} opt_delta Delta. Default is `0`.\n     * @return {number|undefined} Constrained rotation.\n     * @api\n     */\n    View.prototype.constrainRotation = function constrainRotation (rotation, opt_delta) {\n      var delta = opt_delta || 0;\n      return this.constraints_.rotation(rotation, delta);\n    };\n\n    /**\n     * Get the view center.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} The center of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.getCenter = function getCenter$$1 () {\n      return (\n        /** @type {import(\"./coordinate.js\").Coordinate|undefined} */ (this.get(ViewProperty.CENTER))\n      );\n    };\n\n    /**\n     * @return {Constraints} Constraints.\n     */\n    View.prototype.getConstraints = function getConstraints () {\n      return this.constraints_;\n    };\n\n    /**\n     * @param {Array<number>=} opt_hints Destination array.\n     * @return {Array<number>} Hint.\n     */\n    View.prototype.getHints = function getHints (opt_hints) {\n      if (opt_hints !== undefined) {\n        opt_hints[0] = this.hints_[0];\n        opt_hints[1] = this.hints_[1];\n        return opt_hints;\n      } else {\n        return this.hints_.slice();\n      }\n    };\n\n    /**\n     * Calculate the extent for the current view state and the passed size.\n     * The size is the pixel dimensions of the box into which the calculated extent\n     * should fit. In most cases you want to get the extent of the entire map,\n     * that is `map.getSize()`.\n     * @param {import(\"./size.js\").Size=} opt_size Box pixel size. If not provided, the size of the\n     * first map that uses this view will be used.\n     * @return {import(\"./extent.js\").Extent} Extent.\n     * @api\n     */\n    View.prototype.calculateExtent = function calculateExtent (opt_size) {\n      var size = opt_size || this.getSizeFromViewport_();\n      var center = /** @type {!import(\"./coordinate.js\").Coordinate} */ (this.getCenter());\n      assert(center, 1); // The view center is not defined\n      var resolution = /** @type {!number} */ (this.getResolution());\n      assert(resolution !== undefined, 2); // The view resolution is not defined\n      var rotation = /** @type {!number} */ (this.getRotation());\n      assert(rotation !== undefined, 3); // The view rotation is not defined\n\n      return getForViewAndSize(center, resolution, rotation, size);\n    };\n\n    /**\n     * Get the maximum resolution of the view.\n     * @return {number} The maximum resolution of the view.\n     * @api\n     */\n    View.prototype.getMaxResolution = function getMaxResolution () {\n      return this.maxResolution_;\n    };\n\n    /**\n     * Get the minimum resolution of the view.\n     * @return {number} The minimum resolution of the view.\n     * @api\n     */\n    View.prototype.getMinResolution = function getMinResolution () {\n      return this.minResolution_;\n    };\n\n    /**\n     * Get the maximum zoom level for the view.\n     * @return {number} The maximum zoom level.\n     * @api\n     */\n    View.prototype.getMaxZoom = function getMaxZoom () {\n      return /** @type {number} */ (this.getZoomForResolution(this.minResolution_));\n    };\n\n    /**\n     * Set a new maximum zoom level for the view.\n     * @param {number} zoom The maximum zoom level.\n     * @api\n     */\n    View.prototype.setMaxZoom = function setMaxZoom (zoom) {\n      this.applyOptions_(this.getUpdatedOptions_({maxZoom: zoom}));\n    };\n\n    /**\n     * Get the minimum zoom level for the view.\n     * @return {number} The minimum zoom level.\n     * @api\n     */\n    View.prototype.getMinZoom = function getMinZoom () {\n      return /** @type {number} */ (this.getZoomForResolution(this.maxResolution_));\n    };\n\n    /**\n     * Set a new minimum zoom level for the view.\n     * @param {number} zoom The minimum zoom level.\n     * @api\n     */\n    View.prototype.setMinZoom = function setMinZoom (zoom) {\n      this.applyOptions_(this.getUpdatedOptions_({minZoom: zoom}));\n    };\n\n    /**\n     * Get the view projection.\n     * @return {import(\"./proj/Projection.js\").default} The projection of the view.\n     * @api\n     */\n    View.prototype.getProjection = function getProjection () {\n      return this.projection_;\n    };\n\n    /**\n     * Get the view resolution.\n     * @return {number|undefined} The resolution of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.getResolution = function getResolution () {\n      return /** @type {number|undefined} */ (this.get(ViewProperty.RESOLUTION));\n    };\n\n    /**\n     * Get the resolutions for the view. This returns the array of resolutions\n     * passed to the constructor of the View, or undefined if none were given.\n     * @return {Array<number>|undefined} The resolutions of the view.\n     * @api\n     */\n    View.prototype.getResolutions = function getResolutions () {\n      return this.resolutions_;\n    };\n\n    /**\n     * Get the resolution for a provided extent (in map units) and size (in pixels).\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {import(\"./size.js\").Size=} opt_size Box pixel size.\n     * @return {number} The resolution at which the provided extent will render at\n     *     the given size.\n     * @api\n     */\n    View.prototype.getResolutionForExtent = function getResolutionForExtent (extent, opt_size) {\n      var size = opt_size || this.getSizeFromViewport_();\n      var xResolution = getWidth(extent) / size[0];\n      var yResolution = getHeight(extent) / size[1];\n      return Math.max(xResolution, yResolution);\n    };\n\n    /**\n     * Return a function that returns a value between 0 and 1 for a\n     * resolution. Exponential scaling is assumed.\n     * @param {number=} opt_power Power.\n     * @return {function(number): number} Resolution for value function.\n     */\n    View.prototype.getResolutionForValueFunction = function getResolutionForValueFunction (opt_power) {\n      var power = opt_power || 2;\n      var maxResolution = this.maxResolution_;\n      var minResolution = this.minResolution_;\n      var max = Math.log(maxResolution / minResolution) / Math.log(power);\n      return (\n        /**\n         * @param {number} value Value.\n         * @return {number} Resolution.\n         */\n        function(value) {\n          var resolution = maxResolution / Math.pow(power, value * max);\n          return resolution;\n        });\n    };\n\n    /**\n     * Get the view rotation.\n     * @return {number} The rotation of the view in radians.\n     * @observable\n     * @api\n     */\n    View.prototype.getRotation = function getRotation () {\n      return /** @type {number} */ (this.get(ViewProperty.ROTATION));\n    };\n\n    /**\n     * Return a function that returns a resolution for a value between\n     * 0 and 1. Exponential scaling is assumed.\n     * @param {number=} opt_power Power.\n     * @return {function(number): number} Value for resolution function.\n     */\n    View.prototype.getValueForResolutionFunction = function getValueForResolutionFunction (opt_power) {\n      var power = opt_power || 2;\n      var maxResolution = this.maxResolution_;\n      var minResolution = this.minResolution_;\n      var max = Math.log(maxResolution / minResolution) / Math.log(power);\n      return (\n        /**\n         * @param {number} resolution Resolution.\n         * @return {number} Value.\n         */\n        function(resolution) {\n          var value = (Math.log(maxResolution / resolution) / Math.log(power)) / max;\n          return value;\n        });\n    };\n\n    /**\n     * @param {number} pixelRatio Pixel ratio for center rounding.\n     * @return {State} View state.\n     */\n    View.prototype.getState = function getState (pixelRatio) {\n      var center = /** @type {import(\"./coordinate.js\").Coordinate} */ (this.getCenter());\n      var projection = this.getProjection();\n      var resolution = /** @type {number} */ (this.getResolution());\n      var pixelResolution = resolution / pixelRatio;\n      var rotation = this.getRotation();\n      return (\n        /** @type {State} */ ({\n          center: [\n            Math.round(center[0] / pixelResolution) * pixelResolution,\n            Math.round(center[1] / pixelResolution) * pixelResolution\n          ],\n          projection: projection !== undefined ? projection : null,\n          resolution: resolution,\n          rotation: rotation,\n          zoom: this.getZoom()\n        })\n      );\n    };\n\n    /**\n     * Get the current zoom level.  If you configured your view with a resolutions\n     * array (this is rare), this method may return non-integer zoom levels (so\n     * the zoom level is not safe to use as an index into a resolutions array).\n     * @return {number|undefined} Zoom.\n     * @api\n     */\n    View.prototype.getZoom = function getZoom () {\n      var zoom;\n      var resolution = this.getResolution();\n      if (resolution !== undefined) {\n        zoom = this.getZoomForResolution(resolution);\n      }\n      return zoom;\n    };\n\n    /**\n     * Get the zoom level for a resolution.\n     * @param {number} resolution The resolution.\n     * @return {number|undefined} The zoom level for the provided resolution.\n     * @api\n     */\n    View.prototype.getZoomForResolution = function getZoomForResolution (resolution) {\n      var offset = this.minZoom_ || 0;\n      var max, zoomFactor;\n      if (this.resolutions_) {\n        var nearest = linearFindNearest(this.resolutions_, resolution, 1);\n        offset = nearest;\n        max = this.resolutions_[nearest];\n        if (nearest == this.resolutions_.length - 1) {\n          zoomFactor = 2;\n        } else {\n          zoomFactor = max / this.resolutions_[nearest + 1];\n        }\n      } else {\n        max = this.maxResolution_;\n        zoomFactor = this.zoomFactor_;\n      }\n      return offset + Math.log(max / resolution) / Math.log(zoomFactor);\n    };\n\n    /**\n     * Get the resolution for a zoom level.\n     * @param {number} zoom Zoom level.\n     * @return {number} The view resolution for the provided zoom level.\n     * @api\n     */\n    View.prototype.getResolutionForZoom = function getResolutionForZoom (zoom) {\n      return /** @type {number} */ (this.constrainResolution(\n        this.maxResolution_, zoom - this.minZoom_, 0));\n    };\n\n    /**\n     * Fit the given geometry or extent based on the given map size and border.\n     * The size is pixel dimensions of the box to fit the extent into.\n     * In most cases you will want to use the map size, that is `map.getSize()`.\n     * Takes care of the map angle.\n     * @param {import(\"./geom/SimpleGeometry.js\").default|import(\"./extent.js\").Extent} geometryOrExtent The geometry or\n     *     extent to fit the view to.\n     * @param {FitOptions=} opt_options Options.\n     * @api\n     */\n    View.prototype.fit = function fit (geometryOrExtent, opt_options) {\n      var options = opt_options || {};\n      var size = options.size;\n      if (!size) {\n        size = this.getSizeFromViewport_();\n      }\n      /** @type {import(\"./geom/SimpleGeometry.js\").default} */\n      var geometry;\n      assert(Array.isArray(geometryOrExtent) || typeof /** @type {?} */ (geometryOrExtent).getSimplifiedGeometry === 'function',\n        24); // Invalid extent or geometry provided as `geometry`\n      if (Array.isArray(geometryOrExtent)) {\n        assert(!isEmpty$1(geometryOrExtent),\n          25); // Cannot fit empty extent provided as `geometry`\n        geometry = fromExtent(geometryOrExtent);\n      } else if (geometryOrExtent.getType() === GeometryType.CIRCLE) {\n        geometryOrExtent = geometryOrExtent.getExtent();\n        geometry = fromExtent(geometryOrExtent);\n        geometry.rotate(this.getRotation(), getCenter(geometryOrExtent));\n      } else {\n        geometry = geometryOrExtent;\n      }\n\n      var padding = options.padding !== undefined ? options.padding : [0, 0, 0, 0];\n      var constrainResolution = options.constrainResolution !== undefined ?\n        options.constrainResolution : true;\n      var nearest = options.nearest !== undefined ? options.nearest : false;\n      var minResolution;\n      if (options.minResolution !== undefined) {\n        minResolution = options.minResolution;\n      } else if (options.maxZoom !== undefined) {\n        minResolution = this.constrainResolution(\n          this.maxResolution_, options.maxZoom - this.minZoom_, 0);\n      } else {\n        minResolution = 0;\n      }\n      var coords = geometry.getFlatCoordinates();\n\n      // calculate rotated extent\n      var rotation = this.getRotation();\n      var cosAngle = Math.cos(-rotation);\n      var sinAngle = Math.sin(-rotation);\n      var minRotX = +Infinity;\n      var minRotY = +Infinity;\n      var maxRotX = -Infinity;\n      var maxRotY = -Infinity;\n      var stride = geometry.getStride();\n      for (var i = 0, ii = coords.length; i < ii; i += stride) {\n        var rotX = coords[i] * cosAngle - coords[i + 1] * sinAngle;\n        var rotY = coords[i] * sinAngle + coords[i + 1] * cosAngle;\n        minRotX = Math.min(minRotX, rotX);\n        minRotY = Math.min(minRotY, rotY);\n        maxRotX = Math.max(maxRotX, rotX);\n        maxRotY = Math.max(maxRotY, rotY);\n      }\n\n      // calculate resolution\n      var resolution = this.getResolutionForExtent(\n        [minRotX, minRotY, maxRotX, maxRotY],\n        [size[0] - padding[1] - padding[3], size[1] - padding[0] - padding[2]]);\n      resolution = isNaN(resolution) ? minResolution :\n        Math.max(resolution, minResolution);\n      if (constrainResolution) {\n        var constrainedResolution = this.constrainResolution(resolution, 0, 0);\n        if (!nearest && constrainedResolution < resolution) {\n          constrainedResolution = this.constrainResolution(\n            constrainedResolution, -1, 0);\n        }\n        resolution = constrainedResolution;\n      }\n\n      // calculate center\n      sinAngle = -sinAngle; // go back to original rotation\n      var centerRotX = (minRotX + maxRotX) / 2;\n      var centerRotY = (minRotY + maxRotY) / 2;\n      centerRotX += (padding[1] - padding[3]) / 2 * resolution;\n      centerRotY += (padding[0] - padding[2]) / 2 * resolution;\n      var centerX = centerRotX * cosAngle - centerRotY * sinAngle;\n      var centerY = centerRotY * cosAngle + centerRotX * sinAngle;\n      var center = [centerX, centerY];\n      var callback = options.callback ? options.callback : VOID;\n\n      if (options.duration !== undefined) {\n        this.animate({\n          resolution: resolution,\n          center: center,\n          duration: options.duration,\n          easing: options.easing\n        }, callback);\n      } else {\n        this.setResolution(resolution);\n        this.setCenter(center);\n        animationCallback(callback, true);\n      }\n    };\n\n    /**\n     * Center on coordinate and view position.\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"./size.js\").Size} size Box pixel size.\n     * @param {import(\"./pixel.js\").Pixel} position Position on the view to center on.\n     * @api\n     */\n    View.prototype.centerOn = function centerOn (coordinate, size, position) {\n      // calculate rotated position\n      var rotation = this.getRotation();\n      var cosAngle = Math.cos(-rotation);\n      var sinAngle = Math.sin(-rotation);\n      var rotX = coordinate[0] * cosAngle - coordinate[1] * sinAngle;\n      var rotY = coordinate[1] * cosAngle + coordinate[0] * sinAngle;\n      var resolution = this.getResolution();\n      rotX += (size[0] / 2 - position[0]) * resolution;\n      rotY += (position[1] - size[1] / 2) * resolution;\n\n      // go back to original angle\n      sinAngle = -sinAngle; // go back to original rotation\n      var centerX = rotX * cosAngle - rotY * sinAngle;\n      var centerY = rotY * cosAngle + rotX * sinAngle;\n\n      this.setCenter([centerX, centerY]);\n    };\n\n    /**\n     * @return {boolean} Is defined.\n     */\n    View.prototype.isDef = function isDef () {\n      return !!this.getCenter() && this.getResolution() !== undefined;\n    };\n\n    /**\n     * Rotate the view around a given coordinate.\n     * @param {number} rotation New rotation value for the view.\n     * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The rotation center.\n     * @api\n     */\n    View.prototype.rotate = function rotate$$1 (rotation, opt_anchor) {\n      if (opt_anchor !== undefined) {\n        var center = this.calculateCenterRotate(rotation, opt_anchor);\n        this.setCenter(center);\n      }\n      this.setRotation(rotation);\n    };\n\n    /**\n     * Set the center of the current view.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center The center of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.setCenter = function setCenter (center) {\n      this.set(ViewProperty.CENTER, center);\n      if (this.getAnimating()) {\n        this.cancelAnimations();\n      }\n    };\n\n    /**\n     * @param {ViewHint} hint Hint.\n     * @param {number} delta Delta.\n     * @return {number} New value.\n     */\n    View.prototype.setHint = function setHint (hint, delta) {\n      this.hints_[hint] += delta;\n      this.changed();\n      return this.hints_[hint];\n    };\n\n    /**\n     * Set the resolution for this view.\n     * @param {number|undefined} resolution The resolution of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.setResolution = function setResolution (resolution) {\n      this.set(ViewProperty.RESOLUTION, resolution);\n      if (this.getAnimating()) {\n        this.cancelAnimations();\n      }\n    };\n\n    /**\n     * Set the rotation for this view.\n     * @param {number} rotation The rotation of the view in radians.\n     * @observable\n     * @api\n     */\n    View.prototype.setRotation = function setRotation (rotation) {\n      this.set(ViewProperty.ROTATION, rotation);\n      if (this.getAnimating()) {\n        this.cancelAnimations();\n      }\n    };\n\n    /**\n     * Zoom to a specific zoom level.\n     * @param {number} zoom Zoom level.\n     * @api\n     */\n    View.prototype.setZoom = function setZoom (zoom) {\n      this.setResolution(this.getResolutionForZoom(zoom));\n    };\n\n    return View;\n  }(BaseObject));\n\n\n  /**\n   * @param {Function} callback Callback.\n   * @param {*} returnValue Return value.\n   */\n  function animationCallback(callback, returnValue) {\n    setTimeout(function() {\n      callback(returnValue);\n    }, 0);\n  }\n\n\n  /**\n   * @param {ViewOptions} options View options.\n   * @return {import(\"./centerconstraint.js\").Type} The constraint.\n   */\n  function createCenterConstraint(options) {\n    if (options.extent !== undefined) {\n      return createExtent(options.extent);\n    } else {\n      return none;\n    }\n  }\n\n\n  /**\n   * @param {ViewOptions} options View options.\n   * @return {{constraint: import(\"./resolutionconstraint.js\").Type, maxResolution: number,\n   *     minResolution: number, minZoom: number, zoomFactor: number}} The constraint.\n   */\n  function createResolutionConstraint(options) {\n    var resolutionConstraint;\n    var maxResolution;\n    var minResolution;\n\n    // TODO: move these to be ol constants\n    // see https://github.com/openlayers/openlayers/issues/2076\n    var defaultMaxZoom = 28;\n    var defaultZoomFactor = 2;\n\n    var minZoom = options.minZoom !== undefined ?\n      options.minZoom : DEFAULT_MIN_ZOOM;\n\n    var maxZoom = options.maxZoom !== undefined ?\n      options.maxZoom : defaultMaxZoom;\n\n    var zoomFactor = options.zoomFactor !== undefined ?\n      options.zoomFactor : defaultZoomFactor;\n\n    if (options.resolutions !== undefined) {\n      var resolutions = options.resolutions;\n      maxResolution = resolutions[minZoom];\n      minResolution = resolutions[maxZoom] !== undefined ?\n        resolutions[maxZoom] : resolutions[resolutions.length - 1];\n      resolutionConstraint = createSnapToResolutions(\n        resolutions);\n    } else {\n      // calculate the default min and max resolution\n      var projection = createProjection(options.projection, 'EPSG:3857');\n      var extent = projection.getExtent();\n      var size = !extent ?\n        // use an extent that can fit the whole world if need be\n        360 * METERS_PER_UNIT[Units.DEGREES] /\n              projection.getMetersPerUnit() :\n        Math.max(getWidth(extent), getHeight(extent));\n\n      var defaultMaxResolution = size / DEFAULT_TILE_SIZE / Math.pow(\n        defaultZoomFactor, DEFAULT_MIN_ZOOM);\n\n      var defaultMinResolution = defaultMaxResolution / Math.pow(\n        defaultZoomFactor, defaultMaxZoom - DEFAULT_MIN_ZOOM);\n\n      // user provided maxResolution takes precedence\n      maxResolution = options.maxResolution;\n      if (maxResolution !== undefined) {\n        minZoom = 0;\n      } else {\n        maxResolution = defaultMaxResolution / Math.pow(zoomFactor, minZoom);\n      }\n\n      // user provided minResolution takes precedence\n      minResolution = options.minResolution;\n      if (minResolution === undefined) {\n        if (options.maxZoom !== undefined) {\n          if (options.maxResolution !== undefined) {\n            minResolution = maxResolution / Math.pow(zoomFactor, maxZoom);\n          } else {\n            minResolution = defaultMaxResolution / Math.pow(zoomFactor, maxZoom);\n          }\n        } else {\n          minResolution = defaultMinResolution;\n        }\n      }\n\n      // given discrete zoom levels, minResolution may be different than provided\n      maxZoom = minZoom + Math.floor(\n        Math.log(maxResolution / minResolution) / Math.log(zoomFactor));\n      minResolution = maxResolution / Math.pow(zoomFactor, maxZoom - minZoom);\n\n      resolutionConstraint = createSnapToPower(\n        zoomFactor, maxResolution, maxZoom - minZoom);\n    }\n    return {constraint: resolutionConstraint, maxResolution: maxResolution,\n      minResolution: minResolution, minZoom: minZoom, zoomFactor: zoomFactor};\n  }\n\n\n  /**\n   * @param {ViewOptions} options View options.\n   * @return {import(\"./rotationconstraint.js\").Type} Rotation constraint.\n   */\n  function createRotationConstraint(options) {\n    var enableRotation = options.enableRotation !== undefined ?\n      options.enableRotation : true;\n    if (enableRotation) {\n      var constrainRotation = options.constrainRotation;\n      if (constrainRotation === undefined || constrainRotation === true) {\n        return createSnapToZero();\n      } else if (constrainRotation === false) {\n        return none$1;\n      } else if (typeof constrainRotation === 'number') {\n        return createSnapToN(constrainRotation);\n      } else {\n        return none$1;\n      }\n    } else {\n      return disable;\n    }\n  }\n\n\n  /**\n   * Determine if an animation involves no view change.\n   * @param {Animation} animation The animation.\n   * @return {boolean} The animation involves no view change.\n   */\n  function isNoopAnimation(animation) {\n    if (animation.sourceCenter && animation.targetCenter) {\n      if (!equals$1(animation.sourceCenter, animation.targetCenter)) {\n        return false;\n      }\n    }\n    if (animation.sourceResolution !== animation.targetResolution) {\n      return false;\n    }\n    if (animation.sourceRotation !== animation.targetRotation) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * @module ol/dom\n   */\n\n\n  /**\n   * Create an html canvas element and returns its 2d context.\n   * @param {number=} opt_width Canvas width.\n   * @param {number=} opt_height Canvas height.\n   * @return {CanvasRenderingContext2D} The context.\n   */\n  function createCanvasContext2D(opt_width, opt_height) {\n    var canvas = /** @type {HTMLCanvasElement} */ (document.createElement('canvas'));\n    if (opt_width) {\n      canvas.width = opt_width;\n    }\n    if (opt_height) {\n      canvas.height = opt_height;\n    }\n    return /** @type {CanvasRenderingContext2D} */ (canvas.getContext('2d'));\n  }\n\n\n  /**\n   * Get the current computed width for the given element including margin,\n   * padding and border.\n   * Equivalent to jQuery's `$(el).outerWidth(true)`.\n   * @param {!HTMLElement} element Element.\n   * @return {number} The width.\n   */\n  function outerWidth(element) {\n    var width = element.offsetWidth;\n    var style = getComputedStyle(element);\n    width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n\n    return width;\n  }\n\n\n  /**\n   * Get the current computed height for the given element including margin,\n   * padding and border.\n   * Equivalent to jQuery's `$(el).outerHeight(true)`.\n   * @param {!HTMLElement} element Element.\n   * @return {number} The height.\n   */\n  function outerHeight(element) {\n    var height = element.offsetHeight;\n    var style = getComputedStyle(element);\n    height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n\n    return height;\n  }\n\n  /**\n   * @param {Node} newNode Node to replace old node\n   * @param {Node} oldNode The node to be replaced\n   */\n  function replaceNode(newNode, oldNode) {\n    var parent = oldNode.parentNode;\n    if (parent) {\n      parent.replaceChild(newNode, oldNode);\n    }\n  }\n\n  /**\n   * @param {Node} node The node to remove.\n   * @returns {Node} The node that was removed or null.\n   */\n  function removeNode(node) {\n    return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n  }\n\n  /**\n   * @param {Node} node The node to remove the children from.\n   */\n  function removeChildren(node) {\n    while (node.lastChild) {\n      node.removeChild(node.lastChild);\n    }\n  }\n\n  /**\n   * @module ol/layer/Property\n   */\n\n  /**\n   * @enum {string}\n   */\n  var LayerProperty = {\n    OPACITY: 'opacity',\n    VISIBLE: 'visible',\n    EXTENT: 'extent',\n    Z_INDEX: 'zIndex',\n    MAX_RESOLUTION: 'maxResolution',\n    MIN_RESOLUTION: 'minResolution',\n    SOURCE: 'source'\n  };\n\n  /**\n   * @module ol/layer/Base\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [opacity=1] Opacity (0, 1).\n   * @property {boolean} [visible=true] Visibility.\n   * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n   * rendered outside of this extent.\n   * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n   * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n   * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n   * method was used.\n   * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n   * visible.\n   * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n   * be visible.\n   */\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * Note that with {@link module:ol/layer/Base} and all its subclasses, any property set in\n   * the options is set as a {@link module:ol/Object} property on the layer object, so\n   * is observable, and has get/set accessors.\n   *\n   * @api\n   */\n  var BaseLayer = /*@__PURE__*/(function (BaseObject$$1) {\n    function BaseLayer(options) {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @type {Object<string, *>}\n       */\n      var properties = assign({}, options);\n      properties[LayerProperty.OPACITY] =\n         options.opacity !== undefined ? options.opacity : 1;\n      properties[LayerProperty.VISIBLE] =\n         options.visible !== undefined ? options.visible : true;\n      properties[LayerProperty.Z_INDEX] = options.zIndex;\n      properties[LayerProperty.MAX_RESOLUTION] =\n         options.maxResolution !== undefined ? options.maxResolution : Infinity;\n      properties[LayerProperty.MIN_RESOLUTION] =\n         options.minResolution !== undefined ? options.minResolution : 0;\n\n      this.setProperties(properties);\n\n      /**\n       * @type {import(\"./Layer.js\").State}\n       * @private\n       */\n      this.state_ = null;\n\n      /**\n       * The layer type.\n       * @type {import(\"../LayerType.js\").default}\n       * @protected;\n       */\n      this.type;\n\n    }\n\n    if ( BaseObject$$1 ) BaseLayer.__proto__ = BaseObject$$1;\n    BaseLayer.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    BaseLayer.prototype.constructor = BaseLayer;\n\n    /**\n     * Get the layer type (used when creating a layer renderer).\n     * @return {import(\"../LayerType.js\").default} The layer type.\n     */\n    BaseLayer.prototype.getType = function getType () {\n      return this.type;\n    };\n\n    /**\n     * @return {import(\"./Layer.js\").State} Layer state.\n     */\n    BaseLayer.prototype.getLayerState = function getLayerState () {\n      /** @type {import(\"./Layer.js\").State} */\n      var state = this.state_ || /** @type {?} */ ({\n        layer: this,\n        managed: true\n      });\n      state.opacity = clamp(this.getOpacity(), 0, 1);\n      state.sourceState = this.getSourceState();\n      state.visible = this.getVisible();\n      state.extent = this.getExtent();\n      state.zIndex = this.getZIndex() || 0;\n      state.maxResolution = this.getMaxResolution();\n      state.minResolution = Math.max(this.getMinResolution(), 0);\n      this.state_ = state;\n\n      return state;\n    };\n\n    /**\n     * @abstract\n     * @param {Array<import(\"./Layer.js\").default>=} opt_array Array of layers (to be\n     *     modified in place).\n     * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n     */\n    BaseLayer.prototype.getLayersArray = function getLayersArray (opt_array) {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @param {Array<import(\"./Layer.js\").State>=} opt_states Optional list of layer\n     *     states (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n     */\n    BaseLayer.prototype.getLayerStatesArray = function getLayerStatesArray (opt_states) {\n      return abstract();\n    };\n\n    /**\n     * Return the {@link module:ol/extent~Extent extent} of the layer or `undefined` if it\n     * will be visible regardless of extent.\n     * @return {import(\"../extent.js\").Extent|undefined} The layer extent.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getExtent = function getExtent () {\n      return (\n        /** @type {import(\"../extent.js\").Extent|undefined} */ (this.get(LayerProperty.EXTENT))\n      );\n    };\n\n    /**\n     * Return the maximum resolution of the layer.\n     * @return {number} The maximum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMaxResolution = function getMaxResolution () {\n      return /** @type {number} */ (this.get(LayerProperty.MAX_RESOLUTION));\n    };\n\n    /**\n     * Return the minimum resolution of the layer.\n     * @return {number} The minimum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMinResolution = function getMinResolution () {\n      return /** @type {number} */ (this.get(LayerProperty.MIN_RESOLUTION));\n    };\n\n    /**\n     * Return the opacity of the layer (between 0 and 1).\n     * @return {number} The opacity of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getOpacity = function getOpacity () {\n      return /** @type {number} */ (this.get(LayerProperty.OPACITY));\n    };\n\n    /**\n     * @abstract\n     * @return {import(\"../source/State.js\").default} Source state.\n     */\n    BaseLayer.prototype.getSourceState = function getSourceState () {\n      return abstract();\n    };\n\n    /**\n     * Return the visibility of the layer (`true` or `false`).\n     * @return {boolean} The visibility of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getVisible = function getVisible () {\n      return /** @type {boolean} */ (this.get(LayerProperty.VISIBLE));\n    };\n\n    /**\n     * Return the Z-index of the layer, which is used to order layers before\n     * rendering. The default Z-index is 0.\n     * @return {number} The Z-index of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getZIndex = function getZIndex () {\n      return /** @type {number} */ (this.get(LayerProperty.Z_INDEX));\n    };\n\n    /**\n     * Set the extent at which the layer is visible.  If `undefined`, the layer\n     * will be visible at all extents.\n     * @param {import(\"../extent.js\").Extent|undefined} extent The extent of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setExtent = function setExtent (extent) {\n      this.set(LayerProperty.EXTENT, extent);\n    };\n\n    /**\n     * Set the maximum resolution at which the layer is visible.\n     * @param {number} maxResolution The maximum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMaxResolution = function setMaxResolution (maxResolution) {\n      this.set(LayerProperty.MAX_RESOLUTION, maxResolution);\n    };\n\n    /**\n     * Set the minimum resolution at which the layer is visible.\n     * @param {number} minResolution The minimum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMinResolution = function setMinResolution (minResolution) {\n      this.set(LayerProperty.MIN_RESOLUTION, minResolution);\n    };\n\n    /**\n     * Set the opacity of the layer, allowed values range from 0 to 1.\n     * @param {number} opacity The opacity of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setOpacity = function setOpacity (opacity) {\n      this.set(LayerProperty.OPACITY, opacity);\n    };\n\n    /**\n     * Set the visibility of the layer (`true` or `false`).\n     * @param {boolean} visible The visibility of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setVisible = function setVisible (visible) {\n      this.set(LayerProperty.VISIBLE, visible);\n    };\n\n    /**\n     * Set Z-index of the layer, which is used to order layers before rendering.\n     * The default Z-index is 0.\n     * @param {number} zindex The z-index of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setZIndex = function setZIndex (zindex) {\n      this.set(LayerProperty.Z_INDEX, zindex);\n    };\n\n    return BaseLayer;\n  }(BaseObject));\n\n  /**\n   * @module ol/source/State\n   */\n\n  /**\n   * @enum {string}\n   * State of the source, one of 'undefined', 'loading', 'ready' or 'error'.\n   */\n  var SourceState = {\n    UNDEFINED: 'undefined',\n    LOADING: 'loading',\n    READY: 'ready',\n    ERROR: 'error'\n  };\n\n  /**\n   * @module ol/layer/Group\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [opacity=1] Opacity (0, 1).\n   * @property {boolean} [visible=true] Visibility.\n   * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n   * rendered outside of this extent.\n   * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n   * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n   * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n   * method was used.\n   * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n   * visible.\n   * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n   * be visible.\n   * @property {Array<import(\"./Base.js\").default>|import(\"../Collection.js\").default<import(\"./Base.js\").default>} [layers] Child layers.\n   */\n\n\n  /**\n   * @enum {string}\n   * @private\n   */\n  var Property$1 = {\n    LAYERS: 'layers'\n  };\n\n\n  /**\n   * @classdesc\n   * A {@link module:ol/Collection~Collection} of layers that are handled together.\n   *\n   * A generic `change` event is triggered when the group/Collection changes.\n   *\n   * @api\n   */\n  var LayerGroup = /*@__PURE__*/(function (BaseLayer$$1) {\n    function LayerGroup(opt_options) {\n\n      var options = opt_options || {};\n      var baseOptions = /** @type {Options} */ (assign({}, options));\n      delete baseOptions.layers;\n\n      var layers = options.layers;\n\n      BaseLayer$$1.call(this, baseOptions);\n\n      /**\n       * @private\n       * @type {Array<import(\"../events.js\").EventsKey>}\n       */\n      this.layersListenerKeys_ = [];\n\n      /**\n       * @private\n       * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n       */\n      this.listenerKeys_ = {};\n\n      listen(this,\n        getChangeEventType(Property$1.LAYERS),\n        this.handleLayersChanged_, this);\n\n      if (layers) {\n        if (Array.isArray(layers)) {\n          layers = new Collection(layers.slice(), {unique: true});\n        } else {\n          assert(typeof /** @type {?} */ (layers).getArray === 'function',\n            43); // Expected `layers` to be an array or a `Collection`\n        }\n      } else {\n        layers = new Collection(undefined, {unique: true});\n      }\n\n      this.setLayers(layers);\n\n    }\n\n    if ( BaseLayer$$1 ) LayerGroup.__proto__ = BaseLayer$$1;\n    LayerGroup.prototype = Object.create( BaseLayer$$1 && BaseLayer$$1.prototype );\n    LayerGroup.prototype.constructor = LayerGroup;\n\n    /**\n     * @private\n     */\n    LayerGroup.prototype.handleLayerChange_ = function handleLayerChange_ () {\n      this.changed();\n    };\n\n    /**\n     * @private\n     */\n    LayerGroup.prototype.handleLayersChanged_ = function handleLayersChanged_ () {\n      this.layersListenerKeys_.forEach(unlistenByKey);\n      this.layersListenerKeys_.length = 0;\n\n      var layers = this.getLayers();\n      this.layersListenerKeys_.push(\n        listen(layers, CollectionEventType.ADD, this.handleLayersAdd_, this),\n        listen(layers, CollectionEventType.REMOVE, this.handleLayersRemove_, this)\n      );\n\n      for (var id in this.listenerKeys_) {\n        this.listenerKeys_[id].forEach(unlistenByKey);\n      }\n      clear(this.listenerKeys_);\n\n      var layersArray = layers.getArray();\n      for (var i = 0, ii = layersArray.length; i < ii; i++) {\n        var layer = layersArray[i];\n        this.listenerKeys_[getUid(layer)] = [\n          listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n          listen(layer, EventType.CHANGE, this.handleLayerChange_, this)\n        ];\n      }\n\n      this.changed();\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n     * @private\n     */\n    LayerGroup.prototype.handleLayersAdd_ = function handleLayersAdd_ (collectionEvent) {\n      var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n      this.listenerKeys_[getUid(layer)] = [\n        listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n        listen(layer, EventType.CHANGE, this.handleLayerChange_, this)\n      ];\n      this.changed();\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n     * @private\n     */\n    LayerGroup.prototype.handleLayersRemove_ = function handleLayersRemove_ (collectionEvent) {\n      var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n      var key = getUid(layer);\n      this.listenerKeys_[key].forEach(unlistenByKey);\n      delete this.listenerKeys_[key];\n      this.changed();\n    };\n\n    /**\n     * Returns the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n     * in this group.\n     * @return {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} Collection of\n     *   {@link module:ol/layer/Base layers} that are part of this group.\n     * @observable\n     * @api\n     */\n    LayerGroup.prototype.getLayers = function getLayers () {\n      return (\n        /** @type {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} */ (this.get(Property$1.LAYERS))\n      );\n    };\n\n    /**\n     * Set the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n     * in this group.\n     * @param {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} layers Collection of\n     *   {@link module:ol/layer/Base layers} that are part of this group.\n     * @observable\n     * @api\n     */\n    LayerGroup.prototype.setLayers = function setLayers (layers) {\n      this.set(Property$1.LAYERS, layers);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LayerGroup.prototype.getLayersArray = function getLayersArray (opt_array) {\n      var array = opt_array !== undefined ? opt_array : [];\n      this.getLayers().forEach(function(layer) {\n        layer.getLayersArray(array);\n      });\n      return array;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LayerGroup.prototype.getLayerStatesArray = function getLayerStatesArray (opt_states) {\n      var states = opt_states !== undefined ? opt_states : [];\n\n      var pos = states.length;\n\n      this.getLayers().forEach(function(layer) {\n        layer.getLayerStatesArray(states);\n      });\n\n      var ownLayerState = this.getLayerState();\n      for (var i = pos, ii = states.length; i < ii; i++) {\n        var layerState = states[i];\n        layerState.opacity *= ownLayerState.opacity;\n        layerState.visible = layerState.visible && ownLayerState.visible;\n        layerState.maxResolution = Math.min(\n          layerState.maxResolution, ownLayerState.maxResolution);\n        layerState.minResolution = Math.max(\n          layerState.minResolution, ownLayerState.minResolution);\n        if (ownLayerState.extent !== undefined) {\n          if (layerState.extent !== undefined) {\n            layerState.extent = getIntersection(layerState.extent, ownLayerState.extent);\n          } else {\n            layerState.extent = ownLayerState.extent;\n          }\n        }\n      }\n\n      return states;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LayerGroup.prototype.getSourceState = function getSourceState () {\n      return SourceState.READY;\n    };\n\n    return LayerGroup;\n  }(BaseLayer));\n\n  /**\n   * @module ol/size\n   */\n\n\n  /**\n   * Determines if a size has a positive area.\n   * @param {Size} size The size to test.\n   * @return {boolean} The size has a positive area.\n   */\n  function hasArea(size) {\n    return size[0] > 0 && size[1] > 0;\n  }\n\n\n  /**\n   * Returns a size scaled by a ratio. The result will be an array of integers.\n   * @param {Size} size Size.\n   * @param {number} ratio Ratio.\n   * @param {Size=} opt_size Optional reusable size array.\n   * @return {Size} The scaled size.\n   */\n  function scale$3(size, ratio, opt_size) {\n    if (opt_size === undefined) {\n      opt_size = [0, 0];\n    }\n    opt_size[0] = (size[0] * ratio + 0.5) | 0;\n    opt_size[1] = (size[1] * ratio + 0.5) | 0;\n    return opt_size;\n  }\n\n\n  /**\n   * Returns an `Size` array for the passed in number (meaning: square) or\n   * `Size` array.\n   * (meaning: non-square),\n   * @param {number|Size} size Width and height.\n   * @param {Size=} opt_size Optional reusable size array.\n   * @return {Size} Size.\n   * @api\n   */\n  function toSize(size, opt_size) {\n    if (Array.isArray(size)) {\n      return size;\n    } else {\n      if (opt_size === undefined) {\n        opt_size = [size, size];\n      } else {\n        opt_size[0] = opt_size[1] = /** @type {number} */ (size);\n      }\n      return opt_size;\n    }\n  }\n\n  /**\n   * @module ol/PluggableMap\n   */\n\n\n  /**\n   * State of the current frame. Only `pixelRatio`, `time` and `viewState` should\n   * be used in applications.\n   * @typedef {Object} FrameState\n   * @property {number} pixelRatio The pixel ratio of the frame.\n   * @property {number} time The time when rendering of the frame was requested.\n   * @property {import(\"./View.js\").State} viewState The state of the current view.\n   * @property {boolean} animate\n   * @property {import(\"./transform.js\").Transform} coordinateToPixelTransform\n   * @property {null|import(\"./extent.js\").Extent} extent\n   * @property {import(\"./coordinate.js\").Coordinate} focus\n   * @property {number} index\n   * @property {Object<string, import(\"./layer/Layer.js\").State>} layerStates\n   * @property {Array<import(\"./layer/Layer.js\").State>} layerStatesArray\n   * @property {import(\"./transform.js\").Transform} pixelToCoordinateTransform\n   * @property {Array<PostRenderFunction>} postRenderFunctions\n   * @property {import(\"./size.js\").Size} size\n   * @property {!Object<string, boolean>} skippedFeatureUids\n   * @property {TileQueue} tileQueue\n   * @property {Object<string, Object<string, import(\"./TileRange.js\").default>>} usedTiles\n   * @property {Array<number>} viewHints\n   * @property {!Object<string, Object<string, boolean>>} wantedTiles\n   */\n\n\n  /**\n   * @typedef {function(PluggableMap, ?FrameState): boolean} PostRenderFunction\n   */\n\n\n  /**\n   * @typedef {Object} AtPixelOptions\n   * @property {undefined|function(import(\"./layer/Layer.js\").default): boolean} layerFilter Layer filter\n   * function. The filter function will receive one argument, the\n   * {@link module:ol/layer/Layer layer-candidate} and it should return a boolean value.\n   * Only layers which are visible and for which this function returns `true`\n   * will be tested for features. By default, all visible layers will be tested.\n   * @property {number} [hitTolerance=0] Hit-detection tolerance in pixels. Pixels\n   * inside the radius around the given position will be checked for features. This only\n   * works for the canvas renderer and not for WebGL.\n   */\n\n\n  /**\n   * @typedef {Object} MapOptionsInternal\n   * @property {Collection<import(\"./control/Control.js\").default>} [controls]\n   * @property {Collection<import(\"./interaction/Interaction.js\").default>} [interactions]\n   * @property {HTMLElement|Document} keyboardEventTarget\n   * @property {Collection<import(\"./Overlay.js\").default>} overlays\n   * @property {Object<string, *>} values\n   */\n\n\n  /**\n   * Object literal with config options for the map.\n   * @typedef {Object} MapOptions\n   * @property {Collection<import(\"./control/Control.js\").default>|Array<import(\"./control/Control.js\").default>} [controls]\n   * Controls initially added to the map. If not specified,\n   * {@link module:ol/control~defaults} is used.\n   * @property {number} [pixelRatio=window.devicePixelRatio] The ratio between\n   * physical pixels and device-independent pixels (dips) on the device.\n   * @property {Collection<import(\"./interaction/Interaction.js\").default>|Array<import(\"./interaction/Interaction.js\").default>} [interactions]\n   * Interactions that are initially added to the map. If not specified,\n   * {@link module:ol/interaction~defaults} is used.\n   * @property {HTMLElement|Document|string} [keyboardEventTarget] The element to\n   * listen to keyboard events on. This determines when the `KeyboardPan` and\n   * `KeyboardZoom` interactions trigger. For example, if this option is set to\n   * `document` the keyboard interactions will always trigger. If this option is\n   * not specified, the element the library listens to keyboard events on is the\n   * map target (i.e. the user-provided div for the map). If this is not\n   * `document`, the target element needs to be focused for key events to be\n   * emitted, requiring that the target element has a `tabindex` attribute.\n   * @property {Array<import(\"./layer/Base.js\").default>|Collection<import(\"./layer/Base.js\").default>|LayerGroup} [layers]\n   * Layers. If this is not defined, a map with no layers will be rendered. Note\n   * that layers are rendered in the order supplied, so if you want, for example,\n   * a vector layer to appear on top of a tile layer, it must come after the tile\n   * layer.\n   * @property {number} [maxTilesLoading=16] Maximum number tiles to load\n   * simultaneously.\n   * @property {boolean} [loadTilesWhileAnimating=false] When set to `true`, tiles\n   * will be loaded during animations. This may improve the user experience, but\n   * can also make animations stutter on devices with slow memory.\n   * @property {boolean} [loadTilesWhileInteracting=false] When set to `true`,\n   * tiles will be loaded while interacting with the map. This may improve the\n   * user experience, but can also make map panning and zooming choppy on devices\n   * with slow memory.\n   * @property {number} [moveTolerance=1] The minimum distance in pixels the\n   * cursor must move to be detected as a map move event instead of a click.\n   * Increasing this value can make it easier to click on the map.\n   * @property {Collection<import(\"./Overlay.js\").default>|Array<import(\"./Overlay.js\").default>} [overlays]\n   * Overlays initially added to the map. By default, no overlays are added.\n   * @property {HTMLElement|string} [target] The container for the map, either the\n   * element itself or the `id` of the element. If not specified at construction\n   * time, {@link module:ol/Map~Map#setTarget} must be called for the map to be\n   * rendered.\n   * @property {View} [view] The map's view.  No layer sources will be\n   * fetched unless this is specified at construction time or through\n   * {@link module:ol/Map~Map#setView}.\n   */\n\n\n  /**\n   * @fires import(\"./MapBrowserEvent.js\").MapBrowserEvent\n   * @fires import(\"./MapEvent.js\").MapEvent\n   * @fires module:ol/render/Event~RenderEvent#postcompose\n   * @fires module:ol/render/Event~RenderEvent#precompose\n   * @fires module:ol/render/Event~RenderEvent#rendercomplete\n   * @api\n   */\n  var PluggableMap = /*@__PURE__*/(function (BaseObject$$1) {\n    function PluggableMap(options) {\n\n      BaseObject$$1.call(this);\n\n      var optionsInternal = createOptionsInternal(options);\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.maxTilesLoading_ = options.maxTilesLoading !== undefined ? options.maxTilesLoading : 16;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.loadTilesWhileAnimating_ =\n          options.loadTilesWhileAnimating !== undefined ?\n            options.loadTilesWhileAnimating : false;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.loadTilesWhileInteracting_ =\n          options.loadTilesWhileInteracting !== undefined ?\n            options.loadTilesWhileInteracting : false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelRatio_ = options.pixelRatio !== undefined ?\n        options.pixelRatio : DEVICE_PIXEL_RATIO;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.animationDelayKey_;\n\n      /**\n       * @private\n       */\n      this.animationDelay_ = function() {\n        this.animationDelayKey_ = undefined;\n        this.renderFrame_.call(this, Date.now());\n      }.bind(this);\n\n      /**\n       * @private\n       * @type {import(\"./transform.js\").Transform}\n       */\n      this.coordinateToPixelTransform_ = create();\n\n      /**\n       * @private\n       * @type {import(\"./transform.js\").Transform}\n       */\n      this.pixelToCoordinateTransform_ = create();\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.frameIndex_ = 0;\n\n      /**\n       * @private\n       * @type {?FrameState}\n       */\n      this.frameState_ = null;\n\n      /**\n       * The extent at the previous 'moveend' event.\n       * @private\n       * @type {import(\"./extent.js\").Extent}\n       */\n      this.previousExtent_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"./events.js\").EventsKey}\n       */\n      this.viewPropertyListenerKey_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"./events.js\").EventsKey}\n       */\n      this.viewChangeListenerKey_ = null;\n\n      /**\n       * @private\n       * @type {Array<import(\"./events.js\").EventsKey>}\n       */\n      this.layerGroupPropertyListenerKeys_ = null;\n\n      /**\n       * @private\n       * @type {!HTMLElement}\n       */\n      this.viewport_ = document.createElement('div');\n      this.viewport_.className = 'ol-viewport' + (TOUCH ? ' ol-touch' : '');\n      this.viewport_.style.position = 'relative';\n      this.viewport_.style.overflow = 'hidden';\n      this.viewport_.style.width = '100%';\n      this.viewport_.style.height = '100%';\n      // prevent page zoom on IE >= 10 browsers\n      this.viewport_.style.msTouchAction = 'none';\n      this.viewport_.style.touchAction = 'none';\n\n      /**\n       * @private\n       * @type {!HTMLElement}\n       */\n      this.overlayContainer_ = document.createElement('div');\n      this.overlayContainer_.className = 'ol-overlaycontainer';\n      this.viewport_.appendChild(this.overlayContainer_);\n\n      /**\n       * @private\n       * @type {!HTMLElement}\n       */\n      this.overlayContainerStopEvent_ = document.createElement('div');\n      this.overlayContainerStopEvent_.className = 'ol-overlaycontainer-stopevent';\n      var overlayEvents = [\n        EventType.CLICK,\n        EventType.DBLCLICK,\n        EventType.MOUSEDOWN,\n        EventType.TOUCHSTART,\n        EventType.MSPOINTERDOWN,\n        MapBrowserEventType.POINTERDOWN,\n        EventType.MOUSEWHEEL,\n        EventType.WHEEL\n      ];\n      for (var i = 0, ii = overlayEvents.length; i < ii; ++i) {\n        listen(this.overlayContainerStopEvent_, overlayEvents[i], stopPropagation);\n      }\n      this.viewport_.appendChild(this.overlayContainerStopEvent_);\n\n      /**\n       * @private\n       * @type {MapBrowserEventHandler}\n       */\n      this.mapBrowserEventHandler_ = new MapBrowserEventHandler(this, options.moveTolerance);\n      for (var key in MapBrowserEventType) {\n        listen(this.mapBrowserEventHandler_, MapBrowserEventType[key],\n          this.handleMapBrowserEvent, this);\n      }\n\n      /**\n       * @private\n       * @type {HTMLElement|Document}\n       */\n      this.keyboardEventTarget_ = optionsInternal.keyboardEventTarget;\n\n      /**\n       * @private\n       * @type {Array<import(\"./events.js\").EventsKey>}\n       */\n      this.keyHandlerKeys_ = null;\n\n      listen(this.viewport_, EventType.CONTEXTMENU, this.handleBrowserEvent, this);\n      listen(this.viewport_, EventType.WHEEL, this.handleBrowserEvent, this);\n      listen(this.viewport_, EventType.MOUSEWHEEL, this.handleBrowserEvent, this);\n\n      /**\n       * @type {Collection<import(\"./control/Control.js\").default>}\n       * @protected\n       */\n      this.controls = optionsInternal.controls || new Collection();\n\n      /**\n       * @type {Collection<import(\"./interaction/Interaction.js\").default>}\n       * @protected\n       */\n      this.interactions = optionsInternal.interactions || new Collection();\n\n      /**\n       * @type {Collection<import(\"./Overlay.js\").default>}\n       * @private\n       */\n      this.overlays_ = optionsInternal.overlays;\n\n      /**\n       * A lookup of overlays by id.\n       * @private\n       * @type {Object<string, import(\"./Overlay.js\").default>}\n       */\n      this.overlayIdIndex_ = {};\n\n      /**\n       * @type {import(\"./renderer/Map.js\").default}\n       * @private\n       */\n      this.renderer_ = this.createRenderer();\n\n      /**\n       * @type {function(Event)|undefined}\n       * @private\n       */\n      this.handleResize_;\n\n      /**\n       * @private\n       * @type {import(\"./coordinate.js\").Coordinate}\n       */\n      this.focus_ = null;\n\n      /**\n       * @private\n       * @type {!Array<PostRenderFunction>}\n       */\n      this.postRenderFunctions_ = [];\n\n      /**\n       * @private\n       * @type {TileQueue}\n       */\n      this.tileQueue_ = new TileQueue(\n        this.getTilePriority.bind(this),\n        this.handleTileChange_.bind(this));\n\n      /**\n       * Uids of features to skip at rendering time.\n       * @type {Object<string, boolean>}\n       * @private\n       */\n      this.skippedFeatureUids_ = {};\n\n      listen(\n        this, getChangeEventType(MapProperty.LAYERGROUP),\n        this.handleLayerGroupChanged_, this);\n      listen(this, getChangeEventType(MapProperty.VIEW),\n        this.handleViewChanged_, this);\n      listen(this, getChangeEventType(MapProperty.SIZE),\n        this.handleSizeChanged_, this);\n      listen(this, getChangeEventType(MapProperty.TARGET),\n        this.handleTargetChanged_, this);\n\n      // setProperties will trigger the rendering of the map if the map\n      // is \"defined\" already.\n      this.setProperties(optionsInternal.values);\n\n      this.controls.forEach(\n        /**\n         * @param {import(\"./control/Control.js\").default} control Control.\n         * @this {PluggableMap}\n         */\n        (function(control) {\n          control.setMap(this);\n        }).bind(this));\n\n      listen(this.controls, CollectionEventType.ADD,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          event.element.setMap(this);\n        }, this);\n\n      listen(this.controls, CollectionEventType.REMOVE,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          event.element.setMap(null);\n        }, this);\n\n      this.interactions.forEach(\n        /**\n         * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction.\n         * @this {PluggableMap}\n         */\n        (function(interaction) {\n          interaction.setMap(this);\n        }).bind(this));\n\n      listen(this.interactions, CollectionEventType.ADD,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          event.element.setMap(this);\n        }, this);\n\n      listen(this.interactions, CollectionEventType.REMOVE,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          event.element.setMap(null);\n        }, this);\n\n      this.overlays_.forEach(this.addOverlayInternal_.bind(this));\n\n      listen(this.overlays_, CollectionEventType.ADD,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          this.addOverlayInternal_(/** @type {import(\"./Overlay.js\").default} */ (event.element));\n        }, this);\n\n      listen(this.overlays_, CollectionEventType.REMOVE,\n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function(event) {\n          var overlay = /** @type {import(\"./Overlay.js\").default} */ (event.element);\n          var id = overlay.getId();\n          if (id !== undefined) {\n            delete this.overlayIdIndex_[id.toString()];\n          }\n          event.element.setMap(null);\n        }, this);\n\n    }\n\n    if ( BaseObject$$1 ) PluggableMap.__proto__ = BaseObject$$1;\n    PluggableMap.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    PluggableMap.prototype.constructor = PluggableMap;\n\n    /**\n     * @abstract\n     * @return {import(\"./renderer/Map.js\").default} The map renderer\n     */\n    PluggableMap.prototype.createRenderer = function createRenderer () {\n      throw new Error('Use a map type that has a createRenderer method');\n    };\n\n    /**\n     * Add the given control to the map.\n     * @param {import(\"./control/Control.js\").default} control Control.\n     * @api\n     */\n    PluggableMap.prototype.addControl = function addControl (control) {\n      this.getControls().push(control);\n    };\n\n    /**\n     * Add the given interaction to the map.\n     * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction to add.\n     * @api\n     */\n    PluggableMap.prototype.addInteraction = function addInteraction (interaction) {\n      this.getInteractions().push(interaction);\n    };\n\n    /**\n     * Adds the given layer to the top of this map. If you want to add a layer\n     * elsewhere in the stack, use `getLayers()` and the methods available on\n     * {@link module:ol/Collection~Collection}.\n     * @param {import(\"./layer/Base.js\").default} layer Layer.\n     * @api\n     */\n    PluggableMap.prototype.addLayer = function addLayer (layer) {\n      var layers = this.getLayerGroup().getLayers();\n      layers.push(layer);\n    };\n\n    /**\n     * Add the given overlay to the map.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @api\n     */\n    PluggableMap.prototype.addOverlay = function addOverlay (overlay) {\n      this.getOverlays().push(overlay);\n    };\n\n    /**\n     * This deals with map's overlay collection changes.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @private\n     */\n    PluggableMap.prototype.addOverlayInternal_ = function addOverlayInternal_ (overlay) {\n      var id = overlay.getId();\n      if (id !== undefined) {\n        this.overlayIdIndex_[id.toString()] = overlay;\n      }\n      overlay.setMap(this);\n    };\n\n    /**\n     *\n     * @inheritDoc\n     */\n    PluggableMap.prototype.disposeInternal = function disposeInternal () {\n      this.mapBrowserEventHandler_.dispose();\n      unlisten(this.viewport_, EventType.CONTEXTMENU, this.handleBrowserEvent, this);\n      unlisten(this.viewport_, EventType.WHEEL, this.handleBrowserEvent, this);\n      unlisten(this.viewport_, EventType.MOUSEWHEEL, this.handleBrowserEvent, this);\n      if (this.handleResize_ !== undefined) {\n        removeEventListener(EventType.RESIZE, this.handleResize_, false);\n        this.handleResize_ = undefined;\n      }\n      if (this.animationDelayKey_) {\n        cancelAnimationFrame(this.animationDelayKey_);\n        this.animationDelayKey_ = undefined;\n      }\n      this.setTarget(null);\n      BaseObject$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * Detect features that intersect a pixel on the viewport, and execute a\n     * callback with each intersecting feature. Layers included in the detection can\n     * be configured through the `layerFilter` option in `opt_options`.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {function(this: S, import(\"./Feature.js\").FeatureLike,\n     *     import(\"./layer/Layer.js\").default): T} callback Feature callback. The callback will be\n     *     called with two arguments. The first argument is one\n     *     {@link module:ol/Feature feature} or\n     *     {@link module:ol/render/Feature render feature} at the pixel, the second is\n     *     the {@link module:ol/layer/Layer layer} of the feature and will be null for\n     *     unmanaged layers. To stop detection, callback functions can return a\n     *     truthy value.\n     * @param {AtPixelOptions=} opt_options Optional options.\n     * @return {T|undefined} Callback result, i.e. the return value of last\n     * callback execution, or the first truthy callback return value.\n     * @template S,T\n     * @api\n     */\n    PluggableMap.prototype.forEachFeatureAtPixel = function forEachFeatureAtPixel (pixel, callback, opt_options) {\n      if (!this.frameState_) {\n        return;\n      }\n      var coordinate = this.getCoordinateFromPixel(pixel);\n      opt_options = opt_options !== undefined ? opt_options :\n        /** @type {AtPixelOptions} */ ({});\n      var hitTolerance = opt_options.hitTolerance !== undefined ?\n        opt_options.hitTolerance * this.frameState_.pixelRatio : 0;\n      var layerFilter = opt_options.layerFilter !== undefined ?\n        opt_options.layerFilter : TRUE;\n      return this.renderer_.forEachFeatureAtCoordinate(\n        coordinate, this.frameState_, hitTolerance, callback, null,\n        layerFilter, null);\n    };\n\n    /**\n     * Get all features that intersect a pixel on the viewport.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {AtPixelOptions=} opt_options Optional options.\n     * @return {Array<import(\"./Feature.js\").FeatureLike>} The detected features or\n     * `null` if none were found.\n     * @api\n     */\n    PluggableMap.prototype.getFeaturesAtPixel = function getFeaturesAtPixel (pixel, opt_options) {\n      var features = null;\n      this.forEachFeatureAtPixel(pixel, function(feature) {\n        if (!features) {\n          features = [];\n        }\n        features.push(feature);\n      }, opt_options);\n      return features;\n    };\n\n    /**\n     * Detect layers that have a color value at a pixel on the viewport, and\n     * execute a callback with each matching layer. Layers included in the\n     * detection can be configured through `opt_layerFilter`.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {function(this: S, import(\"./layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback\n     *     Layer callback. This callback will receive two arguments: first is the\n     *     {@link module:ol/layer/Layer layer}, second argument is an array representing\n     *     [R, G, B, A] pixel values (0 - 255) and will be `null` for layer types\n     *     that do not currently support this argument. To stop detection, callback\n     *     functions can return a truthy value.\n     * @param {AtPixelOptions=} opt_options Configuration options.\n     * @return {T|undefined} Callback result, i.e. the return value of last\n     * callback execution, or the first truthy callback return value.\n     * @template S,T\n     * @api\n     */\n    PluggableMap.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, callback, opt_options) {\n      if (!this.frameState_) {\n        return;\n      }\n      var options = opt_options || /** @type {AtPixelOptions} */ ({});\n      var hitTolerance = options.hitTolerance !== undefined ?\n        opt_options.hitTolerance * this.frameState_.pixelRatio : 0;\n      var layerFilter = options.layerFilter || TRUE;\n      return this.renderer_.forEachLayerAtPixel(\n        pixel, this.frameState_, hitTolerance, callback, null, layerFilter, null);\n    };\n\n    /**\n     * Detect if features intersect a pixel on the viewport. Layers included in the\n     * detection can be configured through `opt_layerFilter`.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {AtPixelOptions=} opt_options Optional options.\n     * @return {boolean} Is there a feature at the given pixel?\n     * @template U\n     * @api\n     */\n    PluggableMap.prototype.hasFeatureAtPixel = function hasFeatureAtPixel (pixel, opt_options) {\n      if (!this.frameState_) {\n        return false;\n      }\n      var coordinate = this.getCoordinateFromPixel(pixel);\n      opt_options = opt_options !== undefined ? opt_options :\n        /** @type {AtPixelOptions} */ ({});\n      var layerFilter = opt_options.layerFilter !== undefined ? opt_options.layerFilter : TRUE;\n      var hitTolerance = opt_options.hitTolerance !== undefined ?\n        opt_options.hitTolerance * this.frameState_.pixelRatio : 0;\n      return this.renderer_.hasFeatureAtCoordinate(\n        coordinate, this.frameState_, hitTolerance, layerFilter, null);\n    };\n\n    /**\n     * Returns the coordinate in view projection for a browser event.\n     * @param {Event} event Event.\n     * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    PluggableMap.prototype.getEventCoordinate = function getEventCoordinate (event) {\n      return this.getCoordinateFromPixel(this.getEventPixel(event));\n    };\n\n    /**\n     * Returns the map pixel position for a browser event relative to the viewport.\n     * @param {Event|TouchEvent} event Event.\n     * @return {import(\"./pixel.js\").Pixel} Pixel.\n     * @api\n     */\n    PluggableMap.prototype.getEventPixel = function getEventPixel (event) {\n      var viewportPosition = this.viewport_.getBoundingClientRect();\n      var eventPosition = 'changedTouches' in event ?\n        /** @type {TouchEvent} */ (event).changedTouches[0] :\n        /** @type {MouseEvent} */ (event);\n\n      return [\n        eventPosition.clientX - viewportPosition.left,\n        eventPosition.clientY - viewportPosition.top\n      ];\n    };\n\n    /**\n     * Get the target in which this map is rendered.\n     * Note that this returns what is entered as an option or in setTarget:\n     * if that was an element, it returns an element; if a string, it returns that.\n     * @return {HTMLElement|string|undefined} The Element or id of the Element that the\n     *     map is rendered in.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getTarget = function getTarget () {\n      return /** @type {HTMLElement|string|undefined} */ (this.get(MapProperty.TARGET));\n    };\n\n    /**\n     * Get the DOM element into which this map is rendered. In contrast to\n     * `getTarget` this method always return an `Element`, or `null` if the\n     * map has no target.\n     * @return {HTMLElement} The element that the map is rendered in.\n     * @api\n     */\n    PluggableMap.prototype.getTargetElement = function getTargetElement () {\n      var target = this.getTarget();\n      if (target !== undefined) {\n        return typeof target === 'string' ? document.getElementById(target) : target;\n      } else {\n        return null;\n      }\n    };\n\n    /**\n     * Get the coordinate for a given pixel.  This returns a coordinate in the\n     * map view projection.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel position in the map viewport.\n     * @return {import(\"./coordinate.js\").Coordinate} The coordinate for the pixel position.\n     * @api\n     */\n    PluggableMap.prototype.getCoordinateFromPixel = function getCoordinateFromPixel (pixel) {\n      var frameState = this.frameState_;\n      if (!frameState) {\n        return null;\n      } else {\n        return apply(frameState.pixelToCoordinateTransform, pixel.slice());\n      }\n    };\n\n    /**\n     * Get the map controls. Modifying this collection changes the controls\n     * associated with the map.\n     * @return {Collection<import(\"./control/Control.js\").default>} Controls.\n     * @api\n     */\n    PluggableMap.prototype.getControls = function getControls () {\n      return this.controls;\n    };\n\n    /**\n     * Get the map overlays. Modifying this collection changes the overlays\n     * associated with the map.\n     * @return {Collection<import(\"./Overlay.js\").default>} Overlays.\n     * @api\n     */\n    PluggableMap.prototype.getOverlays = function getOverlays () {\n      return this.overlays_;\n    };\n\n    /**\n     * Get an overlay by its identifier (the value returned by overlay.getId()).\n     * Note that the index treats string and numeric identifiers as the same. So\n     * `map.getOverlayById(2)` will return an overlay with id `'2'` or `2`.\n     * @param {string|number} id Overlay identifier.\n     * @return {import(\"./Overlay.js\").default} Overlay.\n     * @api\n     */\n    PluggableMap.prototype.getOverlayById = function getOverlayById (id) {\n      var overlay = this.overlayIdIndex_[id.toString()];\n      return overlay !== undefined ? overlay : null;\n    };\n\n    /**\n     * Get the map interactions. Modifying this collection changes the interactions\n     * associated with the map.\n     *\n     * Interactions are used for e.g. pan, zoom and rotate.\n     * @return {Collection<import(\"./interaction/Interaction.js\").default>} Interactions.\n     * @api\n     */\n    PluggableMap.prototype.getInteractions = function getInteractions () {\n      return this.interactions;\n    };\n\n    /**\n     * Get the layergroup associated with this map.\n     * @return {LayerGroup} A layer group containing the layers in this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getLayerGroup = function getLayerGroup () {\n      return (\n        /** @type {LayerGroup} */ (this.get(MapProperty.LAYERGROUP))\n      );\n    };\n\n    /**\n     * Get the collection of layers associated with this map.\n     * @return {!Collection<import(\"./layer/Base.js\").default>} Layers.\n     * @api\n     */\n    PluggableMap.prototype.getLayers = function getLayers () {\n      var layers = this.getLayerGroup().getLayers();\n      return layers;\n    };\n\n    /**\n     * Get the pixel for a coordinate.  This takes a coordinate in the map view\n     * projection and returns the corresponding pixel.\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate A map coordinate.\n     * @return {import(\"./pixel.js\").Pixel} A pixel position in the map viewport.\n     * @api\n     */\n    PluggableMap.prototype.getPixelFromCoordinate = function getPixelFromCoordinate (coordinate) {\n      var frameState = this.frameState_;\n      if (!frameState) {\n        return null;\n      } else {\n        return apply(frameState.coordinateToPixelTransform, coordinate.slice(0, 2));\n      }\n    };\n\n    /**\n     * Get the map renderer.\n     * @return {import(\"./renderer/Map.js\").default} Renderer\n     */\n    PluggableMap.prototype.getRenderer = function getRenderer () {\n      return this.renderer_;\n    };\n\n    /**\n     * Get the size of this map.\n     * @return {import(\"./size.js\").Size|undefined} The size in pixels of the map in the DOM.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getSize = function getSize$$1 () {\n      return (\n        /** @type {import(\"./size.js\").Size|undefined} */ (this.get(MapProperty.SIZE))\n      );\n    };\n\n    /**\n     * Get the view associated with this map. A view manages properties such as\n     * center and resolution.\n     * @return {View} The view that controls this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getView = function getView () {\n      return (\n        /** @type {View} */ (this.get(MapProperty.VIEW))\n      );\n    };\n\n    /**\n     * Get the element that serves as the map viewport.\n     * @return {HTMLElement} Viewport.\n     * @api\n     */\n    PluggableMap.prototype.getViewport = function getViewport () {\n      return this.viewport_;\n    };\n\n    /**\n     * Get the element that serves as the container for overlays.  Elements added to\n     * this container will let mousedown and touchstart events through to the map,\n     * so clicks and gestures on an overlay will trigger {@link module:ol/MapBrowserEvent~MapBrowserEvent}\n     * events.\n     * @return {!HTMLElement} The map's overlay container.\n     */\n    PluggableMap.prototype.getOverlayContainer = function getOverlayContainer () {\n      return this.overlayContainer_;\n    };\n\n    /**\n     * Get the element that serves as a container for overlays that don't allow\n     * event propagation. Elements added to this container won't let mousedown and\n     * touchstart events through to the map, so clicks and gestures on an overlay\n     * don't trigger any {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n     * @return {!HTMLElement} The map's overlay container that stops events.\n     */\n    PluggableMap.prototype.getOverlayContainerStopEvent = function getOverlayContainerStopEvent () {\n      return this.overlayContainerStopEvent_;\n    };\n\n    /**\n     * @param {import(\"./Tile.js\").default} tile Tile.\n     * @param {string} tileSourceKey Tile source key.\n     * @param {import(\"./coordinate.js\").Coordinate} tileCenter Tile center.\n     * @param {number} tileResolution Tile resolution.\n     * @return {number} Tile priority.\n     */\n    PluggableMap.prototype.getTilePriority = function getTilePriority (tile, tileSourceKey, tileCenter, tileResolution) {\n      // Filter out tiles at higher zoom levels than the current zoom level, or that\n      // are outside the visible extent.\n      var frameState = this.frameState_;\n      if (!frameState || !(tileSourceKey in frameState.wantedTiles)) {\n        return DROP;\n      }\n      if (!frameState.wantedTiles[tileSourceKey][tile.getKey()]) {\n        return DROP;\n      }\n      // Prioritize the highest zoom level tiles closest to the focus.\n      // Tiles at higher zoom levels are prioritized using Math.log(tileResolution).\n      // Within a zoom level, tiles are prioritized by the distance in pixels\n      // between the center of the tile and the focus.  The factor of 65536 means\n      // that the prioritization should behave as desired for tiles up to\n      // 65536 * Math.log(2) = 45426 pixels from the focus.\n      var deltaX = tileCenter[0] - frameState.focus[0];\n      var deltaY = tileCenter[1] - frameState.focus[1];\n      return 65536 * Math.log(tileResolution) +\n          Math.sqrt(deltaX * deltaX + deltaY * deltaY) / tileResolution;\n    };\n\n    /**\n     * @param {Event} browserEvent Browser event.\n     * @param {string=} opt_type Type.\n     */\n    PluggableMap.prototype.handleBrowserEvent = function handleBrowserEvent (browserEvent, opt_type) {\n      var type = opt_type || browserEvent.type;\n      var mapBrowserEvent = new MapBrowserEvent(type, this, browserEvent);\n      this.handleMapBrowserEvent(mapBrowserEvent);\n    };\n\n    /**\n     * @param {MapBrowserEvent} mapBrowserEvent The event to handle.\n     */\n    PluggableMap.prototype.handleMapBrowserEvent = function handleMapBrowserEvent (mapBrowserEvent) {\n      if (!this.frameState_) {\n        // With no view defined, we cannot translate pixels into geographical\n        // coordinates so interactions cannot be used.\n        return;\n      }\n      this.focus_ = mapBrowserEvent.coordinate;\n      mapBrowserEvent.frameState = this.frameState_;\n      var interactionsArray = this.getInteractions().getArray();\n      if (this.dispatchEvent(mapBrowserEvent) !== false) {\n        for (var i = interactionsArray.length - 1; i >= 0; i--) {\n          var interaction = interactionsArray[i];\n          if (!interaction.getActive()) {\n            continue;\n          }\n          var cont = interaction.handleEvent(mapBrowserEvent);\n          if (!cont) {\n            break;\n          }\n        }\n      }\n    };\n\n    /**\n     * @protected\n     */\n    PluggableMap.prototype.handlePostRender = function handlePostRender () {\n\n      var frameState = this.frameState_;\n\n      // Manage the tile queue\n      // Image loads are expensive and a limited resource, so try to use them\n      // efficiently:\n      // * When the view is static we allow a large number of parallel tile loads\n      //   to complete the frame as quickly as possible.\n      // * When animating or interacting, image loads can cause janks, so we reduce\n      //   the maximum number of loads per frame and limit the number of parallel\n      //   tile loads to remain reactive to view changes and to reduce the chance of\n      //   loading tiles that will quickly disappear from view.\n      var tileQueue = this.tileQueue_;\n      if (!tileQueue.isEmpty()) {\n        var maxTotalLoading = this.maxTilesLoading_;\n        var maxNewLoads = maxTotalLoading;\n        if (frameState) {\n          var hints = frameState.viewHints;\n          if (hints[ViewHint.ANIMATING]) {\n            maxTotalLoading = this.loadTilesWhileAnimating_ ? 8 : 0;\n            maxNewLoads = 2;\n          }\n          if (hints[ViewHint.INTERACTING]) {\n            maxTotalLoading = this.loadTilesWhileInteracting_ ? 8 : 0;\n            maxNewLoads = 2;\n          }\n        }\n        if (tileQueue.getTilesLoading() < maxTotalLoading) {\n          tileQueue.reprioritize(); // FIXME only call if view has changed\n          tileQueue.loadMoreTiles(maxTotalLoading, maxNewLoads);\n        }\n      }\n      if (frameState && this.hasListener(RenderEventType.RENDERCOMPLETE) && !frameState.animate &&\n          !this.tileQueue_.getTilesLoading() && !getLoading(this.getLayers().getArray())) {\n        this.renderer_.dispatchRenderEvent(RenderEventType.RENDERCOMPLETE, frameState);\n      }\n\n      var postRenderFunctions = this.postRenderFunctions_;\n      for (var i = 0, ii = postRenderFunctions.length; i < ii; ++i) {\n        postRenderFunctions[i](this, frameState);\n      }\n      postRenderFunctions.length = 0;\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleSizeChanged_ = function handleSizeChanged_ () {\n      this.render();\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleTargetChanged_ = function handleTargetChanged_ () {\n      // target may be undefined, null, a string or an Element.\n      // If it's a string we convert it to an Element before proceeding.\n      // If it's not now an Element we remove the viewport from the DOM.\n      // If it's an Element we append the viewport element to it.\n\n      var targetElement;\n      if (this.getTarget()) {\n        targetElement = this.getTargetElement();\n      }\n\n      if (this.keyHandlerKeys_) {\n        for (var i = 0, ii = this.keyHandlerKeys_.length; i < ii; ++i) {\n          unlistenByKey(this.keyHandlerKeys_[i]);\n        }\n        this.keyHandlerKeys_ = null;\n      }\n\n      if (!targetElement) {\n        this.renderer_.removeLayerRenderers();\n        removeNode(this.viewport_);\n        if (this.handleResize_ !== undefined) {\n          removeEventListener(EventType.RESIZE, this.handleResize_, false);\n          this.handleResize_ = undefined;\n        }\n      } else {\n        targetElement.appendChild(this.viewport_);\n\n        var keyboardEventTarget = !this.keyboardEventTarget_ ?\n          targetElement : this.keyboardEventTarget_;\n        this.keyHandlerKeys_ = [\n          listen(keyboardEventTarget, EventType.KEYDOWN, this.handleBrowserEvent, this),\n          listen(keyboardEventTarget, EventType.KEYPRESS, this.handleBrowserEvent, this)\n        ];\n\n        if (!this.handleResize_) {\n          this.handleResize_ = this.updateSize.bind(this);\n          addEventListener(EventType.RESIZE, this.handleResize_, false);\n        }\n      }\n\n      this.updateSize();\n      // updateSize calls setSize, so no need to call this.render\n      // ourselves here.\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleTileChange_ = function handleTileChange_ () {\n      this.render();\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleViewPropertyChanged_ = function handleViewPropertyChanged_ () {\n      this.render();\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleViewChanged_ = function handleViewChanged_ () {\n      if (this.viewPropertyListenerKey_) {\n        unlistenByKey(this.viewPropertyListenerKey_);\n        this.viewPropertyListenerKey_ = null;\n      }\n      if (this.viewChangeListenerKey_) {\n        unlistenByKey(this.viewChangeListenerKey_);\n        this.viewChangeListenerKey_ = null;\n      }\n      var view = this.getView();\n      if (view) {\n        this.viewport_.setAttribute('data-view', getUid(view));\n        this.viewPropertyListenerKey_ = listen(\n          view, ObjectEventType.PROPERTYCHANGE,\n          this.handleViewPropertyChanged_, this);\n        this.viewChangeListenerKey_ = listen(\n          view, EventType.CHANGE,\n          this.handleViewPropertyChanged_, this);\n      }\n      this.render();\n    };\n\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleLayerGroupChanged_ = function handleLayerGroupChanged_ () {\n      if (this.layerGroupPropertyListenerKeys_) {\n        this.layerGroupPropertyListenerKeys_.forEach(unlistenByKey);\n        this.layerGroupPropertyListenerKeys_ = null;\n      }\n      var layerGroup = this.getLayerGroup();\n      if (layerGroup) {\n        this.layerGroupPropertyListenerKeys_ = [\n          listen(\n            layerGroup, ObjectEventType.PROPERTYCHANGE,\n            this.render, this),\n          listen(\n            layerGroup, EventType.CHANGE,\n            this.render, this)\n        ];\n      }\n      this.render();\n    };\n\n    /**\n     * @return {boolean} Is rendered.\n     */\n    PluggableMap.prototype.isRendered = function isRendered () {\n      return !!this.frameState_;\n    };\n\n    /**\n     * Requests an immediate render in a synchronous manner.\n     * @api\n     */\n    PluggableMap.prototype.renderSync = function renderSync () {\n      if (this.animationDelayKey_) {\n        cancelAnimationFrame(this.animationDelayKey_);\n      }\n      this.animationDelay_();\n    };\n\n    /**\n     * Request a map rendering (at the next animation frame).\n     * @api\n     */\n    PluggableMap.prototype.render = function render () {\n      if (this.animationDelayKey_ === undefined) {\n        this.animationDelayKey_ = requestAnimationFrame(this.animationDelay_);\n      }\n    };\n\n    /**\n     * Remove the given control from the map.\n     * @param {import(\"./control/Control.js\").default} control Control.\n     * @return {import(\"./control/Control.js\").default|undefined} The removed control (or undefined\n     *     if the control was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeControl = function removeControl (control) {\n      return this.getControls().remove(control);\n    };\n\n    /**\n     * Remove the given interaction from the map.\n     * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction to remove.\n     * @return {import(\"./interaction/Interaction.js\").default|undefined} The removed interaction (or\n     *     undefined if the interaction was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeInteraction = function removeInteraction (interaction) {\n      return this.getInteractions().remove(interaction);\n    };\n\n    /**\n     * Removes the given layer from the map.\n     * @param {import(\"./layer/Base.js\").default} layer Layer.\n     * @return {import(\"./layer/Base.js\").default|undefined} The removed layer (or undefined if the\n     *     layer was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeLayer = function removeLayer (layer) {\n      var layers = this.getLayerGroup().getLayers();\n      return layers.remove(layer);\n    };\n\n    /**\n     * Remove the given overlay from the map.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @return {import(\"./Overlay.js\").default|undefined} The removed overlay (or undefined\n     *     if the overlay was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeOverlay = function removeOverlay (overlay) {\n      return this.getOverlays().remove(overlay);\n    };\n\n    /**\n     * @param {number} time Time.\n     * @private\n     */\n    PluggableMap.prototype.renderFrame_ = function renderFrame_ (time) {\n      var viewState;\n\n      var size = this.getSize();\n      var view = this.getView();\n      var extent = createEmpty();\n      var previousFrameState = this.frameState_;\n      /** @type {?FrameState} */\n      var frameState = null;\n      if (size !== undefined && hasArea(size) && view && view.isDef()) {\n        var viewHints = view.getHints(this.frameState_ ? this.frameState_.viewHints : undefined);\n        var layerStatesArray = this.getLayerGroup().getLayerStatesArray();\n        var layerStates = {};\n        for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n          layerStates[getUid(layerStatesArray[i].layer)] = layerStatesArray[i];\n        }\n        viewState = view.getState(this.pixelRatio_);\n        frameState = /** @type {FrameState} */ ({\n          animate: false,\n          coordinateToPixelTransform: this.coordinateToPixelTransform_,\n          extent: extent,\n          focus: this.focus_ ? this.focus_ : viewState.center,\n          index: this.frameIndex_++,\n          layerStates: layerStates,\n          layerStatesArray: layerStatesArray,\n          pixelRatio: this.pixelRatio_,\n          pixelToCoordinateTransform: this.pixelToCoordinateTransform_,\n          postRenderFunctions: [],\n          size: size,\n          skippedFeatureUids: this.skippedFeatureUids_,\n          tileQueue: this.tileQueue_,\n          time: time,\n          usedTiles: {},\n          viewState: viewState,\n          viewHints: viewHints,\n          wantedTiles: {}\n        });\n      }\n\n      if (frameState) {\n        frameState.extent = getForViewAndSize(viewState.center,\n          viewState.resolution, viewState.rotation, frameState.size, extent);\n      }\n\n      this.frameState_ = frameState;\n      this.renderer_.renderFrame(frameState);\n\n      if (frameState) {\n        if (frameState.animate) {\n          this.render();\n        }\n        Array.prototype.push.apply(this.postRenderFunctions_, frameState.postRenderFunctions);\n\n        if (previousFrameState) {\n          var moveStart = !this.previousExtent_ ||\n                      (!isEmpty$1(this.previousExtent_) &&\n                      !equals$2(frameState.extent, this.previousExtent_));\n          if (moveStart) {\n            this.dispatchEvent(\n              new MapEvent(MapEventType.MOVESTART, this, previousFrameState));\n            this.previousExtent_ = createOrUpdateEmpty(this.previousExtent_);\n          }\n        }\n\n        var idle = this.previousExtent_ &&\n            !frameState.viewHints[ViewHint.ANIMATING] &&\n            !frameState.viewHints[ViewHint.INTERACTING] &&\n            !equals$2(frameState.extent, this.previousExtent_);\n\n        if (idle) {\n          this.dispatchEvent(new MapEvent(MapEventType.MOVEEND, this, frameState));\n          clone(frameState.extent, this.previousExtent_);\n        }\n      }\n\n      this.dispatchEvent(new MapEvent(MapEventType.POSTRENDER, this, frameState));\n\n      setTimeout(this.handlePostRender.bind(this), 0);\n\n    };\n\n    /**\n     * Sets the layergroup of this map.\n     * @param {LayerGroup} layerGroup A layer group containing the layers in this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setLayerGroup = function setLayerGroup (layerGroup) {\n      this.set(MapProperty.LAYERGROUP, layerGroup);\n    };\n\n    /**\n     * Set the size of this map.\n     * @param {import(\"./size.js\").Size|undefined} size The size in pixels of the map in the DOM.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setSize = function setSize (size) {\n      this.set(MapProperty.SIZE, size);\n    };\n\n    /**\n     * Set the target element to render this map into.\n     * @param {HTMLElement|string|undefined} target The Element or id of the Element\n     *     that the map is rendered in.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setTarget = function setTarget (target) {\n      this.set(MapProperty.TARGET, target);\n    };\n\n    /**\n     * Set the view for this map.\n     * @param {View} view The view that controls this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setView = function setView (view) {\n      this.set(MapProperty.VIEW, view);\n    };\n\n    /**\n     * @param {import(\"./Feature.js\").default} feature Feature.\n     */\n    PluggableMap.prototype.skipFeature = function skipFeature (feature) {\n      this.skippedFeatureUids_[getUid(feature)] = true;\n      this.render();\n    };\n\n    /**\n     * Force a recalculation of the map viewport size.  This should be called when\n     * third-party code changes the size of the map viewport.\n     * @api\n     */\n    PluggableMap.prototype.updateSize = function updateSize () {\n      var targetElement = this.getTargetElement();\n\n      if (!targetElement) {\n        this.setSize(undefined);\n      } else {\n        var computedStyle = getComputedStyle(targetElement);\n        this.setSize([\n          targetElement.offsetWidth -\n              parseFloat(computedStyle['borderLeftWidth']) -\n              parseFloat(computedStyle['paddingLeft']) -\n              parseFloat(computedStyle['paddingRight']) -\n              parseFloat(computedStyle['borderRightWidth']),\n          targetElement.offsetHeight -\n              parseFloat(computedStyle['borderTopWidth']) -\n              parseFloat(computedStyle['paddingTop']) -\n              parseFloat(computedStyle['paddingBottom']) -\n              parseFloat(computedStyle['borderBottomWidth'])\n        ]);\n      }\n    };\n\n    /**\n     * @param {import(\"./Feature.js\").default} feature Feature.\n     */\n    PluggableMap.prototype.unskipFeature = function unskipFeature (feature) {\n      delete this.skippedFeatureUids_[getUid(feature)];\n      this.render();\n    };\n\n    return PluggableMap;\n  }(BaseObject));\n\n\n  /**\n   * @param {MapOptions} options Map options.\n   * @return {MapOptionsInternal} Internal map options.\n   */\n  function createOptionsInternal(options) {\n\n    /**\n     * @type {HTMLElement|Document}\n     */\n    var keyboardEventTarget = null;\n    if (options.keyboardEventTarget !== undefined) {\n      keyboardEventTarget = typeof options.keyboardEventTarget === 'string' ?\n        document.getElementById(options.keyboardEventTarget) :\n        options.keyboardEventTarget;\n    }\n\n    /**\n     * @type {Object<string, *>}\n     */\n    var values = {};\n\n    var layerGroup = options.layers && typeof /** @type {?} */ (options.layers).getLayers === 'function' ?\n      /** @type {LayerGroup} */ (options.layers) : new LayerGroup({layers: /** @type {Collection} */ (options.layers)});\n    values[MapProperty.LAYERGROUP] = layerGroup;\n\n    values[MapProperty.TARGET] = options.target;\n\n    values[MapProperty.VIEW] = options.view !== undefined ?\n      options.view : new View();\n\n    var controls;\n    if (options.controls !== undefined) {\n      if (Array.isArray(options.controls)) {\n        controls = new Collection(options.controls.slice());\n      } else {\n        assert(typeof /** @type {?} */ (options.controls).getArray === 'function',\n          47); // Expected `controls` to be an array or an `import(\"./Collection.js\").Collection`\n        controls = /** @type {Collection} */ (options.controls);\n      }\n    }\n\n    var interactions;\n    if (options.interactions !== undefined) {\n      if (Array.isArray(options.interactions)) {\n        interactions = new Collection(options.interactions.slice());\n      } else {\n        assert(typeof /** @type {?} */ (options.interactions).getArray === 'function',\n          48); // Expected `interactions` to be an array or an `import(\"./Collection.js\").Collection`\n        interactions = /** @type {Collection} */ (options.interactions);\n      }\n    }\n\n    var overlays;\n    if (options.overlays !== undefined) {\n      if (Array.isArray(options.overlays)) {\n        overlays = new Collection(options.overlays.slice());\n      } else {\n        assert(typeof /** @type {?} */ (options.overlays).getArray === 'function',\n          49); // Expected `overlays` to be an array or an `import(\"./Collection.js\").Collection`\n        overlays = options.overlays;\n      }\n    } else {\n      overlays = new Collection();\n    }\n\n    return {\n      controls: controls,\n      interactions: interactions,\n      keyboardEventTarget: keyboardEventTarget,\n      overlays: overlays,\n      values: values\n    };\n\n  }\n\n  /**\n   * @param  {Array<import(\"./layer/Base.js\").default>} layers Layers.\n   * @return {boolean} Layers have sources that are still loading.\n   */\n  function getLoading(layers) {\n    for (var i = 0, ii = layers.length; i < ii; ++i) {\n      var layer = layers[i];\n      if (typeof /** @type {?} */ (layer).getLayers === 'function') {\n        return getLoading(/** @type {LayerGroup} */ (layer).getLayers().getArray());\n      } else {\n        var source = /** @type {import(\"./layer/Layer.js\").default} */ (\n          layer).getSource();\n        if (source && source.loading) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * @module ol/control/Control\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {HTMLElement} [element] The element is the control's\n   * container element. This only needs to be specified if you're developing\n   * a custom control.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when\n   * the control should be re-rendered. This is called in a `requestAnimationFrame`\n   * callback.\n   * @property {HTMLElement|string} [target] Specify a target if you want\n   * the control to be rendered outside of the map's viewport.\n   */\n\n\n  /**\n   * @classdesc\n   * A control is a visible widget with a DOM element in a fixed position on the\n   * screen. They can involve user input (buttons), or be informational only;\n   * the position is determined using CSS. By default these are placed in the\n   * container with CSS class name `ol-overlaycontainer-stopevent`, but can use\n   * any outside DOM element.\n   *\n   * This is the base class for controls. You can use it for simple custom\n   * controls by creating the element with listeners, creating an instance:\n   * ```js\n   * var myControl = new Control({element: myElement});\n   * ```\n   * and then adding this to the map.\n   *\n   * The main advantage of having this as a control rather than a simple separate\n   * DOM element is that preventing propagation is handled for you. Controls\n   * will also be objects in a {@link module:ol/Collection~Collection}, so you can use their methods.\n   *\n   * You can also extend this base for your own control class. See\n   * examples/custom-controls for an example of how to do this.\n   *\n   * @api\n   */\n  var Control = /*@__PURE__*/(function (BaseObject$$1) {\n    function Control(options) {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @protected\n       * @type {HTMLElement}\n       */\n      this.element = options.element ? options.element : null;\n\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.target_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../PluggableMap.js\").default}\n       */\n      this.map_ = null;\n\n      /**\n       * @protected\n       * @type {!Array<import(\"../events.js\").EventsKey>}\n       */\n      this.listenerKeys = [];\n\n      /**\n       * @type {function(import(\"../MapEvent.js\").default)}\n       */\n      this.render = options.render ? options.render : VOID;\n\n      if (options.target) {\n        this.setTarget(options.target);\n      }\n\n    }\n\n    if ( BaseObject$$1 ) Control.__proto__ = BaseObject$$1;\n    Control.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Control.prototype.constructor = Control;\n\n    /**\n     * @inheritDoc\n     */\n    Control.prototype.disposeInternal = function disposeInternal () {\n      removeNode(this.element);\n      BaseObject$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * Get the map associated with this control.\n     * @return {import(\"../PluggableMap.js\").default} Map.\n     * @api\n     */\n    Control.prototype.getMap = function getMap () {\n      return this.map_;\n    };\n\n    /**\n     * Remove the control from its current map and attach it to the new map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @api\n     */\n    Control.prototype.setMap = function setMap (map) {\n      if (this.map_) {\n        removeNode(this.element);\n      }\n      for (var i = 0, ii = this.listenerKeys.length; i < ii; ++i) {\n        unlistenByKey(this.listenerKeys[i]);\n      }\n      this.listenerKeys.length = 0;\n      this.map_ = map;\n      if (this.map_) {\n        var target = this.target_ ?\n          this.target_ : map.getOverlayContainerStopEvent();\n        target.appendChild(this.element);\n        if (this.render !== VOID) {\n          this.listenerKeys.push(listen(map,\n            MapEventType.POSTRENDER, this.render, this));\n        }\n        map.render();\n      }\n    };\n\n    /**\n     * This function is used to set a target element for the control. It has no\n     * effect if it is called after the control has been added to the map (i.e.\n     * after `setMap` is called on the control). If no `target` is set in the\n     * options passed to the control constructor and if `setTarget` is not called\n     * then the control is added to the map's overlay container.\n     * @param {HTMLElement|string} target Target.\n     * @api\n     */\n    Control.prototype.setTarget = function setTarget (target) {\n      this.target_ = typeof target === 'string' ?\n        document.getElementById(target) :\n        target;\n    };\n\n    return Control;\n  }(BaseObject));\n\n  /**\n   * @module ol/css\n   */\n\n\n  /**\n   * The CSS class for hidden feature.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_HIDDEN = 'ol-hidden';\n\n\n  /**\n   * The CSS class that we'll give the DOM elements to have them selectable.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_SELECTABLE = 'ol-selectable';\n\n\n  /**\n   * The CSS class that we'll give the DOM elements to have them unselectable.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_UNSELECTABLE = 'ol-unselectable';\n\n\n  /**\n   * The CSS class for unsupported feature.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_UNSUPPORTED = 'ol-unsupported';\n\n\n  /**\n   * The CSS class for controls.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_CONTROL = 'ol-control';\n\n\n  /**\n   * The CSS class that we'll give the DOM elements that are collapsed, i.e.\n   * to those elements which usually can be expanded.\n   *\n   * @const\n   * @type {string}\n   */\n  var CLASS_COLLAPSED = 'ol-collapsed';\n\n\n  /**\n   * Get the list of font families from a font spec.  Note that this doesn't work\n   * for font families that have commas in them.\n   * @param {string} The CSS font property.\n   * @return {Object<string>} The font families (or null if the input spec is invalid).\n   */\n  var getFontFamilies = (function() {\n    var style;\n    var cache = {};\n    return function(font) {\n      if (!style) {\n        style = document.createElement('div').style;\n      }\n      if (!(font in cache)) {\n        style.font = font;\n        var family = style.fontFamily;\n        style.font = '';\n        if (!family) {\n          return null;\n        }\n        cache[font] = family.split(/,\\s?/);\n      }\n      return cache[font];\n    };\n  })();\n\n  /**\n   * @module ol/layer/Layer\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [opacity=1] Opacity (0, 1).\n   * @property {boolean} [visible=true] Visibility.\n   * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n   * rendered outside of this extent.\n   * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n   * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n   * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n   * method was used.\n   * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n   * visible.\n   * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n   * be visible.\n   * @property {import(\"../source/Source.js\").default} [source] Source for this layer.  If not provided to the constructor,\n   * the source can be set by calling {@link module:ol/layer/Layer#setSource layer.setSource(source)} after\n   * construction.\n   * @property {import(\"../PluggableMap.js\").default} [map] Map.\n   */\n\n\n  /**\n   * @typedef {Object} State\n   * @property {import(\"./Base.js\").default} layer\n   * @property {number} opacity\n   * @property {SourceState} sourceState\n   * @property {boolean} visible\n   * @property {boolean} managed\n   * @property {import(\"../extent.js\").Extent} [extent]\n   * @property {number} zIndex\n   * @property {number} maxResolution\n   * @property {number} minResolution\n   */\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * A visual representation of raster or vector map data.\n   * Layers group together those properties that pertain to how the data is to be\n   * displayed, irrespective of the source of that data.\n   *\n   * Layers are usually added to a map with {@link module:ol/Map#addLayer}. Components\n   * like {@link module:ol/interaction/Select~Select} use unmanaged layers\n   * internally. These unmanaged layers are associated with the map using\n   * {@link module:ol/layer/Layer~Layer#setMap} instead.\n   *\n   * A generic `change` event is fired when the state of the source changes.\n   *\n   * @fires import(\"../render/Event.js\").RenderEvent\n   */\n  var Layer = /*@__PURE__*/(function (BaseLayer$$1) {\n    function Layer(options) {\n\n      var baseOptions = assign({}, options);\n      delete baseOptions.source;\n\n      BaseLayer$$1.call(this, baseOptions);\n\n      /**\n       * @private\n       * @type {?import(\"../events.js\").EventsKey}\n       */\n      this.mapPrecomposeKey_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../events.js\").EventsKey}\n       */\n      this.mapRenderKey_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../events.js\").EventsKey}\n       */\n      this.sourceChangeKey_ = null;\n\n      if (options.map) {\n        this.setMap(options.map);\n      }\n\n      listen(this,\n        getChangeEventType(LayerProperty.SOURCE),\n        this.handleSourcePropertyChange_, this);\n\n      var source = options.source ? options.source : null;\n      this.setSource(source);\n    }\n\n    if ( BaseLayer$$1 ) Layer.__proto__ = BaseLayer$$1;\n    Layer.prototype = Object.create( BaseLayer$$1 && BaseLayer$$1.prototype );\n    Layer.prototype.constructor = Layer;\n\n    /**\n     * @inheritDoc\n     */\n    Layer.prototype.getLayersArray = function getLayersArray (opt_array) {\n      var array = opt_array ? opt_array : [];\n      array.push(this);\n      return array;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Layer.prototype.getLayerStatesArray = function getLayerStatesArray (opt_states) {\n      var states = opt_states ? opt_states : [];\n      states.push(this.getLayerState());\n      return states;\n    };\n\n    /**\n     * Get the layer source.\n     * @return {import(\"../source/Source.js\").default} The layer source (or `null` if not yet set).\n     * @observable\n     * @api\n     */\n    Layer.prototype.getSource = function getSource () {\n      var source = this.get(LayerProperty.SOURCE);\n      return (\n        /** @type {import(\"../source/Source.js\").default} */ (source) || null\n      );\n    };\n\n    /**\n      * @inheritDoc\n      */\n    Layer.prototype.getSourceState = function getSourceState () {\n      var source = this.getSource();\n      return !source ? SourceState.UNDEFINED : source.getState();\n    };\n\n    /**\n     * @private\n     */\n    Layer.prototype.handleSourceChange_ = function handleSourceChange_ () {\n      this.changed();\n    };\n\n    /**\n     * @private\n     */\n    Layer.prototype.handleSourcePropertyChange_ = function handleSourcePropertyChange_ () {\n      if (this.sourceChangeKey_) {\n        unlistenByKey(this.sourceChangeKey_);\n        this.sourceChangeKey_ = null;\n      }\n      var source = this.getSource();\n      if (source) {\n        this.sourceChangeKey_ = listen(source,\n          EventType.CHANGE, this.handleSourceChange_, this);\n      }\n      this.changed();\n    };\n\n    /**\n     * Sets the layer to be rendered on top of other layers on a map. The map will\n     * not manage this layer in its layers collection, and the callback in\n     * {@link module:ol/Map#forEachLayerAtPixel} will receive `null` as layer. This\n     * is useful for temporary layers. To remove an unmanaged layer from the map,\n     * use `#setMap(null)`.\n     *\n     * To add the layer to a map and have it managed by the map, use\n     * {@link module:ol/Map#addLayer} instead.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @api\n     */\n    Layer.prototype.setMap = function setMap (map) {\n      if (this.mapPrecomposeKey_) {\n        unlistenByKey(this.mapPrecomposeKey_);\n        this.mapPrecomposeKey_ = null;\n      }\n      if (!map) {\n        this.changed();\n      }\n      if (this.mapRenderKey_) {\n        unlistenByKey(this.mapRenderKey_);\n        this.mapRenderKey_ = null;\n      }\n      if (map) {\n        this.mapPrecomposeKey_ = listen(map, RenderEventType.PRECOMPOSE, function(evt) {\n          var renderEvent = /** @type {import(\"../render/Event.js\").default} */ (evt);\n          var layerState = this.getLayerState();\n          layerState.managed = false;\n          if (this.getZIndex() === undefined) {\n            layerState.zIndex = Infinity;\n          }\n          renderEvent.frameState.layerStatesArray.push(layerState);\n          renderEvent.frameState.layerStates[getUid(this)] = layerState;\n        }, this);\n        this.mapRenderKey_ = listen(this, EventType.CHANGE, map.render, map);\n        this.changed();\n      }\n    };\n\n    /**\n     * Set the layer source.\n     * @param {import(\"../source/Source.js\").default} source The layer source.\n     * @observable\n     * @api\n     */\n    Layer.prototype.setSource = function setSource (source) {\n      this.set(LayerProperty.SOURCE, source);\n    };\n\n    return Layer;\n  }(BaseLayer));\n\n\n  /**\n   * Return `true` if the layer is visible, and if the passed resolution is\n   * between the layer's minResolution and maxResolution. The comparison is\n   * inclusive for `minResolution` and exclusive for `maxResolution`.\n   * @param {State} layerState Layer state.\n   * @param {number} resolution Resolution.\n   * @return {boolean} The layer is visible at the given resolution.\n   */\n  function visibleAtResolution(layerState, resolution) {\n    return layerState.visible && resolution >= layerState.minResolution &&\n        resolution < layerState.maxResolution;\n  }\n\n  /**\n   * @module ol/control/Attribution\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-attribution'] CSS class name.\n   * @property {HTMLElement|string} [target] Specify a target if you\n   * want the control to be rendered outside of the map's\n   * viewport.\n   * @property {boolean} [collapsible] Specify if attributions can\n   * be collapsed. If not specified, sources control this behavior with their\n   * `attributionsCollapsible` setting.\n   * @property {boolean} [collapsed=true] Specify if attributions should\n   * be collapsed at startup.\n   * @property {string} [tipLabel='Attributions'] Text label to use for the button tip.\n   * @property {string} [label='i'] Text label to use for the\n   * collapsed attributions button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string|HTMLElement} [collapseLabel='»'] Text label to use\n   * for the expanded attributions button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when\n   * the control should be re-rendered. This is called in a `requestAnimationFrame`\n   * callback.\n   */\n\n\n  /**\n   * @classdesc\n   * Control to show all the attributions associated with the layer sources\n   * in the map. This control is one of the default controls included in maps.\n   * By default it will show in the bottom right portion of the map, but this can\n   * be changed by using a css selector for `.ol-attribution`.\n   *\n   * @api\n   */\n  var Attribution = /*@__PURE__*/(function (Control$$1) {\n    function Attribution(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        render: options.render || render,\n        target: options.target\n      });\n\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.ulElement_ = document.createElement('ul');\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.collapsed_ = options.collapsed !== undefined ? options.collapsed : true;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.overrideCollapsible_ = options.collapsible !== undefined;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.collapsible_ = options.collapsible !== undefined ?\n        options.collapsible : true;\n\n      if (!this.collapsible_) {\n        this.collapsed_ = false;\n      }\n\n      var className = options.className !== undefined ? options.className : 'ol-attribution';\n\n      var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Attributions';\n\n      var collapseLabel = options.collapseLabel !== undefined ? options.collapseLabel : '\\u00BB';\n\n      if (typeof collapseLabel === 'string') {\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        this.collapseLabel_ = document.createElement('span');\n        this.collapseLabel_.textContent = collapseLabel;\n      } else {\n        this.collapseLabel_ = collapseLabel;\n      }\n\n      var label = options.label !== undefined ? options.label : 'i';\n\n      if (typeof label === 'string') {\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        this.label_ = document.createElement('span');\n        this.label_.textContent = label;\n      } else {\n        this.label_ = label;\n      }\n\n\n      var activeLabel = (this.collapsible_ && !this.collapsed_) ?\n        this.collapseLabel_ : this.label_;\n      var button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.title = tipLabel;\n      button.appendChild(activeLabel);\n\n      listen(button, EventType.CLICK, this.handleClick_, this);\n\n      var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL +\n          (this.collapsed_ && this.collapsible_ ? ' ' + CLASS_COLLAPSED : '') +\n          (this.collapsible_ ? '' : ' ol-uncollapsible');\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(this.ulElement_);\n      element.appendChild(button);\n\n      /**\n       * A list of currently rendered resolutions.\n       * @type {Array<string>}\n       * @private\n       */\n      this.renderedAttributions_ = [];\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderedVisible_ = true;\n\n    }\n\n    if ( Control$$1 ) Attribution.__proto__ = Control$$1;\n    Attribution.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    Attribution.prototype.constructor = Attribution;\n\n    /**\n     * Collect a list of visible attributions and set the collapsible state.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {Array<string>} Attributions.\n     * @private\n     */\n    Attribution.prototype.collectSourceAttributions_ = function collectSourceAttributions_ (frameState) {\n      /**\n       * Used to determine if an attribution already exists.\n       * @type {!Object<string, boolean>}\n       */\n      var lookup = {};\n\n      /**\n       * A list of visible attributions.\n       * @type {Array<string>}\n       */\n      var visibleAttributions = [];\n\n      var layerStatesArray = frameState.layerStatesArray;\n      var resolution = frameState.viewState.resolution;\n      for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n        var layerState = layerStatesArray[i];\n        if (!visibleAtResolution(layerState, resolution)) {\n          continue;\n        }\n\n        var source = /** @type {import(\"../layer/Layer.js\").default} */ (layerState.layer).getSource();\n        if (!source) {\n          continue;\n        }\n\n        var attributionGetter = source.getAttributions();\n        if (!attributionGetter) {\n          continue;\n        }\n\n        var attributions = attributionGetter(frameState);\n        if (!attributions) {\n          continue;\n        }\n\n        if (!this.overrideCollapsible_ && source.getAttributionsCollapsible() === false) {\n          this.setCollapsible(false);\n        }\n\n        if (Array.isArray(attributions)) {\n          for (var j = 0, jj = attributions.length; j < jj; ++j) {\n            if (!(attributions[j] in lookup)) {\n              visibleAttributions.push(attributions[j]);\n              lookup[attributions[j]] = true;\n            }\n          }\n        } else {\n          if (!(attributions in lookup)) {\n            visibleAttributions.push(attributions);\n            lookup[attributions] = true;\n          }\n        }\n      }\n      return visibleAttributions;\n    };\n\n    /**\n     * @private\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    Attribution.prototype.updateElement_ = function updateElement_ (frameState) {\n      if (!frameState) {\n        if (this.renderedVisible_) {\n          this.element.style.display = 'none';\n          this.renderedVisible_ = false;\n        }\n        return;\n      }\n\n      var attributions = this.collectSourceAttributions_(frameState);\n\n      var visible = attributions.length > 0;\n      if (this.renderedVisible_ != visible) {\n        this.element.style.display = visible ? '' : 'none';\n        this.renderedVisible_ = visible;\n      }\n\n      if (equals(attributions, this.renderedAttributions_)) {\n        return;\n      }\n\n      removeChildren(this.ulElement_);\n\n      // append the attributions\n      for (var i = 0, ii = attributions.length; i < ii; ++i) {\n        var element = document.createElement('li');\n        element.innerHTML = attributions[i];\n        this.ulElement_.appendChild(element);\n      }\n\n      this.renderedAttributions_ = attributions;\n    };\n\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Attribution.prototype.handleClick_ = function handleClick_ (event) {\n      event.preventDefault();\n      this.handleToggle_();\n    };\n\n    /**\n     * @private\n     */\n    Attribution.prototype.handleToggle_ = function handleToggle_ () {\n      this.element.classList.toggle(CLASS_COLLAPSED);\n      if (this.collapsed_) {\n        replaceNode(this.collapseLabel_, this.label_);\n      } else {\n        replaceNode(this.label_, this.collapseLabel_);\n      }\n      this.collapsed_ = !this.collapsed_;\n    };\n\n    /**\n     * Return `true` if the attribution is collapsible, `false` otherwise.\n     * @return {boolean} True if the widget is collapsible.\n     * @api\n     */\n    Attribution.prototype.getCollapsible = function getCollapsible () {\n      return this.collapsible_;\n    };\n\n    /**\n     * Set whether the attribution should be collapsible.\n     * @param {boolean} collapsible True if the widget is collapsible.\n     * @api\n     */\n    Attribution.prototype.setCollapsible = function setCollapsible (collapsible) {\n      if (this.collapsible_ === collapsible) {\n        return;\n      }\n      this.collapsible_ = collapsible;\n      this.element.classList.toggle('ol-uncollapsible');\n      if (!collapsible && this.collapsed_) {\n        this.handleToggle_();\n      }\n    };\n\n    /**\n     * Collapse or expand the attribution according to the passed parameter. Will\n     * not do anything if the attribution isn't collapsible or if the current\n     * collapsed state is already the one requested.\n     * @param {boolean} collapsed True if the widget is collapsed.\n     * @api\n     */\n    Attribution.prototype.setCollapsed = function setCollapsed (collapsed) {\n      if (!this.collapsible_ || this.collapsed_ === collapsed) {\n        return;\n      }\n      this.handleToggle_();\n    };\n\n    /**\n     * Return `true` when the attribution is currently collapsed or `false`\n     * otherwise.\n     * @return {boolean} True if the widget is collapsed.\n     * @api\n     */\n    Attribution.prototype.getCollapsed = function getCollapsed () {\n      return this.collapsed_;\n    };\n\n    return Attribution;\n  }(Control));\n\n\n  /**\n   * Update the attribution element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {Attribution}\n   * @api\n   */\n  function render(mapEvent) {\n    this.updateElement_(mapEvent.frameState);\n  }\n\n  /**\n   * @module ol/control/FullScreen\n   */\n\n\n  /**\n   * @return {string} Change type.\n   */\n  var getChangeType = (function() {\n    var changeType;\n    return function() {\n      if (!changeType) {\n        var body = document.body;\n        if (body.webkitRequestFullscreen) {\n          changeType = 'webkitfullscreenchange';\n        } else if (body.mozRequestFullScreen) {\n          changeType = 'mozfullscreenchange';\n        } else if (body.msRequestFullscreen) {\n          changeType = 'MSFullscreenChange';\n        } else if (body.requestFullscreen) {\n          changeType = 'fullscreenchange';\n        }\n      }\n      return changeType;\n    };\n  })();\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-full-screen'] CSS class name.\n   * @property {string|Text} [label='\\u2922'] Text label to use for the button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string|Text} [labelActive='\\u00d7'] Text label to use for the\n   * button when full-screen is active.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string} [tipLabel='Toggle full-screen'] Text label to use for the button tip.\n   * @property {boolean} [keys=false] Full keyboard access.\n   * @property {HTMLElement|string} [target] Specify a target if you want the\n   * control to be rendered outside of the map's viewport.\n   * @property {HTMLElement|string} [source] The element to be displayed\n   * fullscreen. When not provided, the element containing the map viewport will\n   * be displayed fullscreen.\n   */\n\n\n  /**\n   * @classdesc\n   * Provides a button that when clicked fills up the full screen with the map.\n   * The full screen source element is by default the element containing the map viewport unless\n   * overridden by providing the `source` option. In which case, the dom\n   * element introduced using this parameter will be displayed in full screen.\n   *\n   * When in full screen mode, a close button is shown to exit full screen mode.\n   * The [Fullscreen API](http://www.w3.org/TR/fullscreen/) is used to\n   * toggle the map in full screen mode.\n   *\n   * @api\n   */\n  var FullScreen = /*@__PURE__*/(function (Control$$1) {\n    function FullScreen(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        target: options.target\n      });\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.cssClassName_ = options.className !== undefined ? options.className :\n        'ol-full-screen';\n\n      var label = options.label !== undefined ? options.label : '\\u2922';\n\n      /**\n       * @private\n       * @type {Text}\n       */\n      this.labelNode_ = typeof label === 'string' ?\n        document.createTextNode(label) : label;\n\n      var labelActive = options.labelActive !== undefined ? options.labelActive : '\\u00d7';\n\n      /**\n       * @private\n       * @type {Text}\n       */\n      this.labelActiveNode_ = typeof labelActive === 'string' ?\n        document.createTextNode(labelActive) : labelActive;\n\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.button_ = document.createElement('button');\n\n      var tipLabel = options.tipLabel ? options.tipLabel : 'Toggle full-screen';\n      this.setClassName_(this.button_, isFullScreen());\n      this.button_.setAttribute('type', 'button');\n      this.button_.title = tipLabel;\n      this.button_.appendChild(this.labelNode_);\n\n      listen(this.button_, EventType.CLICK,\n        this.handleClick_, this);\n\n      var cssClasses = this.cssClassName_ + ' ' + CLASS_UNSELECTABLE +\n          ' ' + CLASS_CONTROL + ' ' +\n          (!isFullScreenSupported() ? CLASS_UNSUPPORTED : '');\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(this.button_);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.keys_ = options.keys !== undefined ? options.keys : false;\n\n      /**\n       * @private\n       * @type {HTMLElement|string|undefined}\n       */\n      this.source_ = options.source;\n\n    }\n\n    if ( Control$$1 ) FullScreen.__proto__ = Control$$1;\n    FullScreen.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    FullScreen.prototype.constructor = FullScreen;\n\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    FullScreen.prototype.handleClick_ = function handleClick_ (event) {\n      event.preventDefault();\n      this.handleFullScreen_();\n    };\n\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleFullScreen_ = function handleFullScreen_ () {\n      if (!isFullScreenSupported()) {\n        return;\n      }\n      var map = this.getMap();\n      if (!map) {\n        return;\n      }\n      if (isFullScreen()) {\n        exitFullScreen();\n      } else {\n        var element;\n        if (this.source_) {\n          element = typeof this.source_ === 'string' ?\n            document.getElementById(this.source_) :\n            this.source_;\n        } else {\n          element = map.getTargetElement();\n        }\n        if (this.keys_) {\n          requestFullScreenWithKeys(element);\n\n        } else {\n          requestFullScreen(element);\n        }\n      }\n    };\n\n    /**\n     * @private\n     */\n    FullScreen.prototype.handleFullScreenChange_ = function handleFullScreenChange_ () {\n      var map = this.getMap();\n      if (isFullScreen()) {\n        this.setClassName_(this.button_, true);\n        replaceNode(this.labelActiveNode_, this.labelNode_);\n      } else {\n        this.setClassName_(this.button_, false);\n        replaceNode(this.labelNode_, this.labelActiveNode_);\n      }\n      if (map) {\n        map.updateSize();\n      }\n    };\n\n    /**\n     * @param {HTMLElement} element Target element\n     * @param {boolean} fullscreen True if fullscreen class name should be active\n     * @private\n     */\n    FullScreen.prototype.setClassName_ = function setClassName_ (element, fullscreen) {\n      var activeClassName = this.cssClassName_ + '-true';\n      var inactiveClassName = this.cssClassName_ + '-false';\n      var nextClassName = fullscreen ? activeClassName : inactiveClassName;\n      element.classList.remove(activeClassName);\n      element.classList.remove(inactiveClassName);\n      element.classList.add(nextClassName);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    FullScreen.prototype.setMap = function setMap (map) {\n      Control$$1.prototype.setMap.call(this, map);\n      if (map) {\n        this.listenerKeys.push(listen(document,\n          getChangeType(),\n          this.handleFullScreenChange_, this)\n        );\n      }\n    };\n\n    return FullScreen;\n  }(Control));\n\n\n  /**\n   * @return {boolean} Fullscreen is supported by the current platform.\n   */\n  function isFullScreenSupported() {\n    var body = document.body;\n    return !!(\n      body.webkitRequestFullscreen ||\n      (body.mozRequestFullScreen && document.mozFullScreenEnabled) ||\n      (body.msRequestFullscreen && document.msFullscreenEnabled) ||\n      (body.requestFullscreen && document.fullscreenEnabled)\n    );\n  }\n\n  /**\n   * @return {boolean} Element is currently in fullscreen.\n   */\n  function isFullScreen() {\n    return !!(\n      document.webkitIsFullScreen || document.mozFullScreen ||\n      document.msFullscreenElement || document.fullscreenElement\n    );\n  }\n\n  /**\n   * Request to fullscreen an element.\n   * @param {HTMLElement} element Element to request fullscreen\n   */\n  function requestFullScreen(element) {\n    if (element.requestFullscreen) {\n      element.requestFullscreen();\n    } else if (element.msRequestFullscreen) {\n      element.msRequestFullscreen();\n    } else if (element.mozRequestFullScreen) {\n      element.mozRequestFullScreen();\n    } else if (element.webkitRequestFullscreen) {\n      element.webkitRequestFullscreen();\n    }\n  }\n\n  /**\n   * Request to fullscreen an element with keyboard input.\n   * @param {HTMLElement} element Element to request fullscreen\n   */\n  function requestFullScreenWithKeys(element) {\n    if (element.mozRequestFullScreenWithKeys) {\n      element.mozRequestFullScreenWithKeys();\n    } else if (element.webkitRequestFullscreen) {\n      element.webkitRequestFullscreen();\n    } else {\n      requestFullScreen(element);\n    }\n  }\n\n  /**\n   * Exit fullscreen.\n   */\n  function exitFullScreen() {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    }\n  }\n\n  /**\n   * @module ol/control/MousePosition\n   */\n\n\n  /**\n   * @type {string}\n   */\n  var PROJECTION = 'projection';\n\n  /**\n   * @type {string}\n   */\n  var COORDINATE_FORMAT = 'coordinateFormat';\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-mouse-position'] CSS class name.\n   * @property {import(\"../coordinate.js\").CoordinateFormat} [coordinateFormat] Coordinate format.\n   * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the\n   * control should be re-rendered. This is called in a `requestAnimationFrame`\n   * callback.\n   * @property {HTMLElement|string} [target] Specify a target if you want the\n   * control to be rendered outside of the map's viewport.\n   * @property {string} [undefinedHTML='&#160;'] Markup to show when coordinates are not\n   * available (e.g. when the pointer leaves the map viewport).  By default, the last position\n   * will be replaced with `'&#160;'` (`&nbsp;`) when the pointer leaves the viewport.  To\n   * retain the last rendered position, set this option to something falsey (like an empty\n   * string `''`).\n   */\n\n\n  /**\n   * @classdesc\n   * A control to show the 2D coordinates of the mouse cursor. By default, these\n   * are in the view projection, but can be in any supported projection.\n   * By default the control is shown in the top right corner of the map, but this\n   * can be changed by using the css selector `.ol-mouse-position`.\n   *\n   * On touch devices, which usually do not have a mouse cursor, the coordinates\n   * of the currently touched position are shown.\n   *\n   * @api\n   */\n  var MousePosition = /*@__PURE__*/(function (Control$$1) {\n    function MousePosition(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      var element = document.createElement('div');\n      element.className = options.className !== undefined ? options.className : 'ol-mouse-position';\n\n      Control$$1.call(this, {\n        element: element,\n        render: options.render || render$1,\n        target: options.target\n      });\n\n      listen(this,\n        getChangeEventType(PROJECTION),\n        this.handleProjectionChanged_, this);\n\n      if (options.coordinateFormat) {\n        this.setCoordinateFormat(options.coordinateFormat);\n      }\n      if (options.projection) {\n        this.setProjection(options.projection);\n      }\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.undefinedHTML_ = options.undefinedHTML !== undefined ? options.undefinedHTML : '&#160;';\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderOnMouseOut_ = !!this.undefinedHTML_;\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.renderedHTML_ = element.innerHTML;\n\n      /**\n       * @private\n       * @type {import(\"../proj/Projection.js\").default}\n       */\n      this.mapProjection_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../proj.js\").TransformFunction}\n       */\n      this.transform_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../pixel.js\").Pixel}\n       */\n      this.lastMouseMovePixel_ = null;\n\n    }\n\n    if ( Control$$1 ) MousePosition.__proto__ = Control$$1;\n    MousePosition.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    MousePosition.prototype.constructor = MousePosition;\n\n    /**\n     * @private\n     */\n    MousePosition.prototype.handleProjectionChanged_ = function handleProjectionChanged_ () {\n      this.transform_ = null;\n    };\n\n    /**\n     * Return the coordinate format type used to render the current position or\n     * undefined.\n     * @return {import(\"../coordinate.js\").CoordinateFormat|undefined} The format to render the current\n     *     position in.\n     * @observable\n     * @api\n     */\n    MousePosition.prototype.getCoordinateFormat = function getCoordinateFormat () {\n      return (\n        /** @type {import(\"../coordinate.js\").CoordinateFormat|undefined} */ (this.get(COORDINATE_FORMAT))\n      );\n    };\n\n    /**\n     * Return the projection that is used to report the mouse position.\n     * @return {import(\"../proj/Projection.js\").default|undefined} The projection to report mouse\n     *     position in.\n     * @observable\n     * @api\n     */\n    MousePosition.prototype.getProjection = function getProjection () {\n      return (\n        /** @type {import(\"../proj/Projection.js\").default|undefined} */ (this.get(PROJECTION))\n      );\n    };\n\n    /**\n     * @param {Event} event Browser event.\n     * @protected\n     */\n    MousePosition.prototype.handleMouseMove = function handleMouseMove (event) {\n      var map = this.getMap();\n      this.lastMouseMovePixel_ = map.getEventPixel(event);\n      this.updateHTML_(this.lastMouseMovePixel_);\n    };\n\n    /**\n     * @param {Event} event Browser event.\n     * @protected\n     */\n    MousePosition.prototype.handleMouseOut = function handleMouseOut (event) {\n      this.updateHTML_(null);\n      this.lastMouseMovePixel_ = null;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MousePosition.prototype.setMap = function setMap (map) {\n      Control$$1.prototype.setMap.call(this, map);\n      if (map) {\n        var viewport = map.getViewport();\n        this.listenerKeys.push(\n          listen(viewport, EventType.MOUSEMOVE, this.handleMouseMove, this),\n          listen(viewport, EventType.TOUCHSTART, this.handleMouseMove, this)\n        );\n        if (this.renderOnMouseOut_) {\n          this.listenerKeys.push(\n            listen(viewport, EventType.MOUSEOUT, this.handleMouseOut, this),\n            listen(viewport, EventType.TOUCHEND, this.handleMouseOut, this)\n          );\n        }\n      }\n    };\n\n    /**\n     * Set the coordinate format type used to render the current position.\n     * @param {import(\"../coordinate.js\").CoordinateFormat} format The format to render the current\n     *     position in.\n     * @observable\n     * @api\n     */\n    MousePosition.prototype.setCoordinateFormat = function setCoordinateFormat (format) {\n      this.set(COORDINATE_FORMAT, format);\n    };\n\n    /**\n     * Set the projection that is used to report the mouse position.\n     * @param {import(\"../proj.js\").ProjectionLike} projection The projection to report mouse\n     *     position in.\n     * @observable\n     * @api\n     */\n    MousePosition.prototype.setProjection = function setProjection (projection) {\n      this.set(PROJECTION, get$2(projection));\n    };\n\n    /**\n     * @param {?import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @private\n     */\n    MousePosition.prototype.updateHTML_ = function updateHTML_ (pixel) {\n      var html = this.undefinedHTML_;\n      if (pixel && this.mapProjection_) {\n        if (!this.transform_) {\n          var projection = this.getProjection();\n          if (projection) {\n            this.transform_ = getTransformFromProjections(\n              this.mapProjection_, projection);\n          } else {\n            this.transform_ = identityTransform;\n          }\n        }\n        var map = this.getMap();\n        var coordinate = map.getCoordinateFromPixel(pixel);\n        if (coordinate) {\n          this.transform_(coordinate, coordinate);\n          var coordinateFormat = this.getCoordinateFormat();\n          if (coordinateFormat) {\n            html = coordinateFormat(coordinate);\n          } else {\n            html = coordinate.toString();\n          }\n        }\n      }\n      if (!this.renderedHTML_ || html !== this.renderedHTML_) {\n        this.element.innerHTML = html;\n        this.renderedHTML_ = html;\n      }\n    };\n\n    return MousePosition;\n  }(Control));\n\n\n  /**\n   * Update the projection. Rendering of the coordinates is done in\n   * `handleMouseMove` and `handleMouseUp`.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {MousePosition}\n   * @api\n   */\n  function render$1(mapEvent) {\n    var frameState = mapEvent.frameState;\n    if (!frameState) {\n      this.mapProjection_ = null;\n    } else {\n      if (this.mapProjection_ != frameState.viewState.projection) {\n        this.mapProjection_ = frameState.viewState.projection;\n        this.transform_ = null;\n      }\n    }\n  }\n\n  /**\n   * @module ol/control/Rotate\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-rotate'] CSS class name.\n   * @property {string|HTMLElement} [label='⇧'] Text label to use for the rotate button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string} [tipLabel='Reset rotation'] Text label to use for the rotate tip.\n   * @property {number} [duration=250] Animation duration in milliseconds.\n   * @property {boolean} [autoHide=true] Hide the control when rotation is 0.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control should\n   * be re-rendered. This is called in a `requestAnimationFrame` callback.\n   * @property {function()} [resetNorth] Function called when the control is clicked.\n   * This will override the default `resetNorth`.\n   * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n   * rendered outside of the map's viewport.\n   */\n\n\n  /**\n   * @classdesc\n   * A button control to reset rotation to 0.\n   * To style this control use css selector `.ol-rotate`. A `.ol-hidden` css\n   * selector is added to the button when the rotation is 0.\n   *\n   * @api\n   */\n  var Rotate = /*@__PURE__*/(function (Control$$1) {\n    function Rotate(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        render: options.render || render$2,\n        target: options.target\n      });\n\n      var className = options.className !== undefined ? options.className : 'ol-rotate';\n\n      var label = options.label !== undefined ? options.label : '\\u21E7';\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this.label_ = null;\n\n      if (typeof label === 'string') {\n        this.label_ = document.createElement('span');\n        this.label_.className = 'ol-compass';\n        this.label_.textContent = label;\n      } else {\n        this.label_ = label;\n        this.label_.classList.add('ol-compass');\n      }\n\n      var tipLabel = options.tipLabel ? options.tipLabel : 'Reset rotation';\n\n      var button = document.createElement('button');\n      button.className = className + '-reset';\n      button.setAttribute('type', 'button');\n      button.title = tipLabel;\n      button.appendChild(this.label_);\n\n      listen(button, EventType.CLICK, this.handleClick_, this);\n\n      var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(button);\n\n      this.callResetNorth_ = options.resetNorth ? options.resetNorth : undefined;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.autoHide_ = options.autoHide !== undefined ? options.autoHide : true;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.rotation_ = undefined;\n\n      if (this.autoHide_) {\n        this.element.classList.add(CLASS_HIDDEN);\n      }\n\n    }\n\n    if ( Control$$1 ) Rotate.__proto__ = Control$$1;\n    Rotate.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    Rotate.prototype.constructor = Rotate;\n\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Rotate.prototype.handleClick_ = function handleClick_ (event) {\n      event.preventDefault();\n      if (this.callResetNorth_ !== undefined) {\n        this.callResetNorth_();\n      } else {\n        this.resetNorth_();\n      }\n    };\n\n    /**\n     * @private\n     */\n    Rotate.prototype.resetNorth_ = function resetNorth_ () {\n      var map = this.getMap();\n      var view = map.getView();\n      if (!view) {\n        // the map does not have a view, so we can't act\n        // upon it\n        return;\n      }\n      if (view.getRotation() !== undefined) {\n        if (this.duration_ > 0) {\n          view.animate({\n            rotation: 0,\n            duration: this.duration_,\n            easing: easeOut\n          });\n        } else {\n          view.setRotation(0);\n        }\n      }\n    };\n\n    return Rotate;\n  }(Control));\n\n\n  /**\n   * Update the rotate control element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {Rotate}\n   * @api\n   */\n  function render$2(mapEvent) {\n    var frameState = mapEvent.frameState;\n    if (!frameState) {\n      return;\n    }\n    var rotation = frameState.viewState.rotation;\n    if (rotation != this.rotation_) {\n      var transform = 'rotate(' + rotation + 'rad)';\n      if (this.autoHide_) {\n        var contains = this.element.classList.contains(CLASS_HIDDEN);\n        if (!contains && rotation === 0) {\n          this.element.classList.add(CLASS_HIDDEN);\n        } else if (contains && rotation !== 0) {\n          this.element.classList.remove(CLASS_HIDDEN);\n        }\n      }\n      this.label_.style.msTransform = transform;\n      this.label_.style.webkitTransform = transform;\n      this.label_.style.transform = transform;\n    }\n    this.rotation_ = rotation;\n  }\n\n  /**\n   * @module ol/control/Zoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [duration=250] Animation duration in milliseconds.\n   * @property {string} [className='ol-zoom'] CSS class name.\n   * @property {string|HTMLElement} [zoomInLabel='+'] Text label to use for the zoom-in\n   * button. Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string|HTMLElement} [zoomOutLabel='-'] Text label to use for the zoom-out button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string} [zoomInTipLabel='Zoom in'] Text label to use for the button tip.\n   * @property {string} [zoomOutTipLabel='Zoom out'] Text label to use for the button tip.\n   * @property {number} [delta=1] The zoom delta applied on each click.\n   * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n   * rendered outside of the map's viewport.\n   */\n\n\n  /**\n   * @classdesc\n   * A control with 2 buttons, one for zoom in and one for zoom out.\n   * This control is one of the default controls of a map. To style this control\n   * use css selectors `.ol-zoom-in` and `.ol-zoom-out`.\n   *\n   * @api\n   */\n  var Zoom = /*@__PURE__*/(function (Control$$1) {\n    function Zoom(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        target: options.target\n      });\n\n      var className = options.className !== undefined ? options.className : 'ol-zoom';\n\n      var delta = options.delta !== undefined ? options.delta : 1;\n\n      var zoomInLabel = options.zoomInLabel !== undefined ? options.zoomInLabel : '+';\n      var zoomOutLabel = options.zoomOutLabel !== undefined ? options.zoomOutLabel : '\\u2212';\n\n      var zoomInTipLabel = options.zoomInTipLabel !== undefined ?\n        options.zoomInTipLabel : 'Zoom in';\n      var zoomOutTipLabel = options.zoomOutTipLabel !== undefined ?\n        options.zoomOutTipLabel : 'Zoom out';\n\n      var inElement = document.createElement('button');\n      inElement.className = className + '-in';\n      inElement.setAttribute('type', 'button');\n      inElement.title = zoomInTipLabel;\n      inElement.appendChild(\n        typeof zoomInLabel === 'string' ? document.createTextNode(zoomInLabel) : zoomInLabel\n      );\n\n      listen(inElement, EventType.CLICK, this.handleClick_.bind(this, delta));\n\n      var outElement = document.createElement('button');\n      outElement.className = className + '-out';\n      outElement.setAttribute('type', 'button');\n      outElement.title = zoomOutTipLabel;\n      outElement.appendChild(\n        typeof zoomOutLabel === 'string' ? document.createTextNode(zoomOutLabel) : zoomOutLabel\n      );\n\n      listen(outElement, EventType.CLICK, this.handleClick_.bind(this, -delta));\n\n      var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(inElement);\n      element.appendChild(outElement);\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    }\n\n    if ( Control$$1 ) Zoom.__proto__ = Control$$1;\n    Zoom.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    Zoom.prototype.constructor = Zoom;\n\n    /**\n     * @param {number} delta Zoom delta.\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Zoom.prototype.handleClick_ = function handleClick_ (delta, event) {\n      event.preventDefault();\n      this.zoomByDelta_(delta);\n    };\n\n    /**\n     * @param {number} delta Zoom delta.\n     * @private\n     */\n    Zoom.prototype.zoomByDelta_ = function zoomByDelta_ (delta) {\n      var map = this.getMap();\n      var view = map.getView();\n      if (!view) {\n        // the map does not have a view, so we can't act\n        // upon it\n        return;\n      }\n      var currentResolution = view.getResolution();\n      if (currentResolution) {\n        var newResolution = view.constrainResolution(currentResolution, delta);\n        if (this.duration_ > 0) {\n          if (view.getAnimating()) {\n            view.cancelAnimations();\n          }\n          view.animate({\n            resolution: newResolution,\n            duration: this.duration_,\n            easing: easeOut\n          });\n        } else {\n          view.setResolution(newResolution);\n        }\n      }\n    };\n\n    return Zoom;\n  }(Control));\n\n  /**\n   * @module ol/control/util\n   */\n\n\n  /**\n   * @typedef {Object} DefaultsOptions\n   * @property {boolean} [attribution=true] Include\n   * {@link module:ol/control/Attribution~Attribution}.\n   * @property {import(\"./Attribution.js\").Options} [attributionOptions]\n   * Options for {@link module:ol/control/Attribution~Attribution}.\n   * @property {boolean} [rotate=true] Include\n   * {@link module:ol/control/Rotate~Rotate}.\n   * @property {import(\"./Rotate.js\").Options} [rotateOptions] Options\n   * for {@link module:ol/control/Rotate~Rotate}.\n   * @property {boolean} [zoom] Include {@link module:ol/control/Zoom~Zoom}.\n   * @property {import(\"./Zoom.js\").Options} [zoomOptions] Options for\n   * {@link module:ol/control/Zoom~Zoom}.\n   * @api\n   */\n\n\n  /**\n   * Set of controls included in maps by default. Unless configured otherwise,\n   * this returns a collection containing an instance of each of the following\n   * controls:\n   * * {@link module:ol/control/Zoom~Zoom}\n   * * {@link module:ol/control/Rotate~Rotate}\n   * * {@link module:ol/control/Attribution~Attribution}\n   *\n   * @param {DefaultsOptions=} opt_options\n   * Defaults options.\n   * @return {Collection<import(\"./Control.js\").default>}\n   * Controls.\n   * @function module:ol/control.defaults\n   * @api\n   */\n  function defaults(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    var controls = new Collection();\n\n    var zoomControl = options.zoom !== undefined ? options.zoom : true;\n    if (zoomControl) {\n      controls.push(new Zoom(options.zoomOptions));\n    }\n\n    var rotateControl = options.rotate !== undefined ? options.rotate : true;\n    if (rotateControl) {\n      controls.push(new Rotate(options.rotateOptions));\n    }\n\n    var attributionControl = options.attribution !== undefined ?\n      options.attribution : true;\n    if (attributionControl) {\n      controls.push(new Attribution(options.attributionOptions));\n    }\n\n    return controls;\n  }\n\n  /**\n   * @module ol/Kinetic\n   */\n\n  /**\n   * @classdesc\n   * Implementation of inertial deceleration for map movement.\n   *\n   * @api\n   */\n  var Kinetic = function Kinetic(decay, minVelocity, delay) {\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.decay_ = decay;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.minVelocity_ = minVelocity;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.delay_ = delay;\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.points_ = [];\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.angle_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.initialVelocity_ = 0;\n  };\n\n  /**\n   * FIXME empty description for jsdoc\n   */\n  Kinetic.prototype.begin = function begin () {\n    this.points_.length = 0;\n    this.angle_ = 0;\n    this.initialVelocity_ = 0;\n  };\n\n  /**\n   * @param {number} x X.\n   * @param {number} y Y.\n   */\n  Kinetic.prototype.update = function update (x, y) {\n    this.points_.push(x, y, Date.now());\n  };\n\n  /**\n   * @return {boolean} Whether we should do kinetic animation.\n   */\n  Kinetic.prototype.end = function end () {\n    if (this.points_.length < 6) {\n      // at least 2 points are required (i.e. there must be at least 6 elements\n      // in the array)\n      return false;\n    }\n    var delay = Date.now() - this.delay_;\n    var lastIndex = this.points_.length - 3;\n    if (this.points_[lastIndex + 2] < delay) {\n      // the last tracked point is too old, which means that the user stopped\n      // panning before releasing the map\n      return false;\n    }\n\n    // get the first point which still falls into the delay time\n    var firstIndex = lastIndex - 3;\n    while (firstIndex > 0 && this.points_[firstIndex + 2] > delay) {\n      firstIndex -= 3;\n    }\n\n    var duration = this.points_[lastIndex + 2] - this.points_[firstIndex + 2];\n    // we don't want a duration of 0 (divide by zero)\n    // we also make sure the user panned for a duration of at least one frame\n    // (1/60s) to compute sane displacement values\n    if (duration < 1000 / 60) {\n      return false;\n    }\n\n    var dx = this.points_[lastIndex] - this.points_[firstIndex];\n    var dy = this.points_[lastIndex + 1] - this.points_[firstIndex + 1];\n    this.angle_ = Math.atan2(dy, dx);\n    this.initialVelocity_ = Math.sqrt(dx * dx + dy * dy) / duration;\n    return this.initialVelocity_ > this.minVelocity_;\n  };\n\n  /**\n   * @return {number} Total distance travelled (pixels).\n   */\n  Kinetic.prototype.getDistance = function getDistance () {\n    return (this.minVelocity_ - this.initialVelocity_) / this.decay_;\n  };\n\n  /**\n   * @return {number} Angle of the kinetic panning animation (radians).\n   */\n  Kinetic.prototype.getAngle = function getAngle () {\n    return this.angle_;\n  };\n\n  /**\n   * @module ol/interaction/Property\n   */\n\n  /**\n   * @enum {string}\n   */\n  var InteractionProperty = {\n    ACTIVE: 'active'\n  };\n\n  /**\n   * @module ol/interaction/Interaction\n   */\n\n\n  /**\n   * Object literal with config options for interactions.\n   * @typedef {Object} InteractionOptions\n   * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} handleEvent\n   * Method called by the map to notify the interaction that a browser event was\n   * dispatched to the map. If the function returns a falsy value, propagation of\n   * the event to other interactions in the map's interactions chain will be\n   * prevented (this includes functions with no explicit return).\n   */\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * User actions that change the state of the map. Some are similar to controls,\n   * but are not associated with a DOM element.\n   * For example, {@link module:ol/interaction/KeyboardZoom~KeyboardZoom} is\n   * functionally the same as {@link module:ol/control/Zoom~Zoom}, but triggered\n   * by a keyboard event not a button element event.\n   * Although interactions do not have a DOM element, some of them do render\n   * vectors and so are visible on the screen.\n   * @api\n   */\n  var Interaction = /*@__PURE__*/(function (BaseObject$$1) {\n    function Interaction(options) {\n      BaseObject$$1.call(this);\n\n      if (options.handleEvent) {\n        this.handleEvent = options.handleEvent;\n      }\n\n      /**\n       * @private\n       * @type {import(\"../PluggableMap.js\").default}\n       */\n      this.map_ = null;\n\n      this.setActive(true);\n    }\n\n    if ( BaseObject$$1 ) Interaction.__proto__ = BaseObject$$1;\n    Interaction.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Interaction.prototype.constructor = Interaction;\n\n    /**\n     * Return whether the interaction is currently active.\n     * @return {boolean} `true` if the interaction is active, `false` otherwise.\n     * @observable\n     * @api\n     */\n    Interaction.prototype.getActive = function getActive () {\n      return /** @type {boolean} */ (this.get(InteractionProperty.ACTIVE));\n    };\n\n    /**\n     * Get the map associated with this interaction.\n     * @return {import(\"../PluggableMap.js\").default} Map.\n     * @api\n     */\n    Interaction.prototype.getMap = function getMap () {\n      return this.map_;\n    };\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event}.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @api\n     */\n    Interaction.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n      return true;\n    };\n\n    /**\n     * Activate or deactivate the interaction.\n     * @param {boolean} active Active.\n     * @observable\n     * @api\n     */\n    Interaction.prototype.setActive = function setActive (active) {\n      this.set(InteractionProperty.ACTIVE, active);\n    };\n\n    /**\n     * Remove the interaction from its current map and attach it to the new map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    Interaction.prototype.setMap = function setMap (map) {\n      this.map_ = map;\n    };\n\n    return Interaction;\n  }(BaseObject));\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {import(\"../coordinate.js\").Coordinate} delta Delta.\n   * @param {number=} opt_duration Duration.\n   */\n  function pan(view, delta, opt_duration) {\n    var currentCenter = view.getCenter();\n    if (currentCenter) {\n      var center = view.constrainCenter(\n        [currentCenter[0] + delta[0], currentCenter[1] + delta[1]]);\n      if (opt_duration) {\n        view.animate({\n          duration: opt_duration,\n          easing: linear,\n          center: center\n        });\n      } else {\n        view.setCenter(center);\n      }\n    }\n  }\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {number|undefined} rotation Rotation.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n   * @param {number=} opt_duration Duration.\n   */\n  function rotate$3(view, rotation, opt_anchor, opt_duration) {\n    rotation = view.constrainRotation(rotation, 0);\n    rotateWithoutConstraints(view, rotation, opt_anchor, opt_duration);\n  }\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {number|undefined} rotation Rotation.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n   * @param {number=} opt_duration Duration.\n   */\n  function rotateWithoutConstraints(view, rotation, opt_anchor, opt_duration) {\n    if (rotation !== undefined) {\n      var currentRotation = view.getRotation();\n      var currentCenter = view.getCenter();\n      if (currentRotation !== undefined && currentCenter && opt_duration > 0) {\n        view.animate({\n          rotation: rotation,\n          anchor: opt_anchor,\n          duration: opt_duration,\n          easing: easeOut\n        });\n      } else {\n        view.rotate(rotation, opt_anchor);\n      }\n    }\n  }\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {number|undefined} resolution Resolution to go to.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n   * @param {number=} opt_duration Duration.\n   * @param {number=} opt_direction Zooming direction; > 0 indicates\n   *     zooming out, in which case the constraints system will select\n   *     the largest nearest resolution; < 0 indicates zooming in, in\n   *     which case the constraints system will select the smallest\n   *     nearest resolution; == 0 indicates that the zooming direction\n   *     is unknown/not relevant, in which case the constraints system\n   *     will select the nearest resolution. If not defined 0 is\n   *     assumed.\n   */\n  function zoom(view, resolution, opt_anchor, opt_duration, opt_direction) {\n    resolution = view.constrainResolution(resolution, 0, opt_direction);\n    zoomWithoutConstraints(view, resolution, opt_anchor, opt_duration);\n  }\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {number} delta Delta from previous zoom level.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n   * @param {number=} opt_duration Duration.\n   */\n  function zoomByDelta(view, delta, opt_anchor, opt_duration) {\n    var currentResolution = view.getResolution();\n    var resolution = view.constrainResolution(currentResolution, delta, 0);\n\n    if (resolution !== undefined) {\n      var resolutions = view.getResolutions();\n      resolution = clamp(\n        resolution,\n        view.getMinResolution() || resolutions[resolutions.length - 1],\n        view.getMaxResolution() || resolutions[0]);\n    }\n\n    // If we have a constraint on center, we need to change the anchor so that the\n    // new center is within the extent. We first calculate the new center, apply\n    // the constraint to it, and then calculate back the anchor\n    if (opt_anchor && resolution !== undefined && resolution !== currentResolution) {\n      var currentCenter = view.getCenter();\n      var center = view.calculateCenterZoom(resolution, opt_anchor);\n      center = view.constrainCenter(center);\n\n      opt_anchor = [\n        (resolution * currentCenter[0] - currentResolution * center[0]) /\n            (resolution - currentResolution),\n        (resolution * currentCenter[1] - currentResolution * center[1]) /\n            (resolution - currentResolution)\n      ];\n    }\n\n    zoomWithoutConstraints(view, resolution, opt_anchor, opt_duration);\n  }\n\n\n  /**\n   * @param {import(\"../View.js\").default} view View.\n   * @param {number|undefined} resolution Resolution to go to.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n   * @param {number=} opt_duration Duration.\n   */\n  function zoomWithoutConstraints(view, resolution, opt_anchor, opt_duration) {\n    if (resolution) {\n      var currentResolution = view.getResolution();\n      var currentCenter = view.getCenter();\n      if (currentResolution !== undefined && currentCenter &&\n          resolution !== currentResolution && opt_duration) {\n        view.animate({\n          resolution: resolution,\n          anchor: opt_anchor,\n          duration: opt_duration,\n          easing: easeOut\n        });\n      } else {\n        if (opt_anchor) {\n          var center = view.calculateCenterZoom(resolution, opt_anchor);\n          view.setCenter(center);\n        }\n        view.setResolution(resolution);\n      }\n    }\n  }\n\n  /**\n   * @module ol/interaction/DoubleClickZoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [duration=250] Animation duration in milliseconds.\n   * @property {number} [delta=1] The zoom delta applied on each double click.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom by double-clicking on the map.\n   * @api\n   */\n  var DoubleClickZoom = /*@__PURE__*/(function (Interaction$$1) {\n    function DoubleClickZoom(opt_options) {\n      Interaction$$1.call(this, {\n        handleEvent: handleEvent\n      });\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.delta_ = options.delta ? options.delta : 1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    }\n\n    if ( Interaction$$1 ) DoubleClickZoom.__proto__ = Interaction$$1;\n    DoubleClickZoom.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    DoubleClickZoom.prototype.constructor = DoubleClickZoom;\n\n    return DoubleClickZoom;\n  }(Interaction));\n\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a\n   * doubleclick) and eventually zooms the map.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @this {DoubleClickZoom}\n   */\n  function handleEvent(mapBrowserEvent) {\n    var stopEvent = false;\n    if (mapBrowserEvent.type == MapBrowserEventType.DBLCLICK) {\n      var browserEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n      var map = mapBrowserEvent.map;\n      var anchor = mapBrowserEvent.coordinate;\n      var delta = browserEvent.shiftKey ? -this.delta_ : this.delta_;\n      var view = map.getView();\n      zoomByDelta(view, delta, anchor, this.duration_);\n      mapBrowserEvent.preventDefault();\n      stopEvent = true;\n    }\n    return !stopEvent;\n  }\n\n  /**\n   * @module ol/events/condition\n   */\n\n\n  /**\n   * A function that takes an {@link module:ol/MapBrowserEvent} and returns a\n   * `{boolean}`. If the condition is met, true should be returned.\n   *\n   * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default): boolean} Condition\n   */\n\n\n  /**\n   * Return `true` if only the alt-key is pressed, `false` otherwise (e.g. when\n   * additionally the shift-key is pressed).\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if only the alt key is pressed.\n   * @api\n   */\n  var altKeyOnly = function(mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (\n      originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n  };\n\n\n  /**\n   * Return `true` if only the alt-key and shift-key is pressed, `false` otherwise\n   * (e.g. when additionally the platform-modifier-key is pressed).\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if only the alt and shift keys are pressed.\n   * @api\n   */\n  var altShiftKeysOnly = function(mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (\n      originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        originalEvent.shiftKey);\n  };\n\n\n  /**\n   * Return `true` if the map has the focus. This condition requires a map target\n   * element with a `tabindex` attribute, e.g. `<div id=\"map\" tabindex=\"1\">`.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n   * @return {boolean} The map has the focus.\n   * @api\n   */\n  var focus = function(event) {\n    return event.target.getTargetElement() === document.activeElement;\n  };\n\n\n  /**\n   * Return always true.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True.\n   * @api\n   */\n  var always = TRUE;\n\n\n  /**\n   * Return `true` if the event has an \"action\"-producing mouse button.\n   *\n   * By definition, this includes left-click on windows/linux, and left-click\n   * without the ctrl key on Macs.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} The result.\n   */\n  var mouseActionButton = function(mapBrowserEvent) {\n    var originalEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n    return originalEvent.button == 0 &&\n        !(WEBKIT && MAC && originalEvent.ctrlKey);\n  };\n\n\n  /**\n   * Return always false.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} False.\n   * @api\n   */\n  var never = FALSE;\n\n\n  /**\n   * Return `true` if the browser event is a `pointermove` event, `false`\n   * otherwise.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if the browser event is a `pointermove` event.\n   * @api\n   */\n  var pointerMove$1 = function(mapBrowserEvent) {\n    return mapBrowserEvent.type == 'pointermove';\n  };\n\n\n  /**\n   * Return `true` if the event is a map `singleclick` event, `false` otherwise.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if the event is a map `singleclick` event.\n   * @api\n   */\n  var singleClick = function(mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.SINGLECLICK;\n  };\n\n\n  /**\n   * Return `true` if no modifier key (alt-, shift- or platform-modifier-key) is\n   * pressed.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True only if there no modifier keys are pressed.\n   * @api\n   */\n  var noModifierKeys = function(mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (\n      !originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n  };\n\n\n  /**\n   * Return `true` if only the shift-key is pressed, `false` otherwise (e.g. when\n   * additionally the alt-key is pressed).\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if only the shift key is pressed.\n   * @api\n   */\n  var shiftKeyOnly = function(mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (\n      !originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        originalEvent.shiftKey);\n  };\n\n\n  /**\n   * Return `true` if the target element is not editable, i.e. not a `<input>`-,\n   * `<select>`- or `<textarea>`-element, `false` otherwise.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True only if the target element is not editable.\n   * @api\n   */\n  var targetNotEditable = function(mapBrowserEvent) {\n    var target = mapBrowserEvent.originalEvent.target;\n    var tagName = /** @type {Element} */ (target).tagName;\n    return (\n      tagName !== 'INPUT' &&\n        tagName !== 'SELECT' &&\n        tagName !== 'TEXTAREA');\n  };\n\n\n  /**\n   * Return `true` if the event originates from a mouse device.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if the event originates from a mouse device.\n   * @api\n   */\n  var mouseOnly = function(mapBrowserEvent) {\n    var pointerEvent = /** @type {import(\"../MapBrowserPointerEvent\").default} */ (mapBrowserEvent).pointerEvent;\n    assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see http://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvent.pointerType == 'mouse';\n  };\n\n\n  /**\n   * Return `true` if the event originates from a primary pointer in\n   * contact with the surface or if the left mouse button is pressed.\n   * See http://www.w3.org/TR/pointerevents/#button-states.\n   *\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} True if the event originates from a primary pointer.\n   * @api\n   */\n  var primaryAction = function(mapBrowserEvent) {\n    var pointerEvent = /** @type {import(\"../MapBrowserPointerEvent\").default} */ (mapBrowserEvent).pointerEvent;\n    assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    return pointerEvent.isPrimary && pointerEvent.button === 0;\n  };\n\n  /**\n   * @module ol/interaction/Pointer\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {function(import(\"../MapBrowserPointerEvent.js\").default):boolean} [handleDownEvent]\n   * Function handling \"down\" events. If the function returns `true` then a drag\n   * sequence is started.\n   * @property {function(import(\"../MapBrowserPointerEvent.js\").default)} [handleDragEvent]\n   * Function handling \"drag\" events. This function is called on \"move\" events\n   * during a drag sequence.\n   * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} [handleEvent]\n   * Method called by the map to notify the interaction that a browser event was\n   * dispatched to the map. The function may return `false` to prevent the\n   * propagation of the event to other interactions in the map's interactions\n   * chain.\n   * @property {function(import(\"../MapBrowserPointerEvent.js\").default)} [handleMoveEvent]\n   * Function handling \"move\" events. This function is called on \"move\" events,\n   * also during a drag sequence (so during a drag sequence both the\n   * `handleDragEvent` function and this function are called).\n   * @property {function(import(\"../MapBrowserPointerEvent.js\").default):boolean} [handleUpEvent]\n   *  Function handling \"up\" events. If the function returns `false` then the\n   * current drag sequence is stopped.\n   * @property {function(boolean):boolean} [stopDown]\n   * Should the down event be propagated to other interactions, or should be\n   * stopped?\n   */\n\n\n  /**\n   * @classdesc\n   * Base class that calls user-defined functions on `down`, `move` and `up`\n   * events. This class also manages \"drag sequences\".\n   *\n   * When the `handleDownEvent` user function returns `true` a drag sequence is\n   * started. During a drag sequence the `handleDragEvent` user function is\n   * called on `move` events. The drag sequence ends when the `handleUpEvent`\n   * user function is called and returns `false`.\n   * @api\n   */\n  var PointerInteraction = /*@__PURE__*/(function (Interaction$$1) {\n    function PointerInteraction(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Interaction$$1.call(/** @type {import(\"./Interaction.js\").InteractionOptions} */ this, (options));\n\n      if (options.handleDownEvent) {\n        this.handleDownEvent = options.handleDownEvent;\n      }\n\n      if (options.handleDragEvent) {\n        this.handleDragEvent = options.handleDragEvent;\n      }\n\n      if (options.handleMoveEvent) {\n        this.handleMoveEvent = options.handleMoveEvent;\n      }\n\n      if (options.handleUpEvent) {\n        this.handleUpEvent = options.handleUpEvent;\n      }\n\n      if (options.stopDown) {\n        this.stopDown = options.stopDown;\n      }\n\n      /**\n       * @type {boolean}\n       * @protected\n       */\n      this.handlingDownUpSequence = false;\n\n      /**\n       * @type {!Object<string, import(\"../pointer/PointerEvent.js\").default>}\n       * @private\n       */\n      this.trackedPointers_ = {};\n\n      /**\n       * @type {Array<import(\"../pointer/PointerEvent.js\").default>}\n       * @protected\n       */\n      this.targetPointers = [];\n\n    }\n\n    if ( Interaction$$1 ) PointerInteraction.__proto__ = Interaction$$1;\n    PointerInteraction.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    PointerInteraction.prototype.constructor = PointerInteraction;\n\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     * @protected\n     */\n    PointerInteraction.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      return false;\n    };\n\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n     * @protected\n     */\n    PointerInteraction.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {};\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} and may call into\n     * other functions, if event sequences like e.g. 'drag' or 'down-up' etc. are\n     * detected.\n     * @override\n     * @api\n     */\n    PointerInteraction.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n      if (!(/** @type {import(\"../MapBrowserPointerEvent.js\").default} */ (mapBrowserEvent).pointerEvent)) {\n        return true;\n      }\n\n      var stopEvent = false;\n      this.updateTrackedPointers_(mapBrowserEvent);\n      if (this.handlingDownUpSequence) {\n        if (mapBrowserEvent.type == MapBrowserEventType.POINTERDRAG) {\n          this.handleDragEvent(mapBrowserEvent);\n        } else if (mapBrowserEvent.type == MapBrowserEventType.POINTERUP) {\n          var handledUp = this.handleUpEvent(mapBrowserEvent);\n          this.handlingDownUpSequence = handledUp && this.targetPointers.length > 0;\n        }\n      } else {\n        if (mapBrowserEvent.type == MapBrowserEventType.POINTERDOWN) {\n          var handled = this.handleDownEvent(mapBrowserEvent);\n          if (handled) {\n            mapBrowserEvent.preventDefault();\n          }\n          this.handlingDownUpSequence = handled;\n          stopEvent = this.stopDown(handled);\n        } else if (mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE) {\n          this.handleMoveEvent(mapBrowserEvent);\n        }\n      }\n      return !stopEvent;\n    };\n\n    /**\n     * Handle pointer move events.\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n     * @protected\n     */\n    PointerInteraction.prototype.handleMoveEvent = function handleMoveEvent (mapBrowserEvent) {};\n\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     * @protected\n     */\n    PointerInteraction.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      return false;\n    };\n\n    /**\n     * This function is used to determine if \"down\" events should be propagated\n     * to other interactions or should be stopped.\n     * @param {boolean} handled Was the event handled by the interaction?\n     * @return {boolean} Should the `down` event be stopped?\n     */\n    PointerInteraction.prototype.stopDown = function stopDown (handled) {\n      return handled;\n    };\n\n    /**\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n     * @private\n     */\n    PointerInteraction.prototype.updateTrackedPointers_ = function updateTrackedPointers_ (mapBrowserEvent) {\n      if (isPointerDraggingEvent(mapBrowserEvent)) {\n        var event = mapBrowserEvent.pointerEvent;\n\n        var id = event.pointerId.toString();\n        if (mapBrowserEvent.type == MapBrowserEventType.POINTERUP) {\n          delete this.trackedPointers_[id];\n        } else if (mapBrowserEvent.type ==\n            MapBrowserEventType.POINTERDOWN) {\n          this.trackedPointers_[id] = event;\n        } else if (id in this.trackedPointers_) {\n          // update only when there was a pointerdown event for this pointer\n          this.trackedPointers_[id] = event;\n        }\n        this.targetPointers = getValues(this.trackedPointers_);\n      }\n    };\n\n    return PointerInteraction;\n  }(Interaction));\n\n\n  /**\n   * @param {Array<import(\"../pointer/PointerEvent.js\").default>} pointerEvents List of events.\n   * @return {import(\"../pixel.js\").Pixel} Centroid pixel.\n   */\n  function centroid(pointerEvents) {\n    var length = pointerEvents.length;\n    var clientX = 0;\n    var clientY = 0;\n    for (var i = 0; i < length; i++) {\n      clientX += pointerEvents[i].clientX;\n      clientY += pointerEvents[i].clientY;\n    }\n    return [clientX / length, clientY / length];\n  }\n\n\n  /**\n   * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} Whether the event is a pointerdown, pointerdrag\n   *     or pointerup event.\n   */\n  function isPointerDraggingEvent(mapBrowserEvent) {\n    var type = mapBrowserEvent.type;\n    return type === MapBrowserEventType.POINTERDOWN ||\n      type === MapBrowserEventType.POINTERDRAG ||\n      type === MapBrowserEventType.POINTERUP;\n  }\n\n  /**\n   * @module ol/interaction/DragPan\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n   * to indicate whether that event should be handled.\n   * Default is {@link module:ol/events/condition~noModifierKeys}.\n   * @property {import(\"../Kinetic.js\").default} [kinetic] Kinetic inertia to apply to the pan.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to pan the map by dragging the map.\n   * @api\n   */\n  var DragPan = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function DragPan(opt_options) {\n\n      PointerInteraction$$1.call(this, {\n        stopDown: FALSE\n      });\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n       * @private\n       * @type {import(\"../Kinetic.js\").default|undefined}\n       */\n      this.kinetic_ = options.kinetic;\n\n      /**\n       * @type {import(\"../pixel.js\").Pixel}\n       */\n      this.lastCentroid = null;\n\n      /**\n       * @type {number}\n       */\n      this.lastPointersCount_;\n\n      /**\n       * @type {boolean}\n       */\n      this.panning_ = false;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : noModifierKeys;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.noKinetic_ = false;\n\n    }\n\n    if ( PointerInteraction$$1 ) DragPan.__proto__ = PointerInteraction$$1;\n    DragPan.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    DragPan.prototype.constructor = DragPan;\n\n    /**\n     * @inheritDoc\n     */\n    DragPan.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      if (!this.panning_) {\n        this.panning_ = true;\n        this.getMap().getView().setHint(ViewHint.INTERACTING, 1);\n      }\n      var targetPointers = this.targetPointers;\n      var centroid$$1 = centroid(targetPointers);\n      if (targetPointers.length == this.lastPointersCount_) {\n        if (this.kinetic_) {\n          this.kinetic_.update(centroid$$1[0], centroid$$1[1]);\n        }\n        if (this.lastCentroid) {\n          var deltaX = this.lastCentroid[0] - centroid$$1[0];\n          var deltaY = centroid$$1[1] - this.lastCentroid[1];\n          var map = mapBrowserEvent.map;\n          var view = map.getView();\n          var center = [deltaX, deltaY];\n          scale(center, view.getResolution());\n          rotate(center, view.getRotation());\n          add(center, view.getCenter());\n          center = view.constrainCenter(center);\n          view.setCenter(center);\n        }\n      } else if (this.kinetic_) {\n        // reset so we don't overestimate the kinetic energy after\n        // after one finger down, tiny drag, second finger down\n        this.kinetic_.begin();\n      }\n      this.lastCentroid = centroid$$1;\n      this.lastPointersCount_ = targetPointers.length;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragPan.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      if (this.targetPointers.length === 0) {\n        if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) {\n          var distance$$1 = this.kinetic_.getDistance();\n          var angle = this.kinetic_.getAngle();\n          var center = /** @type {!import(\"../coordinate.js\").Coordinate} */ (view.getCenter());\n          var centerpx = map.getPixelFromCoordinate(center);\n          var dest = map.getCoordinateFromPixel([\n            centerpx[0] - distance$$1 * Math.cos(angle),\n            centerpx[1] - distance$$1 * Math.sin(angle)\n          ]);\n          view.animate({\n            center: view.constrainCenter(dest),\n            duration: 500,\n            easing: easeOut\n          });\n        }\n        if (this.panning_) {\n          this.panning_ = false;\n          view.setHint(ViewHint.INTERACTING, -1);\n        }\n        return false;\n      } else {\n        if (this.kinetic_) {\n          // reset so we don't overestimate the kinetic energy after\n          // after one finger up, tiny drag, second finger up\n          this.kinetic_.begin();\n        }\n        this.lastCentroid = null;\n        return true;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragPan.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (this.targetPointers.length > 0 && this.condition_(mapBrowserEvent)) {\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        this.lastCentroid = null;\n        // stop any current animation\n        if (view.getAnimating()) {\n          view.setCenter(mapBrowserEvent.frameState.viewState.center);\n        }\n        if (this.kinetic_) {\n          this.kinetic_.begin();\n        }\n        // No kinetic as soon as more than one pointer on the screen is\n        // detected. This is to prevent nasty pans after pinch.\n        this.noKinetic_ = this.targetPointers.length > 1;\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return DragPan;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/interaction/DragRotate\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an\n   * {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n   * to indicate whether that event should be handled.\n   * Default is {@link module:ol/events/condition~altShiftKeysOnly}.\n   * @property {number} [duration=250] Animation duration in milliseconds.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to rotate the map by clicking and dragging on the map,\n   * normally combined with an {@link module:ol/events/condition} that limits\n   * it to when the alt and shift keys are held down.\n   *\n   * This interaction is only supported for mouse devices.\n   * @api\n   */\n  var DragRotate = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function DragRotate(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      PointerInteraction$$1.call(this, {\n        stopDown: FALSE\n      });\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : altShiftKeysOnly;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.lastAngle_ = undefined;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    }\n\n    if ( PointerInteraction$$1 ) DragRotate.__proto__ = PointerInteraction$$1;\n    DragRotate.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    DragRotate.prototype.constructor = DragRotate;\n\n    /**\n     * @inheritDoc\n     */\n    DragRotate.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return;\n      }\n\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      if (view.getConstraints().rotation === disable) {\n        return;\n      }\n      var size = map.getSize();\n      var offset = mapBrowserEvent.pixel;\n      var theta =\n          Math.atan2(size[1] / 2 - offset[1], offset[0] - size[0] / 2);\n      if (this.lastAngle_ !== undefined) {\n        var delta = theta - this.lastAngle_;\n        var rotation = view.getRotation();\n        rotateWithoutConstraints(view, rotation - delta);\n      }\n      this.lastAngle_ = theta;\n    };\n\n\n    /**\n     * @inheritDoc\n     */\n    DragRotate.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return true;\n      }\n\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      view.setHint(ViewHint.INTERACTING, -1);\n      var rotation = view.getRotation();\n      rotate$3(view, rotation, undefined, this.duration_);\n      return false;\n    };\n\n\n    /**\n     * @inheritDoc\n     */\n    DragRotate.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return false;\n      }\n\n      if (mouseActionButton(mapBrowserEvent) && this.condition_(mapBrowserEvent)) {\n        var map = mapBrowserEvent.map;\n        map.getView().setHint(ViewHint.INTERACTING, 1);\n        this.lastAngle_ = undefined;\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return DragRotate;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/render/Box\n   */\n\n  var RenderBox = /*@__PURE__*/(function (Disposable$$1) {\n    function RenderBox(className) {\n      Disposable$$1.call(this);\n\n      /**\n       * @type {import(\"../geom/Polygon.js\").default}\n       * @private\n       */\n      this.geometry_ = null;\n\n      /**\n       * @type {HTMLDivElement}\n       * @private\n       */\n      this.element_ = /** @type {HTMLDivElement} */ (document.createElement('div'));\n      this.element_.style.position = 'absolute';\n      this.element_.className = 'ol-box ' + className;\n\n      /**\n       * @private\n       * @type {import(\"../PluggableMap.js\").default}\n       */\n      this.map_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../pixel.js\").Pixel}\n       */\n      this.startPixel_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../pixel.js\").Pixel}\n       */\n      this.endPixel_ = null;\n\n    }\n\n    if ( Disposable$$1 ) RenderBox.__proto__ = Disposable$$1;\n    RenderBox.prototype = Object.create( Disposable$$1 && Disposable$$1.prototype );\n    RenderBox.prototype.constructor = RenderBox;\n\n    /**\n     * @inheritDoc\n     */\n    RenderBox.prototype.disposeInternal = function disposeInternal () {\n      this.setMap(null);\n    };\n\n    /**\n     * @private\n     */\n    RenderBox.prototype.render_ = function render_ () {\n      var startPixel = this.startPixel_;\n      var endPixel = this.endPixel_;\n      var px = 'px';\n      var style = this.element_.style;\n      style.left = Math.min(startPixel[0], endPixel[0]) + px;\n      style.top = Math.min(startPixel[1], endPixel[1]) + px;\n      style.width = Math.abs(endPixel[0] - startPixel[0]) + px;\n      style.height = Math.abs(endPixel[1] - startPixel[1]) + px;\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    RenderBox.prototype.setMap = function setMap (map) {\n      if (this.map_) {\n        this.map_.getOverlayContainer().removeChild(this.element_);\n        var style = this.element_.style;\n        style.left = style.top = style.width = style.height = 'inherit';\n      }\n      this.map_ = map;\n      if (this.map_) {\n        this.map_.getOverlayContainer().appendChild(this.element_);\n      }\n    };\n\n    /**\n     * @param {import(\"../pixel.js\").Pixel} startPixel Start pixel.\n     * @param {import(\"../pixel.js\").Pixel} endPixel End pixel.\n     */\n    RenderBox.prototype.setPixels = function setPixels (startPixel, endPixel) {\n      this.startPixel_ = startPixel;\n      this.endPixel_ = endPixel;\n      this.createOrUpdateGeometry();\n      this.render_();\n    };\n\n    /**\n     * Creates or updates the cached geometry.\n     */\n    RenderBox.prototype.createOrUpdateGeometry = function createOrUpdateGeometry () {\n      var startPixel = this.startPixel_;\n      var endPixel = this.endPixel_;\n      var pixels = [\n        startPixel,\n        [startPixel[0], endPixel[1]],\n        endPixel,\n        [endPixel[0], startPixel[1]]\n      ];\n      var coordinates = pixels.map(this.map_.getCoordinateFromPixel, this.map_);\n      // close the polygon\n      coordinates[4] = coordinates[0].slice();\n      if (!this.geometry_) {\n        this.geometry_ = new Polygon([coordinates]);\n      } else {\n        this.geometry_.setCoordinates([coordinates]);\n      }\n    };\n\n    /**\n     * @return {import(\"../geom/Polygon.js\").default} Geometry.\n     */\n    RenderBox.prototype.getGeometry = function getGeometry () {\n      return this.geometry_;\n    };\n\n    return RenderBox;\n  }(Disposable));\n\n  /**\n   * @module ol/interaction/DragBox\n   */\n\n\n  /**\n   * A function that takes a {@link module:ol/MapBrowserEvent} and two\n   * {@link module:ol/pixel~Pixel}s and returns a `{boolean}`. If the condition is met,\n   * true should be returned.\n   * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default, import(\"../pixel.js\").Pixel, import(\"../pixel.js\").Pixel):boolean} EndCondition\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-dragbox'] CSS class name for styling the box.\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n   * to indicate whether that event should be handled.\n   * Default is {@link ol/events/condition~always}.\n   * @property {number} [minArea=64] The minimum area of the box in pixel, this value is used by the default\n   * `boxEndCondition` function.\n   * @property {EndCondition} [boxEndCondition] A function that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and two\n   * {@link module:ol/pixel~Pixel}s to indicate whether a `boxend` event should be fired.\n   * Default is `true` if the area of the box is bigger than the `minArea` option.\n   * @property {function(this:DragBox, import(\"../MapBrowserEvent.js\").default)} onBoxEnd Code to execute just\n   * before `boxend` is fired.\n   */\n\n\n  /**\n   * @enum {string}\n   */\n  var DragBoxEventType = {\n    /**\n     * Triggered upon drag box start.\n     * @event DragBoxEvent#boxstart\n     * @api\n     */\n    BOXSTART: 'boxstart',\n\n    /**\n     * Triggered on drag when box is active.\n     * @event DragBoxEvent#boxdrag\n     * @api\n     */\n    BOXDRAG: 'boxdrag',\n\n    /**\n     * Triggered upon drag box end.\n     * @event DragBoxEvent#boxend\n     * @api\n     */\n    BOXEND: 'boxend'\n  };\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/DragBox~DragBox} instances are instances of\n   * this type.\n   */\n  var DragBoxEvent = /*@__PURE__*/(function (Event$$1) {\n    function DragBoxEvent(type, coordinate, mapBrowserEvent) {\n      Event$$1.call(this, type);\n\n      /**\n       * The coordinate of the drag event.\n       * @const\n       * @type {import(\"../coordinate.js\").Coordinate}\n       * @api\n       */\n      this.coordinate = coordinate;\n\n      /**\n       * @const\n       * @type {import(\"../MapBrowserEvent.js\").default}\n       * @api\n       */\n      this.mapBrowserEvent = mapBrowserEvent;\n\n    }\n\n    if ( Event$$1 ) DragBoxEvent.__proto__ = Event$$1;\n    DragBoxEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    DragBoxEvent.prototype.constructor = DragBoxEvent;\n\n    return DragBoxEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Allows the user to draw a vector box by clicking and dragging on the map,\n   * normally combined with an {@link module:ol/events/condition} that limits\n   * it to when the shift or other key is held down. This is used, for example,\n   * for zooming to a specific area of the map\n   * (see {@link module:ol/interaction/DragZoom~DragZoom} and\n   * {@link module:ol/interaction/DragRotateAndZoom}).\n   *\n   * This interaction is only supported for mouse devices.\n   *\n   * @fires DragBoxEvent\n   * @api\n   */\n  var DragBox = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function DragBox(opt_options) {\n\n      PointerInteraction$$1.call(this);\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n      * @type {import(\"../render/Box.js\").default}\n      * @private\n      */\n      this.box_ = new RenderBox(options.className || 'ol-dragbox');\n\n      /**\n      * @type {number}\n      * @private\n      */\n      this.minArea_ = options.minArea !== undefined ? options.minArea : 64;\n\n      /**\n       * Function to execute just before `onboxend` is fired\n       * @type {function(this:DragBox, import(\"../MapBrowserEvent.js\").default)}\n       * @private\n       */\n      this.onBoxEnd_ = options.onBoxEnd ? options.onBoxEnd : VOID;\n\n      /**\n      * @type {import(\"../pixel.js\").Pixel}\n      * @private\n      */\n      this.startPixel_ = null;\n\n      /**\n      * @private\n      * @type {import(\"../events/condition.js\").Condition}\n      */\n      this.condition_ = options.condition ? options.condition : always;\n\n      /**\n      * @private\n      * @type {EndCondition}\n      */\n      this.boxEndCondition_ = options.boxEndCondition ?\n        options.boxEndCondition : this.defaultBoxEndCondition;\n    }\n\n    if ( PointerInteraction$$1 ) DragBox.__proto__ = PointerInteraction$$1;\n    DragBox.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    DragBox.prototype.constructor = DragBox;\n\n    /**\n     * The default condition for determining whether the boxend event\n     * should fire.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent The originating MapBrowserEvent\n     *     leading to the box end.\n     * @param {import(\"../pixel.js\").Pixel} startPixel The starting pixel of the box.\n     * @param {import(\"../pixel.js\").Pixel} endPixel The end pixel of the box.\n     * @return {boolean} Whether or not the boxend condition should be fired.\n     */\n    DragBox.prototype.defaultBoxEndCondition = function defaultBoxEndCondition (mapBrowserEvent, startPixel, endPixel) {\n      var width = endPixel[0] - startPixel[0];\n      var height = endPixel[1] - startPixel[1];\n      return width * width + height * height >= this.minArea_;\n    };\n\n    /**\n    * Returns geometry of last drawn box.\n    * @return {import(\"../geom/Polygon.js\").default} Geometry.\n    * @api\n    */\n    DragBox.prototype.getGeometry = function getGeometry () {\n      return this.box_.getGeometry();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragBox.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return;\n      }\n\n      this.box_.setPixels(this.startPixel_, mapBrowserEvent.pixel);\n\n      this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXDRAG,\n        mapBrowserEvent.coordinate, mapBrowserEvent));\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragBox.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return true;\n      }\n\n      this.box_.setMap(null);\n\n      if (this.boxEndCondition_(mapBrowserEvent, this.startPixel_, mapBrowserEvent.pixel)) {\n        this.onBoxEnd_(mapBrowserEvent);\n        this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXEND,\n          mapBrowserEvent.coordinate, mapBrowserEvent));\n      }\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragBox.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return false;\n      }\n\n      if (mouseActionButton(mapBrowserEvent) &&\n          this.condition_(mapBrowserEvent)) {\n        this.startPixel_ = mapBrowserEvent.pixel;\n        this.box_.setMap(mapBrowserEvent.map);\n        this.box_.setPixels(this.startPixel_, this.startPixel_);\n        this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXSTART,\n          mapBrowserEvent.coordinate, mapBrowserEvent));\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return DragBox;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/interaction/DragZoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-dragzoom'] CSS class name for styling the\n   * box.\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled.\n   * Default is {@link module:ol/events/condition~shiftKeyOnly}.\n   * @property {number} [duration=200] Animation duration in milliseconds.\n   * @property {boolean} [out=false] Use interaction for zooming out.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom the map by clicking and dragging on the map,\n   * normally combined with an {@link module:ol/events/condition} that limits\n   * it to when a key, shift by default, is held down.\n   *\n   * To change the style of the box, use CSS and the `.ol-dragzoom` selector, or\n   * your custom one configured with `className`.\n   * @api\n   */\n  var DragZoom = /*@__PURE__*/(function (DragBox$$1) {\n    function DragZoom(opt_options) {\n      var options = opt_options ? opt_options : {};\n\n      var condition = options.condition ? options.condition : shiftKeyOnly;\n\n      DragBox$$1.call(this, {\n        condition: condition,\n        className: options.className || 'ol-dragzoom',\n        onBoxEnd: onBoxEnd\n      });\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 200;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.out_ = options.out !== undefined ? options.out : false;\n    }\n\n    if ( DragBox$$1 ) DragZoom.__proto__ = DragBox$$1;\n    DragZoom.prototype = Object.create( DragBox$$1 && DragBox$$1.prototype );\n    DragZoom.prototype.constructor = DragZoom;\n\n    return DragZoom;\n  }(DragBox));\n\n\n  /**\n   * @this {DragZoom}\n   */\n  function onBoxEnd() {\n    var map = this.getMap();\n    var view = /** @type {!import(\"../View.js\").default} */ (map.getView());\n    var size = /** @type {!import(\"../size.js\").Size} */ (map.getSize());\n    var extent = this.getGeometry().getExtent();\n\n    if (this.out_) {\n      var mapExtent = view.calculateExtent(size);\n      var boxPixelExtent = createOrUpdateFromCoordinates([\n        map.getPixelFromCoordinate(getBottomLeft(extent)),\n        map.getPixelFromCoordinate(getTopRight(extent))]);\n      var factor = view.getResolutionForExtent(boxPixelExtent, size);\n\n      scaleFromCenter(mapExtent, 1 / factor);\n      extent = mapExtent;\n    }\n\n    var resolution = view.constrainResolution(\n      view.getResolutionForExtent(extent, size));\n\n    var center = getCenter(extent);\n    center = view.constrainCenter(center);\n\n    view.animate({\n      resolution: resolution,\n      center: center,\n      duration: this.duration_,\n      easing: easeOut\n    });\n  }\n\n  /**\n   * @module ol/events/KeyCode\n   */\n\n  /**\n   * @enum {number}\n   * @const\n   */\n  var KeyCode = {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40\n  };\n\n  /**\n   * @module ol/interaction/KeyboardPan\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. Default is\n   * {@link module:ol/events/condition~noModifierKeys} and\n   * {@link module:ol/events/condition~targetNotEditable}.\n   * @property {number} [duration=100] Animation duration in milliseconds.\n   * @property {number} [pixelDelta=128] The amount of pixels to pan on each key\n   * press.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to pan the map using keyboard arrows.\n   * Note that, although this interaction is by default included in maps,\n   * the keys can only be used when browser focus is on the element to which\n   * the keyboard events are attached. By default, this is the map div,\n   * though you can change this with the `keyboardEventTarget` in\n   * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n   * element, focus will have to be on, and returned to, this element if the keys\n   * are to function.\n   * See also {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}.\n   * @api\n   */\n  var KeyboardPan = /*@__PURE__*/(function (Interaction$$1) {\n    function KeyboardPan(opt_options) {\n\n      Interaction$$1.call(this, {\n        handleEvent: handleEvent$1\n      });\n\n      var options = opt_options || {};\n\n      /**\n       * @private\n       * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Browser event.\n       * @return {boolean} Combined condition result.\n       */\n      this.defaultCondition_ = function(mapBrowserEvent) {\n        return noModifierKeys(mapBrowserEvent) &&\n          targetNotEditable(mapBrowserEvent);\n      };\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition !== undefined ?\n        options.condition : this.defaultCondition_;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 100;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelDelta_ = options.pixelDelta !== undefined ?\n        options.pixelDelta : 128;\n\n    }\n\n    if ( Interaction$$1 ) KeyboardPan.__proto__ = Interaction$$1;\n    KeyboardPan.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    KeyboardPan.prototype.constructor = KeyboardPan;\n\n    return KeyboardPan;\n  }(Interaction));\n\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} if it was a\n   * `KeyEvent`, and decides the direction to pan to (if an arrow key was\n   * pressed).\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @this {KeyboardPan}\n   */\n  function handleEvent$1(mapBrowserEvent) {\n    var stopEvent = false;\n    if (mapBrowserEvent.type == EventType.KEYDOWN) {\n      var keyEvent = /** @type {KeyboardEvent} */ (mapBrowserEvent.originalEvent);\n      var keyCode = keyEvent.keyCode;\n      if (this.condition_(mapBrowserEvent) &&\n          (keyCode == KeyCode.DOWN ||\n          keyCode == KeyCode.LEFT ||\n          keyCode == KeyCode.RIGHT ||\n          keyCode == KeyCode.UP)) {\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        var mapUnitsDelta = view.getResolution() * this.pixelDelta_;\n        var deltaX = 0, deltaY = 0;\n        if (keyCode == KeyCode.DOWN) {\n          deltaY = -mapUnitsDelta;\n        } else if (keyCode == KeyCode.LEFT) {\n          deltaX = -mapUnitsDelta;\n        } else if (keyCode == KeyCode.RIGHT) {\n          deltaX = mapUnitsDelta;\n        } else {\n          deltaY = mapUnitsDelta;\n        }\n        var delta = [deltaX, deltaY];\n        rotate(delta, view.getRotation());\n        pan(view, delta, this.duration_);\n        mapBrowserEvent.preventDefault();\n        stopEvent = true;\n      }\n    }\n    return !stopEvent;\n  }\n\n  /**\n   * @module ol/interaction/KeyboardZoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [duration=100] Animation duration in milliseconds.\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. Default is\n   * {@link module:ol/events/condition~targetNotEditable}.\n   * @property {number} [delta=1] The zoom level delta on each key press.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom the map using keyboard + and -.\n   * Note that, although this interaction is by default included in maps,\n   * the keys can only be used when browser focus is on the element to which\n   * the keyboard events are attached. By default, this is the map div,\n   * though you can change this with the `keyboardEventTarget` in\n   * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n   * element, focus will have to be on, and returned to, this element if the keys\n   * are to function.\n   * See also {@link module:ol/interaction/KeyboardPan~KeyboardPan}.\n   * @api\n   */\n  var KeyboardZoom = /*@__PURE__*/(function (Interaction$$1) {\n    function KeyboardZoom(opt_options) {\n\n      Interaction$$1.call(this, {\n        handleEvent: handleEvent$2\n      });\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : targetNotEditable;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.delta_ = options.delta ? options.delta : 1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 100;\n\n    }\n\n    if ( Interaction$$1 ) KeyboardZoom.__proto__ = Interaction$$1;\n    KeyboardZoom.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    KeyboardZoom.prototype.constructor = KeyboardZoom;\n\n    return KeyboardZoom;\n  }(Interaction));\n\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} if it was a\n   * `KeyEvent`, and decides whether to zoom in or out (depending on whether the\n   * key pressed was '+' or '-').\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @this {KeyboardZoom}\n   */\n  function handleEvent$2(mapBrowserEvent) {\n    var stopEvent = false;\n    if (mapBrowserEvent.type == EventType.KEYDOWN ||\n        mapBrowserEvent.type == EventType.KEYPRESS) {\n      var keyEvent = /** @type {KeyboardEvent} */ (mapBrowserEvent.originalEvent);\n      var charCode = keyEvent.charCode;\n      if (this.condition_(mapBrowserEvent) &&\n          (charCode == '+'.charCodeAt(0) || charCode == '-'.charCodeAt(0))) {\n        var map = mapBrowserEvent.map;\n        var delta = (charCode == '+'.charCodeAt(0)) ? this.delta_ : -this.delta_;\n        var view = map.getView();\n        zoomByDelta(view, delta, undefined, this.duration_);\n        mapBrowserEvent.preventDefault();\n        stopEvent = true;\n      }\n    }\n    return !stopEvent;\n  }\n\n  /**\n   * @module ol/interaction/MouseWheelZoom\n   */\n\n\n  /**\n   * Maximum mouse wheel delta.\n   * @type {number}\n   */\n  var MAX_DELTA = 1;\n\n\n  /**\n   * @enum {string}\n   */\n  var Mode = {\n    TRACKPAD: 'trackpad',\n    WHEEL: 'wheel'\n  };\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. Default is\n   * {@link module:ol/events/condition~always}.\n   * @property {number} [duration=250] Animation duration in milliseconds.\n   * @property {number} [timeout=80] Mouse wheel timeout duration in milliseconds.\n   * @property {boolean} [constrainResolution=false] When using a trackpad or\n   * magic mouse, zoom to the closest integer zoom level after the scroll gesture\n   * ends.\n   * @property {boolean} [useAnchor=true] Enable zooming using the mouse's\n   * location as the anchor. When set to `false`, zooming in and out will zoom to\n   * the center of the screen instead of zooming on the mouse's location.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom the map by scrolling the mouse wheel.\n   * @api\n   */\n  var MouseWheelZoom = /*@__PURE__*/(function (Interaction$$1) {\n    function MouseWheelZoom(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Interaction$$1.call(/** @type {import(\"./Interaction.js\").InteractionOptions} */ this, (options));\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.delta_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.useAnchor_ = options.useAnchor !== undefined ? options.useAnchor : true;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.constrainResolution_ = options.constrainResolution || false;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : always;\n\n      /**\n       * @private\n       * @type {?import(\"../coordinate.js\").Coordinate}\n       */\n      this.lastAnchor_ = null;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.startTime_ = undefined;\n\n      /**\n       * @private\n       * @type {?}\n       */\n      this.timeoutId_;\n\n      /**\n       * @private\n       * @type {Mode|undefined}\n       */\n      this.mode_ = undefined;\n\n      /**\n       * Trackpad events separated by this delay will be considered separate\n       * interactions.\n       * @type {number}\n       */\n      this.trackpadEventGap_ = 400;\n\n      /**\n       * @type {?}\n       */\n      this.trackpadTimeoutId_;\n\n      /**\n       * The number of delta values per zoom level\n       * @private\n       * @type {number}\n       */\n      this.trackpadDeltaPerZoom_ = 300;\n\n      /**\n       * The zoom factor by which scroll zooming is allowed to exceed the limits.\n       * @private\n       * @type {number}\n       */\n      this.trackpadZoomBuffer_ = 1.5;\n\n    }\n\n    if ( Interaction$$1 ) MouseWheelZoom.__proto__ = Interaction$$1;\n    MouseWheelZoom.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    MouseWheelZoom.prototype.constructor = MouseWheelZoom;\n\n    /**\n     * @private\n     */\n    MouseWheelZoom.prototype.decrementInteractingHint_ = function decrementInteractingHint_ () {\n      this.trackpadTimeoutId_ = undefined;\n      var view = this.getMap().getView();\n      view.setHint(ViewHint.INTERACTING, -1);\n    };\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a mousewheel-event) and eventually\n     * zooms the map.\n     * @override\n     */\n    MouseWheelZoom.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n      if (!this.condition_(mapBrowserEvent)) {\n        return true;\n      }\n      var type = mapBrowserEvent.type;\n      if (type !== EventType.WHEEL && type !== EventType.MOUSEWHEEL) {\n        return true;\n      }\n\n      mapBrowserEvent.preventDefault();\n\n      var map = mapBrowserEvent.map;\n      var wheelEvent = /** @type {WheelEvent} */ (mapBrowserEvent.originalEvent);\n\n      if (this.useAnchor_) {\n        this.lastAnchor_ = mapBrowserEvent.coordinate;\n      }\n\n      // Delta normalisation inspired by\n      // https://github.com/mapbox/mapbox-gl-js/blob/001c7b9/js/ui/handler/scroll_zoom.js\n      var delta;\n      if (mapBrowserEvent.type == EventType.WHEEL) {\n        delta = wheelEvent.deltaY;\n        if (FIREFOX &&\n            wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n          delta /= DEVICE_PIXEL_RATIO;\n        }\n        if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n          delta *= 40;\n        }\n      } else if (mapBrowserEvent.type == EventType.MOUSEWHEEL) {\n        delta = -wheelEvent.wheelDeltaY;\n        if (SAFARI) {\n          delta /= 3;\n        }\n      }\n\n      if (delta === 0) {\n        return false;\n      }\n\n      var now = Date.now();\n\n      if (this.startTime_ === undefined) {\n        this.startTime_ = now;\n      }\n\n      if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n        this.mode_ = Math.abs(delta) < 4 ?\n          Mode.TRACKPAD :\n          Mode.WHEEL;\n      }\n\n      if (this.mode_ === Mode.TRACKPAD) {\n        var view = map.getView();\n        if (this.trackpadTimeoutId_) {\n          clearTimeout(this.trackpadTimeoutId_);\n        } else {\n          view.setHint(ViewHint.INTERACTING, 1);\n        }\n        this.trackpadTimeoutId_ = setTimeout(this.decrementInteractingHint_.bind(this), this.trackpadEventGap_);\n        var resolution = view.getResolution() * Math.pow(2, delta / this.trackpadDeltaPerZoom_);\n        var minResolution = view.getMinResolution();\n        var maxResolution = view.getMaxResolution();\n        var rebound = 0;\n        if (resolution < minResolution) {\n          resolution = Math.max(resolution, minResolution / this.trackpadZoomBuffer_);\n          rebound = 1;\n        } else if (resolution > maxResolution) {\n          resolution = Math.min(resolution, maxResolution * this.trackpadZoomBuffer_);\n          rebound = -1;\n        }\n        if (this.lastAnchor_) {\n          var center = view.calculateCenterZoom(resolution, this.lastAnchor_);\n          view.setCenter(view.constrainCenter(center));\n        }\n        view.setResolution(resolution);\n\n        if (rebound === 0 && this.constrainResolution_) {\n          view.animate({\n            resolution: view.constrainResolution(resolution, delta > 0 ? -1 : 1),\n            easing: easeOut,\n            anchor: this.lastAnchor_,\n            duration: this.duration_\n          });\n        }\n\n        if (rebound > 0) {\n          view.animate({\n            resolution: minResolution,\n            easing: easeOut,\n            anchor: this.lastAnchor_,\n            duration: 500\n          });\n        } else if (rebound < 0) {\n          view.animate({\n            resolution: maxResolution,\n            easing: easeOut,\n            anchor: this.lastAnchor_,\n            duration: 500\n          });\n        }\n        this.startTime_ = now;\n        return false;\n      }\n\n      this.delta_ += delta;\n\n      var timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n\n      clearTimeout(this.timeoutId_);\n      this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, map), timeLeft);\n\n      return false;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    MouseWheelZoom.prototype.handleWheelZoom_ = function handleWheelZoom_ (map) {\n      var view = map.getView();\n      if (view.getAnimating()) {\n        view.cancelAnimations();\n      }\n      var maxDelta = MAX_DELTA;\n      var delta = clamp(this.delta_, -maxDelta, maxDelta);\n      zoomByDelta(view, -delta, this.lastAnchor_, this.duration_);\n      this.mode_ = undefined;\n      this.delta_ = 0;\n      this.lastAnchor_ = null;\n      this.startTime_ = undefined;\n      this.timeoutId_ = undefined;\n    };\n\n    /**\n     * Enable or disable using the mouse's location as an anchor when zooming\n     * @param {boolean} useAnchor true to zoom to the mouse's location, false\n     * to zoom to the center of the map\n     * @api\n     */\n    MouseWheelZoom.prototype.setMouseAnchor = function setMouseAnchor (useAnchor) {\n      this.useAnchor_ = useAnchor;\n      if (!useAnchor) {\n        this.lastAnchor_ = null;\n      }\n    };\n\n    return MouseWheelZoom;\n  }(Interaction));\n\n  /**\n   * @module ol/interaction/PinchRotate\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [duration=250] The duration of the animation in\n   * milliseconds.\n   * @property {number} [threshold=0.3] Minimal angle in radians to start a rotation.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to rotate the map by twisting with two fingers\n   * on a touch screen.\n   * @api\n   */\n  var PinchRotate = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function PinchRotate(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n\n      if (!pointerOptions.stopDown) {\n        pointerOptions.stopDown = FALSE;\n      }\n\n      PointerInteraction$$1.call(this, pointerOptions);\n\n      /**\n       * @private\n       * @type {import(\"../coordinate.js\").Coordinate}\n       */\n      this.anchor_ = null;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.lastAngle_ = undefined;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.rotating_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.rotationDelta_ = 0.0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.threshold_ = options.threshold !== undefined ? options.threshold : 0.3;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    }\n\n    if ( PointerInteraction$$1 ) PinchRotate.__proto__ = PointerInteraction$$1;\n    PinchRotate.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    PinchRotate.prototype.constructor = PinchRotate;\n\n    /**\n     * @inheritDoc\n     */\n    PinchRotate.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      var rotationDelta = 0.0;\n\n      var touch0 = this.targetPointers[0];\n      var touch1 = this.targetPointers[1];\n\n      // angle between touches\n      var angle = Math.atan2(\n        touch1.clientY - touch0.clientY,\n        touch1.clientX - touch0.clientX);\n\n      if (this.lastAngle_ !== undefined) {\n        var delta = angle - this.lastAngle_;\n        this.rotationDelta_ += delta;\n        if (!this.rotating_ &&\n            Math.abs(this.rotationDelta_) > this.threshold_) {\n          this.rotating_ = true;\n        }\n        rotationDelta = delta;\n      }\n      this.lastAngle_ = angle;\n\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      if (view.getConstraints().rotation === disable) {\n        return;\n      }\n\n      // rotate anchor point.\n      // FIXME: should be the intersection point between the lines:\n      //     touch0,touch1 and previousTouch0,previousTouch1\n      var viewportPosition = map.getViewport().getBoundingClientRect();\n      var centroid$$1 = centroid(this.targetPointers);\n      centroid$$1[0] -= viewportPosition.left;\n      centroid$$1[1] -= viewportPosition.top;\n      this.anchor_ = map.getCoordinateFromPixel(centroid$$1);\n\n      // rotate\n      if (this.rotating_) {\n        var rotation = view.getRotation();\n        map.render();\n        rotateWithoutConstraints(view, rotation + rotationDelta, this.anchor_);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    PinchRotate.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      if (this.targetPointers.length < 2) {\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        view.setHint(ViewHint.INTERACTING, -1);\n        if (this.rotating_) {\n          var rotation = view.getRotation();\n          rotate$3(view, rotation, this.anchor_, this.duration_);\n        }\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    PinchRotate.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (this.targetPointers.length >= 2) {\n        var map = mapBrowserEvent.map;\n        this.anchor_ = null;\n        this.lastAngle_ = undefined;\n        this.rotating_ = false;\n        this.rotationDelta_ = 0.0;\n        if (!this.handlingDownUpSequence) {\n          map.getView().setHint(ViewHint.INTERACTING, 1);\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return PinchRotate;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/interaction/PinchZoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [duration=400] Animation duration in milliseconds.\n   * @property {boolean} [constrainResolution=false] Zoom to the closest integer\n   * zoom level after the pinch gesture ends.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom the map by pinching with two fingers\n   * on a touch screen.\n   * @api\n   */\n  var PinchZoom = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function PinchZoom(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n\n      if (!pointerOptions.stopDown) {\n        pointerOptions.stopDown = FALSE;\n      }\n\n      PointerInteraction$$1.call(this, pointerOptions);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.constrainResolution_ = options.constrainResolution || false;\n\n      /**\n       * @private\n       * @type {import(\"../coordinate.js\").Coordinate}\n       */\n      this.anchor_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 400;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.lastDistance_ = undefined;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.lastScaleDelta_ = 1;\n\n    }\n\n    if ( PointerInteraction$$1 ) PinchZoom.__proto__ = PointerInteraction$$1;\n    PinchZoom.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    PinchZoom.prototype.constructor = PinchZoom;\n\n    /**\n     * @inheritDoc\n     */\n    PinchZoom.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      var scaleDelta = 1.0;\n\n      var touch0 = this.targetPointers[0];\n      var touch1 = this.targetPointers[1];\n      var dx = touch0.clientX - touch1.clientX;\n      var dy = touch0.clientY - touch1.clientY;\n\n      // distance between touches\n      var distance = Math.sqrt(dx * dx + dy * dy);\n\n      if (this.lastDistance_ !== undefined) {\n        scaleDelta = this.lastDistance_ / distance;\n      }\n      this.lastDistance_ = distance;\n\n\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      var resolution = view.getResolution();\n      var maxResolution = view.getMaxResolution();\n      var minResolution = view.getMinResolution();\n      var newResolution = resolution * scaleDelta;\n      if (newResolution > maxResolution) {\n        scaleDelta = maxResolution / resolution;\n        newResolution = maxResolution;\n      } else if (newResolution < minResolution) {\n        scaleDelta = minResolution / resolution;\n        newResolution = minResolution;\n      }\n\n      if (scaleDelta != 1.0) {\n        this.lastScaleDelta_ = scaleDelta;\n      }\n\n      // scale anchor point.\n      var viewportPosition = map.getViewport().getBoundingClientRect();\n      var centroid$$1 = centroid(this.targetPointers);\n      centroid$$1[0] -= viewportPosition.left;\n      centroid$$1[1] -= viewportPosition.top;\n      this.anchor_ = map.getCoordinateFromPixel(centroid$$1);\n\n      // scale, bypass the resolution constraint\n      map.render();\n      zoomWithoutConstraints(view, newResolution, this.anchor_);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    PinchZoom.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      if (this.targetPointers.length < 2) {\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        view.setHint(ViewHint.INTERACTING, -1);\n        var resolution = view.getResolution();\n        if (this.constrainResolution_ ||\n            resolution < view.getMinResolution() ||\n            resolution > view.getMaxResolution()) {\n          // Zoom to final resolution, with an animation, and provide a\n          // direction not to zoom out/in if user was pinching in/out.\n          // Direction is > 0 if pinching out, and < 0 if pinching in.\n          var direction = this.lastScaleDelta_ - 1;\n          zoom(view, resolution, this.anchor_, this.duration_, direction);\n        }\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    PinchZoom.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (this.targetPointers.length >= 2) {\n        var map = mapBrowserEvent.map;\n        this.anchor_ = null;\n        this.lastDistance_ = undefined;\n        this.lastScaleDelta_ = 1;\n        if (!this.handlingDownUpSequence) {\n          map.getView().setHint(ViewHint.INTERACTING, 1);\n        }\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return PinchZoom;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/interaction/DragAndDrop\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {Array<typeof import(\"../format/Feature.js\").default>} [formatConstructors] Format constructors.\n   * @property {import(\"../source/Vector.js\").default} [source] Optional vector source where features will be added.  If a source is provided\n   * all existing features will be removed and new features will be added when\n   * they are dropped on the target.  If you want to add features to a vector\n   * source without removing the existing features (append only), instead of\n   * providing the source option listen for the \"addfeatures\" event.\n   * @property {import(\"../proj.js\").ProjectionLike} [projection] Target projection. By default, the map's view's projection is used.\n   * @property {HTMLElement} [target] The element that is used as the drop target, default is the viewport element.\n   */\n\n\n  /**\n   * @enum {string}\n   */\n  var DragAndDropEventType = {\n    /**\n     * Triggered when features are added\n     * @event DragAndDropEvent#addfeatures\n     * @api\n     */\n    ADD_FEATURES: 'addfeatures'\n  };\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/DragAndDrop~DragAndDrop} instances are instances\n   * of this type.\n   */\n  var DragAndDropEvent = /*@__PURE__*/(function (Event$$1) {\n    function DragAndDropEvent(type, file, opt_features, opt_projection) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The features parsed from dropped data.\n       * @type {Array<import(\"../Feature.js\").FeatureLike>|undefined}\n       * @api\n       */\n      this.features = opt_features;\n\n      /**\n       * The dropped file.\n       * @type {File}\n       * @api\n       */\n      this.file = file;\n\n      /**\n       * The feature projection.\n       * @type {import(\"../proj/Projection.js\").default|undefined}\n       * @api\n       */\n      this.projection = opt_projection;\n\n    }\n\n    if ( Event$$1 ) DragAndDropEvent.__proto__ = Event$$1;\n    DragAndDropEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    DragAndDropEvent.prototype.constructor = DragAndDropEvent;\n\n    return DragAndDropEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Handles input of vector data by drag and drop.\n   * @api\n   *\n   * @fires DragAndDropEvent\n   */\n  var DragAndDrop = /*@__PURE__*/(function (Interaction$$1) {\n    function DragAndDrop(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Interaction$$1.call(this, {\n        handleEvent: TRUE\n      });\n\n      /**\n       * @private\n       * @type {Array<typeof import(\"../format/Feature.js\").default>}\n       */\n      this.formatConstructors_ = options.formatConstructors ?\n        options.formatConstructors : [];\n\n      /**\n       * @private\n       * @type {import(\"../proj/Projection.js\").default}\n       */\n      this.projection_ = options.projection ?\n        get$2(options.projection) : null;\n\n      /**\n       * @private\n       * @type {Array<import(\"../events.js\").EventsKey>}\n       */\n      this.dropListenKeys_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../source/Vector.js\").default}\n       */\n      this.source_ = options.source || null;\n\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.target = options.target ? options.target : null;\n\n    }\n\n    if ( Interaction$$1 ) DragAndDrop.__proto__ = Interaction$$1;\n    DragAndDrop.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    DragAndDrop.prototype.constructor = DragAndDrop;\n\n    /**\n     * @param {File} file File.\n     * @param {Event} event Load event.\n     * @private\n     */\n    DragAndDrop.prototype.handleResult_ = function handleResult_ (file, event) {\n      var result = event.target.result;\n      var map = this.getMap();\n      var projection = this.projection_;\n      if (!projection) {\n        var view = map.getView();\n        projection = view.getProjection();\n      }\n\n      var formatConstructors = this.formatConstructors_;\n      var features = [];\n      for (var i = 0, ii = formatConstructors.length; i < ii; ++i) {\n        var format = new formatConstructors[i]();\n        features = this.tryReadFeatures_(format, result, {\n          featureProjection: projection\n        });\n        if (features && features.length > 0) {\n          break;\n        }\n      }\n      if (this.source_) {\n        this.source_.clear();\n        this.source_.addFeatures(features);\n      }\n      this.dispatchEvent(\n        new DragAndDropEvent(\n          DragAndDropEventType.ADD_FEATURES, file,\n          features, projection));\n    };\n\n    /**\n     * @private\n     */\n    DragAndDrop.prototype.registerListeners_ = function registerListeners_ () {\n      var map = this.getMap();\n      if (map) {\n        var dropArea = this.target ? this.target : map.getViewport();\n        this.dropListenKeys_ = [\n          listen(dropArea, EventType.DROP, handleDrop, this),\n          listen(dropArea, EventType.DRAGENTER, handleStop, this),\n          listen(dropArea, EventType.DRAGOVER, handleStop, this),\n          listen(dropArea, EventType.DROP, handleStop, this)\n        ];\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragAndDrop.prototype.setActive = function setActive (active) {\n      Interaction$$1.prototype.setActive.call(this, active);\n      if (active) {\n        this.registerListeners_();\n      } else {\n        this.unregisterListeners_();\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragAndDrop.prototype.setMap = function setMap (map) {\n      this.unregisterListeners_();\n      Interaction$$1.prototype.setMap.call(this, map);\n      if (this.getActive()) {\n        this.registerListeners_();\n      }\n    };\n\n    /**\n     * @param {import(\"../format/Feature.js\").default} format Format.\n     * @param {string} text Text.\n     * @param {import(\"../format/Feature.js\").ReadOptions} options Read options.\n     * @private\n     * @return {Array<import(\"../Feature.js\").FeatureLike>} Features.\n     */\n    DragAndDrop.prototype.tryReadFeatures_ = function tryReadFeatures_ (format, text, options) {\n      try {\n        return format.readFeatures(text, options);\n      } catch (e) {\n        return null;\n      }\n    };\n\n    /**\n     * @private\n     */\n    DragAndDrop.prototype.unregisterListeners_ = function unregisterListeners_ () {\n      if (this.dropListenKeys_) {\n        this.dropListenKeys_.forEach(unlistenByKey);\n        this.dropListenKeys_ = null;\n      }\n    };\n\n    return DragAndDrop;\n  }(Interaction));\n\n\n  /**\n   * @param {DragEvent} event Event.\n   * @this {DragAndDrop}\n   */\n  function handleDrop(event) {\n    var files = event.dataTransfer.files;\n    for (var i = 0, ii = files.length; i < ii; ++i) {\n      var file = files.item(i);\n      var reader = new FileReader();\n      reader.addEventListener(EventType.LOAD, this.handleResult_.bind(this, file));\n      reader.readAsText(file);\n    }\n  }\n\n\n  /**\n   * @param {DragEvent} event Event.\n   */\n  function handleStop(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'copy';\n  }\n\n  /**\n   * @module ol/interaction/DragRotateAndZoom\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled.\n   * Default is {@link module:ol/events/condition~shiftKeyOnly}.\n   * @property {number} [duration=400] Animation duration in milliseconds.\n   */\n\n\n  /**\n   * @classdesc\n   * Allows the user to zoom and rotate the map by clicking and dragging\n   * on the map.  By default, this interaction is limited to when the shift\n   * key is held down.\n   *\n   * This interaction is only supported for mouse devices.\n   *\n   * And this interaction is not included in the default interactions.\n   * @api\n   */\n  var DragRotateAndZoom = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function DragRotateAndZoom(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      PointerInteraction$$1.call(/** @type {import(\"./Pointer.js\").Options} */ this, (options));\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : shiftKeyOnly;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.lastAngle_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.lastMagnitude_ = undefined;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.lastScaleDelta_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 400;\n\n    }\n\n    if ( PointerInteraction$$1 ) DragRotateAndZoom.__proto__ = PointerInteraction$$1;\n    DragRotateAndZoom.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    DragRotateAndZoom.prototype.constructor = DragRotateAndZoom;\n\n    /**\n     * @inheritDoc\n     */\n    DragRotateAndZoom.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return;\n      }\n\n      var map = mapBrowserEvent.map;\n      var size = map.getSize();\n      var offset = mapBrowserEvent.pixel;\n      var deltaX = offset[0] - size[0] / 2;\n      var deltaY = size[1] / 2 - offset[1];\n      var theta = Math.atan2(deltaY, deltaX);\n      var magnitude = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n      var view = map.getView();\n      if (view.getConstraints().rotation !== disable && this.lastAngle_ !== undefined) {\n        var angleDelta = theta - this.lastAngle_;\n        rotateWithoutConstraints(view, view.getRotation() - angleDelta);\n      }\n      this.lastAngle_ = theta;\n      if (this.lastMagnitude_ !== undefined) {\n        var resolution = this.lastMagnitude_ * (view.getResolution() / magnitude);\n        zoomWithoutConstraints(view, resolution);\n      }\n      if (this.lastMagnitude_ !== undefined) {\n        this.lastScaleDelta_ = this.lastMagnitude_ / magnitude;\n      }\n      this.lastMagnitude_ = magnitude;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragRotateAndZoom.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return true;\n      }\n\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      view.setHint(ViewHint.INTERACTING, -1);\n      var direction = this.lastScaleDelta_ - 1;\n      rotate$3(view, view.getRotation());\n      zoom(view, view.getResolution(), undefined, this.duration_, direction);\n      this.lastScaleDelta_ = 0;\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    DragRotateAndZoom.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      if (!mouseOnly(mapBrowserEvent)) {\n        return false;\n      }\n\n      if (this.condition_(mapBrowserEvent)) {\n        mapBrowserEvent.map.getView().setHint(ViewHint.INTERACTING, 1);\n        this.lastAngle_ = undefined;\n        this.lastMagnitude_ = undefined;\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    return DragRotateAndZoom;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/Feature\n   */\n\n  /**\n   * @typedef {typeof Feature|typeof import(\"./render/Feature.js\").default} FeatureClass\n   */\n\n  /**\n   * @typedef {Feature|import(\"./render/Feature.js\").default} FeatureLike\n   */\n\n  /**\n   * @classdesc\n   * A vector object for geographic features with a geometry and other\n   * attribute properties, similar to the features in vector file formats like\n   * GeoJSON.\n   *\n   * Features can be styled individually with `setStyle`; otherwise they use the\n   * style of their vector layer.\n   *\n   * Note that attribute properties are set as {@link module:ol/Object} properties on\n   * the feature object, so they are observable, and have get/set accessors.\n   *\n   * Typically, a feature has a single geometry property. You can set the\n   * geometry using the `setGeometry` method and get it with `getGeometry`.\n   * It is possible to store more than one geometry on a feature using attribute\n   * properties. By default, the geometry used for rendering is identified by\n   * the property name `geometry`. If you want to use another geometry property\n   * for rendering, use the `setGeometryName` method to change the attribute\n   * property associated with the geometry for the feature.  For example:\n   *\n   * ```js\n   *\n   * import Feature from 'ol/Feature';\n   * import Polygon from 'ol/geom/Polygon';\n   * import Point from 'ol/geom/Point';\n   *\n   * var feature = new Feature({\n   *   geometry: new Polygon(polyCoords),\n   *   labelPoint: new Point(labelCoords),\n   *   name: 'My Polygon'\n   * });\n   *\n   * // get the polygon geometry\n   * var poly = feature.getGeometry();\n   *\n   * // Render the feature as a point using the coordinates from labelPoint\n   * feature.setGeometryName('labelPoint');\n   *\n   * // get the point geometry\n   * var point = feature.getGeometry();\n   * ```\n   *\n   * @api\n   */\n  var Feature = /*@__PURE__*/(function (BaseObject$$1) {\n    function Feature(opt_geometryOrProperties) {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @private\n       * @type {number|string|undefined}\n       */\n      this.id_ = undefined;\n\n      /**\n       * @type {string}\n       * @private\n       */\n      this.geometryName_ = 'geometry';\n\n      /**\n       * User provided style.\n       * @private\n       * @type {import(\"./style/Style.js\").StyleLike}\n       */\n      this.style_ = null;\n\n      /**\n       * @private\n       * @type {import(\"./style/Style.js\").StyleFunction|undefined}\n       */\n      this.styleFunction_ = undefined;\n\n      /**\n       * @private\n       * @type {?import(\"./events.js\").EventsKey}\n       */\n      this.geometryChangeKey_ = null;\n\n      listen(\n        this, getChangeEventType(this.geometryName_),\n        this.handleGeometryChanged_, this);\n\n      if (opt_geometryOrProperties) {\n        if (typeof /** @type {?} */ (opt_geometryOrProperties).getSimplifiedGeometry === 'function') {\n          var geometry = /** @type {import(\"./geom/Geometry.js\").default} */ (opt_geometryOrProperties);\n          this.setGeometry(geometry);\n        } else {\n          /** @type {Object<string, *>} */\n          var properties = opt_geometryOrProperties;\n          this.setProperties(properties);\n        }\n      }\n    }\n\n    if ( BaseObject$$1 ) Feature.__proto__ = BaseObject$$1;\n    Feature.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Feature.prototype.constructor = Feature;\n\n    /**\n     * Clone this feature. If the original feature has a geometry it\n     * is also cloned. The feature id is not set in the clone.\n     * @return {Feature} The clone.\n     * @api\n     */\n    Feature.prototype.clone = function clone () {\n      var clone = new Feature(this.getProperties());\n      clone.setGeometryName(this.getGeometryName());\n      var geometry = this.getGeometry();\n      if (geometry) {\n        clone.setGeometry(geometry.clone());\n      }\n      var style = this.getStyle();\n      if (style) {\n        clone.setStyle(style);\n      }\n      return clone;\n    };\n\n    /**\n     * Get the feature's default geometry.  A feature may have any number of named\n     * geometries.  The \"default\" geometry (the one that is rendered by default) is\n     * set when calling {@link module:ol/Feature~Feature#setGeometry}.\n     * @return {import(\"./geom/Geometry.js\").default|undefined} The default geometry for the feature.\n     * @api\n     * @observable\n     */\n    Feature.prototype.getGeometry = function getGeometry () {\n      return (\n        /** @type {import(\"./geom/Geometry.js\").default|undefined} */ (this.get(this.geometryName_))\n      );\n    };\n\n    /**\n     * Get the feature identifier.  This is a stable identifier for the feature and\n     * is either set when reading data from a remote source or set explicitly by\n     * calling {@link module:ol/Feature~Feature#setId}.\n     * @return {number|string|undefined} Id.\n     * @api\n     */\n    Feature.prototype.getId = function getId () {\n      return this.id_;\n    };\n\n    /**\n     * Get the name of the feature's default geometry.  By default, the default\n     * geometry is named `geometry`.\n     * @return {string} Get the property name associated with the default geometry\n     *     for this feature.\n     * @api\n     */\n    Feature.prototype.getGeometryName = function getGeometryName () {\n      return this.geometryName_;\n    };\n\n    /**\n     * Get the feature's style. Will return what was provided to the\n     * {@link module:ol/Feature~Feature#setStyle} method.\n     * @return {import(\"./style/Style.js\").StyleLike} The feature style.\n     * @api\n     */\n    Feature.prototype.getStyle = function getStyle () {\n      return this.style_;\n    };\n\n    /**\n     * Get the feature's style function.\n     * @return {import(\"./style/Style.js\").StyleFunction|undefined} Return a function\n     * representing the current style of this feature.\n     * @api\n     */\n    Feature.prototype.getStyleFunction = function getStyleFunction () {\n      return this.styleFunction_;\n    };\n\n    /**\n     * @private\n     */\n    Feature.prototype.handleGeometryChange_ = function handleGeometryChange_ () {\n      this.changed();\n    };\n\n    /**\n     * @private\n     */\n    Feature.prototype.handleGeometryChanged_ = function handleGeometryChanged_ () {\n      if (this.geometryChangeKey_) {\n        unlistenByKey(this.geometryChangeKey_);\n        this.geometryChangeKey_ = null;\n      }\n      var geometry = this.getGeometry();\n      if (geometry) {\n        this.geometryChangeKey_ = listen(geometry,\n          EventType.CHANGE, this.handleGeometryChange_, this);\n      }\n      this.changed();\n    };\n\n    /**\n     * Set the default geometry for the feature.  This will update the property\n     * with the name returned by {@link module:ol/Feature~Feature#getGeometryName}.\n     * @param {import(\"./geom/Geometry.js\").default|undefined} geometry The new geometry.\n     * @api\n     * @observable\n     */\n    Feature.prototype.setGeometry = function setGeometry (geometry) {\n      this.set(this.geometryName_, geometry);\n    };\n\n    /**\n     * Set the style for the feature.  This can be a single style object, an array\n     * of styles, or a function that takes a resolution and returns an array of\n     * styles. If it is `null` the feature has no style (a `null` style).\n     * @param {import(\"./style/Style.js\").StyleLike} style Style for this feature.\n     * @api\n     * @fires module:ol/events/Event~Event#event:change\n     */\n    Feature.prototype.setStyle = function setStyle (style) {\n      this.style_ = style;\n      this.styleFunction_ = !style ? undefined : createStyleFunction(style);\n      this.changed();\n    };\n\n    /**\n     * Set the feature id.  The feature id is considered stable and may be used when\n     * requesting features or comparing identifiers returned from a remote source.\n     * The feature id can be used with the\n     * {@link module:ol/source/Vector~VectorSource#getFeatureById} method.\n     * @param {number|string|undefined} id The feature id.\n     * @api\n     * @fires module:ol/events/Event~Event#event:change\n     */\n    Feature.prototype.setId = function setId (id) {\n      this.id_ = id;\n      this.changed();\n    };\n\n    /**\n     * Set the property name to be used when getting the feature's default geometry.\n     * When calling {@link module:ol/Feature~Feature#getGeometry}, the value of the property with\n     * this name will be returned.\n     * @param {string} name The property name of the default geometry.\n     * @api\n     */\n    Feature.prototype.setGeometryName = function setGeometryName (name) {\n      unlisten(\n        this, getChangeEventType(this.geometryName_),\n        this.handleGeometryChanged_, this);\n      this.geometryName_ = name;\n      listen(\n        this, getChangeEventType(this.geometryName_),\n        this.handleGeometryChanged_, this);\n      this.handleGeometryChanged_();\n    };\n\n    return Feature;\n  }(BaseObject));\n\n\n  /**\n   * Convert the provided object into a feature style function.  Functions passed\n   * through unchanged.  Arrays of Style or single style objects wrapped\n   * in a new feature style function.\n   * @param {!import(\"./style/Style.js\").StyleFunction|!Array<import(\"./style/Style.js\").default>|!import(\"./style/Style.js\").default} obj\n   *     A feature style function, a single style, or an array of styles.\n   * @return {import(\"./style/Style.js\").StyleFunction} A style function.\n   */\n  function createStyleFunction(obj) {\n    if (typeof obj === 'function') {\n      return obj;\n    } else {\n      /**\n       * @type {Array<import(\"./style/Style.js\").default>}\n       */\n      var styles;\n      if (Array.isArray(obj)) {\n        styles = obj;\n      } else {\n        assert(typeof /** @type {?} */ (obj).getZIndex === 'function',\n          41); // Expected an `import(\"./style/Style.js\").Style` or an array of `import(\"./style/Style.js\").Style`\n        var style = /** @type {import(\"./style/Style.js\").default} */ (obj);\n        styles = [style];\n      }\n      return function() {\n        return styles;\n      };\n    }\n  }\n\n  /**\n   * @module ol/geom/Circle\n   */\n\n  /**\n   * @classdesc\n   * Circle geometry.\n   *\n   * @api\n   */\n  var Circle = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function Circle(center, opt_radius, opt_layout) {\n      SimpleGeometry$$1.call(this);\n      if (opt_layout !== undefined && opt_radius === undefined) {\n        this.setFlatCoordinates(opt_layout, center);\n      } else {\n        var radius = opt_radius ? opt_radius : 0;\n        this.setCenterAndRadius(center, radius, opt_layout);\n      }\n    }\n\n    if ( SimpleGeometry$$1 ) Circle.__proto__ = SimpleGeometry$$1;\n    Circle.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    Circle.prototype.constructor = Circle;\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!Circle} Clone.\n     * @override\n     * @api\n     */\n    Circle.prototype.clone = function clone$$1 () {\n      return new Circle(this.flatCoordinates.slice(), undefined, this.layout);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Circle.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      var flatCoordinates = this.flatCoordinates;\n      var dx = x - flatCoordinates[0];\n      var dy = y - flatCoordinates[1];\n      var squaredDistance = dx * dx + dy * dy;\n      if (squaredDistance < minSquaredDistance) {\n        if (squaredDistance === 0) {\n          for (var i = 0; i < this.stride; ++i) {\n            closestPoint[i] = flatCoordinates[i];\n          }\n        } else {\n          var delta = this.getRadius() / Math.sqrt(squaredDistance);\n          closestPoint[0] = flatCoordinates[0] + delta * dx;\n          closestPoint[1] = flatCoordinates[1] + delta * dy;\n          for (var i$1 = 2; i$1 < this.stride; ++i$1) {\n            closestPoint[i$1] = flatCoordinates[i$1];\n          }\n        }\n        closestPoint.length = this.stride;\n        return squaredDistance;\n      } else {\n        return minSquaredDistance;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Circle.prototype.containsXY = function containsXY$$1 (x, y) {\n      var flatCoordinates = this.flatCoordinates;\n      var dx = x - flatCoordinates[0];\n      var dy = y - flatCoordinates[1];\n      return dx * dx + dy * dy <= this.getRadiusSquared_();\n    };\n\n    /**\n     * Return the center of the circle as {@link module:ol/coordinate~Coordinate coordinate}.\n     * @return {import(\"../coordinate.js\").Coordinate} Center.\n     * @api\n     */\n    Circle.prototype.getCenter = function getCenter$$1 () {\n      return this.flatCoordinates.slice(0, this.stride);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Circle.prototype.computeExtent = function computeExtent (extent) {\n      var flatCoordinates = this.flatCoordinates;\n      var radius = flatCoordinates[this.stride] - flatCoordinates[0];\n      return createOrUpdate(\n        flatCoordinates[0] - radius, flatCoordinates[1] - radius,\n        flatCoordinates[0] + radius, flatCoordinates[1] + radius,\n        extent);\n    };\n\n    /**\n     * Return the radius of the circle.\n     * @return {number} Radius.\n     * @api\n     */\n    Circle.prototype.getRadius = function getRadius () {\n      return Math.sqrt(this.getRadiusSquared_());\n    };\n\n    /**\n     * @private\n     * @return {number} Radius squared.\n     */\n    Circle.prototype.getRadiusSquared_ = function getRadiusSquared_ () {\n      var dx = this.flatCoordinates[this.stride] - this.flatCoordinates[0];\n      var dy = this.flatCoordinates[this.stride + 1] - this.flatCoordinates[1];\n      return dx * dx + dy * dy;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Circle.prototype.getType = function getType () {\n      return GeometryType.CIRCLE;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    Circle.prototype.intersectsExtent = function intersectsExtent (extent) {\n      var circleExtent = this.getExtent();\n      if (intersects(extent, circleExtent)) {\n        var center = this.getCenter();\n\n        if (extent[0] <= center[0] && extent[2] >= center[0]) {\n          return true;\n        }\n        if (extent[1] <= center[1] && extent[3] >= center[1]) {\n          return true;\n        }\n\n        return forEachCorner(extent, this.intersectsCoordinate, this);\n      }\n      return false;\n\n    };\n\n    /**\n     * Set the center of the circle as {@link module:ol/coordinate~Coordinate coordinate}.\n     * @param {import(\"../coordinate.js\").Coordinate} center Center.\n     * @api\n     */\n    Circle.prototype.setCenter = function setCenter (center) {\n      var stride = this.stride;\n      var radius = this.flatCoordinates[stride] - this.flatCoordinates[0];\n      var flatCoordinates = center.slice();\n      flatCoordinates[stride] = flatCoordinates[0] + radius;\n      for (var i = 1; i < stride; ++i) {\n        flatCoordinates[stride + i] = center[i];\n      }\n      this.setFlatCoordinates(this.layout, flatCoordinates);\n      this.changed();\n    };\n\n    /**\n     * Set the center (as {@link module:ol/coordinate~Coordinate coordinate}) and the radius (as\n     * number) of the circle.\n     * @param {!import(\"../coordinate.js\").Coordinate} center Center.\n     * @param {number} radius Radius.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @api\n     */\n    Circle.prototype.setCenterAndRadius = function setCenterAndRadius (center, radius, opt_layout) {\n      this.setLayout(opt_layout, center, 0);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      /** @type {Array<number>} */\n      var flatCoordinates = this.flatCoordinates;\n      var offset = deflateCoordinate(\n        flatCoordinates, 0, center, this.stride);\n      flatCoordinates[offset++] = flatCoordinates[0] + radius;\n      for (var i = 1, ii = this.stride; i < ii; ++i) {\n        flatCoordinates[offset++] = flatCoordinates[i];\n      }\n      flatCoordinates.length = offset;\n      this.changed();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Circle.prototype.getCoordinates = function getCoordinates () {\n      return null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Circle.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {};\n\n    /**\n     * Set the radius of the circle. The radius is in the units of the projection.\n     * @param {number} radius Radius.\n     * @api\n     */\n    Circle.prototype.setRadius = function setRadius (radius) {\n      this.flatCoordinates[this.stride] = this.flatCoordinates[0] + radius;\n      this.changed();\n    };\n\n    return Circle;\n  }(SimpleGeometry));\n\n\n  /**\n   * Transform each coordinate of the circle from one coordinate reference system\n   * to another. The geometry is modified in place.\n   * If you do not want the geometry modified in place, first clone() it and\n   * then use this function on the clone.\n   *\n   * Internally a circle is currently represented by two points: the center of\n   * the circle `[cx, cy]`, and the point to the right of the circle\n   * `[cx + r, cy]`. This `transform` function just transforms these two points.\n   * So the resulting geometry is also a circle, and that circle does not\n   * correspond to the shape that would be obtained by transforming every point\n   * of the original circle.\n   *\n   * @param {import(\"../proj.js\").ProjectionLike} source The current projection.  Can be a\n   *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n   * @param {import(\"../proj.js\").ProjectionLike} destination The desired projection.  Can be a\n   *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n   * @return {Circle} This geometry.  Note that original geometry is\n   *     modified in place.\n   * @function\n   * @api\n   */\n  Circle.prototype.transform;\n\n  /**\n   * @module ol/geom/flat/interpolate\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} fraction Fraction.\n   * @param {Array<number>=} opt_dest Destination.\n   * @return {Array<number>} Destination.\n   */\n  function interpolatePoint(flatCoordinates, offset, end, stride, fraction, opt_dest) {\n    var pointX = NaN;\n    var pointY = NaN;\n    var n = (end - offset) / stride;\n    if (n === 1) {\n      pointX = flatCoordinates[offset];\n      pointY = flatCoordinates[offset + 1];\n    } else if (n == 2) {\n      pointX = (1 - fraction) * flatCoordinates[offset] +\n          fraction * flatCoordinates[offset + stride];\n      pointY = (1 - fraction) * flatCoordinates[offset + 1] +\n          fraction * flatCoordinates[offset + stride + 1];\n    } else if (n !== 0) {\n      var x1 = flatCoordinates[offset];\n      var y1 = flatCoordinates[offset + 1];\n      var length = 0;\n      var cumulativeLengths = [0];\n      for (var i = offset + stride; i < end; i += stride) {\n        var x2 = flatCoordinates[i];\n        var y2 = flatCoordinates[i + 1];\n        length += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n        cumulativeLengths.push(length);\n        x1 = x2;\n        y1 = y2;\n      }\n      var target = fraction * length;\n      var index = binarySearch(cumulativeLengths, target);\n      if (index < 0) {\n        var t = (target - cumulativeLengths[-index - 2]) /\n            (cumulativeLengths[-index - 1] - cumulativeLengths[-index - 2]);\n        var o = offset + (-index - 2) * stride;\n        pointX = lerp(\n          flatCoordinates[o], flatCoordinates[o + stride], t);\n        pointY = lerp(\n          flatCoordinates[o + 1], flatCoordinates[o + stride + 1], t);\n      } else {\n        pointX = flatCoordinates[offset + index * stride];\n        pointY = flatCoordinates[offset + index * stride + 1];\n      }\n    }\n    if (opt_dest) {\n      opt_dest[0] = pointX;\n      opt_dest[1] = pointY;\n      return opt_dest;\n    } else {\n      return [pointX, pointY];\n    }\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @param {number} m M.\n   * @param {boolean} extrapolate Extrapolate.\n   * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n   */\n  function lineStringCoordinateAtM(flatCoordinates, offset, end, stride, m, extrapolate) {\n    if (end == offset) {\n      return null;\n    }\n    var coordinate;\n    if (m < flatCoordinates[offset + stride - 1]) {\n      if (extrapolate) {\n        coordinate = flatCoordinates.slice(offset, offset + stride);\n        coordinate[stride - 1] = m;\n        return coordinate;\n      } else {\n        return null;\n      }\n    } else if (flatCoordinates[end - 1] < m) {\n      if (extrapolate) {\n        coordinate = flatCoordinates.slice(end - stride, end);\n        coordinate[stride - 1] = m;\n        return coordinate;\n      } else {\n        return null;\n      }\n    }\n    // FIXME use O(1) search\n    if (m == flatCoordinates[offset + stride - 1]) {\n      return flatCoordinates.slice(offset, offset + stride);\n    }\n    var lo = offset / stride;\n    var hi = end / stride;\n    while (lo < hi) {\n      var mid = (lo + hi) >> 1;\n      if (m < flatCoordinates[(mid + 1) * stride - 1]) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    var m0 = flatCoordinates[lo * stride - 1];\n    if (m == m0) {\n      return flatCoordinates.slice((lo - 1) * stride, (lo - 1) * stride + stride);\n    }\n    var m1 = flatCoordinates[(lo + 1) * stride - 1];\n    var t = (m - m0) / (m1 - m0);\n    coordinate = [];\n    for (var i = 0; i < stride - 1; ++i) {\n      coordinate.push(lerp(flatCoordinates[(lo - 1) * stride + i],\n        flatCoordinates[lo * stride + i], t));\n    }\n    coordinate.push(m);\n    return coordinate;\n  }\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<number>} ends Ends.\n   * @param {number} stride Stride.\n   * @param {number} m M.\n   * @param {boolean} extrapolate Extrapolate.\n   * @param {boolean} interpolate Interpolate.\n   * @return {import(\"../../coordinate.js\").Coordinate} Coordinate.\n   */\n  function lineStringsCoordinateAtM(\n    flatCoordinates, offset, ends, stride, m, extrapolate, interpolate) {\n    if (interpolate) {\n      return lineStringCoordinateAtM(\n        flatCoordinates, offset, ends[ends.length - 1], stride, m, extrapolate);\n    }\n    var coordinate;\n    if (m < flatCoordinates[stride - 1]) {\n      if (extrapolate) {\n        coordinate = flatCoordinates.slice(0, stride);\n        coordinate[stride - 1] = m;\n        return coordinate;\n      } else {\n        return null;\n      }\n    }\n    if (flatCoordinates[flatCoordinates.length - 1] < m) {\n      if (extrapolate) {\n        coordinate = flatCoordinates.slice(flatCoordinates.length - stride);\n        coordinate[stride - 1] = m;\n        return coordinate;\n      } else {\n        return null;\n      }\n    }\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      if (offset == end) {\n        continue;\n      }\n      if (m < flatCoordinates[offset + stride - 1]) {\n        return null;\n      } else if (m <= flatCoordinates[end - 1]) {\n        return lineStringCoordinateAtM(\n          flatCoordinates, offset, end, stride, m, false);\n      }\n      offset = end;\n    }\n    return null;\n  }\n\n  /**\n   * @module ol/geom/flat/length\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {number} Length.\n   */\n  function lineStringLength(flatCoordinates, offset, end, stride) {\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    var length = 0;\n    for (var i = offset + stride; i < end; i += stride) {\n      var x2 = flatCoordinates[i];\n      var y2 = flatCoordinates[i + 1];\n      length += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n      x1 = x2;\n      y1 = y2;\n    }\n    return length;\n  }\n\n  /**\n   * @module ol/geom/LineString\n   */\n\n  /**\n   * @classdesc\n   * Linestring geometry.\n   *\n   * @api\n   */\n  var LineString = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function LineString(coordinates, opt_layout) {\n\n      SimpleGeometry$$1.call(this);\n\n      /**\n       * @private\n       * @type {import(\"../coordinate.js\").Coordinate}\n       */\n      this.flatMidpoint_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.flatMidpointRevision_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDelta_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDeltaRevision_ = -1;\n\n      if (opt_layout !== undefined && !Array.isArray(coordinates[0])) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n      } else {\n        this.setCoordinates(/** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n      }\n\n    }\n\n    if ( SimpleGeometry$$1 ) LineString.__proto__ = SimpleGeometry$$1;\n    LineString.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    LineString.prototype.constructor = LineString;\n\n    /**\n     * Append the passed coordinate to the coordinates of the linestring.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @api\n     */\n    LineString.prototype.appendCoordinate = function appendCoordinate (coordinate) {\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = coordinate.slice();\n      } else {\n        extend(this.flatCoordinates, coordinate);\n      }\n      this.changed();\n    };\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!LineString} Clone.\n     * @override\n     * @api\n     */\n    LineString.prototype.clone = function clone$$1 () {\n      return new LineString(this.flatCoordinates.slice(), this.layout);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LineString.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      if (this.maxDeltaRevision_ != this.getRevision()) {\n        this.maxDelta_ = Math.sqrt(maxSquaredDelta(\n          this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0));\n        this.maxDeltaRevision_ = this.getRevision();\n      }\n      return assignClosestPoint(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        this.maxDelta_, false, x, y, closestPoint, minSquaredDistance);\n    };\n\n    /**\n     * Iterate over each segment, calling the provided callback.\n     * If the callback returns a truthy value the function returns that\n     * value immediately. Otherwise the function returns `false`.\n     *\n     * @param {function(this: S, import(\"../coordinate.js\").Coordinate, import(\"../coordinate.js\").Coordinate): T} callback Function\n     *     called for each segment.\n     * @return {T|boolean} Value.\n     * @template T,S\n     * @api\n     */\n    LineString.prototype.forEachSegment = function forEachSegment$1 (callback) {\n      return forEach(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, callback);\n    };\n\n    /**\n     * Returns the coordinate at `m` using linear interpolation, or `null` if no\n     * such coordinate exists.\n     *\n     * `opt_extrapolate` controls extrapolation beyond the range of Ms in the\n     * MultiLineString. If `opt_extrapolate` is `true` then Ms less than the first\n     * M will return the first coordinate and Ms greater than the last M will\n     * return the last coordinate.\n     *\n     * @param {number} m M.\n     * @param {boolean=} opt_extrapolate Extrapolate. Default is `false`.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    LineString.prototype.getCoordinateAtM = function getCoordinateAtM (m, opt_extrapolate) {\n      if (this.layout != GeometryLayout.XYM &&\n          this.layout != GeometryLayout.XYZM) {\n        return null;\n      }\n      var extrapolate = opt_extrapolate !== undefined ? opt_extrapolate : false;\n      return lineStringCoordinateAtM(this.flatCoordinates, 0,\n        this.flatCoordinates.length, this.stride, m, extrapolate);\n    };\n\n    /**\n     * Return the coordinates of the linestring.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @override\n     * @api\n     */\n    LineString.prototype.getCoordinates = function getCoordinates () {\n      return inflateCoordinates(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n\n    /**\n     * Return the coordinate at the provided fraction along the linestring.\n     * The `fraction` is a number between 0 and 1, where 0 is the start of the\n     * linestring and 1 is the end.\n     * @param {number} fraction Fraction.\n     * @param {import(\"../coordinate.js\").Coordinate=} opt_dest Optional coordinate whose values will\n     *     be modified. If not provided, a new coordinate will be returned.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate of the interpolated point.\n     * @api\n     */\n    LineString.prototype.getCoordinateAt = function getCoordinateAt (fraction, opt_dest) {\n      return interpolatePoint(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        fraction, opt_dest);\n    };\n\n    /**\n     * Return the length of the linestring on projected plane.\n     * @return {number} Length (on projected plane).\n     * @api\n     */\n    LineString.prototype.getLength = function getLength () {\n      return lineStringLength(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n\n    /**\n     * @return {Array<number>} Flat midpoint.\n     */\n    LineString.prototype.getFlatMidpoint = function getFlatMidpoint () {\n      if (this.flatMidpointRevision_ != this.getRevision()) {\n        this.flatMidpoint_ = this.getCoordinateAt(0.5, this.flatMidpoint_);\n        this.flatMidpointRevision_ = this.getRevision();\n      }\n      return this.flatMidpoint_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    LineString.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      var simplifiedFlatCoordinates = [];\n      simplifiedFlatCoordinates.length = douglasPeucker(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        squaredTolerance, simplifiedFlatCoordinates, 0);\n      return new LineString(simplifiedFlatCoordinates, GeometryLayout.XY);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    LineString.prototype.getType = function getType () {\n      return GeometryType.LINE_STRING;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    LineString.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return intersectsLineString(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n        extent);\n    };\n\n    /**\n     * Set the coordinates of the linestring.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    LineString.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 1);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      this.flatCoordinates.length = deflateCoordinates(\n        this.flatCoordinates, 0, coordinates, this.stride);\n      this.changed();\n    };\n\n    return LineString;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/geom/MultiLineString\n   */\n\n  /**\n   * @classdesc\n   * Multi-linestring geometry.\n   *\n   * @api\n   */\n  var MultiLineString = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function MultiLineString(coordinates, opt_layout, opt_ends) {\n\n      SimpleGeometry$$1.call(this);\n\n      /**\n       * @type {Array<number>}\n       * @private\n       */\n      this.ends_ = [];\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDelta_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDeltaRevision_ = -1;\n\n      if (Array.isArray(coordinates[0])) {\n        this.setCoordinates(/** @type {Array<Array<import(\"../coordinate.js\").Coordinate>>} */ (coordinates), opt_layout);\n      } else if (opt_layout !== undefined && opt_ends) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n        this.ends_ = opt_ends;\n      } else {\n        var layout = this.getLayout();\n        var lineStrings = /** @type {Array<LineString>} */ (coordinates);\n        var flatCoordinates = [];\n        var ends = [];\n        for (var i = 0, ii = lineStrings.length; i < ii; ++i) {\n          var lineString = lineStrings[i];\n          if (i === 0) {\n            layout = lineString.getLayout();\n          }\n          extend(flatCoordinates, lineString.getFlatCoordinates());\n          ends.push(flatCoordinates.length);\n        }\n        this.setFlatCoordinates(layout, flatCoordinates);\n        this.ends_ = ends;\n      }\n\n    }\n\n    if ( SimpleGeometry$$1 ) MultiLineString.__proto__ = SimpleGeometry$$1;\n    MultiLineString.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    MultiLineString.prototype.constructor = MultiLineString;\n\n    /**\n     * Append the passed linestring to the multilinestring.\n     * @param {LineString} lineString LineString.\n     * @api\n     */\n    MultiLineString.prototype.appendLineString = function appendLineString (lineString) {\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = lineString.getFlatCoordinates().slice();\n      } else {\n        extend(this.flatCoordinates, lineString.getFlatCoordinates().slice());\n      }\n      this.ends_.push(this.flatCoordinates.length);\n      this.changed();\n    };\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiLineString} Clone.\n     * @override\n     * @api\n     */\n    MultiLineString.prototype.clone = function clone$$1 () {\n      return new MultiLineString(this.flatCoordinates.slice(), this.layout, this.ends_.slice());\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiLineString.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      if (this.maxDeltaRevision_ != this.getRevision()) {\n        this.maxDelta_ = Math.sqrt(arrayMaxSquaredDelta(\n          this.flatCoordinates, 0, this.ends_, this.stride, 0));\n        this.maxDeltaRevision_ = this.getRevision();\n      }\n      return assignClosestArrayPoint(\n        this.flatCoordinates, 0, this.ends_, this.stride,\n        this.maxDelta_, false, x, y, closestPoint, minSquaredDistance);\n    };\n\n    /**\n     * Returns the coordinate at `m` using linear interpolation, or `null` if no\n     * such coordinate exists.\n     *\n     * `opt_extrapolate` controls extrapolation beyond the range of Ms in the\n     * MultiLineString. If `opt_extrapolate` is `true` then Ms less than the first\n     * M will return the first coordinate and Ms greater than the last M will\n     * return the last coordinate.\n     *\n     * `opt_interpolate` controls interpolation between consecutive LineStrings\n     * within the MultiLineString. If `opt_interpolate` is `true` the coordinates\n     * will be linearly interpolated between the last coordinate of one LineString\n     * and the first coordinate of the next LineString.  If `opt_interpolate` is\n     * `false` then the function will return `null` for Ms falling between\n     * LineStrings.\n     *\n     * @param {number} m M.\n     * @param {boolean=} opt_extrapolate Extrapolate. Default is `false`.\n     * @param {boolean=} opt_interpolate Interpolate. Default is `false`.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    MultiLineString.prototype.getCoordinateAtM = function getCoordinateAtM (m, opt_extrapolate, opt_interpolate) {\n      if ((this.layout != GeometryLayout.XYM &&\n           this.layout != GeometryLayout.XYZM) ||\n          this.flatCoordinates.length === 0) {\n        return null;\n      }\n      var extrapolate = opt_extrapolate !== undefined ? opt_extrapolate : false;\n      var interpolate = opt_interpolate !== undefined ? opt_interpolate : false;\n      return lineStringsCoordinateAtM(this.flatCoordinates, 0,\n        this.ends_, this.stride, m, extrapolate, interpolate);\n    };\n\n    /**\n     * Return the coordinates of the multilinestring.\n     * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} Coordinates.\n     * @override\n     * @api\n     */\n    MultiLineString.prototype.getCoordinates = function getCoordinates () {\n      return inflateCoordinatesArray(\n        this.flatCoordinates, 0, this.ends_, this.stride);\n    };\n\n    /**\n     * @return {Array<number>} Ends.\n     */\n    MultiLineString.prototype.getEnds = function getEnds () {\n      return this.ends_;\n    };\n\n    /**\n     * Return the linestring at the specified index.\n     * @param {number} index Index.\n     * @return {LineString} LineString.\n     * @api\n     */\n    MultiLineString.prototype.getLineString = function getLineString (index) {\n      if (index < 0 || this.ends_.length <= index) {\n        return null;\n      }\n      return new LineString(this.flatCoordinates.slice(\n        index === 0 ? 0 : this.ends_[index - 1], this.ends_[index]), this.layout);\n    };\n\n    /**\n     * Return the linestrings of this multilinestring.\n     * @return {Array<LineString>} LineStrings.\n     * @api\n     */\n    MultiLineString.prototype.getLineStrings = function getLineStrings () {\n      var flatCoordinates = this.flatCoordinates;\n      var ends = this.ends_;\n      var layout = this.layout;\n      /** @type {Array<LineString>} */\n      var lineStrings = [];\n      var offset = 0;\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var lineString = new LineString(flatCoordinates.slice(offset, end), layout);\n        lineStrings.push(lineString);\n        offset = end;\n      }\n      return lineStrings;\n    };\n\n    /**\n     * @return {Array<number>} Flat midpoints.\n     */\n    MultiLineString.prototype.getFlatMidpoints = function getFlatMidpoints () {\n      var midpoints = [];\n      var flatCoordinates = this.flatCoordinates;\n      var offset = 0;\n      var ends = this.ends_;\n      var stride = this.stride;\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var midpoint = interpolatePoint(\n          flatCoordinates, offset, end, stride, 0.5);\n        extend(midpoints, midpoint);\n        offset = end;\n      }\n      return midpoints;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiLineString.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      var simplifiedFlatCoordinates = [];\n      var simplifiedEnds = [];\n      simplifiedFlatCoordinates.length = douglasPeuckerArray(\n        this.flatCoordinates, 0, this.ends_, this.stride, squaredTolerance,\n        simplifiedFlatCoordinates, 0, simplifiedEnds);\n      return new MultiLineString(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEnds);\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiLineString.prototype.getType = function getType () {\n      return GeometryType.MULTI_LINE_STRING;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiLineString.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return intersectsLineStringArray(\n        this.flatCoordinates, 0, this.ends_, this.stride, extent);\n    };\n\n    /**\n     * Set the coordinates of the multilinestring.\n     * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    MultiLineString.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 2);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      var ends = deflateCoordinatesArray(\n        this.flatCoordinates, 0, coordinates, this.stride, this.ends_);\n      this.flatCoordinates.length = ends.length === 0 ? 0 : ends[ends.length - 1];\n      this.changed();\n    };\n\n    return MultiLineString;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/geom/MultiPoint\n   */\n\n  /**\n   * @classdesc\n   * Multi-point geometry.\n   *\n   * @api\n   */\n  var MultiPoint = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function MultiPoint(coordinates, opt_layout) {\n      SimpleGeometry$$1.call(this);\n      if (opt_layout && !Array.isArray(coordinates[0])) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n      } else {\n        this.setCoordinates(/** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n      }\n    }\n\n    if ( SimpleGeometry$$1 ) MultiPoint.__proto__ = SimpleGeometry$$1;\n    MultiPoint.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    MultiPoint.prototype.constructor = MultiPoint;\n\n    /**\n     * Append the passed point to this multipoint.\n     * @param {Point} point Point.\n     * @api\n     */\n    MultiPoint.prototype.appendPoint = function appendPoint (point) {\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = point.getFlatCoordinates().slice();\n      } else {\n        extend(this.flatCoordinates, point.getFlatCoordinates());\n      }\n      this.changed();\n    };\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiPoint} Clone.\n     * @override\n     * @api\n     */\n    MultiPoint.prototype.clone = function clone$$1 () {\n      var multiPoint = new MultiPoint(this.flatCoordinates.slice(), this.layout);\n      return multiPoint;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiPoint.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      var flatCoordinates = this.flatCoordinates;\n      var stride = this.stride;\n      for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n        var squaredDistance$$1 = squaredDistance(\n          x, y, flatCoordinates[i], flatCoordinates[i + 1]);\n        if (squaredDistance$$1 < minSquaredDistance) {\n          minSquaredDistance = squaredDistance$$1;\n          for (var j = 0; j < stride; ++j) {\n            closestPoint[j] = flatCoordinates[i + j];\n          }\n          closestPoint.length = stride;\n        }\n      }\n      return minSquaredDistance;\n    };\n\n    /**\n     * Return the coordinates of the multipoint.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @override\n     * @api\n     */\n    MultiPoint.prototype.getCoordinates = function getCoordinates () {\n      return inflateCoordinates(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n\n    /**\n     * Return the point at the specified index.\n     * @param {number} index Index.\n     * @return {Point} Point.\n     * @api\n     */\n    MultiPoint.prototype.getPoint = function getPoint (index) {\n      var n = !this.flatCoordinates ? 0 : this.flatCoordinates.length / this.stride;\n      if (index < 0 || n <= index) {\n        return null;\n      }\n      return new Point(this.flatCoordinates.slice(\n        index * this.stride, (index + 1) * this.stride), this.layout);\n    };\n\n    /**\n     * Return the points of this multipoint.\n     * @return {Array<Point>} Points.\n     * @api\n     */\n    MultiPoint.prototype.getPoints = function getPoints () {\n      var flatCoordinates = this.flatCoordinates;\n      var layout = this.layout;\n      var stride = this.stride;\n      /** @type {Array<Point>} */\n      var points = [];\n      for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n        var point = new Point(flatCoordinates.slice(i, i + stride), layout);\n        points.push(point);\n      }\n      return points;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiPoint.prototype.getType = function getType () {\n      return GeometryType.MULTI_POINT;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiPoint.prototype.intersectsExtent = function intersectsExtent (extent) {\n      var flatCoordinates = this.flatCoordinates;\n      var stride = this.stride;\n      for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n        var x = flatCoordinates[i];\n        var y = flatCoordinates[i + 1];\n        if (containsXY(extent, x, y)) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * Set the coordinates of the multipoint.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    MultiPoint.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 1);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      this.flatCoordinates.length = deflateCoordinates(\n        this.flatCoordinates, 0, coordinates, this.stride);\n      this.changed();\n    };\n\n    return MultiPoint;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/geom/flat/center\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {Array<Array<number>>} endss Endss.\n   * @param {number} stride Stride.\n   * @return {Array<number>} Flat centers.\n   */\n  function linearRingss$1(flatCoordinates, offset, endss, stride) {\n    var flatCenters = [];\n    var extent = createEmpty();\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n      var ends = endss[i];\n      extent = createOrUpdateFromFlatCoordinates(flatCoordinates, offset, ends[0], stride);\n      flatCenters.push((extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2);\n      offset = ends[ends.length - 1];\n    }\n    return flatCenters;\n  }\n\n  /**\n   * @module ol/geom/MultiPolygon\n   */\n\n  /**\n   * @classdesc\n   * Multi-polygon geometry.\n   *\n   * @api\n   */\n  var MultiPolygon = /*@__PURE__*/(function (SimpleGeometry$$1) {\n    function MultiPolygon(coordinates, opt_layout, opt_endss) {\n\n      SimpleGeometry$$1.call(this);\n\n      /**\n       * @type {Array<Array<number>>}\n       * @private\n       */\n      this.endss_ = [];\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.flatInteriorPointsRevision_ = -1;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.flatInteriorPoints_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDelta_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.maxDeltaRevision_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.orientedRevision_ = -1;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.orientedFlatCoordinates_ = null;\n\n      if (!opt_endss && !Array.isArray(coordinates[0])) {\n        var layout = this.getLayout();\n        var polygons = /** @type {Array<Polygon>} */ (coordinates);\n        var flatCoordinates = [];\n        var endss = [];\n        for (var i = 0, ii = polygons.length; i < ii; ++i) {\n          var polygon = polygons[i];\n          if (i === 0) {\n            layout = polygon.getLayout();\n          }\n          var offset = flatCoordinates.length;\n          var ends = polygon.getEnds();\n          for (var j = 0, jj = ends.length; j < jj; ++j) {\n            ends[j] += offset;\n          }\n          extend(flatCoordinates, polygon.getFlatCoordinates());\n          endss.push(ends);\n        }\n        opt_layout = layout;\n        coordinates = flatCoordinates;\n        opt_endss = endss;\n      }\n      if (opt_layout !== undefined && opt_endss) {\n        this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n        this.endss_ = opt_endss;\n      } else {\n        this.setCoordinates(/** @type {Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} */ (coordinates),\n          opt_layout);\n      }\n\n    }\n\n    if ( SimpleGeometry$$1 ) MultiPolygon.__proto__ = SimpleGeometry$$1;\n    MultiPolygon.prototype = Object.create( SimpleGeometry$$1 && SimpleGeometry$$1.prototype );\n    MultiPolygon.prototype.constructor = MultiPolygon;\n\n    /**\n     * Append the passed polygon to this multipolygon.\n     * @param {Polygon} polygon Polygon.\n     * @api\n     */\n    MultiPolygon.prototype.appendPolygon = function appendPolygon (polygon) {\n      /** @type {Array<number>} */\n      var ends;\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = polygon.getFlatCoordinates().slice();\n        ends = polygon.getEnds().slice();\n        this.endss_.push();\n      } else {\n        var offset = this.flatCoordinates.length;\n        extend(this.flatCoordinates, polygon.getFlatCoordinates());\n        ends = polygon.getEnds().slice();\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n          ends[i] += offset;\n        }\n      }\n      this.endss_.push(ends);\n      this.changed();\n    };\n\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiPolygon} Clone.\n     * @override\n     * @api\n     */\n    MultiPolygon.prototype.clone = function clone$$1 () {\n      var len = this.endss_.length;\n      var newEndss = new Array(len);\n      for (var i = 0; i < len; ++i) {\n        newEndss[i] = this.endss_[i].slice();\n      }\n\n      return new MultiPolygon(\n        this.flatCoordinates.slice(), this.layout, newEndss);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiPolygon.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n      if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n        return minSquaredDistance;\n      }\n      if (this.maxDeltaRevision_ != this.getRevision()) {\n        this.maxDelta_ = Math.sqrt(multiArrayMaxSquaredDelta(\n          this.flatCoordinates, 0, this.endss_, this.stride, 0));\n        this.maxDeltaRevision_ = this.getRevision();\n      }\n      return assignClosestMultiArrayPoint(\n        this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride,\n        this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiPolygon.prototype.containsXY = function containsXY$$1 (x, y) {\n      return linearRingssContainsXY(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, x, y);\n    };\n\n    /**\n     * Return the area of the multipolygon on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    MultiPolygon.prototype.getArea = function getArea$$1 () {\n      return linearRingss(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride);\n    };\n\n    /**\n     * Get the coordinate array for this geometry.  This array has the structure\n     * of a GeoJSON coordinate array for multi-polygons.\n     *\n     * @param {boolean=} opt_right Orient coordinates according to the right-hand\n     *     rule (counter-clockwise for exterior and clockwise for interior rings).\n     *     If `false`, coordinates will be oriented according to the left-hand rule\n     *     (clockwise for exterior and counter-clockwise for interior rings).\n     *     By default, coordinate orientation will depend on how the geometry was\n     *     constructed.\n     * @return {Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} Coordinates.\n     * @override\n     * @api\n     */\n    MultiPolygon.prototype.getCoordinates = function getCoordinates (opt_right) {\n      var flatCoordinates;\n      if (opt_right !== undefined) {\n        flatCoordinates = this.getOrientedFlatCoordinates().slice();\n        orientLinearRingsArray(\n          flatCoordinates, 0, this.endss_, this.stride, opt_right);\n      } else {\n        flatCoordinates = this.flatCoordinates;\n      }\n\n      return inflateMultiCoordinatesArray(\n        flatCoordinates, 0, this.endss_, this.stride);\n    };\n\n    /**\n     * @return {Array<Array<number>>} Endss.\n     */\n    MultiPolygon.prototype.getEndss = function getEndss () {\n      return this.endss_;\n    };\n\n    /**\n     * @return {Array<number>} Flat interior points.\n     */\n    MultiPolygon.prototype.getFlatInteriorPoints = function getFlatInteriorPoints () {\n      if (this.flatInteriorPointsRevision_ != this.getRevision()) {\n        var flatCenters = linearRingss$1(\n          this.flatCoordinates, 0, this.endss_, this.stride);\n        this.flatInteriorPoints_ = getInteriorPointsOfMultiArray(\n          this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride,\n          flatCenters);\n        this.flatInteriorPointsRevision_ = this.getRevision();\n      }\n      return this.flatInteriorPoints_;\n    };\n\n    /**\n     * Return the interior points as {@link module:ol/geom/MultiPoint multipoint}.\n     * @return {MultiPoint} Interior points as XYM coordinates, where M is\n     * the length of the horizontal intersection that the point belongs to.\n     * @api\n     */\n    MultiPolygon.prototype.getInteriorPoints = function getInteriorPoints () {\n      return new MultiPoint(this.getFlatInteriorPoints().slice(), GeometryLayout.XYM);\n    };\n\n    /**\n     * @return {Array<number>} Oriented flat coordinates.\n     */\n    MultiPolygon.prototype.getOrientedFlatCoordinates = function getOrientedFlatCoordinates () {\n      if (this.orientedRevision_ != this.getRevision()) {\n        var flatCoordinates = this.flatCoordinates;\n        if (linearRingsAreOriented(\n          flatCoordinates, 0, this.endss_, this.stride)) {\n          this.orientedFlatCoordinates_ = flatCoordinates;\n        } else {\n          this.orientedFlatCoordinates_ = flatCoordinates.slice();\n          this.orientedFlatCoordinates_.length =\n              orientLinearRingsArray(\n                this.orientedFlatCoordinates_, 0, this.endss_, this.stride);\n        }\n        this.orientedRevision_ = this.getRevision();\n      }\n      return this.orientedFlatCoordinates_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    MultiPolygon.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n      var simplifiedFlatCoordinates = [];\n      var simplifiedEndss = [];\n      simplifiedFlatCoordinates.length = quantizeMultiArray(\n        this.flatCoordinates, 0, this.endss_, this.stride,\n        Math.sqrt(squaredTolerance),\n        simplifiedFlatCoordinates, 0, simplifiedEndss);\n      return new MultiPolygon(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEndss);\n    };\n\n    /**\n     * Return the polygon at the specified index.\n     * @param {number} index Index.\n     * @return {Polygon} Polygon.\n     * @api\n     */\n    MultiPolygon.prototype.getPolygon = function getPolygon (index) {\n      if (index < 0 || this.endss_.length <= index) {\n        return null;\n      }\n      var offset;\n      if (index === 0) {\n        offset = 0;\n      } else {\n        var prevEnds = this.endss_[index - 1];\n        offset = prevEnds[prevEnds.length - 1];\n      }\n      var ends = this.endss_[index].slice();\n      var end = ends[ends.length - 1];\n      if (offset !== 0) {\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n          ends[i] -= offset;\n        }\n      }\n      return new Polygon(this.flatCoordinates.slice(offset, end), this.layout, ends);\n    };\n\n    /**\n     * Return the polygons of this multipolygon.\n     * @return {Array<Polygon>} Polygons.\n     * @api\n     */\n    MultiPolygon.prototype.getPolygons = function getPolygons () {\n      var layout = this.layout;\n      var flatCoordinates = this.flatCoordinates;\n      var endss = this.endss_;\n      var polygons = [];\n      var offset = 0;\n      for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i].slice();\n        var end = ends[ends.length - 1];\n        if (offset !== 0) {\n          for (var j = 0, jj = ends.length; j < jj; ++j) {\n            ends[j] -= offset;\n          }\n        }\n        var polygon = new Polygon(flatCoordinates.slice(offset, end), layout, ends);\n        polygons.push(polygon);\n        offset = end;\n      }\n      return polygons;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiPolygon.prototype.getType = function getType () {\n      return GeometryType.MULTI_POLYGON;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    MultiPolygon.prototype.intersectsExtent = function intersectsExtent (extent) {\n      return intersectsLinearRingMultiArray(\n        this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, extent);\n    };\n\n    /**\n     * Set the coordinates of the multipolygon.\n     * @param {!Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} coordinates Coordinates.\n     * @param {GeometryLayout=} opt_layout Layout.\n     * @override\n     * @api\n     */\n    MultiPolygon.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n      this.setLayout(opt_layout, coordinates, 3);\n      if (!this.flatCoordinates) {\n        this.flatCoordinates = [];\n      }\n      var endss = deflateMultiCoordinatesArray(\n        this.flatCoordinates, 0, coordinates, this.stride, this.endss_);\n      if (endss.length === 0) {\n        this.flatCoordinates.length = 0;\n      } else {\n        var lastEnds = endss[endss.length - 1];\n        this.flatCoordinates.length = lastEnds.length === 0 ?\n          0 : lastEnds[lastEnds.length - 1];\n      }\n      this.changed();\n    };\n\n    return MultiPolygon;\n  }(SimpleGeometry));\n\n  /**\n   * @module ol/LayerType\n   */\n\n  /**\n   * A layer type used when creating layer renderers.\n   * @enum {string}\n   */\n  var LayerType = {\n    IMAGE: 'IMAGE',\n    TILE: 'TILE',\n    VECTOR_TILE: 'VECTOR_TILE',\n    VECTOR: 'VECTOR'\n  };\n\n  /**\n   * @module ol/layer/VectorRenderType\n   */\n\n  /**\n   * @enum {string}\n   * Render mode for vector layers:\n   *  * `'image'`: Vector layers are rendered as images. Great performance, but\n   *    point symbols and texts are always rotated with the view and pixels are\n   *    scaled during zoom animations.\n   *  * `'vector'`: Vector layers are rendered as vectors. Most accurate rendering\n   *    even during animations, but slower performance.\n   * @api\n   */\n  var VectorRenderType = {\n    IMAGE: 'image',\n    VECTOR: 'vector'\n  };\n\n  /**\n   * @module ol/color\n   */\n\n\n  /**\n   * A color represented as a short array [red, green, blue, alpha].\n   * red, green, and blue should be integers in the range 0..255 inclusive.\n   * alpha should be a float in the range 0..1 inclusive. If no alpha value is\n   * given then `1` will be used.\n   * @typedef {Array<number>} Color\n   * @api\n   */\n\n\n  /**\n   * This RegExp matches # followed by 3, 4, 6, or 8 hex digits.\n   * @const\n   * @type {RegExp}\n   * @private\n   */\n  var HEX_COLOR_RE_ = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i;\n\n\n  /**\n   * Regular expression for matching potential named color style strings.\n   * @const\n   * @type {RegExp}\n   * @private\n   */\n  var NAMED_COLOR_RE_ = /^([a-z]*)$/i;\n\n\n  /**\n   * Return the color as an rgba string.\n   * @param {Color|string} color Color.\n   * @return {string} Rgba string.\n   * @api\n   */\n  function asString(color) {\n    if (typeof color === 'string') {\n      return color;\n    } else {\n      return toString(color);\n    }\n  }\n\n  /**\n   * Return named color as an rgba string.\n   * @param {string} color Named color.\n   * @return {string} Rgb string.\n   */\n  function fromNamed(color) {\n    var el = document.createElement('div');\n    el.style.color = color;\n    if (el.style.color !== '') {\n      document.body.appendChild(el);\n      var rgb = getComputedStyle(el).color;\n      document.body.removeChild(el);\n      return rgb;\n    } else {\n      return '';\n    }\n  }\n\n\n  /**\n   * @param {string} s String.\n   * @return {Color} Color.\n   */\n  var fromString = (\n    function() {\n\n      // We maintain a small cache of parsed strings.  To provide cheap LRU-like\n      // semantics, whenever the cache grows too large we simply delete an\n      // arbitrary 25% of the entries.\n\n      /**\n       * @const\n       * @type {number}\n       */\n      var MAX_CACHE_SIZE = 1024;\n\n      /**\n       * @type {Object<string, Color>}\n       */\n      var cache = {};\n\n      /**\n       * @type {number}\n       */\n      var cacheSize = 0;\n\n      return (\n        /**\n         * @param {string} s String.\n         * @return {Color} Color.\n         */\n        function(s) {\n          var color;\n          if (cache.hasOwnProperty(s)) {\n            color = cache[s];\n          } else {\n            if (cacheSize >= MAX_CACHE_SIZE) {\n              var i = 0;\n              for (var key in cache) {\n                if ((i++ & 3) === 0) {\n                  delete cache[key];\n                  --cacheSize;\n                }\n              }\n            }\n            color = fromStringInternal_(s);\n            cache[s] = color;\n            ++cacheSize;\n          }\n          return color;\n        }\n      );\n\n    })();\n\n  /**\n   * Return the color as an array. This function maintains a cache of calculated\n   * arrays which means the result should not be modified.\n   * @param {Color|string} color Color.\n   * @return {Color} Color.\n   * @api\n   */\n  function asArray(color) {\n    if (Array.isArray(color)) {\n      return color;\n    } else {\n      return fromString(color);\n    }\n  }\n\n  /**\n   * @param {string} s String.\n   * @private\n   * @return {Color} Color.\n   */\n  function fromStringInternal_(s) {\n    var r, g, b, a, color;\n\n    if (NAMED_COLOR_RE_.exec(s)) {\n      s = fromNamed(s);\n    }\n\n    if (HEX_COLOR_RE_.exec(s)) { // hex\n      var n = s.length - 1; // number of hex digits\n      var d; // number of digits per channel\n      if (n <= 4) {\n        d = 1;\n      } else {\n        d = 2;\n      }\n      var hasAlpha = n === 4 || n === 8;\n      r = parseInt(s.substr(1 + 0 * d, d), 16);\n      g = parseInt(s.substr(1 + 1 * d, d), 16);\n      b = parseInt(s.substr(1 + 2 * d, d), 16);\n      if (hasAlpha) {\n        a = parseInt(s.substr(1 + 3 * d, d), 16);\n      } else {\n        a = 255;\n      }\n      if (d == 1) {\n        r = (r << 4) + r;\n        g = (g << 4) + g;\n        b = (b << 4) + b;\n        if (hasAlpha) {\n          a = (a << 4) + a;\n        }\n      }\n      color = [r, g, b, a / 255];\n    } else if (s.indexOf('rgba(') == 0) { // rgba()\n      color = s.slice(5, -1).split(',').map(Number);\n      normalize(color);\n    } else if (s.indexOf('rgb(') == 0) { // rgb()\n      color = s.slice(4, -1).split(',').map(Number);\n      color.push(1);\n      normalize(color);\n    } else {\n      assert(false, 14); // Invalid color\n    }\n    return color;\n  }\n\n\n  /**\n   * TODO this function is only used in the test, we probably shouldn't export it\n   * @param {Color} color Color.\n   * @return {Color} Clamped color.\n   */\n  function normalize(color) {\n    color[0] = clamp((color[0] + 0.5) | 0, 0, 255);\n    color[1] = clamp((color[1] + 0.5) | 0, 0, 255);\n    color[2] = clamp((color[2] + 0.5) | 0, 0, 255);\n    color[3] = clamp(color[3], 0, 1);\n    return color;\n  }\n\n\n  /**\n   * @param {Color} color Color.\n   * @return {string} String.\n   */\n  function toString(color) {\n    var r = color[0];\n    if (r != (r | 0)) {\n      r = (r + 0.5) | 0;\n    }\n    var g = color[1];\n    if (g != (g | 0)) {\n      g = (g + 0.5) | 0;\n    }\n    var b = color[2];\n    if (b != (b | 0)) {\n      b = (b + 0.5) | 0;\n    }\n    var a = color[3] === undefined ? 1 : color[3];\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  }\n\n  /**\n   * @module ol/colorlike\n   */\n\n\n  /**\n   * A type accepted by CanvasRenderingContext2D.fillStyle\n   * or CanvasRenderingContext2D.strokeStyle.\n   * Represents a color, pattern, or gradient. The origin for patterns and\n   * gradients as fill style is an increment of 512 css pixels from map coordinate\n   * `[0, 0]`. For seamless repeat patterns, width and height of the pattern image\n   * must be a factor of two (2, 4, 8, ..., 512).\n   *\n   * @typedef {string|CanvasPattern|CanvasGradient} ColorLike\n   * @api\n   */\n\n\n  /**\n   * @param {import(\"./color.js\").Color|ColorLike} color Color.\n   * @return {ColorLike} The color as an {@link ol/colorlike~ColorLike}.\n   * @api\n   */\n  function asColorLike(color) {\n    if (Array.isArray(color)) {\n      return toString(color);\n    } else {\n      return color;\n    }\n  }\n\n  /**\n   * @module ol/ImageState\n   */\n\n  /**\n   * @enum {number}\n   */\n  var ImageState = {\n    IDLE: 0,\n    LOADING: 1,\n    LOADED: 2,\n    ERROR: 3\n  };\n\n  /**\n   * @module ol/structs/LRUCache\n   */\n\n\n  /**\n   * @typedef {Object} Entry\n   * @property {string} key_\n   * @property {Object} newer\n   * @property {Object} older\n   * @property {*} value_\n   */\n\n\n  /**\n   * @classdesc\n   * Implements a Least-Recently-Used cache where the keys do not conflict with\n   * Object's properties (e.g. 'hasOwnProperty' is not allowed as a key). Expiring\n   * items from the cache is the responsibility of the user.\n   *\n   * @fires import(\"../events/Event.js\").Event\n   * @template T\n   */\n  var LRUCache = /*@__PURE__*/(function (EventTarget) {\n    function LRUCache(opt_highWaterMark) {\n\n      EventTarget.call(this);\n\n      /**\n       * @type {number}\n       */\n      this.highWaterMark = opt_highWaterMark !== undefined ? opt_highWaterMark : 2048;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.count_ = 0;\n\n      /**\n       * @private\n       * @type {!Object<string, Entry>}\n       */\n      this.entries_ = {};\n\n      /**\n       * @private\n       * @type {?Entry}\n       */\n      this.oldest_ = null;\n\n      /**\n       * @private\n       * @type {?Entry}\n       */\n      this.newest_ = null;\n\n    }\n\n    if ( EventTarget ) LRUCache.__proto__ = EventTarget;\n    LRUCache.prototype = Object.create( EventTarget && EventTarget.prototype );\n    LRUCache.prototype.constructor = LRUCache;\n\n\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    LRUCache.prototype.canExpireCache = function canExpireCache () {\n      return this.getCount() > this.highWaterMark;\n    };\n\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n    LRUCache.prototype.clear = function clear () {\n      this.count_ = 0;\n      this.entries_ = {};\n      this.oldest_ = null;\n      this.newest_ = null;\n      this.dispatchEvent(EventType.CLEAR);\n    };\n\n\n    /**\n     * @param {string} key Key.\n     * @return {boolean} Contains key.\n     */\n    LRUCache.prototype.containsKey = function containsKey (key) {\n      return this.entries_.hasOwnProperty(key);\n    };\n\n\n    /**\n     * @param {function(this: S, T, string, LRUCache): ?} f The function\n     *     to call for every entry from the oldest to the newer. This function takes\n     *     3 arguments (the entry value, the entry key and the LRUCache object).\n     *     The return value is ignored.\n     * @param {S=} opt_this The object to use as `this` in `f`.\n     * @template S\n     */\n    LRUCache.prototype.forEach = function forEach (f, opt_this) {\n      var entry = this.oldest_;\n      while (entry) {\n        f.call(opt_this, entry.value_, entry.key_, this);\n        entry = entry.newer;\n      }\n    };\n\n\n    /**\n     * @param {string} key Key.\n     * @return {T} Value.\n     */\n    LRUCache.prototype.get = function get (key) {\n      var entry = this.entries_[key];\n      assert(entry !== undefined,\n        15); // Tried to get a value for a key that does not exist in the cache\n      if (entry === this.newest_) {\n        return entry.value_;\n      } else if (entry === this.oldest_) {\n        this.oldest_ = /** @type {Entry} */ (this.oldest_.newer);\n        this.oldest_.older = null;\n      } else {\n        entry.newer.older = entry.older;\n        entry.older.newer = entry.newer;\n      }\n      entry.newer = null;\n      entry.older = this.newest_;\n      this.newest_.newer = entry;\n      this.newest_ = entry;\n      return entry.value_;\n    };\n\n\n    /**\n     * Remove an entry from the cache.\n     * @param {string} key The entry key.\n     * @return {T} The removed entry.\n     */\n    LRUCache.prototype.remove = function remove (key) {\n      var entry = this.entries_[key];\n      assert(entry !== undefined, 15); // Tried to get a value for a key that does not exist in the cache\n      if (entry === this.newest_) {\n        this.newest_ = /** @type {Entry} */ (entry.older);\n        if (this.newest_) {\n          this.newest_.newer = null;\n        }\n      } else if (entry === this.oldest_) {\n        this.oldest_ = /** @type {Entry} */ (entry.newer);\n        if (this.oldest_) {\n          this.oldest_.older = null;\n        }\n      } else {\n        entry.newer.older = entry.older;\n        entry.older.newer = entry.newer;\n      }\n      delete this.entries_[key];\n      --this.count_;\n      return entry.value_;\n    };\n\n\n    /**\n     * @return {number} Count.\n     */\n    LRUCache.prototype.getCount = function getCount () {\n      return this.count_;\n    };\n\n\n    /**\n     * @return {Array<string>} Keys.\n     */\n    LRUCache.prototype.getKeys = function getKeys () {\n      var keys = new Array(this.count_);\n      var i = 0;\n      var entry;\n      for (entry = this.newest_; entry; entry = entry.older) {\n        keys[i++] = entry.key_;\n      }\n      return keys;\n    };\n\n\n    /**\n     * @return {Array<T>} Values.\n     */\n    LRUCache.prototype.getValues = function getValues () {\n      var values = new Array(this.count_);\n      var i = 0;\n      var entry;\n      for (entry = this.newest_; entry; entry = entry.older) {\n        values[i++] = entry.value_;\n      }\n      return values;\n    };\n\n\n    /**\n     * @return {T} Last value.\n     */\n    LRUCache.prototype.peekLast = function peekLast () {\n      return this.oldest_.value_;\n    };\n\n\n    /**\n     * @return {string} Last key.\n     */\n    LRUCache.prototype.peekLastKey = function peekLastKey () {\n      return this.oldest_.key_;\n    };\n\n\n    /**\n     * Get the key of the newest item in the cache.  Throws if the cache is empty.\n     * @return {string} The newest key.\n     */\n    LRUCache.prototype.peekFirstKey = function peekFirstKey () {\n      return this.newest_.key_;\n    };\n\n\n    /**\n     * @return {T} value Value.\n     */\n    LRUCache.prototype.pop = function pop () {\n      var entry = this.oldest_;\n      delete this.entries_[entry.key_];\n      if (entry.newer) {\n        entry.newer.older = null;\n      }\n      this.oldest_ = /** @type {Entry} */ (entry.newer);\n      if (!this.oldest_) {\n        this.newest_ = null;\n      }\n      --this.count_;\n      return entry.value_;\n    };\n\n\n    /**\n     * @param {string} key Key.\n     * @param {T} value Value.\n     */\n    LRUCache.prototype.replace = function replace (key, value) {\n      this.get(key); // update `newest_`\n      this.entries_[key].value_ = value;\n    };\n\n\n    /**\n     * @param {string} key Key.\n     * @param {T} value Value.\n     */\n    LRUCache.prototype.set = function set (key, value) {\n      assert(!(key in this.entries_),\n        16); // Tried to set a value for a key that is used already\n      var entry = /** @type {Entry} */ ({\n        key_: key,\n        newer: null,\n        older: this.newest_,\n        value_: value\n      });\n      if (!this.newest_) {\n        this.oldest_ = entry;\n      } else {\n        this.newest_.newer = entry;\n      }\n      this.newest_ = entry;\n      this.entries_[key] = entry;\n      ++this.count_;\n    };\n\n\n    /**\n     * Set a maximum number of entries for the cache.\n     * @param {number} size Cache size.\n     * @api\n     */\n    LRUCache.prototype.setSize = function setSize (size) {\n      this.highWaterMark = size;\n    };\n\n\n    /**\n     * Prune the cache.\n     */\n    LRUCache.prototype.prune = function prune () {\n      while (this.canExpireCache()) {\n        this.pop();\n      }\n    };\n\n    return LRUCache;\n  }(Target));\n\n  /**\n   * @module ol/render/canvas\n   */\n\n\n  /**\n   * @typedef {Object} FillState\n   * @property {import(\"../colorlike.js\").ColorLike} fillStyle\n   */\n\n\n  /**\n   * @typedef {Object} FillStrokeState\n   * @property {import(\"../colorlike.js\").ColorLike} [currentFillStyle]\n   * @property {import(\"../colorlike.js\").ColorLike} [currentStrokeStyle]\n   * @property {string} [currentLineCap]\n   * @property {Array<number>} currentLineDash\n   * @property {number} [currentLineDashOffset]\n   * @property {string} [currentLineJoin]\n   * @property {number} [currentLineWidth]\n   * @property {number} [currentMiterLimit]\n   * @property {number} [lastStroke]\n   * @property {import(\"../colorlike.js\").ColorLike} [fillStyle]\n   * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle]\n   * @property {string} [lineCap]\n   * @property {Array<number>} lineDash\n   * @property {number} [lineDashOffset]\n   * @property {string} [lineJoin]\n   * @property {number} [lineWidth]\n   * @property {number} [miterLimit]\n   */\n\n\n  /**\n   * @typedef {Object} StrokeState\n   * @property {string} lineCap\n   * @property {Array<number>} lineDash\n   * @property {number} lineDashOffset\n   * @property {string} lineJoin\n   * @property {number} lineWidth\n   * @property {number} miterLimit\n   * @property {import(\"../colorlike.js\").ColorLike} strokeStyle\n   */\n\n\n  /**\n   * @typedef {Object} TextState\n   * @property {string} font\n   * @property {string} [textAlign]\n   * @property {string} textBaseline\n   * @property {string} [placement]\n   * @property {number} [maxAngle]\n   * @property {boolean} [overflow]\n   * @property {import(\"../style/Fill.js\").default} [backgroundFill]\n   * @property {import(\"../style/Stroke.js\").default} [backgroundStroke]\n   * @property {number} [scale]\n   * @property {Array<number>} [padding]\n   */\n\n\n  /**\n   * Container for decluttered replay instructions that need to be rendered or\n   * omitted together, i.e. when styles render both an image and text, or for the\n   * characters that form text along lines. The basic elements of this array are\n   * `[minX, minY, maxX, maxY, count]`, where the first four entries are the\n   * rendered extent of the group in pixel space. `count` is the number of styles\n   * in the group, i.e. 2 when an image and a text are grouped, or 1 otherwise.\n   * In addition to these four elements, declutter instruction arrays (i.e. the\n   * arguments to {@link module:ol/render/canvas~drawImage} are appended to the array.\n   * @typedef {Array<*>} DeclutterGroup\n   */\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var defaultFont = '10px sans-serif';\n\n\n  /**\n   * @const\n   * @type {import(\"../color.js\").Color}\n   */\n  var defaultFillStyle = [0, 0, 0, 1];\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var defaultLineCap = 'round';\n\n\n  /**\n   * @const\n   * @type {Array<number>}\n   */\n  var defaultLineDash = [];\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var defaultLineDashOffset = 0;\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var defaultLineJoin = 'round';\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var defaultMiterLimit = 10;\n\n\n  /**\n   * @const\n   * @type {import(\"../color.js\").Color}\n   */\n  var defaultStrokeStyle = [0, 0, 0, 1];\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var defaultTextAlign = 'center';\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var defaultTextBaseline = 'middle';\n\n\n  /**\n   * @const\n   * @type {Array<number>}\n   */\n  var defaultPadding = [0, 0, 0, 0];\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var defaultLineWidth = 1;\n\n\n  /**\n   * The label cache for text rendering. To change the default cache size of 2048\n   * entries, use {@link module:ol/structs/LRUCache#setSize}.\n   * @type {LRUCache<HTMLCanvasElement>}\n   * @api\n   */\n  var labelCache = new LRUCache();\n\n\n  /**\n   * @type {!Object<string, number>}\n   */\n  var checkedFonts = {};\n\n\n  /**\n   * @type {CanvasRenderingContext2D}\n   */\n  var measureContext = null;\n\n\n  /**\n   * @type {!Object<string, number>}\n   */\n  var textHeights = {};\n\n\n  /**\n   * Clears the label cache when a font becomes available.\n   * @param {string} fontSpec CSS font spec.\n   */\n  var checkFont = (function() {\n    var retries = 60;\n    var checked = checkedFonts;\n    var size = '32px ';\n    var referenceFonts = ['monospace', 'serif'];\n    var len = referenceFonts.length;\n    var text = 'wmytzilWMYTZIL@#/&?$%10\\uF013';\n    var interval, referenceWidth;\n\n    function isAvailable(font) {\n      var context = getMeasureContext();\n      // Check weight ranges according to\n      // https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight#Fallback_weights\n      for (var weight = 100; weight <= 700; weight += 300) {\n        var fontWeight = weight + ' ';\n        var available = true;\n        for (var i = 0; i < len; ++i) {\n          var referenceFont = referenceFonts[i];\n          context.font = fontWeight + size + referenceFont;\n          referenceWidth = context.measureText(text).width;\n          if (font != referenceFont) {\n            context.font = fontWeight + size + font + ',' + referenceFont;\n            var width = context.measureText(text).width;\n            // If width and referenceWidth are the same, then the fallback was used\n            // instead of the font we wanted, so the font is not available.\n            available = available && width != referenceWidth;\n          }\n        }\n        if (available) {\n          // Consider font available when it is available in one weight range.\n          //FIXME With this we miss rare corner cases, so we should consider\n          //FIXME checking availability for each requested weight range.\n          return true;\n        }\n      }\n      return false;\n    }\n\n    function check() {\n      var done = true;\n      for (var font in checked) {\n        if (checked[font] < retries) {\n          if (isAvailable(font)) {\n            checked[font] = retries;\n            clear(textHeights);\n            // Make sure that loaded fonts are picked up by Safari\n            measureContext = null;\n            labelCache.clear();\n          } else {\n            ++checked[font];\n            done = false;\n          }\n        }\n      }\n      if (done) {\n        clearInterval(interval);\n        interval = undefined;\n      }\n    }\n\n    return function(fontSpec) {\n      var fontFamilies = getFontFamilies(fontSpec);\n      if (!fontFamilies) {\n        return;\n      }\n      for (var i = 0, ii = fontFamilies.length; i < ii; ++i) {\n        var fontFamily = fontFamilies[i];\n        if (!(fontFamily in checked)) {\n          checked[fontFamily] = retries;\n          if (!isAvailable(fontFamily)) {\n            checked[fontFamily] = 0;\n            if (interval === undefined) {\n              interval = setInterval(check, 32);\n            }\n          }\n        }\n      }\n    };\n  })();\n\n\n  /**\n   * @return {CanvasRenderingContext2D} Measure context.\n   */\n  function getMeasureContext() {\n    if (!measureContext) {\n      measureContext = createCanvasContext2D(1, 1);\n    }\n    return measureContext;\n  }\n\n\n  /**\n   * @param {string} font Font to use for measuring.\n   * @return {import(\"../size.js\").Size} Measurement.\n   */\n  var measureTextHeight = (function() {\n    var span;\n    var heights = textHeights;\n    return function(font) {\n      var height = heights[font];\n      if (height == undefined) {\n        if (!span) {\n          span = document.createElement('span');\n          span.textContent = 'M';\n          span.style.margin = span.style.padding = '0 !important';\n          span.style.position = 'absolute !important';\n          span.style.left = '-99999px !important';\n        }\n        span.style.font = font;\n        document.body.appendChild(span);\n        height = heights[font] = span.offsetHeight;\n        document.body.removeChild(span);\n      }\n      return height;\n    };\n  })();\n\n\n  /**\n   * @param {string} font Font.\n   * @param {string} text Text.\n   * @return {number} Width.\n   */\n  function measureTextWidth(font, text) {\n    var measureContext = getMeasureContext();\n    if (font != measureContext.font) {\n      measureContext.font = font;\n    }\n    return measureContext.measureText(text).width;\n  }\n\n\n  /**\n   * @param {CanvasRenderingContext2D} context Context.\n   * @param {number} rotation Rotation.\n   * @param {number} offsetX X offset.\n   * @param {number} offsetY Y offset.\n   */\n  function rotateAtOffset(context, rotation, offsetX, offsetY) {\n    if (rotation !== 0) {\n      context.translate(offsetX, offsetY);\n      context.rotate(rotation);\n      context.translate(-offsetX, -offsetY);\n    }\n  }\n\n\n  var resetTransform = create();\n\n\n  /**\n   * @param {CanvasRenderingContext2D} context Context.\n   * @param {import(\"../transform.js\").Transform|null} transform Transform.\n   * @param {number} opacity Opacity.\n   * @param {HTMLImageElement|HTMLCanvasElement|HTMLVideoElement} image Image.\n   * @param {number} originX Origin X.\n   * @param {number} originY Origin Y.\n   * @param {number} w Width.\n   * @param {number} h Height.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {number} scale Scale.\n   */\n  function drawImage(context,\n    transform, opacity, image, originX, originY, w, h, x, y, scale) {\n    var alpha;\n    if (opacity != 1) {\n      alpha = context.globalAlpha;\n      context.globalAlpha = alpha * opacity;\n    }\n    if (transform) {\n      context.setTransform.apply(context, transform);\n    }\n\n    context.drawImage(image, originX, originY, w, h, x, y, w * scale, h * scale);\n\n    if (alpha) {\n      context.globalAlpha = alpha;\n    }\n    if (transform) {\n      context.setTransform.apply(context, resetTransform);\n    }\n  }\n\n  /**\n   * @module ol/style/Image\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} opacity\n   * @property {boolean} rotateWithView\n   * @property {number} rotation\n   * @property {number} scale\n   */\n\n\n  /**\n   * @classdesc\n   * A base class used for creating subclasses and not instantiated in\n   * apps. Base class for {@link module:ol/style/Icon~Icon}, {@link module:ol/style/Circle~CircleStyle} and\n   * {@link module:ol/style/RegularShape~RegularShape}.\n   * @abstract\n   * @api\n   */\n  var ImageStyle = function ImageStyle(options) {\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.opacity_ = options.opacity;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.rotateWithView_ = options.rotateWithView;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.rotation_ = options.rotation;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.scale_ = options.scale;\n\n  };\n\n  /**\n   * Clones the style.\n   * @return {ImageStyle} The cloned style.\n   * @api\n   */\n  ImageStyle.prototype.clone = function clone () {\n    return new ImageStyle({\n      opacity: this.getOpacity(),\n      scale: this.getScale(),\n      rotation: this.getRotation(),\n      rotateWithView: this.getRotateWithView()\n    });\n  };\n\n  /**\n   * Get the symbolizer opacity.\n   * @return {number} Opacity.\n   * @api\n   */\n  ImageStyle.prototype.getOpacity = function getOpacity () {\n    return this.opacity_;\n  };\n\n  /**\n   * Determine whether the symbolizer rotates with the map.\n   * @return {boolean} Rotate with map.\n   * @api\n   */\n  ImageStyle.prototype.getRotateWithView = function getRotateWithView () {\n    return this.rotateWithView_;\n  };\n\n  /**\n   * Get the symoblizer rotation.\n   * @return {number} Rotation.\n   * @api\n   */\n  ImageStyle.prototype.getRotation = function getRotation () {\n    return this.rotation_;\n  };\n\n  /**\n   * Get the symbolizer scale.\n   * @return {number} Scale.\n   * @api\n   */\n  ImageStyle.prototype.getScale = function getScale () {\n    return this.scale_;\n  };\n\n  /**\n   * This method is deprecated and always returns false.\n   * @return {boolean} false.\n   * @deprecated\n   * @api\n   */\n  ImageStyle.prototype.getSnapToPixel = function getSnapToPixel () {\n    return false;\n  };\n\n  /**\n   * Get the anchor point in pixels. The anchor determines the center point for the\n   * symbolizer.\n   * @abstract\n   * @return {Array<number>} Anchor.\n   */\n  ImageStyle.prototype.getAnchor = function getAnchor () {\n    return abstract();\n  };\n\n  /**\n   * Get the image element for the symbolizer.\n   * @abstract\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n   */\n  ImageStyle.prototype.getImage = function getImage (pixelRatio) {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n   */\n  ImageStyle.prototype.getHitDetectionImage = function getHitDetectionImage (pixelRatio) {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @return {import(\"../ImageState.js\").default} Image state.\n   */\n  ImageStyle.prototype.getImageState = function getImageState () {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @return {import(\"../size.js\").Size} Image size.\n   */\n  ImageStyle.prototype.getImageSize = function getImageSize () {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @return {import(\"../size.js\").Size} Size of the hit-detection image.\n   */\n  ImageStyle.prototype.getHitDetectionImageSize = function getHitDetectionImageSize () {\n    return abstract();\n  };\n\n  /**\n   * Get the origin of the symbolizer.\n   * @abstract\n   * @return {Array<number>} Origin.\n   */\n  ImageStyle.prototype.getOrigin = function getOrigin () {\n    return abstract();\n  };\n\n  /**\n   * Get the size of the symbolizer (in pixels).\n   * @abstract\n   * @return {import(\"../size.js\").Size} Size.\n   */\n  ImageStyle.prototype.getSize = function getSize () {\n    return abstract();\n  };\n\n  /**\n   * Set the opacity.\n   *\n   * @param {number} opacity Opacity.\n   * @api\n   */\n  ImageStyle.prototype.setOpacity = function setOpacity (opacity) {\n    this.opacity_ = opacity;\n  };\n\n  /**\n   * Set whether to rotate the style with the view.\n   *\n   * @param {boolean} rotateWithView Rotate with map.\n   * @api\n   */\n  ImageStyle.prototype.setRotateWithView = function setRotateWithView (rotateWithView) {\n    this.rotateWithView_ = rotateWithView;\n  };\n\n  /**\n   * Set the rotation.\n   *\n   * @param {number} rotation Rotation.\n   * @api\n   */\n  ImageStyle.prototype.setRotation = function setRotation (rotation) {\n    this.rotation_ = rotation;\n  };\n  /**\n   * Set the scale.\n   *\n   * @param {number} scale Scale.\n   * @api\n   */\n  ImageStyle.prototype.setScale = function setScale (scale) {\n    this.scale_ = scale;\n  };\n\n  /**\n   * This method is deprecated and does nothing.\n   * @param {boolean} snapToPixel Snap to pixel?\n   * @deprecated\n   * @api\n   */\n  ImageStyle.prototype.setSnapToPixel = function setSnapToPixel (snapToPixel) {};\n\n  /**\n   * @abstract\n   * @param {function(this: T, import(\"../events/Event.js\").default)} listener Listener function.\n   * @param {T} thisArg Value to use as `this` when executing `listener`.\n   * @return {import(\"../events.js\").EventsKey|undefined} Listener key.\n   * @template T\n   */\n  ImageStyle.prototype.listenImageChange = function listenImageChange (listener, thisArg) {\n    return abstract();\n  };\n\n  /**\n   * Load not yet loaded URI.\n   * @abstract\n   */\n  ImageStyle.prototype.load = function load () {\n    abstract();\n  };\n\n  /**\n   * @abstract\n   * @param {function(this: T, import(\"../events/Event.js\").default)} listener Listener function.\n   * @param {T} thisArg Value to use as `this` when executing `listener`.\n   * @template T\n   */\n  ImageStyle.prototype.unlistenImageChange = function unlistenImageChange (listener, thisArg) {\n    abstract();\n  };\n\n  /**\n   * @module ol/style/RegularShape\n   */\n\n\n  /**\n   * Specify radius for regular polygons, or radius1 and radius2 for stars.\n   * @typedef {Object} Options\n   * @property {import(\"./Fill.js\").default} [fill] Fill style.\n   * @property {number} points Number of points for stars and regular polygons. In case of a polygon, the number of points\n   * is the number of sides.\n   * @property {number} [radius] Radius of a regular polygon.\n   * @property {number} [radius1] Outer radius of a star.\n   * @property {number} [radius2] Inner radius of a star.\n   * @property {number} [angle=0] Shape's angle in radians. A value of 0 will have one of the shape's point facing up.\n   * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n   * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n   * @property {boolean} [rotateWithView=false] Whether to rotate the shape with the view.\n   * @property {import(\"./AtlasManager.js\").default} [atlasManager] The atlas manager to use for this symbol. When\n   * using WebGL it is recommended to use an atlas manager to avoid texture switching. If an atlas manager is given, the\n   * symbol is added to an atlas. By default no atlas manager is used.\n   */\n\n\n  /**\n   * @typedef {Object} RenderOptions\n   * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle]\n   * @property {number} strokeWidth\n   * @property {number} size\n   * @property {string} lineCap\n   * @property {Array<number>} lineDash\n   * @property {number} lineDashOffset\n   * @property {string} lineJoin\n   * @property {number} miterLimit\n   */\n\n\n  /**\n   * @classdesc\n   * Set regular shape style for vector features. The resulting shape will be\n   * a regular polygon when `radius` is provided, or a star when `radius1` and\n   * `radius2` are provided.\n   * @api\n   */\n  var RegularShape = /*@__PURE__*/(function (ImageStyle$$1) {\n    function RegularShape(options) {\n      /**\n       * @type {boolean}\n       */\n      var rotateWithView = options.rotateWithView !== undefined ?\n        options.rotateWithView : false;\n\n      ImageStyle$$1.call(this, {\n        opacity: 1,\n        rotateWithView: rotateWithView,\n        rotation: options.rotation !== undefined ? options.rotation : 0,\n        scale: 1\n      });\n\n      /**\n       * @private\n       * @type {Array<string|number>}\n       */\n      this.checksums_ = null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.hitDetectionCanvas_ = null;\n\n      /**\n       * @private\n       * @type {import(\"./Fill.js\").default}\n       */\n      this.fill_ = options.fill !== undefined ? options.fill : null;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.origin_ = [0, 0];\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.points_ = options.points;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.radius_ = /** @type {number} */ (options.radius !== undefined ?\n        options.radius : options.radius1);\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.radius2_ = options.radius2;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.angle_ = options.angle !== undefined ? options.angle : 0;\n\n      /**\n       * @private\n       * @type {import(\"./Stroke.js\").default}\n       */\n      this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.anchor_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../size.js\").Size}\n       */\n      this.size_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../size.js\").Size}\n       */\n      this.imageSize_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../size.js\").Size}\n       */\n      this.hitDetectionImageSize_ = null;\n\n      /**\n       * @protected\n       * @type {import(\"./AtlasManager.js\").default|undefined}\n       */\n      this.atlasManager_ = options.atlasManager;\n\n      this.render_(this.atlasManager_);\n\n    }\n\n    if ( ImageStyle$$1 ) RegularShape.__proto__ = ImageStyle$$1;\n    RegularShape.prototype = Object.create( ImageStyle$$1 && ImageStyle$$1.prototype );\n    RegularShape.prototype.constructor = RegularShape;\n\n    /**\n     * Clones the style. If an atlasmanager was provided to the original style it will be used in the cloned style, too.\n     * @return {RegularShape} The cloned style.\n     * @api\n     */\n    RegularShape.prototype.clone = function clone () {\n      var style = new RegularShape({\n        fill: this.getFill() ? this.getFill().clone() : undefined,\n        points: this.getPoints(),\n        radius: this.getRadius(),\n        radius2: this.getRadius2(),\n        angle: this.getAngle(),\n        stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n        rotation: this.getRotation(),\n        rotateWithView: this.getRotateWithView(),\n        atlasManager: this.atlasManager_\n      });\n      style.setOpacity(this.getOpacity());\n      style.setScale(this.getScale());\n      return style;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    RegularShape.prototype.getAnchor = function getAnchor () {\n      return this.anchor_;\n    };\n\n    /**\n     * Get the angle used in generating the shape.\n     * @return {number} Shape's rotation in radians.\n     * @api\n     */\n    RegularShape.prototype.getAngle = function getAngle () {\n      return this.angle_;\n    };\n\n    /**\n     * Get the fill style for the shape.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    RegularShape.prototype.getFill = function getFill () {\n      return this.fill_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.getHitDetectionImage = function getHitDetectionImage (pixelRatio) {\n      return this.hitDetectionCanvas_;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    RegularShape.prototype.getImage = function getImage (pixelRatio) {\n      return this.canvas_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.getImageSize = function getImageSize () {\n      return this.imageSize_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.getHitDetectionImageSize = function getHitDetectionImageSize () {\n      return this.hitDetectionImageSize_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.getImageState = function getImageState () {\n      return ImageState.LOADED;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    RegularShape.prototype.getOrigin = function getOrigin () {\n      return this.origin_;\n    };\n\n    /**\n     * Get the number of points for generating the shape.\n     * @return {number} Number of points for stars and regular polygons.\n     * @api\n     */\n    RegularShape.prototype.getPoints = function getPoints () {\n      return this.points_;\n    };\n\n    /**\n     * Get the (primary) radius for the shape.\n     * @return {number} Radius.\n     * @api\n     */\n    RegularShape.prototype.getRadius = function getRadius () {\n      return this.radius_;\n    };\n\n    /**\n     * Get the secondary radius for the shape.\n     * @return {number|undefined} Radius2.\n     * @api\n     */\n    RegularShape.prototype.getRadius2 = function getRadius2 () {\n      return this.radius2_;\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    RegularShape.prototype.getSize = function getSize () {\n      return this.size_;\n    };\n\n    /**\n     * Get the stroke style for the shape.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    RegularShape.prototype.getStroke = function getStroke () {\n      return this.stroke_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.listenImageChange = function listenImageChange (listener, thisArg) {\n      return undefined;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.load = function load () {};\n\n    /**\n     * @inheritDoc\n     */\n    RegularShape.prototype.unlistenImageChange = function unlistenImageChange (listener, thisArg) {};\n\n    /**\n     * @protected\n     * @param {import(\"./AtlasManager.js\").default|undefined} atlasManager An atlas manager.\n     */\n    RegularShape.prototype.render_ = function render_ (atlasManager) {\n      var imageSize;\n      var lineCap = '';\n      var lineJoin = '';\n      var miterLimit = 0;\n      var lineDash = null;\n      var lineDashOffset = 0;\n      var strokeStyle;\n      var strokeWidth = 0;\n\n      if (this.stroke_) {\n        strokeStyle = this.stroke_.getColor();\n        if (strokeStyle === null) {\n          strokeStyle = defaultStrokeStyle;\n        }\n        strokeStyle = asColorLike(strokeStyle);\n        strokeWidth = this.stroke_.getWidth();\n        if (strokeWidth === undefined) {\n          strokeWidth = defaultLineWidth;\n        }\n        lineDash = this.stroke_.getLineDash();\n        lineDashOffset = this.stroke_.getLineDashOffset();\n        if (!CANVAS_LINE_DASH) {\n          lineDash = null;\n          lineDashOffset = 0;\n        }\n        lineJoin = this.stroke_.getLineJoin();\n        if (lineJoin === undefined) {\n          lineJoin = defaultLineJoin;\n        }\n        lineCap = this.stroke_.getLineCap();\n        if (lineCap === undefined) {\n          lineCap = defaultLineCap;\n        }\n        miterLimit = this.stroke_.getMiterLimit();\n        if (miterLimit === undefined) {\n          miterLimit = defaultMiterLimit;\n        }\n      }\n\n      var size = 2 * (this.radius_ + strokeWidth) + 1;\n\n      /** @type {RenderOptions} */\n      var renderOptions = {\n        strokeStyle: strokeStyle,\n        strokeWidth: strokeWidth,\n        size: size,\n        lineCap: lineCap,\n        lineDash: lineDash,\n        lineDashOffset: lineDashOffset,\n        lineJoin: lineJoin,\n        miterLimit: miterLimit\n      };\n\n      if (atlasManager === undefined) {\n        // no atlas manager is used, create a new canvas\n        var context = createCanvasContext2D(size, size);\n        this.canvas_ = context.canvas;\n\n        // canvas.width and height are rounded to the closest integer\n        size = this.canvas_.width;\n        imageSize = size;\n\n        this.draw_(renderOptions, context, 0, 0);\n\n        this.createHitDetectionCanvas_(renderOptions);\n      } else {\n        // an atlas manager is used, add the symbol to an atlas\n        size = Math.round(size);\n\n        var hasCustomHitDetectionImage = !this.fill_;\n        var renderHitDetectionCallback;\n        if (hasCustomHitDetectionImage) {\n          // render the hit-detection image into a separate atlas image\n          renderHitDetectionCallback =\n              this.drawHitDetectionCanvas_.bind(this, renderOptions);\n        }\n\n        var id = this.getChecksum();\n        var info = atlasManager.add(\n          id, size, size, this.draw_.bind(this, renderOptions),\n          renderHitDetectionCallback);\n\n        this.canvas_ = info.image;\n        this.origin_ = [info.offsetX, info.offsetY];\n        imageSize = info.image.width;\n\n        if (hasCustomHitDetectionImage) {\n          this.hitDetectionCanvas_ = info.hitImage;\n          this.hitDetectionImageSize_ =\n              [info.hitImage.width, info.hitImage.height];\n        } else {\n          this.hitDetectionCanvas_ = this.canvas_;\n          this.hitDetectionImageSize_ = [imageSize, imageSize];\n        }\n      }\n\n      this.anchor_ = [size / 2, size / 2];\n      this.size_ = [size, size];\n      this.imageSize_ = [imageSize, imageSize];\n    };\n\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The rendering context.\n     * @param {number} x The origin for the symbol (x).\n     * @param {number} y The origin for the symbol (y).\n     */\n    RegularShape.prototype.draw_ = function draw_ (renderOptions, context, x, y) {\n      var i, angle0, radiusC;\n      // reset transform\n      context.setTransform(1, 0, 0, 1, 0, 0);\n\n      // then move to (x, y)\n      context.translate(x, y);\n\n      context.beginPath();\n\n      var points = this.points_;\n      if (points === Infinity) {\n        context.arc(\n          renderOptions.size / 2, renderOptions.size / 2,\n          this.radius_, 0, 2 * Math.PI, true);\n      } else {\n        var radius2 = (this.radius2_ !== undefined) ? this.radius2_\n          : this.radius_;\n        if (radius2 !== this.radius_) {\n          points = 2 * points;\n        }\n        for (i = 0; i <= points; i++) {\n          angle0 = i * 2 * Math.PI / points - Math.PI / 2 + this.angle_;\n          radiusC = i % 2 === 0 ? this.radius_ : radius2;\n          context.lineTo(renderOptions.size / 2 + radiusC * Math.cos(angle0),\n            renderOptions.size / 2 + radiusC * Math.sin(angle0));\n        }\n      }\n\n\n      if (this.fill_) {\n        var color = this.fill_.getColor();\n        if (color === null) {\n          color = defaultFillStyle;\n        }\n        context.fillStyle = asColorLike(color);\n        context.fill();\n      }\n      if (this.stroke_) {\n        context.strokeStyle = renderOptions.strokeStyle;\n        context.lineWidth = renderOptions.strokeWidth;\n        if (renderOptions.lineDash) {\n          context.setLineDash(renderOptions.lineDash);\n          context.lineDashOffset = renderOptions.lineDashOffset;\n        }\n        context.lineCap = /** @type {CanvasLineCap} */ (renderOptions.lineCap);\n        context.lineJoin = /** @type {CanvasLineJoin} */ (renderOptions.lineJoin);\n        context.miterLimit = renderOptions.miterLimit;\n        context.stroke();\n      }\n      context.closePath();\n    };\n\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     */\n    RegularShape.prototype.createHitDetectionCanvas_ = function createHitDetectionCanvas_ (renderOptions) {\n      this.hitDetectionImageSize_ = [renderOptions.size, renderOptions.size];\n      if (this.fill_) {\n        this.hitDetectionCanvas_ = this.canvas_;\n        return;\n      }\n\n      // if no fill style is set, create an extra hit-detection image with a\n      // default fill style\n      var context = createCanvasContext2D(renderOptions.size, renderOptions.size);\n      this.hitDetectionCanvas_ = context.canvas;\n\n      this.drawHitDetectionCanvas_(renderOptions, context, 0, 0);\n    };\n\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The context.\n     * @param {number} x The origin for the symbol (x).\n     * @param {number} y The origin for the symbol (y).\n     */\n    RegularShape.prototype.drawHitDetectionCanvas_ = function drawHitDetectionCanvas_ (renderOptions, context, x, y) {\n      // reset transform\n      context.setTransform(1, 0, 0, 1, 0, 0);\n\n      // then move to (x, y)\n      context.translate(x, y);\n\n      context.beginPath();\n\n      var points = this.points_;\n      if (points === Infinity) {\n        context.arc(\n          renderOptions.size / 2, renderOptions.size / 2,\n          this.radius_, 0, 2 * Math.PI, true);\n      } else {\n        var radius2 = (this.radius2_ !== undefined) ? this.radius2_\n          : this.radius_;\n        if (radius2 !== this.radius_) {\n          points = 2 * points;\n        }\n        var i, radiusC, angle0;\n        for (i = 0; i <= points; i++) {\n          angle0 = i * 2 * Math.PI / points - Math.PI / 2 + this.angle_;\n          radiusC = i % 2 === 0 ? this.radius_ : radius2;\n          context.lineTo(renderOptions.size / 2 + radiusC * Math.cos(angle0),\n            renderOptions.size / 2 + radiusC * Math.sin(angle0));\n        }\n      }\n\n      context.fillStyle = asString(defaultFillStyle);\n      context.fill();\n      if (this.stroke_) {\n        context.strokeStyle = renderOptions.strokeStyle;\n        context.lineWidth = renderOptions.strokeWidth;\n        if (renderOptions.lineDash) {\n          context.setLineDash(renderOptions.lineDash);\n          context.lineDashOffset = renderOptions.lineDashOffset;\n        }\n        context.stroke();\n      }\n      context.closePath();\n    };\n\n    /**\n     * @return {string} The checksum.\n     */\n    RegularShape.prototype.getChecksum = function getChecksum () {\n      var strokeChecksum = this.stroke_ ?\n        this.stroke_.getChecksum() : '-';\n      var fillChecksum = this.fill_ ?\n        this.fill_.getChecksum() : '-';\n\n      var recalculate = !this.checksums_ ||\n          (strokeChecksum != this.checksums_[1] ||\n          fillChecksum != this.checksums_[2] ||\n          this.radius_ != this.checksums_[3] ||\n          this.radius2_ != this.checksums_[4] ||\n          this.angle_ != this.checksums_[5] ||\n          this.points_ != this.checksums_[6]);\n\n      if (recalculate) {\n        var checksum = 'r' + strokeChecksum + fillChecksum +\n            (this.radius_ !== undefined ? this.radius_.toString() : '-') +\n            (this.radius2_ !== undefined ? this.radius2_.toString() : '-') +\n            (this.angle_ !== undefined ? this.angle_.toString() : '-') +\n            (this.points_ !== undefined ? this.points_.toString() : '-');\n        this.checksums_ = [checksum, strokeChecksum, fillChecksum,\n          this.radius_, this.radius2_, this.angle_, this.points_];\n      }\n\n      return /** @type {string} */ (this.checksums_[0]);\n    };\n\n    return RegularShape;\n  }(ImageStyle));\n\n  /**\n   * @module ol/style/Circle\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Fill.js\").default} [fill] Fill style.\n   * @property {number} radius Circle radius.\n   * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n   * @property {import(\"./AtlasManager.js\").default} [atlasManager] The atlas manager to use for this circle.\n   * When using WebGL it is recommended to use an atlas manager to avoid texture switching. If an atlas manager is given,\n   * the circle is added to an atlas. By default no atlas manager is used.\n   */\n\n\n  /**\n   * @classdesc\n   * Set circle style for vector features.\n   * @api\n   */\n  var CircleStyle = /*@__PURE__*/(function (RegularShape$$1) {\n    function CircleStyle(opt_options) {\n\n      var options = opt_options || /** @type {Options} */ ({});\n\n      RegularShape$$1.call(this, {\n        points: Infinity,\n        fill: options.fill,\n        radius: options.radius,\n        stroke: options.stroke,\n        atlasManager: options.atlasManager\n      });\n\n    }\n\n    if ( RegularShape$$1 ) CircleStyle.__proto__ = RegularShape$$1;\n    CircleStyle.prototype = Object.create( RegularShape$$1 && RegularShape$$1.prototype );\n    CircleStyle.prototype.constructor = CircleStyle;\n\n    /**\n    * Clones the style.  If an atlasmanager was provided to the original style it will be used in the cloned style, too.\n    * @return {CircleStyle} The cloned style.\n    * @override\n    * @api\n    */\n    CircleStyle.prototype.clone = function clone () {\n      var style = new CircleStyle({\n        fill: this.getFill() ? this.getFill().clone() : undefined,\n        stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n        radius: this.getRadius(),\n        atlasManager: this.atlasManager_\n      });\n      style.setOpacity(this.getOpacity());\n      style.setScale(this.getScale());\n      return style;\n    };\n\n    /**\n    * Set the circle radius.\n    *\n    * @param {number} radius Circle radius.\n    * @api\n    */\n    CircleStyle.prototype.setRadius = function setRadius (radius) {\n      this.radius_ = radius;\n      this.render_(this.atlasManager_);\n    };\n\n    return CircleStyle;\n  }(RegularShape));\n\n  /**\n   * @module ol/style/Fill\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} [color] A color, gradient or pattern.\n   * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n   * Default null; if null, the Canvas/renderer default black will be used.\n   */\n\n\n  /**\n   * @classdesc\n   * Set fill style for vector features.\n   * @api\n   */\n  var Fill = function Fill(opt_options) {\n\n    var options = opt_options || {};\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike}\n     */\n    this.color_ = options.color !== undefined ? options.color : null;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Clones the style. The color is not cloned if it is an {@link module:ol/colorlike~ColorLike}.\n   * @return {Fill} The cloned style.\n   * @api\n   */\n  Fill.prototype.clone = function clone () {\n    var color = this.getColor();\n    return new Fill({\n      color: Array.isArray(color) ? color.slice() : color || undefined\n    });\n  };\n\n  /**\n   * Get the fill color.\n   * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} Color.\n   * @api\n   */\n  Fill.prototype.getColor = function getColor () {\n    return this.color_;\n  };\n\n  /**\n   * Set the color.\n   *\n   * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} color Color.\n   * @api\n   */\n  Fill.prototype.setColor = function setColor (color) {\n    this.color_ = color;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * @return {string} The checksum.\n   */\n  Fill.prototype.getChecksum = function getChecksum () {\n    if (this.checksum_ === undefined) {\n      var color = this.color_;\n      if (color) {\n        if (Array.isArray(color) || typeof color == 'string') {\n          this.checksum_ = 'f' + asString(/** @type {import(\"../color.js\").Color|string} */ (color));\n        } else {\n          this.checksum_ = getUid(this.color_);\n        }\n      } else {\n        this.checksum_ = 'f-';\n      }\n    }\n\n    return this.checksum_;\n  };\n\n  /**\n   * @module ol/style/Stroke\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} [color] A color, gradient or pattern.\n   * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n   * Default null; if null, the Canvas/renderer default black will be used.\n   * @property {string} [lineCap='round'] Line cap style: `butt`, `round`, or `square`.\n   * @property {string} [lineJoin='round'] Line join style: `bevel`, `round`, or `miter`.\n   * @property {Array<number>} [lineDash] Line dash pattern. Default is `undefined` (no dash).\n   * Please note that Internet Explorer 10 and lower do not support the `setLineDash` method on\n   * the `CanvasRenderingContext2D` and therefore this option will have no visual effect in these browsers.\n   * @property {number} [lineDashOffset=0] Line dash offset.\n   * @property {number} [miterLimit=10] Miter limit.\n   * @property {number} [width] Width.\n   */\n\n\n  /**\n   * @classdesc\n   * Set stroke style for vector features.\n   * Note that the defaults given are the Canvas defaults, which will be used if\n   * option is not defined. The `get` functions return whatever was entered in\n   * the options; they will not return the default.\n   * @api\n   */\n  var Stroke = function Stroke(opt_options) {\n\n    var options = opt_options || {};\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike}\n     */\n    this.color_ = options.color !== undefined ? options.color : null;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.lineCap_ = options.lineCap;\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.lineDash_ = options.lineDash !== undefined ? options.lineDash : null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.lineDashOffset_ = options.lineDashOffset;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.lineJoin_ = options.lineJoin;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.miterLimit_ = options.miterLimit;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.width_ = options.width;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Clones the style.\n   * @return {Stroke} The cloned style.\n   * @api\n   */\n  Stroke.prototype.clone = function clone () {\n    var color = this.getColor();\n    return new Stroke({\n      color: Array.isArray(color) ? color.slice() : color || undefined,\n      lineCap: this.getLineCap(),\n      lineDash: this.getLineDash() ? this.getLineDash().slice() : undefined,\n      lineDashOffset: this.getLineDashOffset(),\n      lineJoin: this.getLineJoin(),\n      miterLimit: this.getMiterLimit(),\n      width: this.getWidth()\n    });\n  };\n\n  /**\n   * Get the stroke color.\n   * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} Color.\n   * @api\n   */\n  Stroke.prototype.getColor = function getColor () {\n    return this.color_;\n  };\n\n  /**\n   * Get the line cap type for the stroke.\n   * @return {string|undefined} Line cap.\n   * @api\n   */\n  Stroke.prototype.getLineCap = function getLineCap () {\n    return this.lineCap_;\n  };\n\n  /**\n   * Get the line dash style for the stroke.\n   * @return {Array<number>} Line dash.\n   * @api\n   */\n  Stroke.prototype.getLineDash = function getLineDash () {\n    return this.lineDash_;\n  };\n\n  /**\n   * Get the line dash offset for the stroke.\n   * @return {number|undefined} Line dash offset.\n   * @api\n   */\n  Stroke.prototype.getLineDashOffset = function getLineDashOffset () {\n    return this.lineDashOffset_;\n  };\n\n  /**\n   * Get the line join type for the stroke.\n   * @return {string|undefined} Line join.\n   * @api\n   */\n  Stroke.prototype.getLineJoin = function getLineJoin () {\n    return this.lineJoin_;\n  };\n\n  /**\n   * Get the miter limit for the stroke.\n   * @return {number|undefined} Miter limit.\n   * @api\n   */\n  Stroke.prototype.getMiterLimit = function getMiterLimit () {\n    return this.miterLimit_;\n  };\n\n  /**\n   * Get the stroke width.\n   * @return {number|undefined} Width.\n   * @api\n   */\n  Stroke.prototype.getWidth = function getWidth () {\n    return this.width_;\n  };\n\n  /**\n   * Set the color.\n   *\n   * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} color Color.\n   * @api\n   */\n  Stroke.prototype.setColor = function setColor (color) {\n    this.color_ = color;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the line cap.\n   *\n   * @param {string|undefined} lineCap Line cap.\n   * @api\n   */\n  Stroke.prototype.setLineCap = function setLineCap (lineCap) {\n    this.lineCap_ = lineCap;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the line dash.\n   *\n   * Please note that Internet Explorer 10 and lower [do not support][mdn] the\n   * `setLineDash` method on the `CanvasRenderingContext2D` and therefore this\n   * property will have no visual effect in these browsers.\n   *\n   * [mdn]: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility\n   *\n   * @param {Array<number>} lineDash Line dash.\n   * @api\n   */\n  Stroke.prototype.setLineDash = function setLineDash (lineDash) {\n    this.lineDash_ = lineDash;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the line dash offset.\n   *\n   * @param {number|undefined} lineDashOffset Line dash offset.\n   * @api\n   */\n  Stroke.prototype.setLineDashOffset = function setLineDashOffset (lineDashOffset) {\n    this.lineDashOffset_ = lineDashOffset;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the line join.\n   *\n   * @param {string|undefined} lineJoin Line join.\n   * @api\n   */\n  Stroke.prototype.setLineJoin = function setLineJoin (lineJoin) {\n    this.lineJoin_ = lineJoin;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the miter limit.\n   *\n   * @param {number|undefined} miterLimit Miter limit.\n   * @api\n   */\n  Stroke.prototype.setMiterLimit = function setMiterLimit (miterLimit) {\n    this.miterLimit_ = miterLimit;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * Set the width.\n   *\n   * @param {number|undefined} width Width.\n   * @api\n   */\n  Stroke.prototype.setWidth = function setWidth (width) {\n    this.width_ = width;\n    this.checksum_ = undefined;\n  };\n\n  /**\n   * @return {string} The checksum.\n   */\n  Stroke.prototype.getChecksum = function getChecksum () {\n    if (this.checksum_ === undefined) {\n      this.checksum_ = 's';\n      if (this.color_) {\n        if (typeof this.color_ === 'string') {\n          this.checksum_ += this.color_;\n        } else {\n          this.checksum_ += getUid(this.color_);\n        }\n      } else {\n        this.checksum_ += '-';\n      }\n      this.checksum_ += ',' +\n          (this.lineCap_ !== undefined ?\n            this.lineCap_.toString() : '-') + ',' +\n          (this.lineDash_ ?\n            this.lineDash_.toString() : '-') + ',' +\n          (this.lineDashOffset_ !== undefined ?\n            this.lineDashOffset_ : '-') + ',' +\n          (this.lineJoin_ !== undefined ?\n            this.lineJoin_ : '-') + ',' +\n          (this.miterLimit_ !== undefined ?\n            this.miterLimit_.toString() : '-') + ',' +\n          (this.width_ !== undefined ?\n            this.width_.toString() : '-');\n    }\n\n    return this.checksum_;\n  };\n\n  /**\n   * @module ol/style/Style\n   */\n\n\n  /**\n   * A function that takes an {@link module:ol/Feature} and a `{number}`\n   * representing the view's resolution. The function should return a\n   * {@link module:ol/style/Style} or an array of them. This way e.g. a\n   * vector layer can be styled.\n   *\n   * @typedef {function(import(\"../Feature.js\").FeatureLike, number):(Style|Array<Style>)} StyleFunction\n   */\n\n  /**\n   * A {@link Style}, an array of {@link Style}, or a {@link StyleFunction}.\n   * @typedef {Style|Array<Style>|StyleFunction} StyleLike\n   */\n\n  /**\n   * A function that takes an {@link module:ol/Feature} as argument and returns an\n   * {@link module:ol/geom/Geometry} that will be rendered and styled for the feature.\n   *\n   * @typedef {function(import(\"../Feature.js\").FeatureLike):\n   *     (import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined)} GeometryFunction\n   */\n\n\n  /**\n   * Custom renderer function. Takes two arguments:\n   *\n   * 1. The pixel coordinates of the geometry in GeoJSON notation.\n   * 2. The {@link module:ol/render~State} of the layer renderer.\n   *\n   * @typedef {function((import(\"../coordinate.js\").Coordinate|Array<import(\"../coordinate.js\").Coordinate>|Array<Array<import(\"../coordinate.js\").Coordinate>>),import(\"../render.js\").State)}\n   * RenderFunction\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string|import(\"../geom/Geometry.js\").default|GeometryFunction} [geometry] Feature property or geometry\n   * or function returning a geometry to render for this style.\n   * @property {import(\"./Fill.js\").default} [fill] Fill style.\n   * @property {import(\"./Image.js\").default} [image] Image style.\n   * @property {RenderFunction} [renderer] Custom renderer. When configured, `fill`, `stroke` and `image` will be\n   * ignored, and the provided function will be called with each render frame for each geometry.\n   * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n   * @property {import(\"./Text.js\").default} [text] Text style.\n   * @property {number} [zIndex] Z index.\n   */\n\n  /**\n   * @classdesc\n   * Container for vector feature rendering styles. Any changes made to the style\n   * or its children through `set*()` methods will not take effect until the\n   * feature or layer that uses the style is re-rendered.\n   * @api\n   */\n  var Style = function Style(opt_options) {\n\n    var options = opt_options || {};\n\n    /**\n     * @private\n     * @type {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n     */\n    this.geometry_ = null;\n\n    /**\n     * @private\n     * @type {!GeometryFunction}\n     */\n    this.geometryFunction_ = defaultGeometryFunction;\n\n    if (options.geometry !== undefined) {\n      this.setGeometry(options.geometry);\n    }\n\n    /**\n     * @private\n     * @type {import(\"./Fill.js\").default}\n     */\n    this.fill_ = options.fill !== undefined ? options.fill : null;\n\n    /**\n       * @private\n       * @type {import(\"./Image.js\").default}\n       */\n    this.image_ = options.image !== undefined ? options.image : null;\n\n    /**\n     * @private\n     * @type {RenderFunction|null}\n     */\n    this.renderer_ = options.renderer !== undefined ? options.renderer : null;\n\n    /**\n     * @private\n     * @type {import(\"./Stroke.js\").default}\n     */\n    this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n\n    /**\n     * @private\n     * @type {import(\"./Text.js\").default}\n     */\n    this.text_ = options.text !== undefined ? options.text : null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.zIndex_ = options.zIndex;\n\n  };\n\n  /**\n   * Clones the style.\n   * @return {Style} The cloned style.\n   * @api\n   */\n  Style.prototype.clone = function clone () {\n    var geometry = this.getGeometry();\n    if (geometry && typeof geometry === 'object') {\n      geometry = /** @type {import(\"../geom/Geometry.js\").default} */ (geometry).clone();\n    }\n    return new Style({\n      geometry: geometry,\n      fill: this.getFill() ? this.getFill().clone() : undefined,\n      image: this.getImage() ? this.getImage().clone() : undefined,\n      stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n      text: this.getText() ? this.getText().clone() : undefined,\n      zIndex: this.getZIndex()\n    });\n  };\n\n  /**\n   * Get the custom renderer function that was configured with\n   * {@link #setRenderer} or the `renderer` constructor option.\n   * @return {RenderFunction|null} Custom renderer function.\n   * @api\n   */\n  Style.prototype.getRenderer = function getRenderer () {\n    return this.renderer_;\n  };\n\n  /**\n   * Sets a custom renderer function for this style. When set, `fill`, `stroke`\n   * and `image` options of the style will be ignored.\n   * @param {RenderFunction|null} renderer Custom renderer function.\n   * @api\n   */\n  Style.prototype.setRenderer = function setRenderer (renderer) {\n    this.renderer_ = renderer;\n  };\n\n  /**\n   * Get the geometry to be rendered.\n   * @return {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n   * Feature property or geometry or function that returns the geometry that will\n   * be rendered with this style.\n   * @api\n   */\n  Style.prototype.getGeometry = function getGeometry () {\n    return this.geometry_;\n  };\n\n  /**\n   * Get the function used to generate a geometry for rendering.\n   * @return {!GeometryFunction} Function that is called with a feature\n   * and returns the geometry to render instead of the feature's geometry.\n   * @api\n   */\n  Style.prototype.getGeometryFunction = function getGeometryFunction () {\n    return this.geometryFunction_;\n  };\n\n  /**\n   * Get the fill style.\n   * @return {import(\"./Fill.js\").default} Fill style.\n   * @api\n   */\n  Style.prototype.getFill = function getFill () {\n    return this.fill_;\n  };\n\n  /**\n   * Set the fill style.\n   * @param {import(\"./Fill.js\").default} fill Fill style.\n   * @api\n   */\n  Style.prototype.setFill = function setFill (fill) {\n    this.fill_ = fill;\n  };\n\n  /**\n   * Get the image style.\n   * @return {import(\"./Image.js\").default} Image style.\n   * @api\n   */\n  Style.prototype.getImage = function getImage () {\n    return this.image_;\n  };\n\n  /**\n   * Set the image style.\n   * @param {import(\"./Image.js\").default} image Image style.\n   * @api\n   */\n  Style.prototype.setImage = function setImage (image) {\n    this.image_ = image;\n  };\n\n  /**\n   * Get the stroke style.\n   * @return {import(\"./Stroke.js\").default} Stroke style.\n   * @api\n   */\n  Style.prototype.getStroke = function getStroke () {\n    return this.stroke_;\n  };\n\n  /**\n   * Set the stroke style.\n   * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n   * @api\n   */\n  Style.prototype.setStroke = function setStroke (stroke) {\n    this.stroke_ = stroke;\n  };\n\n  /**\n   * Get the text style.\n   * @return {import(\"./Text.js\").default} Text style.\n   * @api\n   */\n  Style.prototype.getText = function getText () {\n    return this.text_;\n  };\n\n  /**\n   * Set the text style.\n   * @param {import(\"./Text.js\").default} text Text style.\n   * @api\n   */\n  Style.prototype.setText = function setText (text) {\n    this.text_ = text;\n  };\n\n  /**\n   * Get the z-index for the style.\n   * @return {number|undefined} ZIndex.\n   * @api\n   */\n  Style.prototype.getZIndex = function getZIndex () {\n    return this.zIndex_;\n  };\n\n  /**\n   * Set a geometry that is rendered instead of the feature's geometry.\n   *\n   * @param {string|import(\"../geom/Geometry.js\").default|GeometryFunction} geometry\n   *   Feature property or geometry or function returning a geometry to render\n   *   for this style.\n   * @api\n   */\n  Style.prototype.setGeometry = function setGeometry (geometry) {\n    if (typeof geometry === 'function') {\n      this.geometryFunction_ = geometry;\n    } else if (typeof geometry === 'string') {\n      this.geometryFunction_ = function(feature) {\n        return (\n          /** @type {import(\"../geom/Geometry.js\").default} */ (feature.get(geometry))\n        );\n      };\n    } else if (!geometry) {\n      this.geometryFunction_ = defaultGeometryFunction;\n    } else if (geometry !== undefined) {\n      this.geometryFunction_ = function() {\n        return (\n          /** @type {import(\"../geom/Geometry.js\").default} */ (geometry)\n        );\n      };\n    }\n    this.geometry_ = geometry;\n  };\n\n  /**\n   * Set the z-index.\n   *\n   * @param {number|undefined} zIndex ZIndex.\n   * @api\n   */\n  Style.prototype.setZIndex = function setZIndex (zIndex) {\n    this.zIndex_ = zIndex;\n  };\n\n\n  /**\n   * Convert the provided object into a style function.  Functions passed through\n   * unchanged.  Arrays of Style or single style objects wrapped in a\n   * new style function.\n   * @param {StyleFunction|Array<Style>|Style} obj\n   *     A style function, a single style, or an array of styles.\n   * @return {StyleFunction} A style function.\n   */\n  function toFunction(obj) {\n    var styleFunction;\n\n    if (typeof obj === 'function') {\n      styleFunction = obj;\n    } else {\n      /**\n       * @type {Array<Style>}\n       */\n      var styles;\n      if (Array.isArray(obj)) {\n        styles = obj;\n      } else {\n        assert(typeof /** @type {?} */ (obj).getZIndex === 'function',\n          41); // Expected an `Style` or an array of `Style`\n        var style = /** @type {Style} */ (obj);\n        styles = [style];\n      }\n      styleFunction = function() {\n        return styles;\n      };\n    }\n    return styleFunction;\n  }\n\n\n  /**\n   * @type {Array<Style>}\n   */\n  var defaultStyles = null;\n\n\n  /**\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   * @param {number} resolution Resolution.\n   * @return {Array<Style>} Style.\n   */\n  function createDefaultStyle(feature, resolution) {\n    // We don't use an immediately-invoked function\n    // and a closure so we don't get an error at script evaluation time in\n    // browsers that do not support Canvas. (import(\"./Circle.js\").CircleStyle does\n    // canvas.getContext('2d') at construction time, which will cause an.error\n    // in such browsers.)\n    if (!defaultStyles) {\n      var fill = new Fill({\n        color: 'rgba(255,255,255,0.4)'\n      });\n      var stroke = new Stroke({\n        color: '#3399CC',\n        width: 1.25\n      });\n      defaultStyles = [\n        new Style({\n          image: new CircleStyle({\n            fill: fill,\n            stroke: stroke,\n            radius: 5\n          }),\n          fill: fill,\n          stroke: stroke\n        })\n      ];\n    }\n    return defaultStyles;\n  }\n\n\n  /**\n   * Default styles for editing features.\n   * @return {Object<import(\"../geom/GeometryType.js\").default, Array<Style>>} Styles\n   */\n  function createEditingStyle() {\n    /** @type {Object<import(\"../geom/GeometryType.js\").default, Array<Style>>} */\n    var styles = {};\n    var white = [255, 255, 255, 1];\n    var blue = [0, 153, 255, 1];\n    var width = 3;\n    styles[GeometryType.POLYGON] = [\n      new Style({\n        fill: new Fill({\n          color: [255, 255, 255, 0.5]\n        })\n      })\n    ];\n    styles[GeometryType.MULTI_POLYGON] =\n        styles[GeometryType.POLYGON];\n\n    styles[GeometryType.LINE_STRING] = [\n      new Style({\n        stroke: new Stroke({\n          color: white,\n          width: width + 2\n        })\n      }),\n      new Style({\n        stroke: new Stroke({\n          color: blue,\n          width: width\n        })\n      })\n    ];\n    styles[GeometryType.MULTI_LINE_STRING] =\n        styles[GeometryType.LINE_STRING];\n\n    styles[GeometryType.CIRCLE] =\n        styles[GeometryType.POLYGON].concat(\n          styles[GeometryType.LINE_STRING]\n        );\n\n\n    styles[GeometryType.POINT] = [\n      new Style({\n        image: new CircleStyle({\n          radius: width * 2,\n          fill: new Fill({\n            color: blue\n          }),\n          stroke: new Stroke({\n            color: white,\n            width: width / 2\n          })\n        }),\n        zIndex: Infinity\n      })\n    ];\n    styles[GeometryType.MULTI_POINT] =\n        styles[GeometryType.POINT];\n\n    styles[GeometryType.GEOMETRY_COLLECTION] =\n        styles[GeometryType.POLYGON].concat(\n          styles[GeometryType.LINE_STRING],\n          styles[GeometryType.POINT]\n        );\n\n    return styles;\n  }\n\n\n  /**\n   * Function that is called with a feature and returns its default geometry.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature to get the geometry for.\n   * @return {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined} Geometry to render.\n   */\n  function defaultGeometryFunction(feature) {\n    return feature.getGeometry();\n  }\n\n  /**\n   * @module ol/layer/Vector\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [opacity=1] Opacity (0, 1).\n   * @property {boolean} [visible=true] Visibility.\n   * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n   * rendered outside of this extent.\n   * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n   * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n   * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n   * method was used.\n   * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n   * visible.\n   * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n   * be visible.\n   * @property {import(\"../render.js\").OrderFunction} [renderOrder] Render order. Function to be used when sorting\n   * features before rendering. By default features are drawn in the order that they are created. Use\n   * `null` to avoid the sort, but get an undefined draw order.\n   * @property {number} [renderBuffer=100] The buffer in pixels around the viewport extent used by the\n   * renderer when getting features from the vector source for the rendering or hit-detection.\n   * Recommended value: the size of the largest symbol, line width or label.\n   * @property {import(\"./VectorRenderType.js\").default|string} [renderMode='vector'] Render mode for vector layers:\n   *  * `'image'`: Vector layers are rendered as images. Great performance, but point symbols and\n   *    texts are always rotated with the view and pixels are scaled during zoom animations.\n   *  * `'vector'`: Vector layers are rendered as vectors. Most accurate rendering even during\n   *    animations, but slower performance.\n   * @property {import(\"../source/Vector.js\").default} [source] Source.\n   * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n   * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n   * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n   * use {@link module:ol/Map#addLayer}.\n   * @property {boolean} [declutter=false] Declutter images and text. Decluttering is applied to all\n   * image and text styles, and the priority is defined by the z-index of the style. Lower z-index\n   * means higher priority.\n   * @property {import(\"../style/Style.js\").StyleLike} [style] Layer style. See\n   * {@link module:ol/style} for default style which will be used if this is not defined.\n   * @property {boolean} [updateWhileAnimating=false] When set to `true` and `renderMode`\n   * is `vector`, feature batches will be recreated during animations. This means that no\n   * vectors will be shown clipped, but the setting will have a performance impact for large\n   * amounts of vector data. When set to `false`, batches will be recreated when no animation\n   * is active.\n   * @property {boolean} [updateWhileInteracting=false] When set to `true` and `renderMode`\n   * is `vector`, feature batches will be recreated during interactions. See also\n   * `updateWhileAnimating`.\n   */\n\n\n  /**\n   * @enum {string}\n   * @private\n   */\n  var Property$2 = {\n    RENDER_ORDER: 'renderOrder'\n  };\n\n\n  /**\n   * @classdesc\n   * Vector data that is rendered client-side.\n   * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n   * property on the layer object; for example, setting `title: 'My Title'` in the\n   * options means that `title` is observable, and has get/set accessors.\n   *\n   * @api\n   */\n  var VectorLayer = /*@__PURE__*/(function (Layer$$1) {\n    function VectorLayer(opt_options) {\n      var options = opt_options ?\n        opt_options : /** @type {Options} */ ({});\n\n      var baseOptions = assign({}, options);\n\n      delete baseOptions.style;\n      delete baseOptions.renderBuffer;\n      delete baseOptions.updateWhileAnimating;\n      delete baseOptions.updateWhileInteracting;\n      Layer$$1.call(this, baseOptions);\n\n      /**\n      * @private\n      * @type {boolean}\n      */\n      this.declutter_ = options.declutter !== undefined ? options.declutter : false;\n\n      /**\n      * @type {number}\n      * @private\n      */\n      this.renderBuffer_ = options.renderBuffer !== undefined ?\n        options.renderBuffer : 100;\n\n      /**\n      * User provided style.\n      * @type {import(\"../style/Style.js\").StyleLike}\n      * @private\n      */\n      this.style_ = null;\n\n      /**\n      * Style function for use within the library.\n      * @type {import(\"../style/Style.js\").StyleFunction|undefined}\n      * @private\n      */\n      this.styleFunction_ = undefined;\n\n      this.setStyle(options.style);\n\n      /**\n      * @type {boolean}\n      * @private\n      */\n      this.updateWhileAnimating_ = options.updateWhileAnimating !== undefined ?\n        options.updateWhileAnimating : false;\n\n      /**\n      * @type {boolean}\n      * @private\n      */\n      this.updateWhileInteracting_ = options.updateWhileInteracting !== undefined ?\n        options.updateWhileInteracting : false;\n\n      /**\n      * @private\n      * @type {import(\"./VectorTileRenderType.js\").default|string}\n      */\n      this.renderMode_ = options.renderMode || VectorRenderType.VECTOR;\n\n      /**\n      * The layer type.\n      * @protected\n      * @type {import(\"../LayerType.js\").default}\n      */\n      this.type = LayerType.VECTOR;\n\n    }\n\n    if ( Layer$$1 ) VectorLayer.__proto__ = Layer$$1;\n    VectorLayer.prototype = Object.create( Layer$$1 && Layer$$1.prototype );\n    VectorLayer.prototype.constructor = VectorLayer;\n\n    /**\n    * @return {boolean} Declutter.\n    */\n    VectorLayer.prototype.getDeclutter = function getDeclutter () {\n      return this.declutter_;\n    };\n\n    /**\n    * @param {boolean} declutter Declutter.\n    */\n    VectorLayer.prototype.setDeclutter = function setDeclutter (declutter) {\n      this.declutter_ = declutter;\n    };\n\n    /**\n    * @return {number|undefined} Render buffer.\n    */\n    VectorLayer.prototype.getRenderBuffer = function getRenderBuffer () {\n      return this.renderBuffer_;\n    };\n\n    /**\n    * @return {function(import(\"../Feature.js\").default, import(\"../Feature.js\").default): number|null|undefined} Render\n    *     order.\n    */\n    VectorLayer.prototype.getRenderOrder = function getRenderOrder () {\n      return (\n      /** @type {import(\"../render.js\").OrderFunction|null|undefined} */ (this.get(Property$2.RENDER_ORDER))\n      );\n    };\n\n    /**\n    * Get the style for features.  This returns whatever was passed to the `style`\n    * option at construction or to the `setStyle` method.\n    * @return {import(\"../style/Style.js\").StyleLike}\n    *     Layer style.\n    * @api\n    */\n    VectorLayer.prototype.getStyle = function getStyle () {\n      return this.style_;\n    };\n\n    /**\n    * Get the style function.\n    * @return {import(\"../style/Style.js\").StyleFunction|undefined} Layer style function.\n    * @api\n    */\n    VectorLayer.prototype.getStyleFunction = function getStyleFunction () {\n      return this.styleFunction_;\n    };\n\n    /**\n    * @return {boolean} Whether the rendered layer should be updated while\n    *     animating.\n    */\n    VectorLayer.prototype.getUpdateWhileAnimating = function getUpdateWhileAnimating () {\n      return this.updateWhileAnimating_;\n    };\n\n    /**\n    * @return {boolean} Whether the rendered layer should be updated while\n    *     interacting.\n    */\n    VectorLayer.prototype.getUpdateWhileInteracting = function getUpdateWhileInteracting () {\n      return this.updateWhileInteracting_;\n    };\n\n    /**\n    * @param {import(\"../render.js\").OrderFunction|null|undefined} renderOrder\n    *     Render order.\n    */\n    VectorLayer.prototype.setRenderOrder = function setRenderOrder (renderOrder) {\n      this.set(Property$2.RENDER_ORDER, renderOrder);\n    };\n\n    /**\n    * Set the style for features.  This can be a single style object, an array\n    * of styles, or a function that takes a feature and resolution and returns\n    * an array of styles. If it is `undefined` the default style is used. If\n    * it is `null` the layer has no style (a `null` style), so only features\n    * that have their own styles will be rendered in the layer. See\n    * {@link module:ol/style} for information on the default style.\n    * @param {import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction|null|undefined} style Layer style.\n    * @api\n    */\n    VectorLayer.prototype.setStyle = function setStyle (style) {\n      this.style_ = style !== undefined ? style : createDefaultStyle;\n      this.styleFunction_ = style === null ?\n        undefined : toFunction(this.style_);\n      this.changed();\n    };\n\n    /**\n    * @return {import(\"./VectorRenderType.js\").default|string} The render mode.\n    */\n    VectorLayer.prototype.getRenderMode = function getRenderMode () {\n      return this.renderMode_;\n    };\n\n    return VectorLayer;\n  }(Layer));\n\n\n  /**\n   * Return the associated {@link module:ol/source/Vector vectorsource} of the layer.\n   * @function\n   * @return {import(\"../source/Vector.js\").default} Source.\n   * @api\n   */\n  VectorLayer.prototype.getSource;\n\n  /**\n   * @module ol/format/FormatType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var FormatType = {\n    ARRAY_BUFFER: 'arraybuffer',\n    JSON: 'json',\n    TEXT: 'text',\n    XML: 'xml'\n  };\n\n  /**\n   * @module ol/featureloader\n   */\n\n  /**\n   * {@link module:ol/source/Vector} sources use a function of this type to\n   * load features.\n   *\n   * This function takes an {@link module:ol/extent~Extent} representing the area to be loaded,\n   * a `{number}` representing the resolution (map units per pixel) and an\n   * {@link module:ol/proj/Projection} for the projection  as\n   * arguments. `this` within the function is bound to the\n   * {@link module:ol/source/Vector} it's called from.\n   *\n   * The function is responsible for loading the features and adding them to the\n   * source.\n   * @typedef {function(this:(import(\"./source/Vector\").default|import(\"./VectorTile.js\").default), import(\"./extent.js\").Extent, number,\n   *                    import(\"./proj/Projection.js\").default)} FeatureLoader\n   * @api\n   */\n\n\n  /**\n   * {@link module:ol/source/Vector} sources use a function of this type to\n   * get the url to load features from.\n   *\n   * This function takes an {@link module:ol/extent~Extent} representing the area\n   * to be loaded, a `{number}` representing the resolution (map units per pixel)\n   * and an {@link module:ol/proj/Projection} for the projection  as\n   * arguments and returns a `{string}` representing the URL.\n   * @typedef {function(import(\"./extent.js\").Extent, number, import(\"./proj/Projection.js\").default): string} FeatureUrlFunction\n   * @api\n   */\n\n\n  /**\n   * @param {string|FeatureUrlFunction} url Feature URL service.\n   * @param {import(\"./format/Feature.js\").default} format Feature format.\n   * @param {function(this:import(\"./VectorTile.js\").default, Array<import(\"./Feature.js\").default>, import(\"./proj/Projection.js\").default, import(\"./extent.js\").Extent)|function(this:import(\"./source/Vector\").default, Array<import(\"./Feature.js\").default>)} success\n   *     Function called with the loaded features and optionally with the data\n   *     projection. Called with the vector tile or source as `this`.\n   * @param {function(this:import(\"./VectorTile.js\").default)|function(this:import(\"./source/Vector\").default)} failure\n   *     Function called when loading failed. Called with the vector tile or\n   *     source as `this`.\n   * @return {FeatureLoader} The feature loader.\n   */\n  function loadFeaturesXhr(url, format, success, failure) {\n    return (\n      /**\n       * @param {import(\"./extent.js\").Extent} extent Extent.\n       * @param {number} resolution Resolution.\n       * @param {import(\"./proj/Projection.js\").default} projection Projection.\n       * @this {import(\"./source/Vector\").default|import(\"./VectorTile.js\").default}\n       */\n      function(extent, resolution, projection) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET',\n          typeof url === 'function' ? url(extent, resolution, projection) : url,\n          true);\n        if (format.getType() == FormatType.ARRAY_BUFFER) {\n          xhr.responseType = 'arraybuffer';\n        }\n        /**\n         * @param {Event} event Event.\n         * @private\n         */\n        xhr.onload = function(event) {\n          // status will be 0 for file:// urls\n          if (!xhr.status || xhr.status >= 200 && xhr.status < 300) {\n            var type = format.getType();\n            /** @type {Document|Node|Object|string|undefined} */\n            var source;\n            if (type == FormatType.JSON || type == FormatType.TEXT) {\n              source = xhr.responseText;\n            } else if (type == FormatType.XML) {\n              source = xhr.responseXML;\n              if (!source) {\n                source = new DOMParser().parseFromString(xhr.responseText, 'application/xml');\n              }\n            } else if (type == FormatType.ARRAY_BUFFER) {\n              source = /** @type {ArrayBuffer} */ (xhr.response);\n            }\n            if (source) {\n              success.call(this, format.readFeatures(source,\n                {featureProjection: projection}),\n              format.readProjection(source), format.getLastExtent());\n            } else {\n              failure.call(this);\n            }\n          } else {\n            failure.call(this);\n          }\n        }.bind(this);\n        /**\n         * @private\n         */\n        xhr.onerror = function() {\n          failure.call(this);\n        }.bind(this);\n        xhr.send();\n      }\n    );\n  }\n\n\n  /**\n   * Create an XHR feature loader for a `url` and `format`. The feature loader\n   * loads features (with XHR), parses the features, and adds them to the\n   * vector source.\n   * @param {string|FeatureUrlFunction} url Feature URL service.\n   * @param {import(\"./format/Feature.js\").default} format Feature format.\n   * @return {FeatureLoader} The feature loader.\n   * @api\n   */\n  function xhr(url, format) {\n    return loadFeaturesXhr(url, format,\n      /**\n       * @param {Array<import(\"./Feature.js\").default>} features The loaded features.\n       * @param {import(\"./proj/Projection.js\").default} dataProjection Data\n       * projection.\n       * @this {import(\"./source/Vector\").default|import(\"./VectorTile.js\").default}\n       */\n      function(features, dataProjection) {\n        var sourceOrTile = /** @type {?} */ (this);\n        if (typeof sourceOrTile.addFeatures === 'function') {\n          /** @type {import(\"./source/Vector\").default} */ (sourceOrTile).addFeatures(features);\n        }\n      }, /* FIXME handle error */ VOID);\n  }\n\n  /**\n   * @module ol/loadingstrategy\n   */\n\n\n  /**\n   * Strategy function for loading all features with a single request.\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {number} resolution Resolution.\n   * @return {Array<import(\"./extent.js\").Extent>} Extents.\n   * @api\n   */\n  function all(extent, resolution) {\n    return [[-Infinity, -Infinity, Infinity, Infinity]];\n  }\n\n  /**\n   * @module ol/source/Source\n   */\n\n\n  /**\n   * A function that returns a string or an array of strings representing source\n   * attributions.\n   *\n   * @typedef {function(import(\"../PluggableMap.js\").FrameState): (string|Array<string>)} Attribution\n   */\n\n\n  /**\n   * A type that can be used to provide attribution information for data sources.\n   *\n   * It represents either\n   * * a simple string (e.g. `'© Acme Inc.'`)\n   * * an array of simple strings (e.g. `['© Acme Inc.', '© Bacme Inc.']`)\n   * * a function that returns a string or array of strings (`{@link module:ol/source/Source~Attribution}`)\n   *\n   * @typedef {string|Array<string>|Attribution} AttributionLike\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {AttributionLike} [attributions]\n   * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n   * @property {import(\"../proj.js\").ProjectionLike} projection\n   * @property {SourceState} [state='ready']\n   * @property {boolean} [wrapX=false]\n   */\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * Base class for {@link module:ol/layer/Layer~Layer} sources.\n   *\n   * A generic `change` event is triggered when the state of the source changes.\n   * @abstract\n   * @api\n   */\n  var Source = /*@__PURE__*/(function (BaseObject$$1) {\n    function Source(options) {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @private\n       * @type {import(\"../proj/Projection.js\").default}\n       */\n      this.projection_ = get$2(options.projection);\n\n      /**\n       * @private\n       * @type {?Attribution}\n       */\n      this.attributions_ = adaptAttributions(options.attributions);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.attributionsCollapsible_ = options.attributionsCollapsible !== undefined ?\n        options.attributionsCollapsible : true;\n\n      /**\n       * This source is currently loading data. Sources that defer loading to the\n       * map's tile queue never set this to `true`.\n       * @type {boolean}\n       */\n      this.loading = false;\n\n      /**\n       * @private\n       * @type {SourceState}\n       */\n      this.state_ = options.state !== undefined ?\n        options.state : SourceState.READY;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.wrapX_ = options.wrapX !== undefined ? options.wrapX : false;\n\n    }\n\n    if ( BaseObject$$1 ) Source.__proto__ = BaseObject$$1;\n    Source.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Source.prototype.constructor = Source;\n\n    /**\n     * Get the attribution function for the source.\n     * @return {?Attribution} Attribution function.\n     */\n    Source.prototype.getAttributions = function getAttributions () {\n      return this.attributions_;\n    };\n\n    /**\n     * @return {boolean} Aattributions are collapsible.\n     */\n    Source.prototype.getAttributionsCollapsible = function getAttributionsCollapsible () {\n      return this.attributionsCollapsible_;\n    };\n\n    /**\n     * Get the projection of the source.\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     * @api\n     */\n    Source.prototype.getProjection = function getProjection () {\n      return this.projection_;\n    };\n\n    /**\n     * @abstract\n     * @return {Array<number>|undefined} Resolutions.\n     */\n    Source.prototype.getResolutions = function getResolutions () {\n      return abstract();\n    };\n\n    /**\n     * Get the state of the source, see {@link module:ol/source/State~State} for possible states.\n     * @return {SourceState} State.\n     * @api\n     */\n    Source.prototype.getState = function getState () {\n      return this.state_;\n    };\n\n    /**\n     * @return {boolean|undefined} Wrap X.\n     */\n    Source.prototype.getWrapX = function getWrapX () {\n      return this.wrapX_;\n    };\n\n    /**\n     * Refreshes the source and finally dispatches a 'change' event.\n     * @api\n     */\n    Source.prototype.refresh = function refresh () {\n      this.changed();\n    };\n\n    /**\n     * Set the attributions of the source.\n     * @param {AttributionLike|undefined} attributions Attributions.\n     *     Can be passed as `string`, `Array<string>`, `{@link module:ol/source/Source~Attribution}`,\n     *     or `undefined`.\n     * @api\n     */\n    Source.prototype.setAttributions = function setAttributions (attributions) {\n      this.attributions_ = adaptAttributions(attributions);\n      this.changed();\n    };\n\n    /**\n     * Set the state of the source.\n     * @param {SourceState} state State.\n     * @protected\n     */\n    Source.prototype.setState = function setState (state) {\n      this.state_ = state;\n      this.changed();\n    };\n\n    return Source;\n  }(BaseObject));\n\n\n  /**\n   * Turns the attributions option into an attributions function.\n   * @param {AttributionLike|undefined} attributionLike The attribution option.\n   * @return {?Attribution} An attribution function (or null).\n   */\n  function adaptAttributions(attributionLike) {\n    if (!attributionLike) {\n      return null;\n    }\n    if (Array.isArray(attributionLike)) {\n      return function(frameState) {\n        return attributionLike;\n      };\n    }\n\n    if (typeof attributionLike === 'function') {\n      return attributionLike;\n    }\n\n    return function(frameState) {\n      return [attributionLike];\n    };\n  }\n\n  /**\n   * @module ol/source/VectorEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var VectorEventType = {\n    /**\n     * Triggered when a feature is added to the source.\n     * @event ol/source/Vector.VectorSourceEvent#addfeature\n     * @api\n     */\n    ADDFEATURE: 'addfeature',\n\n    /**\n     * Triggered when a feature is updated.\n     * @event ol/source/Vector.VectorSourceEvent#changefeature\n     * @api\n     */\n    CHANGEFEATURE: 'changefeature',\n\n    /**\n     * Triggered when the clear method is called on the source.\n     * @event ol/source/Vector.VectorSourceEvent#clear\n     * @api\n     */\n    CLEAR: 'clear',\n\n    /**\n     * Triggered when a feature is removed from the source.\n     * See {@link module:ol/source/Vector#clear source.clear()} for exceptions.\n     * @event ol/source/Vector.VectorSourceEvent#removefeature\n     * @api\n     */\n    REMOVEFEATURE: 'removefeature'\n  };\n\n  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function unwrapExports (x) {\n  \treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var quickselect = createCommonjsModule(function (module, exports) {\n  (function (global, factory) {\n  \tmodule.exports = factory();\n  }(commonjsGlobal, (function () {\n  function quickselect(arr, k, left, right, compare) {\n      quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n  }\n\n  function quickselectStep(arr, k, left, right, compare) {\n\n      while (right > left) {\n          if (right - left > 600) {\n              var n = right - left + 1;\n              var m = k - left + 1;\n              var z = Math.log(n);\n              var s = 0.5 * Math.exp(2 * z / 3);\n              var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n              var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n              var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n              quickselectStep(arr, k, newLeft, newRight, compare);\n          }\n\n          var t = arr[k];\n          var i = left;\n          var j = right;\n\n          swap(arr, left, k);\n          if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n          while (i < j) {\n              swap(arr, i, j);\n              i++;\n              j--;\n              while (compare(arr[i], t) < 0) i++;\n              while (compare(arr[j], t) > 0) j--;\n          }\n\n          if (compare(arr[left], t) === 0) swap(arr, left, j);\n          else {\n              j++;\n              swap(arr, j, right);\n          }\n\n          if (j <= k) left = j + 1;\n          if (k <= j) right = j - 1;\n      }\n  }\n\n  function swap(arr, i, j) {\n      var tmp = arr[i];\n      arr[i] = arr[j];\n      arr[j] = tmp;\n  }\n\n  function defaultCompare(a, b) {\n      return a < b ? -1 : a > b ? 1 : 0;\n  }\n\n  return quickselect;\n\n  })));\n  });\n\n  var quickselect$1 = /*#__PURE__*/Object.freeze({\n    default: quickselect,\n    __moduleExports: quickselect\n  });\n\n  var quickselect$2 = ( quickselect$1 && quickselect ) || quickselect$1;\n\n  var rbush_1 = rbush;\n  var default_1 = rbush;\n\n\n\n  function rbush(maxEntries, format) {\n      if (!(this instanceof rbush)) return new rbush(maxEntries, format);\n\n      // max entries in a node is 9 by default; min node fill is 40% for best performance\n      this._maxEntries = Math.max(4, maxEntries || 9);\n      this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n\n      if (format) {\n          this._initFormat(format);\n      }\n\n      this.clear();\n  }\n\n  rbush.prototype = {\n\n      all: function () {\n          return this._all(this.data, []);\n      },\n\n      search: function (bbox) {\n\n          var node = this.data,\n              result = [],\n              toBBox = this.toBBox;\n\n          if (!intersects$1(bbox, node)) return result;\n\n          var nodesToSearch = [],\n              i, len, child, childBBox;\n\n          while (node) {\n              for (i = 0, len = node.children.length; i < len; i++) {\n\n                  child = node.children[i];\n                  childBBox = node.leaf ? toBBox(child) : child;\n\n                  if (intersects$1(bbox, childBBox)) {\n                      if (node.leaf) result.push(child);\n                      else if (contains(bbox, childBBox)) this._all(child, result);\n                      else nodesToSearch.push(child);\n                  }\n              }\n              node = nodesToSearch.pop();\n          }\n\n          return result;\n      },\n\n      collides: function (bbox) {\n\n          var node = this.data,\n              toBBox = this.toBBox;\n\n          if (!intersects$1(bbox, node)) return false;\n\n          var nodesToSearch = [],\n              i, len, child, childBBox;\n\n          while (node) {\n              for (i = 0, len = node.children.length; i < len; i++) {\n\n                  child = node.children[i];\n                  childBBox = node.leaf ? toBBox(child) : child;\n\n                  if (intersects$1(bbox, childBBox)) {\n                      if (node.leaf || contains(bbox, childBBox)) return true;\n                      nodesToSearch.push(child);\n                  }\n              }\n              node = nodesToSearch.pop();\n          }\n\n          return false;\n      },\n\n      load: function (data) {\n          if (!(data && data.length)) return this;\n\n          if (data.length < this._minEntries) {\n              for (var i = 0, len = data.length; i < len; i++) {\n                  this.insert(data[i]);\n              }\n              return this;\n          }\n\n          // recursively build the tree with the given data from scratch using OMT algorithm\n          var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n          if (!this.data.children.length) {\n              // save as is if tree is empty\n              this.data = node;\n\n          } else if (this.data.height === node.height) {\n              // split root if trees have the same height\n              this._splitRoot(this.data, node);\n\n          } else {\n              if (this.data.height < node.height) {\n                  // swap trees if inserted one is bigger\n                  var tmpNode = this.data;\n                  this.data = node;\n                  node = tmpNode;\n              }\n\n              // insert the small tree into the large tree at appropriate level\n              this._insert(node, this.data.height - node.height - 1, true);\n          }\n\n          return this;\n      },\n\n      insert: function (item) {\n          if (item) this._insert(item, this.data.height - 1);\n          return this;\n      },\n\n      clear: function () {\n          this.data = createNode([]);\n          return this;\n      },\n\n      remove: function (item, equalsFn) {\n          if (!item) return this;\n\n          var node = this.data,\n              bbox = this.toBBox(item),\n              path = [],\n              indexes = [],\n              i, parent, index, goingUp;\n\n          // depth-first iterative tree traversal\n          while (node || path.length) {\n\n              if (!node) { // go up\n                  node = path.pop();\n                  parent = path[path.length - 1];\n                  i = indexes.pop();\n                  goingUp = true;\n              }\n\n              if (node.leaf) { // check current node\n                  index = findItem(item, node.children, equalsFn);\n\n                  if (index !== -1) {\n                      // item found, remove the item and condense tree upwards\n                      node.children.splice(index, 1);\n                      path.push(node);\n                      this._condense(path);\n                      return this;\n                  }\n              }\n\n              if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                  path.push(node);\n                  indexes.push(i);\n                  i = 0;\n                  parent = node;\n                  node = node.children[0];\n\n              } else if (parent) { // go right\n                  i++;\n                  node = parent.children[i];\n                  goingUp = false;\n\n              } else node = null; // nothing found\n          }\n\n          return this;\n      },\n\n      toBBox: function (item) { return item; },\n\n      compareMinX: compareNodeMinX,\n      compareMinY: compareNodeMinY,\n\n      toJSON: function () { return this.data; },\n\n      fromJSON: function (data) {\n          this.data = data;\n          return this;\n      },\n\n      _all: function (node, result) {\n          var nodesToSearch = [];\n          while (node) {\n              if (node.leaf) result.push.apply(result, node.children);\n              else nodesToSearch.push.apply(nodesToSearch, node.children);\n\n              node = nodesToSearch.pop();\n          }\n          return result;\n      },\n\n      _build: function (items, left, right, height) {\n\n          var N = right - left + 1,\n              M = this._maxEntries,\n              node;\n\n          if (N <= M) {\n              // reached leaf level; return leaf\n              node = createNode(items.slice(left, right + 1));\n              calcBBox(node, this.toBBox);\n              return node;\n          }\n\n          if (!height) {\n              // target height of the bulk-loaded tree\n              height = Math.ceil(Math.log(N) / Math.log(M));\n\n              // target number of root entries to maximize storage utilization\n              M = Math.ceil(N / Math.pow(M, height - 1));\n          }\n\n          node = createNode([]);\n          node.leaf = false;\n          node.height = height;\n\n          // split the items into M mostly square tiles\n\n          var N2 = Math.ceil(N / M),\n              N1 = N2 * Math.ceil(Math.sqrt(M)),\n              i, j, right2, right3;\n\n          multiSelect(items, left, right, N1, this.compareMinX);\n\n          for (i = left; i <= right; i += N1) {\n\n              right2 = Math.min(i + N1 - 1, right);\n\n              multiSelect(items, i, right2, N2, this.compareMinY);\n\n              for (j = i; j <= right2; j += N2) {\n\n                  right3 = Math.min(j + N2 - 1, right2);\n\n                  // pack each entry recursively\n                  node.children.push(this._build(items, j, right3, height - 1));\n              }\n          }\n\n          calcBBox(node, this.toBBox);\n\n          return node;\n      },\n\n      _chooseSubtree: function (bbox, node, level, path) {\n\n          var i, len, child, targetNode, area, enlargement, minArea, minEnlargement;\n\n          while (true) {\n              path.push(node);\n\n              if (node.leaf || path.length - 1 === level) break;\n\n              minArea = minEnlargement = Infinity;\n\n              for (i = 0, len = node.children.length; i < len; i++) {\n                  child = node.children[i];\n                  area = bboxArea(child);\n                  enlargement = enlargedArea(bbox, child) - area;\n\n                  // choose entry with the least area enlargement\n                  if (enlargement < minEnlargement) {\n                      minEnlargement = enlargement;\n                      minArea = area < minArea ? area : minArea;\n                      targetNode = child;\n\n                  } else if (enlargement === minEnlargement) {\n                      // otherwise choose one with the smallest area\n                      if (area < minArea) {\n                          minArea = area;\n                          targetNode = child;\n                      }\n                  }\n              }\n\n              node = targetNode || node.children[0];\n          }\n\n          return node;\n      },\n\n      _insert: function (item, level, isNode) {\n\n          var toBBox = this.toBBox,\n              bbox = isNode ? item : toBBox(item),\n              insertPath = [];\n\n          // find the best node for accommodating the item, saving all nodes along the path too\n          var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n          // put the item into the node\n          node.children.push(item);\n          extend$2(node, bbox);\n\n          // split on node overflow; propagate upwards if necessary\n          while (level >= 0) {\n              if (insertPath[level].children.length > this._maxEntries) {\n                  this._split(insertPath, level);\n                  level--;\n              } else break;\n          }\n\n          // adjust bboxes along the insertion path\n          this._adjustParentBBoxes(bbox, insertPath, level);\n      },\n\n      // split overflowed node into two\n      _split: function (insertPath, level) {\n\n          var node = insertPath[level],\n              M = node.children.length,\n              m = this._minEntries;\n\n          this._chooseSplitAxis(node, m, M);\n\n          var splitIndex = this._chooseSplitIndex(node, m, M);\n\n          var newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n          newNode.height = node.height;\n          newNode.leaf = node.leaf;\n\n          calcBBox(node, this.toBBox);\n          calcBBox(newNode, this.toBBox);\n\n          if (level) insertPath[level - 1].children.push(newNode);\n          else this._splitRoot(node, newNode);\n      },\n\n      _splitRoot: function (node, newNode) {\n          // split root node\n          this.data = createNode([node, newNode]);\n          this.data.height = node.height + 1;\n          this.data.leaf = false;\n          calcBBox(this.data, this.toBBox);\n      },\n\n      _chooseSplitIndex: function (node, m, M) {\n\n          var i, bbox1, bbox2, overlap, area, minOverlap, minArea, index;\n\n          minOverlap = minArea = Infinity;\n\n          for (i = m; i <= M - m; i++) {\n              bbox1 = distBBox(node, 0, i, this.toBBox);\n              bbox2 = distBBox(node, i, M, this.toBBox);\n\n              overlap = intersectionArea(bbox1, bbox2);\n              area = bboxArea(bbox1) + bboxArea(bbox2);\n\n              // choose distribution with minimum overlap\n              if (overlap < minOverlap) {\n                  minOverlap = overlap;\n                  index = i;\n\n                  minArea = area < minArea ? area : minArea;\n\n              } else if (overlap === minOverlap) {\n                  // otherwise choose distribution with minimum area\n                  if (area < minArea) {\n                      minArea = area;\n                      index = i;\n                  }\n              }\n          }\n\n          return index;\n      },\n\n      // sorts node children by the best axis for split\n      _chooseSplitAxis: function (node, m, M) {\n\n          var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX,\n              compareMinY = node.leaf ? this.compareMinY : compareNodeMinY,\n              xMargin = this._allDistMargin(node, m, M, compareMinX),\n              yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n          // if total distributions margin value is minimal for x, sort by minX,\n          // otherwise it's already sorted by minY\n          if (xMargin < yMargin) node.children.sort(compareMinX);\n      },\n\n      // total margin of all possible split distributions where each node is at least m full\n      _allDistMargin: function (node, m, M, compare) {\n\n          node.children.sort(compare);\n\n          var toBBox = this.toBBox,\n              leftBBox = distBBox(node, 0, m, toBBox),\n              rightBBox = distBBox(node, M - m, M, toBBox),\n              margin = bboxMargin(leftBBox) + bboxMargin(rightBBox),\n              i, child;\n\n          for (i = m; i < M - m; i++) {\n              child = node.children[i];\n              extend$2(leftBBox, node.leaf ? toBBox(child) : child);\n              margin += bboxMargin(leftBBox);\n          }\n\n          for (i = M - m - 1; i >= m; i--) {\n              child = node.children[i];\n              extend$2(rightBBox, node.leaf ? toBBox(child) : child);\n              margin += bboxMargin(rightBBox);\n          }\n\n          return margin;\n      },\n\n      _adjustParentBBoxes: function (bbox, path, level) {\n          // adjust bboxes along the given tree path\n          for (var i = level; i >= 0; i--) {\n              extend$2(path[i], bbox);\n          }\n      },\n\n      _condense: function (path) {\n          // go through the path, removing empty nodes and updating bboxes\n          for (var i = path.length - 1, siblings; i >= 0; i--) {\n              if (path[i].children.length === 0) {\n                  if (i > 0) {\n                      siblings = path[i - 1].children;\n                      siblings.splice(siblings.indexOf(path[i]), 1);\n\n                  } else this.clear();\n\n              } else calcBBox(path[i], this.toBBox);\n          }\n      },\n\n      _initFormat: function (format) {\n          // data format (minX, minY, maxX, maxY accessors)\n\n          // uses eval-type function compilation instead of just accepting a toBBox function\n          // because the algorithms are very sensitive to sorting functions performance,\n          // so they should be dead simple and without inner calls\n\n          var compareArr = ['return a', ' - b', ';'];\n\n          this.compareMinX = new Function('a', 'b', compareArr.join(format[0]));\n          this.compareMinY = new Function('a', 'b', compareArr.join(format[1]));\n\n          this.toBBox = new Function('a',\n              'return {minX: a' + format[0] +\n              ', minY: a' + format[1] +\n              ', maxX: a' + format[2] +\n              ', maxY: a' + format[3] + '};');\n      }\n  };\n\n  function findItem(item, items, equalsFn) {\n      if (!equalsFn) return items.indexOf(item);\n\n      for (var i = 0; i < items.length; i++) {\n          if (equalsFn(item, items[i])) return i;\n      }\n      return -1;\n  }\n\n  // calculate node's bbox from bboxes of its children\n  function calcBBox(node, toBBox) {\n      distBBox(node, 0, node.children.length, toBBox, node);\n  }\n\n  // min bounding rectangle of node children from k to p-1\n  function distBBox(node, k, p, toBBox, destNode) {\n      if (!destNode) destNode = createNode(null);\n      destNode.minX = Infinity;\n      destNode.minY = Infinity;\n      destNode.maxX = -Infinity;\n      destNode.maxY = -Infinity;\n\n      for (var i = k, child; i < p; i++) {\n          child = node.children[i];\n          extend$2(destNode, node.leaf ? toBBox(child) : child);\n      }\n\n      return destNode;\n  }\n\n  function extend$2(a, b) {\n      a.minX = Math.min(a.minX, b.minX);\n      a.minY = Math.min(a.minY, b.minY);\n      a.maxX = Math.max(a.maxX, b.maxX);\n      a.maxY = Math.max(a.maxY, b.maxY);\n      return a;\n  }\n\n  function compareNodeMinX(a, b) { return a.minX - b.minX; }\n  function compareNodeMinY(a, b) { return a.minY - b.minY; }\n\n  function bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\n  function bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\n  function enlargedArea(a, b) {\n      return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n             (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n  }\n\n  function intersectionArea(a, b) {\n      var minX = Math.max(a.minX, b.minX),\n          minY = Math.max(a.minY, b.minY),\n          maxX = Math.min(a.maxX, b.maxX),\n          maxY = Math.min(a.maxY, b.maxY);\n\n      return Math.max(0, maxX - minX) *\n             Math.max(0, maxY - minY);\n  }\n\n  function contains(a, b) {\n      return a.minX <= b.minX &&\n             a.minY <= b.minY &&\n             b.maxX <= a.maxX &&\n             b.maxY <= a.maxY;\n  }\n\n  function intersects$1(a, b) {\n      return b.minX <= a.maxX &&\n             b.minY <= a.maxY &&\n             b.maxX >= a.minX &&\n             b.maxY >= a.minY;\n  }\n\n  function createNode(children) {\n      return {\n          children: children,\n          height: 1,\n          leaf: true,\n          minX: Infinity,\n          minY: Infinity,\n          maxX: -Infinity,\n          maxY: -Infinity\n      };\n  }\n\n  // sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n  // combines selection algorithm with binary divide & conquer approach\n\n  function multiSelect(arr, left, right, n, compare) {\n      var stack = [left, right],\n          mid;\n\n      while (stack.length) {\n          right = stack.pop();\n          left = stack.pop();\n\n          if (right - left <= n) continue;\n\n          mid = left + Math.ceil((right - left) / n / 2) * n;\n          quickselect$2(arr, mid, left, right, compare);\n\n          stack.push(left, mid, mid, right);\n      }\n  }\n  rbush_1.default = default_1;\n\n  /**\n   * @module ol/structs/RBush\n   */\n\n  /**\n   * @typedef {Object} Entry\n   * @property {number} minX\n   * @property {number} minY\n   * @property {number} maxX\n   * @property {number} maxY\n   * @property {Object} [value]\n   */\n\n  /**\n   * @classdesc\n   * Wrapper around the RBush by Vladimir Agafonkin.\n   * See https://github.com/mourner/rbush.\n   *\n   * @template T\n   */\n  var RBush = function RBush(opt_maxEntries) {\n\n    /**\n     * @private\n     */\n    this.rbush_ = rbush_1(opt_maxEntries, undefined);\n\n    /**\n     * A mapping between the objects added to this rbush wrapper\n     * and the objects that are actually added to the internal rbush.\n     * @private\n     * @type {Object<string, Entry>}\n     */\n    this.items_ = {};\n\n  };\n\n  /**\n   * Insert a value into the RBush.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {T} value Value.\n   */\n  RBush.prototype.insert = function insert (extent, value) {\n    /** @type {Entry} */\n    var item = {\n      minX: extent[0],\n      minY: extent[1],\n      maxX: extent[2],\n      maxY: extent[3],\n      value: value\n    };\n\n    this.rbush_.insert(item);\n    this.items_[getUid(value)] = item;\n  };\n\n\n  /**\n   * Bulk-insert values into the RBush.\n   * @param {Array<import(\"../extent.js\").Extent>} extents Extents.\n   * @param {Array<T>} values Values.\n   */\n  RBush.prototype.load = function load (extents, values) {\n    var items = new Array(values.length);\n    for (var i = 0, l = values.length; i < l; i++) {\n      var extent = extents[i];\n      var value = values[i];\n\n      /** @type {Entry} */\n      var item = {\n        minX: extent[0],\n        minY: extent[1],\n        maxX: extent[2],\n        maxY: extent[3],\n        value: value\n      };\n      items[i] = item;\n      this.items_[getUid(value)] = item;\n    }\n    this.rbush_.load(items);\n  };\n\n\n  /**\n   * Remove a value from the RBush.\n   * @param {T} value Value.\n   * @return {boolean} Removed.\n   */\n  RBush.prototype.remove = function remove (value) {\n    var uid = getUid(value);\n\n    // get the object in which the value was wrapped when adding to the\n    // internal rbush. then use that object to do the removal.\n    var item = this.items_[uid];\n    delete this.items_[uid];\n    return this.rbush_.remove(item) !== null;\n  };\n\n\n  /**\n   * Update the extent of a value in the RBush.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {T} value Value.\n   */\n  RBush.prototype.update = function update (extent, value) {\n    var item = this.items_[getUid(value)];\n    var bbox = [item.minX, item.minY, item.maxX, item.maxY];\n    if (!equals$2(bbox, extent)) {\n      this.remove(value);\n      this.insert(extent, value);\n    }\n  };\n\n\n  /**\n   * Return all values in the RBush.\n   * @return {Array<T>} All.\n   */\n  RBush.prototype.getAll = function getAll () {\n    var items = this.rbush_.all();\n    return items.map(function(item) {\n      return item.value;\n    });\n  };\n\n\n  /**\n   * Return all values in the given extent.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @return {Array<T>} All in extent.\n   */\n  RBush.prototype.getInExtent = function getInExtent (extent) {\n    /** @type {Entry} */\n    var bbox = {\n      minX: extent[0],\n      minY: extent[1],\n      maxX: extent[2],\n      maxY: extent[3]\n    };\n    var items = this.rbush_.search(bbox);\n    return items.map(function(item) {\n      return item.value;\n    });\n  };\n\n\n  /**\n   * Calls a callback function with each value in the tree.\n   * If the callback returns a truthy value, this value is returned without\n   * checking the rest of the tree.\n   * @param {function(this: S, T): *} callback Callback.\n   * @param {S=} opt_this The object to use as `this` in `callback`.\n   * @return {*} Callback return value.\n   * @template S\n   */\n  RBush.prototype.forEach = function forEach (callback, opt_this) {\n    return this.forEach_(this.getAll(), callback, opt_this);\n  };\n\n\n  /**\n   * Calls a callback function with each value in the provided extent.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {function(this: S, T): *} callback Callback.\n   * @param {S=} opt_this The object to use as `this` in `callback`.\n   * @return {*} Callback return value.\n   * @template S\n   */\n  RBush.prototype.forEachInExtent = function forEachInExtent (extent, callback, opt_this) {\n    return this.forEach_(this.getInExtent(extent), callback, opt_this);\n  };\n\n\n  /**\n   * @param {Array<T>} values Values.\n   * @param {function(this: S, T): *} callback Callback.\n   * @param {S=} opt_this The object to use as `this` in `callback`.\n   * @private\n   * @return {*} Callback return value.\n   * @template S\n   */\n  RBush.prototype.forEach_ = function forEach_ (values, callback, opt_this) {\n    var result;\n    for (var i = 0, l = values.length; i < l; i++) {\n      result = callback.call(opt_this, values[i]);\n      if (result) {\n        return result;\n      }\n    }\n    return result;\n  };\n\n\n  /**\n   * @return {boolean} Is empty.\n   */\n  RBush.prototype.isEmpty = function isEmpty$1$$1 () {\n    return isEmpty(this.items_);\n  };\n\n\n  /**\n   * Remove all values from the RBush.\n   */\n  RBush.prototype.clear = function clear$$1 () {\n    this.rbush_.clear();\n    this.items_ = {};\n  };\n\n\n  /**\n   * @param {import(\"../extent.js\").Extent=} opt_extent Extent.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   */\n  RBush.prototype.getExtent = function getExtent (opt_extent) {\n    var data = this.rbush_.toJSON();\n    return createOrUpdate(data.minX, data.minY, data.maxX, data.maxY, opt_extent);\n  };\n\n\n  /**\n   * @param {RBush} rbush R-Tree.\n   */\n  RBush.prototype.concat = function concat (rbush) {\n    this.rbush_.load(rbush.rbush_.all());\n    for (var i in rbush.items_) {\n      this.items_[i] = rbush.items_[i];\n    }\n  };\n\n  /**\n   * @module ol/source/Vector\n   */\n\n  /**\n   * A function that takes an {@link module:ol/extent~Extent} and a resolution as arguments, and\n   * returns an array of {@link module:ol/extent~Extent} with the extents to load. Usually this\n   * is one of the standard {@link module:ol/loadingstrategy} strategies.\n   *\n   * @typedef {function(import(\"../extent.js\").Extent, number): Array<import(\"../extent.js\").Extent>} LoadingStrategy\n   * @api\n   */\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/source/Vector} instances are instances of this\n   * type.\n   */\n  var VectorSourceEvent = /*@__PURE__*/(function (Event$$1) {\n    function VectorSourceEvent(type, opt_feature) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The feature being added or removed.\n       * @type {import(\"../Feature.js\").default|undefined}\n       * @api\n       */\n      this.feature = opt_feature;\n\n    }\n\n    if ( Event$$1 ) VectorSourceEvent.__proto__ = Event$$1;\n    VectorSourceEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    VectorSourceEvent.prototype.constructor = VectorSourceEvent;\n\n    return VectorSourceEvent;\n  }(Event));\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n   * @property {Array<import(\"../Feature.js\").default>|Collection<import(\"../Feature.js\").default>} [features]\n   * Features. If provided as {@link module:ol/Collection}, the features in the source\n   * and the collection will stay in sync.\n   * @property {import(\"../format/Feature.js\").default} [format] The feature format used by the XHR\n   * feature loader when `url` is set. Required if `url` is set, otherwise ignored.\n   * @property {import(\"../featureloader.js\").FeatureLoader} [loader]\n   * The loader function used to load features, from a remote source for example.\n   * If this is not set and `url` is set, the source will create and use an XHR\n   * feature loader.\n   *\n   * Example:\n   *\n   * ```js\n   * import {Vector} from 'ol/source';\n   * import {GeoJSON} from 'ol/format';\n   * import {bbox} from 'ol/loadingstrategy';\n   *\n   * var vectorSource = new Vector({\n   *   format: new GeoJSON(),\n   *   loader: function(extent, resolution, projection) {\n   *      var proj = projection.getCode();\n   *      var url = 'https://ahocevar.com/geoserver/wfs?service=WFS&' +\n   *          'version=1.1.0&request=GetFeature&typename=osm:water_areas&' +\n   *          'outputFormat=application/json&srsname=' + proj + '&' +\n   *          'bbox=' + extent.join(',') + ',' + proj;\n   *      var xhr = new XMLHttpRequest();\n   *      xhr.open('GET', url);\n   *      var onError = function() {\n   *        vectorSource.removeLoadedExtent(extent);\n   *      }\n   *      xhr.onerror = onError;\n   *      xhr.onload = function() {\n   *        if (xhr.status == 200) {\n   *          vectorSource.addFeatures(\n   *              vectorSource.getFormat().readFeatures(xhr.responseText));\n   *        } else {\n   *          onError();\n   *        }\n   *      }\n   *      xhr.send();\n   *    },\n   *    strategy: bbox\n   *  });\n   * ```\n   * @property {boolean} [overlaps=true] This source may have overlapping geometries.\n   * Setting this to `false` (e.g. for sources with polygons that represent administrative\n   * boundaries or TopoJSON sources) allows the renderer to optimise fill and\n   * stroke operations.\n   * @property {LoadingStrategy} [strategy] The loading strategy to use.\n   * By default an {@link module:ol/loadingstrategy~all}\n   * strategy is used, a one-off strategy which loads all features at once.\n   * @property {string|import(\"../featureloader.js\").FeatureUrlFunction} [url]\n   * Setting this option instructs the source to load features using an XHR loader\n   * (see {@link module:ol/featureloader~xhr}). Use a `string` and an\n   * {@link module:ol/loadingstrategy~all} for a one-off download of all features from\n   * the given URL. Use a {@link module:ol/featureloader~FeatureUrlFunction} to generate the url with\n   * other loading strategies.\n   * Requires `format` to be set as well.\n   * When default XHR feature loader is provided, the features will\n   * be transformed from the data projection to the view projection\n   * during parsing. If your remote data source does not advertise its projection\n   * properly, this transformation will be incorrect. For some formats, the\n   * default projection (usually EPSG:4326) can be overridden by setting the\n   * dataProjection constructor option on the format.\n   * Note that if a source contains non-feature data, such as a GeoJSON geometry\n   * or a KML NetworkLink, these will be ignored. Use a custom loader to load these.\n   * @property {boolean} [useSpatialIndex=true]\n   * By default, an RTree is used as spatial index. When features are removed and\n   * added frequently, and the total number of features is low, setting this to\n   * `false` may improve performance.\n   *\n   * Note that\n   * {@link module:ol/source/Vector~VectorSource#getFeaturesInExtent},\n   * {@link module:ol/source/Vector~VectorSource#getClosestFeatureToCoordinate} and\n   * {@link module:ol/source/Vector~VectorSource#getExtent} cannot be used when `useSpatialIndex` is\n   * set to `false`, and {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent} will loop\n   * through all features.\n   *\n   * When set to `false`, the features will be maintained in an\n   * {@link module:ol/Collection}, which can be retrieved through\n   * {@link module:ol/source/Vector~VectorSource#getFeaturesCollection}.\n   * @property {boolean} [wrapX=true] Wrap the world horizontally. For vector editing across the\n   * -180° and 180° meridians to work properly, this should be set to `false`. The\n   * resulting geometry coordinates will then exceed the world bounds.\n   */\n\n\n  /**\n   * @classdesc\n   * Provides a source of features for vector layers. Vector features provided\n   * by this source are suitable for editing. See {@link module:ol/source/VectorTile~VectorTile} for\n   * vector data that is optimized for rendering.\n   *\n   * @fires ol/source/Vector.VectorSourceEvent\n   * @api\n   */\n  var VectorSource = /*@__PURE__*/(function (Source$$1) {\n    function VectorSource(opt_options) {\n\n      var options = opt_options || {};\n\n      Source$$1.call(this, {\n        attributions: options.attributions,\n        projection: undefined,\n        state: SourceState.READY,\n        wrapX: options.wrapX !== undefined ? options.wrapX : true\n      });\n\n      /**\n       * @private\n       * @type {import(\"../featureloader.js\").FeatureLoader}\n       */\n      this.loader_ = VOID;\n\n      /**\n       * @private\n       * @type {import(\"../format/Feature.js\").default|undefined}\n       */\n      this.format_ = options.format;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.overlaps_ = options.overlaps == undefined ? true : options.overlaps;\n\n      /**\n       * @private\n       * @type {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined}\n       */\n      this.url_ = options.url;\n\n      if (options.loader !== undefined) {\n        this.loader_ = options.loader;\n      } else if (this.url_ !== undefined) {\n        assert(this.format_, 7); // `format` must be set when `url` is set\n        // create a XHR feature loader for \"url\" and \"format\"\n        this.loader_ = xhr(this.url_, /** @type {import(\"../format/Feature.js\").default} */ (this.format_));\n      }\n\n      /**\n       * @private\n       * @type {LoadingStrategy}\n       */\n      this.strategy_ = options.strategy !== undefined ? options.strategy : all;\n\n      var useSpatialIndex =\n          options.useSpatialIndex !== undefined ? options.useSpatialIndex : true;\n\n      /**\n       * @private\n       * @type {RBush<import(\"../Feature.js\").default>}\n       */\n      this.featuresRtree_ = useSpatialIndex ? new RBush() : null;\n\n      /**\n       * @private\n       * @type {RBush<{extent: import(\"../extent.js\").Extent}>}\n       */\n      this.loadedExtentsRtree_ = new RBush();\n\n      /**\n       * @private\n       * @type {!Object<string, import(\"../Feature.js\").default>}\n       */\n      this.nullGeometryFeatures_ = {};\n\n      /**\n       * A lookup of features by id (the return from feature.getId()).\n       * @private\n       * @type {!Object<string, import(\"../Feature.js\").default>}\n       */\n      this.idIndex_ = {};\n\n      /**\n       * A lookup of features without id (keyed by getUid(feature)).\n       * @private\n       * @type {!Object<string, import(\"../Feature.js\").default>}\n       */\n      this.undefIdIndex_ = {};\n\n      /**\n       * @private\n       * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n       */\n      this.featureChangeKeys_ = {};\n\n      /**\n       * @private\n       * @type {Collection<import(\"../Feature.js\").default>}\n       */\n      this.featuresCollection_ = null;\n\n      var collection, features;\n      if (Array.isArray(options.features)) {\n        features = options.features;\n      } else if (options.features) {\n        collection = options.features;\n        features = collection.getArray();\n      }\n      if (!useSpatialIndex && collection === undefined) {\n        collection = new Collection(features);\n      }\n      if (features !== undefined) {\n        this.addFeaturesInternal(features);\n      }\n      if (collection !== undefined) {\n        this.bindFeaturesCollection_(collection);\n      }\n\n    }\n\n    if ( Source$$1 ) VectorSource.__proto__ = Source$$1;\n    VectorSource.prototype = Object.create( Source$$1 && Source$$1.prototype );\n    VectorSource.prototype.constructor = VectorSource;\n\n    /**\n     * Add a single feature to the source.  If you want to add a batch of features\n     * at once, call {@link module:ol/source/Vector~VectorSource#addFeatures #addFeatures()}\n     * instead. A feature will not be added to the source if feature with\n     * the same id is already there. The reason for this behavior is to avoid\n     * feature duplication when using bbox or tile loading strategies.\n     * @param {import(\"../Feature.js\").default} feature Feature to add.\n     * @api\n     */\n    VectorSource.prototype.addFeature = function addFeature (feature) {\n      this.addFeatureInternal(feature);\n      this.changed();\n    };\n\n\n    /**\n     * Add a feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @protected\n     */\n    VectorSource.prototype.addFeatureInternal = function addFeatureInternal (feature) {\n      var featureKey = getUid(feature);\n\n      if (!this.addToIndex_(featureKey, feature)) {\n        return;\n      }\n\n      this.setupChangeEvents_(featureKey, feature);\n\n      var geometry = feature.getGeometry();\n      if (geometry) {\n        var extent = geometry.getExtent();\n        if (this.featuresRtree_) {\n          this.featuresRtree_.insert(extent, feature);\n        }\n      } else {\n        this.nullGeometryFeatures_[featureKey] = feature;\n      }\n\n      this.dispatchEvent(\n        new VectorSourceEvent(VectorEventType.ADDFEATURE, feature));\n    };\n\n\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default} feature The feature.\n     * @private\n     */\n    VectorSource.prototype.setupChangeEvents_ = function setupChangeEvents_ (featureKey, feature) {\n      this.featureChangeKeys_[featureKey] = [\n        listen(feature, EventType.CHANGE,\n          this.handleFeatureChange_, this),\n        listen(feature, ObjectEventType.PROPERTYCHANGE,\n          this.handleFeatureChange_, this)\n      ];\n    };\n\n\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default} feature The feature.\n     * @return {boolean} The feature is \"valid\", in the sense that it is also a\n     *     candidate for insertion into the Rtree.\n     * @private\n     */\n    VectorSource.prototype.addToIndex_ = function addToIndex_ (featureKey, feature) {\n      var valid = true;\n      var id = feature.getId();\n      if (id !== undefined) {\n        if (!(id.toString() in this.idIndex_)) {\n          this.idIndex_[id.toString()] = feature;\n        } else {\n          valid = false;\n        }\n      } else {\n        assert(!(featureKey in this.undefIdIndex_),\n          30); // The passed `feature` was already added to the source\n        this.undefIdIndex_[featureKey] = feature;\n      }\n      return valid;\n    };\n\n\n    /**\n     * Add a batch of features to the source.\n     * @param {Array<import(\"../Feature.js\").default>} features Features to add.\n     * @api\n     */\n    VectorSource.prototype.addFeatures = function addFeatures (features) {\n      this.addFeaturesInternal(features);\n      this.changed();\n    };\n\n\n    /**\n     * Add features without firing a `change` event.\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @protected\n     */\n    VectorSource.prototype.addFeaturesInternal = function addFeaturesInternal (features) {\n      var extents = [];\n      var newFeatures = [];\n      var geometryFeatures = [];\n\n      for (var i = 0, length = features.length; i < length; i++) {\n        var feature = features[i];\n        var featureKey = getUid(feature);\n        if (this.addToIndex_(featureKey, feature)) {\n          newFeatures.push(feature);\n        }\n      }\n\n      for (var i$1 = 0, length$1 = newFeatures.length; i$1 < length$1; i$1++) {\n        var feature$1 = newFeatures[i$1];\n        var featureKey$1 = getUid(feature$1);\n        this.setupChangeEvents_(featureKey$1, feature$1);\n\n        var geometry = feature$1.getGeometry();\n        if (geometry) {\n          var extent = geometry.getExtent();\n          extents.push(extent);\n          geometryFeatures.push(feature$1);\n        } else {\n          this.nullGeometryFeatures_[featureKey$1] = feature$1;\n        }\n      }\n      if (this.featuresRtree_) {\n        this.featuresRtree_.load(extents, geometryFeatures);\n      }\n\n      for (var i$2 = 0, length$2 = newFeatures.length; i$2 < length$2; i$2++) {\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE, newFeatures[i$2]));\n      }\n    };\n\n\n    /**\n     * @param {!Collection<import(\"../Feature.js\").default>} collection Collection.\n     * @private\n     */\n    VectorSource.prototype.bindFeaturesCollection_ = function bindFeaturesCollection_ (collection) {\n      var modifyingCollection = false;\n      listen(this, VectorEventType.ADDFEATURE,\n        /**\n         * @param {VectorSourceEvent} evt The vector source event\n         */\n        function(evt) {\n          if (!modifyingCollection) {\n            modifyingCollection = true;\n            collection.push(evt.feature);\n            modifyingCollection = false;\n          }\n        });\n      listen(this, VectorEventType.REMOVEFEATURE,\n        /**\n         * @param {VectorSourceEvent} evt The vector source event\n         */\n        function(evt) {\n          if (!modifyingCollection) {\n            modifyingCollection = true;\n            collection.remove(evt.feature);\n            modifyingCollection = false;\n          }\n        });\n      listen(collection, CollectionEventType.ADD,\n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function(evt) {\n          if (!modifyingCollection) {\n            modifyingCollection = true;\n            this.addFeature(/** @type {import(\"../Feature.js\").default} */ (evt.element));\n            modifyingCollection = false;\n          }\n        }, this);\n      listen(collection, CollectionEventType.REMOVE,\n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function(evt) {\n          if (!modifyingCollection) {\n            modifyingCollection = true;\n            this.removeFeature(/** @type {import(\"../Feature.js\").default} */ (evt.element));\n            modifyingCollection = false;\n          }\n        }, this);\n      this.featuresCollection_ = collection;\n    };\n\n\n    /**\n     * Remove all features from the source.\n     * @param {boolean=} opt_fast Skip dispatching of {@link module:ol/source/Vector.VectorSourceEvent#removefeature} events.\n     * @api\n     */\n    VectorSource.prototype.clear = function clear$$1 (opt_fast) {\n      if (opt_fast) {\n        for (var featureId in this.featureChangeKeys_) {\n          var keys = this.featureChangeKeys_[featureId];\n          keys.forEach(unlistenByKey);\n        }\n        if (!this.featuresCollection_) {\n          this.featureChangeKeys_ = {};\n          this.idIndex_ = {};\n          this.undefIdIndex_ = {};\n        }\n      } else {\n        if (this.featuresRtree_) {\n          this.featuresRtree_.forEach(this.removeFeatureInternal, this);\n          for (var id in this.nullGeometryFeatures_) {\n            this.removeFeatureInternal(this.nullGeometryFeatures_[id]);\n          }\n        }\n      }\n      if (this.featuresCollection_) {\n        this.featuresCollection_.clear();\n      }\n\n      if (this.featuresRtree_) {\n        this.featuresRtree_.clear();\n      }\n      this.loadedExtentsRtree_.clear();\n      this.nullGeometryFeatures_ = {};\n\n      var clearEvent = new VectorSourceEvent(VectorEventType.CLEAR);\n      this.dispatchEvent(clearEvent);\n      this.changed();\n    };\n\n\n    /**\n     * Iterate through all features on the source, calling the provided callback\n     * with each one.  If the callback returns any \"truthy\" value, iteration will\n     * stop and the function will return the same value.\n     * Note: this function only iterate through the feature that have a defined geometry.\n     *\n     * @param {function(import(\"../Feature.js\").default): T} callback Called with each feature\n     *     on the source.  Return a truthy value to stop iteration.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeature = function forEachFeature (callback) {\n      if (this.featuresRtree_) {\n        return this.featuresRtree_.forEach(callback);\n      } else if (this.featuresCollection_) {\n        this.featuresCollection_.forEach(callback);\n      }\n    };\n\n\n    /**\n     * Iterate through all features whose geometries contain the provided\n     * coordinate, calling the callback with each feature.  If the callback returns\n     * a \"truthy\" value, iteration will stop and the function will return the same\n     * value.\n     *\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default): T} callback Called with each feature\n     *     whose goemetry contains the provided coordinate.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     */\n    VectorSource.prototype.forEachFeatureAtCoordinateDirect = function forEachFeatureAtCoordinateDirect (coordinate, callback) {\n      var extent = [coordinate[0], coordinate[1], coordinate[0], coordinate[1]];\n      return this.forEachFeatureInExtent(extent, function(feature) {\n        var geometry = feature.getGeometry();\n        if (geometry.intersectsCoordinate(coordinate)) {\n          return callback(feature);\n        } else {\n          return undefined;\n        }\n      });\n    };\n\n\n    /**\n     * Iterate through all features whose bounding box intersects the provided\n     * extent (note that the feature's geometry may not intersect the extent),\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you are interested in features whose geometry intersects an extent, call\n     * the {@link module:ol/source/Vector~VectorSource#forEachFeatureIntersectingExtent #forEachFeatureIntersectingExtent()} method instead.\n     *\n     * When `useSpatialIndex` is set to false, this method will loop through all\n     * features, equivalent to {@link module:ol/source/Vector~VectorSource#forEachFeature #forEachFeature()}.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default): T} callback Called with each feature\n     *     whose bounding box intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureInExtent = function forEachFeatureInExtent (extent, callback) {\n      if (this.featuresRtree_) {\n        return this.featuresRtree_.forEachInExtent(extent, callback);\n      } else if (this.featuresCollection_) {\n        this.featuresCollection_.forEach(callback);\n      }\n    };\n\n\n    /**\n     * Iterate through all features whose geometry intersects the provided extent,\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you only want to test for bounding box intersection, call the\n     * {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent #forEachFeatureInExtent()} method instead.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default): T} callback Called with each feature\n     *     whose geometry intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureIntersectingExtent = function forEachFeatureIntersectingExtent (extent, callback) {\n      return this.forEachFeatureInExtent(extent,\n        /**\n         * @param {import(\"../Feature.js\").default} feature Feature.\n         * @return {T|undefined} The return value from the last call to the callback.\n         */\n        function(feature) {\n          var geometry = feature.getGeometry();\n          if (geometry.intersectsExtent(extent)) {\n            var result = callback(feature);\n            if (result) {\n              return result;\n            }\n          }\n        });\n    };\n\n\n    /**\n     * Get the features collection associated with this source. Will be `null`\n     * unless the source was configured with `useSpatialIndex` set to `false`, or\n     * with an {@link module:ol/Collection} as `features`.\n     * @return {Collection<import(\"../Feature.js\").default>} The collection of features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesCollection = function getFeaturesCollection () {\n      return this.featuresCollection_;\n    };\n\n\n    /**\n     * Get all features on the source in random order.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeatures = function getFeatures () {\n      var features;\n      if (this.featuresCollection_) {\n        features = this.featuresCollection_.getArray();\n      } else if (this.featuresRtree_) {\n        features = this.featuresRtree_.getAll();\n        if (!isEmpty(this.nullGeometryFeatures_)) {\n          extend(features, getValues(this.nullGeometryFeatures_));\n        }\n      }\n      return (\n        /** @type {Array<import(\"../Feature.js\").default>} */ (features)\n      );\n    };\n\n\n    /**\n     * Get all features whose geometry intersects the provided coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesAtCoordinate = function getFeaturesAtCoordinate (coordinate) {\n      var features = [];\n      this.forEachFeatureAtCoordinateDirect(coordinate, function(feature) {\n        features.push(feature);\n      });\n      return features;\n    };\n\n\n    /**\n     * Get all features in the provided extent.  Note that this returns an array of\n     * all features intersecting the given extent in random order (so it may include\n     * features whose geometries do not intersect the extent).\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesInExtent = function getFeaturesInExtent (extent) {\n      return this.featuresRtree_.getInExtent(extent);\n    };\n\n\n    /**\n     * Get the closest feature to the provided coordinate.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default):boolean=} opt_filter Feature filter function.\n     *     The filter function will receive one argument, the {@link module:ol/Feature feature}\n     *     and it should return a boolean value. By default, no filtering is made.\n     * @return {import(\"../Feature.js\").default} Closest feature.\n     * @api\n     */\n    VectorSource.prototype.getClosestFeatureToCoordinate = function getClosestFeatureToCoordinate (coordinate, opt_filter) {\n      // Find the closest feature using branch and bound.  We start searching an\n      // infinite extent, and find the distance from the first feature found.  This\n      // becomes the closest feature.  We then compute a smaller extent which any\n      // closer feature must intersect.  We continue searching with this smaller\n      // extent, trying to find a closer feature.  Every time we find a closer\n      // feature, we update the extent being searched so that any even closer\n      // feature must intersect it.  We continue until we run out of features.\n      var x = coordinate[0];\n      var y = coordinate[1];\n      var closestFeature = null;\n      var closestPoint = [NaN, NaN];\n      var minSquaredDistance = Infinity;\n      var extent = [-Infinity, -Infinity, Infinity, Infinity];\n      var filter = opt_filter ? opt_filter : TRUE;\n      this.featuresRtree_.forEachInExtent(extent,\n        /**\n         * @param {import(\"../Feature.js\").default} feature Feature.\n         */\n        function(feature) {\n          if (filter(feature)) {\n            var geometry = feature.getGeometry();\n            var previousMinSquaredDistance = minSquaredDistance;\n            minSquaredDistance = geometry.closestPointXY(\n              x, y, closestPoint, minSquaredDistance);\n            if (minSquaredDistance < previousMinSquaredDistance) {\n              closestFeature = feature;\n              // This is sneaky.  Reduce the extent that it is currently being\n              // searched while the R-Tree traversal using this same extent object\n              // is still in progress.  This is safe because the new extent is\n              // strictly contained by the old extent.\n              var minDistance = Math.sqrt(minSquaredDistance);\n              extent[0] = x - minDistance;\n              extent[1] = y - minDistance;\n              extent[2] = x + minDistance;\n              extent[3] = y + minDistance;\n            }\n          }\n        });\n      return closestFeature;\n    };\n\n\n    /**\n     * Get the extent of the features currently in the source.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../extent.js\").Extent=} opt_extent Destination extent. If provided, no new extent\n     *     will be created. Instead, that extent's coordinates will be overwritten.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    VectorSource.prototype.getExtent = function getExtent (opt_extent) {\n      return this.featuresRtree_.getExtent(opt_extent);\n    };\n\n\n    /**\n     * Get a feature by its identifier (the value returned by feature.getId()).\n     * Note that the index treats string and numeric identifiers as the same.  So\n     * `source.getFeatureById(2)` will return a feature with id `'2'` or `2`.\n     *\n     * @param {string|number} id Feature identifier.\n     * @return {import(\"../Feature.js\").default} The feature (or `null` if not found).\n     * @api\n     */\n    VectorSource.prototype.getFeatureById = function getFeatureById (id) {\n      var feature = this.idIndex_[id.toString()];\n      return feature !== undefined ? feature : null;\n    };\n\n\n    /**\n     * Get the format associated with this source.\n     *\n     * @return {import(\"../format/Feature.js\").default|undefined} The feature format.\n     * @api\n     */\n    VectorSource.prototype.getFormat = function getFormat () {\n      return this.format_;\n    };\n\n\n    /**\n     * @return {boolean} The source can have overlapping geometries.\n     */\n    VectorSource.prototype.getOverlaps = function getOverlaps () {\n      return this.overlaps_;\n    };\n\n\n    /**\n     * Get the url associated with this source.\n     *\n     * @return {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined} The url.\n     * @api\n     */\n    VectorSource.prototype.getUrl = function getUrl () {\n      return this.url_;\n    };\n\n\n    /**\n     * @param {Event} event Event.\n     * @private\n     */\n    VectorSource.prototype.handleFeatureChange_ = function handleFeatureChange_ (event) {\n      var feature = /** @type {import(\"../Feature.js\").default} */ (event.target);\n      var featureKey = getUid(feature);\n      var geometry = feature.getGeometry();\n      if (!geometry) {\n        if (!(featureKey in this.nullGeometryFeatures_)) {\n          if (this.featuresRtree_) {\n            this.featuresRtree_.remove(feature);\n          }\n          this.nullGeometryFeatures_[featureKey] = feature;\n        }\n      } else {\n        var extent = geometry.getExtent();\n        if (featureKey in this.nullGeometryFeatures_) {\n          delete this.nullGeometryFeatures_[featureKey];\n          if (this.featuresRtree_) {\n            this.featuresRtree_.insert(extent, feature);\n          }\n        } else {\n          if (this.featuresRtree_) {\n            this.featuresRtree_.update(extent, feature);\n          }\n        }\n      }\n      var id = feature.getId();\n      if (id !== undefined) {\n        var sid = id.toString();\n        if (featureKey in this.undefIdIndex_) {\n          delete this.undefIdIndex_[featureKey];\n          this.idIndex_[sid] = feature;\n        } else {\n          if (this.idIndex_[sid] !== feature) {\n            this.removeFromIdIndex_(feature);\n            this.idIndex_[sid] = feature;\n          }\n        }\n      } else {\n        if (!(featureKey in this.undefIdIndex_)) {\n          this.removeFromIdIndex_(feature);\n          this.undefIdIndex_[featureKey] = feature;\n        }\n      }\n      this.changed();\n      this.dispatchEvent(new VectorSourceEvent(\n        VectorEventType.CHANGEFEATURE, feature));\n    };\n\n    /**\n     * Returns true if the feature is contained within the source.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @return {boolean} Has feature.\n     * @api\n     */\n    VectorSource.prototype.hasFeature = function hasFeature (feature) {\n      var id = feature.getId();\n      if (id !== undefined) {\n        return id in this.idIndex_;\n      } else {\n        return getUid(feature) in this.undefIdIndex_;\n      }\n    };\n\n    /**\n     * @return {boolean} Is empty.\n     */\n    VectorSource.prototype.isEmpty = function isEmpty$1$$1 () {\n      return this.featuresRtree_.isEmpty() && isEmpty(this.nullGeometryFeatures_);\n    };\n\n\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    VectorSource.prototype.loadFeatures = function loadFeatures (extent, resolution, projection) {\n      var this$1 = this;\n\n      var loadedExtentsRtree = this.loadedExtentsRtree_;\n      var extentsToLoad = this.strategy_(extent, resolution);\n      this.loading = false;\n      var loop = function ( i, ii ) {\n        var extentToLoad = extentsToLoad[i];\n        var alreadyLoaded = loadedExtentsRtree.forEachInExtent(extentToLoad,\n          /**\n           * @param {{extent: import(\"../extent.js\").Extent}} object Object.\n           * @return {boolean} Contains.\n           */\n          function(object) {\n            return containsExtent(object.extent, extentToLoad);\n          });\n        if (!alreadyLoaded) {\n          this$1.loader_.call(this$1, extentToLoad, resolution, projection);\n          loadedExtentsRtree.insert(extentToLoad, {extent: extentToLoad.slice()});\n          this$1.loading = this$1.loader_ !== VOID;\n        }\n      };\n\n      for (var i = 0, ii = extentsToLoad.length; i < ii; ++i) loop( i, ii );\n    };\n\n\n    /**\n     * Remove an extent from the list of loaded extents.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    VectorSource.prototype.removeLoadedExtent = function removeLoadedExtent (extent) {\n      var loadedExtentsRtree = this.loadedExtentsRtree_;\n      var obj;\n      loadedExtentsRtree.forEachInExtent(extent, function(object) {\n        if (equals$2(object.extent, extent)) {\n          obj = object;\n          return true;\n        }\n      });\n      if (obj) {\n        loadedExtentsRtree.remove(obj);\n      }\n    };\n\n\n    /**\n     * Remove a single feature from the source.  If you want to remove all features\n     * at once, use the {@link module:ol/source/Vector~VectorSource#clear #clear()} method\n     * instead.\n     * @param {import(\"../Feature.js\").default} feature Feature to remove.\n     * @api\n     */\n    VectorSource.prototype.removeFeature = function removeFeature (feature) {\n      var featureKey = getUid(feature);\n      if (featureKey in this.nullGeometryFeatures_) {\n        delete this.nullGeometryFeatures_[featureKey];\n      } else {\n        if (this.featuresRtree_) {\n          this.featuresRtree_.remove(feature);\n        }\n      }\n      this.removeFeatureInternal(feature);\n      this.changed();\n    };\n\n\n    /**\n     * Remove feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @protected\n     */\n    VectorSource.prototype.removeFeatureInternal = function removeFeatureInternal (feature) {\n      var featureKey = getUid(feature);\n      this.featureChangeKeys_[featureKey].forEach(unlistenByKey);\n      delete this.featureChangeKeys_[featureKey];\n      var id = feature.getId();\n      if (id !== undefined) {\n        delete this.idIndex_[id.toString()];\n      } else {\n        delete this.undefIdIndex_[featureKey];\n      }\n      this.dispatchEvent(new VectorSourceEvent(\n        VectorEventType.REMOVEFEATURE, feature));\n    };\n\n\n    /**\n     * Remove a feature from the id index.  Called internally when the feature id\n     * may have changed.\n     * @param {import(\"../Feature.js\").default} feature The feature.\n     * @return {boolean} Removed the feature from the index.\n     * @private\n     */\n    VectorSource.prototype.removeFromIdIndex_ = function removeFromIdIndex_ (feature) {\n      var removed = false;\n      for (var id in this.idIndex_) {\n        if (this.idIndex_[id] === feature) {\n          delete this.idIndex_[id];\n          removed = true;\n          break;\n        }\n      }\n      return removed;\n    };\n\n\n    /**\n     * Set the new loader of the source. The next loadFeatures call will use the\n     * new loader.\n     * @param {import(\"../featureloader.js\").FeatureLoader} loader The loader to set.\n     * @api\n     */\n    VectorSource.prototype.setLoader = function setLoader (loader) {\n      this.loader_ = loader;\n    };\n\n    return VectorSource;\n  }(Source));\n\n  /**\n   * @module ol/interaction/Draw\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {GeometryType} type Geometry type of\n   * the geometries being drawn with this instance.\n   * @property {number} [clickTolerance=6] The maximum distance in pixels between\n   * \"down\" and \"up\" for a \"up\" event to be considered a \"click\" event and\n   * actually add a point/vertex to the geometry being drawn.  The default of `6`\n   * was chosen for the draw interaction to behave correctly on mouse as well as\n   * on touch devices.\n   * @property {import(\"../Collection.js\").default<Feature>} [features]\n   * Destination collection for the drawn features.\n   * @property {VectorSource} [source] Destination source for\n   * the drawn features.\n   * @property {number} [dragVertexDelay=500] Delay in milliseconds after pointerdown\n   * before the current vertex can be dragged to its exact position.\n   * @property {number} [snapTolerance=12] Pixel distance for snapping to the\n   * drawing finish.\n   * @property {boolean} [stopClick=false] Stop click, singleclick, and\n   * doubleclick events from firing during drawing.\n   * @property {number} [maxPoints] The number of points that can be drawn before\n   * a polygon ring or line string is finished. By default there is no\n   * restriction.\n   * @property {number} [minPoints] The number of points that must be drawn\n   * before a polygon ring or line string can be finished. Default is `3` for\n   * polygon rings and `2` for line strings.\n   * @property {import(\"../events/condition.js\").Condition} [finishCondition] A function\n   * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether the drawing can be finished.\n   * @property {import(\"../style/Style.js\").StyleLike} [style]\n   * Style for sketch features.\n   * @property {GeometryFunction} [geometryFunction]\n   * Function that is called when a geometry's coordinates are updated.\n   * @property {string} [geometryName] Geometry name to use for features created\n   * by the draw interaction.\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled.\n   * By default {@link module:ol/events/condition~noModifierKeys}, i.e. a click,\n   * adds a vertex or deactivates freehand drawing.\n   * @property {boolean} [freehand=false] Operate in freehand mode for lines,\n   * polygons, and circles.  This makes the interaction always operate in freehand\n   * mode and takes precedence over any `freehandCondition` option.\n   * @property {import(\"../events/condition.js\").Condition} [freehandCondition]\n   * Condition that activates freehand drawing for lines and polygons. This\n   * function takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and\n   * returns a boolean to indicate whether that event should be handled. The\n   * default is {@link module:ol/events/condition~shiftKeyOnly}, meaning that the\n   * Shift key activates freehand drawing.\n   * @property {boolean} [wrapX=false] Wrap the world horizontally on the sketch\n   * overlay.\n   */\n\n\n  /**\n   * Coordinate type when drawing points.\n   * @typedef {import(\"../coordinate.js\").Coordinate} PointCoordType\n   */\n\n\n  /**\n   * Coordinate type when drawing lines.\n   * @typedef {Array<import(\"../coordinate.js\").Coordinate>} LineCoordType\n   */\n\n\n  /**\n   * Coordinate type when drawing polygons.\n   * @typedef {Array<Array<import(\"../coordinate.js\").Coordinate>>} PolyCoordType\n   */\n\n\n  /**\n   * Types used for drawing coordinates.\n   * @typedef {PointCoordType|LineCoordType|PolyCoordType} SketchCoordType\n   */\n\n\n  /**\n   * Function that takes an array of coordinates and an optional existing geometry as\n   * arguments, and returns a geometry. The optional existing geometry is the\n   * geometry that is returned when the function is called without a second\n   * argument.\n   * @typedef {function(!SketchCoordType, import(\"../geom/SimpleGeometry.js\").default=):\n   *     import(\"../geom/SimpleGeometry.js\").default} GeometryFunction\n   */\n\n\n  /**\n   * Draw mode.  This collapses multi-part geometry types with their single-part\n   * cousins.\n   * @enum {string}\n   */\n  var Mode$1 = {\n    POINT: 'Point',\n    LINE_STRING: 'LineString',\n    POLYGON: 'Polygon',\n    CIRCLE: 'Circle'\n  };\n\n\n  /**\n   * @enum {string}\n   */\n  var DrawEventType = {\n    /**\n     * Triggered upon feature draw start\n     * @event DrawEvent#drawstart\n     * @api\n     */\n    DRAWSTART: 'drawstart',\n    /**\n     * Triggered upon feature draw end\n     * @event DrawEvent#drawend\n     * @api\n     */\n    DRAWEND: 'drawend'\n  };\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/Draw~Draw} instances are\n   * instances of this type.\n   */\n  var DrawEvent = /*@__PURE__*/(function (Event$$1) {\n    function DrawEvent(type, feature) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The feature being drawn.\n       * @type {Feature}\n       * @api\n       */\n      this.feature = feature;\n\n    }\n\n    if ( Event$$1 ) DrawEvent.__proto__ = Event$$1;\n    DrawEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    DrawEvent.prototype.constructor = DrawEvent;\n\n    return DrawEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Interaction for drawing feature geometries.\n   *\n   * @fires DrawEvent\n   * @api\n   */\n  var Draw = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function Draw(options) {\n\n      var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n      if (!pointerOptions.stopDown) {\n        pointerOptions.stopDown = FALSE;\n      }\n\n      PointerInteraction$$1.call(this, pointerOptions);\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.shouldHandle_ = false;\n\n      /**\n       * @type {import(\"../pixel.js\").Pixel}\n       * @private\n       */\n      this.downPx_ = null;\n\n      /**\n       * @type {?}\n       * @private\n       */\n      this.downTimeout_;\n\n      /**\n       * @type {number|undefined}\n       * @private\n       */\n      this.lastDragTime_;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.freehand_ = false;\n\n      /**\n       * Target source for drawn features.\n       * @type {VectorSource}\n       * @private\n       */\n      this.source_ = options.source ? options.source : null;\n\n      /**\n       * Target collection for drawn features.\n       * @type {import(\"../Collection.js\").default<Feature>}\n       * @private\n       */\n      this.features_ = options.features ? options.features : null;\n\n      /**\n       * Pixel distance for snapping.\n       * @type {number}\n       * @private\n       */\n      this.snapTolerance_ = options.snapTolerance ? options.snapTolerance : 12;\n\n      /**\n       * Geometry type.\n       * @type {GeometryType}\n       * @private\n       */\n      this.type_ = /** @type {GeometryType} */ (options.type);\n\n      /**\n       * Drawing mode (derived from geometry type.\n       * @type {Mode}\n       * @private\n       */\n      this.mode_ = getMode(this.type_);\n\n      /**\n       * Stop click, singleclick, and doubleclick events from firing during drawing.\n       * Default is `false`.\n       * @type {boolean}\n       * @private\n       */\n      this.stopClick_ = !!options.stopClick;\n\n      /**\n       * The number of points that must be drawn before a polygon ring or line\n       * string can be finished.  The default is 3 for polygon rings and 2 for\n       * line strings.\n       * @type {number}\n       * @private\n       */\n      this.minPoints_ = options.minPoints ?\n        options.minPoints :\n        (this.mode_ === Mode$1.POLYGON ? 3 : 2);\n\n      /**\n       * The number of points that can be drawn before a polygon ring or line string\n       * is finished. The default is no restriction.\n       * @type {number}\n       * @private\n       */\n      this.maxPoints_ = options.maxPoints ? options.maxPoints : Infinity;\n\n      /**\n       * A function to decide if a potential finish coordinate is permissible\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.finishCondition_ = options.finishCondition ? options.finishCondition : TRUE;\n\n      var geometryFunction = options.geometryFunction;\n      if (!geometryFunction) {\n        if (this.type_ === GeometryType.CIRCLE) {\n          /**\n           * @param {!LineCoordType} coordinates The coordinates.\n           * @param {import(\"../geom/SimpleGeometry.js\").default=} opt_geometry Optional geometry.\n           * @return {import(\"../geom/SimpleGeometry.js\").default} A geometry.\n           */\n          geometryFunction = function(coordinates, opt_geometry) {\n            var circle = opt_geometry ? /** @type {Circle} */ (opt_geometry) :\n              new Circle([NaN, NaN]);\n            var squaredLength = squaredDistance$1(\n              coordinates[0], coordinates[1]);\n            circle.setCenterAndRadius(coordinates[0], Math.sqrt(squaredLength));\n            return circle;\n          };\n        } else {\n          var Constructor;\n          var mode = this.mode_;\n          if (mode === Mode$1.POINT) {\n            Constructor = Point;\n          } else if (mode === Mode$1.LINE_STRING) {\n            Constructor = LineString;\n          } else if (mode === Mode$1.POLYGON) {\n            Constructor = Polygon;\n          }\n          /**\n           * @param {!LineCoordType} coordinates The coordinates.\n           * @param {import(\"../geom/SimpleGeometry.js\").default=} opt_geometry Optional geometry.\n           * @return {import(\"../geom/SimpleGeometry.js\").default} A geometry.\n           */\n          geometryFunction = function(coordinates, opt_geometry) {\n            var geometry = opt_geometry;\n            if (geometry) {\n              if (mode === Mode$1.POLYGON) {\n                if (coordinates[0].length) {\n                  // Add a closing coordinate to match the first\n                  geometry.setCoordinates([coordinates[0].concat([coordinates[0][0]])]);\n                } else {\n                  geometry.setCoordinates([]);\n                }\n              } else {\n                geometry.setCoordinates(coordinates);\n              }\n            } else {\n              geometry = new Constructor(coordinates);\n            }\n            return geometry;\n          };\n        }\n      }\n\n      /**\n       * @type {GeometryFunction}\n       * @private\n       */\n      this.geometryFunction_ = geometryFunction;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.dragVertexDelay_ = options.dragVertexDelay !== undefined ? options.dragVertexDelay : 500;\n\n      /**\n       * Finish coordinate for the feature (first point for polygons, last point for\n       * linestrings).\n       * @type {import(\"../coordinate.js\").Coordinate}\n       * @private\n       */\n      this.finishCoordinate_ = null;\n\n      /**\n       * Sketch feature.\n       * @type {Feature}\n       * @private\n       */\n      this.sketchFeature_ = null;\n\n      /**\n       * Sketch point.\n       * @type {Feature}\n       * @private\n       */\n      this.sketchPoint_ = null;\n\n      /**\n       * Sketch coordinates. Used when drawing a line or polygon.\n       * @type {SketchCoordType}\n       * @private\n       */\n      this.sketchCoords_ = null;\n\n      /**\n       * Sketch line. Used when drawing polygon.\n       * @type {Feature}\n       * @private\n       */\n      this.sketchLine_ = null;\n\n      /**\n       * Sketch line coordinates. Used when drawing a polygon or circle.\n       * @type {LineCoordType}\n       * @private\n       */\n      this.sketchLineCoords_ = null;\n\n      /**\n       * Squared tolerance for handling up events.  If the squared distance\n       * between a down and up event is greater than this tolerance, up events\n       * will not be handled.\n       * @type {number}\n       * @private\n       */\n      this.squaredClickTolerance_ = options.clickTolerance ?\n        options.clickTolerance * options.clickTolerance : 36;\n\n      /**\n       * Draw overlay where our sketch features are drawn.\n       * @type {VectorLayer}\n       * @private\n       */\n      this.overlay_ = new VectorLayer({\n        source: new VectorSource({\n          useSpatialIndex: false,\n          wrapX: options.wrapX ? options.wrapX : false\n        }),\n        style: options.style ? options.style :\n          getDefaultStyleFunction(),\n        updateWhileInteracting: true\n      });\n\n      /**\n       * Name of the geometry attribute for newly created features.\n       * @type {string|undefined}\n       * @private\n       */\n      this.geometryName_ = options.geometryName;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : noModifierKeys;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.freehandCondition_;\n      if (options.freehand) {\n        this.freehandCondition_ = always;\n      } else {\n        this.freehandCondition_ = options.freehandCondition ?\n          options.freehandCondition : shiftKeyOnly;\n      }\n\n      listen(this,\n        getChangeEventType(InteractionProperty.ACTIVE),\n        this.updateState_, this);\n\n    }\n\n    if ( PointerInteraction$$1 ) Draw.__proto__ = PointerInteraction$$1;\n    Draw.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    Draw.prototype.constructor = Draw;\n\n    /**\n     * @inheritDoc\n     */\n    Draw.prototype.setMap = function setMap (map) {\n      PointerInteraction$$1.prototype.setMap.call(this, map);\n      this.updateState_();\n    };\n\n    /**\n     * Get the overlay layer that this interaction renders sketch features to.\n     * @return {VectorLayer} Overlay layer.\n     * @api\n     */\n    Draw.prototype.getOverlay = function getOverlay () {\n      return this.overlay_;\n    };\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} and may actually draw or finish the drawing.\n     * @override\n     * @api\n     */\n    Draw.prototype.handleEvent = function handleEvent (event) {\n      if (event.originalEvent.type === EventType.CONTEXTMENU) {\n        // Avoid context menu for long taps when drawing on mobile\n        event.preventDefault();\n      }\n      this.freehand_ = this.mode_ !== Mode$1.POINT && this.freehandCondition_(event);\n      var move = event.type === MapBrowserEventType.POINTERMOVE;\n      var pass = true;\n      if (!this.freehand_ && this.lastDragTime_ && event.type === MapBrowserEventType.POINTERDRAG) {\n        var now = Date.now();\n        if (now - this.lastDragTime_ >= this.dragVertexDelay_) {\n          this.downPx_ = event.pixel;\n          this.shouldHandle_ = !this.freehand_;\n          move = true;\n        } else {\n          this.lastDragTime_ = undefined;\n        }\n        if (this.shouldHandle_ && this.downTimeout_ !== undefined) {\n          clearTimeout(this.downTimeout_);\n          this.downTimeout_ = undefined;\n        }\n      }\n      if (this.freehand_ &&\n          event.type === MapBrowserEventType.POINTERDRAG &&\n          this.sketchFeature_ !== null) {\n        this.addToDrawing_(event);\n        pass = false;\n      } else if (this.freehand_ &&\n          event.type === MapBrowserEventType.POINTERDOWN) {\n        pass = false;\n      } else if (move) {\n        pass = event.type === MapBrowserEventType.POINTERMOVE;\n        if (pass && this.freehand_) {\n          pass = this.handlePointerMove_(event);\n        } else if (/** @type {MapBrowserPointerEvent} */ (event).pointerEvent.pointerType == POINTER_TYPE ||\n            (event.type === MapBrowserEventType.POINTERDRAG && this.downTimeout_ === undefined)) {\n          this.handlePointerMove_(event);\n        }\n      } else if (event.type === MapBrowserEventType.DBLCLICK) {\n        pass = false;\n      }\n\n      return PointerInteraction$$1.prototype.handleEvent.call(this, event) && pass;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Draw.prototype.handleDownEvent = function handleDownEvent (event) {\n      this.shouldHandle_ = !this.freehand_;\n\n      if (this.freehand_) {\n        this.downPx_ = event.pixel;\n        if (!this.finishCoordinate_) {\n          this.startDrawing_(event);\n        }\n        return true;\n      } else if (this.condition_(event)) {\n        this.lastDragTime_ = Date.now();\n        this.downTimeout_ = setTimeout(function() {\n          this.handlePointerMove_(new MapBrowserPointerEvent(\n            MapBrowserEventType.POINTERMOVE, event.map, event.pointerEvent, false, event.frameState));\n        }.bind(this), this.dragVertexDelay_);\n        this.downPx_ = event.pixel;\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n\n    /**\n     * @inheritDoc\n     */\n    Draw.prototype.handleUpEvent = function handleUpEvent (event) {\n      var pass = true;\n\n      if (this.downTimeout_) {\n        clearTimeout(this.downTimeout_);\n        this.downTimeout_ = undefined;\n      }\n\n      this.handlePointerMove_(event);\n\n      var circleMode = this.mode_ === Mode$1.CIRCLE;\n\n      if (this.shouldHandle_) {\n        if (!this.finishCoordinate_) {\n          this.startDrawing_(event);\n          if (this.mode_ === Mode$1.POINT) {\n            this.finishDrawing();\n          }\n        } else if (this.freehand_ || circleMode) {\n          this.finishDrawing();\n        } else if (this.atFinish_(event)) {\n          if (this.finishCondition_(event)) {\n            this.finishDrawing();\n          }\n        } else {\n          this.addToDrawing_(event);\n        }\n        pass = false;\n      } else if (this.freehand_) {\n        this.finishCoordinate_ = null;\n        this.abortDrawing_();\n      }\n      if (!pass && this.stopClick_) {\n        event.stopPropagation();\n      }\n      return pass;\n    };\n\n    /**\n     * Handle move events.\n     * @param {import(\"../MapBrowserEvent.js\").default} event A move event.\n     * @return {boolean} Pass the event to other interactions.\n     * @private\n     */\n    Draw.prototype.handlePointerMove_ = function handlePointerMove_ (event) {\n      if (this.downPx_ &&\n          ((!this.freehand_ && this.shouldHandle_) ||\n          (this.freehand_ && !this.shouldHandle_))) {\n        var downPx = this.downPx_;\n        var clickPx = event.pixel;\n        var dx = downPx[0] - clickPx[0];\n        var dy = downPx[1] - clickPx[1];\n        var squaredDistance$$1 = dx * dx + dy * dy;\n        this.shouldHandle_ = this.freehand_ ?\n          squaredDistance$$1 > this.squaredClickTolerance_ :\n          squaredDistance$$1 <= this.squaredClickTolerance_;\n        if (!this.shouldHandle_) {\n          return true;\n        }\n      }\n\n      if (this.finishCoordinate_) {\n        this.modifyDrawing_(event);\n      } else {\n        this.createOrUpdateSketchPoint_(event);\n      }\n      return true;\n    };\n\n    /**\n     * Determine if an event is within the snapping tolerance of the start coord.\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @return {boolean} The event is within the snapping tolerance of the start.\n     * @private\n     */\n    Draw.prototype.atFinish_ = function atFinish_ (event) {\n      var at = false;\n      if (this.sketchFeature_) {\n        var potentiallyDone = false;\n        var potentiallyFinishCoordinates = [this.finishCoordinate_];\n        if (this.mode_ === Mode$1.LINE_STRING) {\n          potentiallyDone = this.sketchCoords_.length > this.minPoints_;\n        } else if (this.mode_ === Mode$1.POLYGON) {\n          var sketchCoords = /** @type {PolyCoordType} */ (this.sketchCoords_);\n          potentiallyDone = sketchCoords[0].length > this.minPoints_;\n          potentiallyFinishCoordinates = [sketchCoords[0][0], sketchCoords[0][sketchCoords[0].length - 2]];\n        }\n        if (potentiallyDone) {\n          var map = event.map;\n          for (var i = 0, ii = potentiallyFinishCoordinates.length; i < ii; i++) {\n            var finishCoordinate = potentiallyFinishCoordinates[i];\n            var finishPixel = map.getPixelFromCoordinate(finishCoordinate);\n            var pixel = event.pixel;\n            var dx = pixel[0] - finishPixel[0];\n            var dy = pixel[1] - finishPixel[1];\n            var snapTolerance = this.freehand_ ? 1 : this.snapTolerance_;\n            at = Math.sqrt(dx * dx + dy * dy) <= snapTolerance;\n            if (at) {\n              this.finishCoordinate_ = finishCoordinate;\n              break;\n            }\n          }\n        }\n      }\n      return at;\n    };\n\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @private\n     */\n    Draw.prototype.createOrUpdateSketchPoint_ = function createOrUpdateSketchPoint_ (event) {\n      var coordinates = event.coordinate.slice();\n      if (!this.sketchPoint_) {\n        this.sketchPoint_ = new Feature(new Point(coordinates));\n        this.updateSketchFeatures_();\n      } else {\n        var sketchPointGeom = /** @type {Point} */ (this.sketchPoint_.getGeometry());\n        sketchPointGeom.setCoordinates(coordinates);\n      }\n    };\n\n    /**\n     * Start the drawing.\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @private\n     */\n    Draw.prototype.startDrawing_ = function startDrawing_ (event) {\n      var start = event.coordinate;\n      this.finishCoordinate_ = start;\n      if (this.mode_ === Mode$1.POINT) {\n        this.sketchCoords_ = start.slice();\n      } else if (this.mode_ === Mode$1.POLYGON) {\n        this.sketchCoords_ = [[start.slice(), start.slice()]];\n        this.sketchLineCoords_ = this.sketchCoords_[0];\n      } else {\n        this.sketchCoords_ = [start.slice(), start.slice()];\n      }\n      if (this.sketchLineCoords_) {\n        this.sketchLine_ = new Feature(\n          new LineString(this.sketchLineCoords_));\n      }\n      var geometry = this.geometryFunction_(this.sketchCoords_);\n      this.sketchFeature_ = new Feature();\n      if (this.geometryName_) {\n        this.sketchFeature_.setGeometryName(this.geometryName_);\n      }\n      this.sketchFeature_.setGeometry(geometry);\n      this.updateSketchFeatures_();\n      this.dispatchEvent(new DrawEvent(DrawEventType.DRAWSTART, this.sketchFeature_));\n    };\n\n    /**\n     * Modify the drawing.\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @private\n     */\n    Draw.prototype.modifyDrawing_ = function modifyDrawing_ (event) {\n      var coordinate = event.coordinate;\n      var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (this.sketchFeature_.getGeometry());\n      var coordinates, last;\n      if (this.mode_ === Mode$1.POINT) {\n        last = this.sketchCoords_;\n      } else if (this.mode_ === Mode$1.POLYGON) {\n        coordinates = /** @type {PolyCoordType} */ (this.sketchCoords_)[0];\n        last = coordinates[coordinates.length - 1];\n        if (this.atFinish_(event)) {\n          // snap to finish\n          coordinate = this.finishCoordinate_.slice();\n        }\n      } else {\n        coordinates = this.sketchCoords_;\n        last = coordinates[coordinates.length - 1];\n      }\n      last[0] = coordinate[0];\n      last[1] = coordinate[1];\n      this.geometryFunction_(/** @type {!LineCoordType} */ (this.sketchCoords_), geometry);\n      if (this.sketchPoint_) {\n        var sketchPointGeom = /** @type {Point} */ (this.sketchPoint_.getGeometry());\n        sketchPointGeom.setCoordinates(coordinate);\n      }\n      /** @type {LineString} */\n      var sketchLineGeom;\n      if (geometry.getType() == GeometryType.POLYGON &&\n          this.mode_ !== Mode$1.POLYGON) {\n        if (!this.sketchLine_) {\n          this.sketchLine_ = new Feature();\n        }\n        var ring = /** @type {Polygon} */ (geometry).getLinearRing(0);\n        sketchLineGeom = /** @type {LineString} */ (this.sketchLine_.getGeometry());\n        if (!sketchLineGeom) {\n          sketchLineGeom = new LineString(ring.getFlatCoordinates(), ring.getLayout());\n          this.sketchLine_.setGeometry(sketchLineGeom);\n        } else {\n          sketchLineGeom.setFlatCoordinates(\n            ring.getLayout(), ring.getFlatCoordinates());\n          sketchLineGeom.changed();\n        }\n      } else if (this.sketchLineCoords_) {\n        sketchLineGeom = /** @type {LineString} */ (this.sketchLine_.getGeometry());\n        sketchLineGeom.setCoordinates(this.sketchLineCoords_);\n      }\n      this.updateSketchFeatures_();\n    };\n\n    /**\n     * Add a new coordinate to the drawing.\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @private\n     */\n    Draw.prototype.addToDrawing_ = function addToDrawing_ (event) {\n      var coordinate = event.coordinate;\n      var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (this.sketchFeature_.getGeometry());\n      var done;\n      var coordinates;\n      if (this.mode_ === Mode$1.LINE_STRING) {\n        this.finishCoordinate_ = coordinate.slice();\n        coordinates = /** @type {LineCoordType} */ (this.sketchCoords_);\n        if (coordinates.length >= this.maxPoints_) {\n          if (this.freehand_) {\n            coordinates.pop();\n          } else {\n            done = true;\n          }\n        }\n        coordinates.push(coordinate.slice());\n        this.geometryFunction_(coordinates, geometry);\n      } else if (this.mode_ === Mode$1.POLYGON) {\n        coordinates = /** @type {PolyCoordType} */ (this.sketchCoords_)[0];\n        if (coordinates.length >= this.maxPoints_) {\n          if (this.freehand_) {\n            coordinates.pop();\n          } else {\n            done = true;\n          }\n        }\n        coordinates.push(coordinate.slice());\n        if (done) {\n          this.finishCoordinate_ = coordinates[0];\n        }\n        this.geometryFunction_(this.sketchCoords_, geometry);\n      }\n      this.updateSketchFeatures_();\n      if (done) {\n        this.finishDrawing();\n      }\n    };\n\n    /**\n     * Remove last point of the feature currently being drawn.\n     * @api\n     */\n    Draw.prototype.removeLastPoint = function removeLastPoint () {\n      if (!this.sketchFeature_) {\n        return;\n      }\n      var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (this.sketchFeature_.getGeometry());\n      var coordinates;\n      /** @type {LineString} */\n      var sketchLineGeom;\n      if (this.mode_ === Mode$1.LINE_STRING) {\n        coordinates = /** @type {LineCoordType} */ (this.sketchCoords_);\n        coordinates.splice(-2, 1);\n        this.geometryFunction_(coordinates, geometry);\n        if (coordinates.length >= 2) {\n          this.finishCoordinate_ = coordinates[coordinates.length - 2].slice();\n        }\n      } else if (this.mode_ === Mode$1.POLYGON) {\n        coordinates = /** @type {PolyCoordType} */ (this.sketchCoords_)[0];\n        coordinates.splice(-2, 1);\n        sketchLineGeom = /** @type {LineString} */ (this.sketchLine_.getGeometry());\n        sketchLineGeom.setCoordinates(coordinates);\n        this.geometryFunction_(this.sketchCoords_, geometry);\n      }\n\n      if (coordinates.length === 0) {\n        this.finishCoordinate_ = null;\n      }\n\n      this.updateSketchFeatures_();\n    };\n\n    /**\n     * Stop drawing and add the sketch feature to the target layer.\n     * The {@link module:ol/interaction/Draw~DrawEventType.DRAWEND} event is\n     * dispatched before inserting the feature.\n     * @api\n     */\n    Draw.prototype.finishDrawing = function finishDrawing () {\n      var sketchFeature = this.abortDrawing_();\n      if (!sketchFeature) {\n        return;\n      }\n      var coordinates = this.sketchCoords_;\n      var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (sketchFeature.getGeometry());\n      if (this.mode_ === Mode$1.LINE_STRING) {\n        // remove the redundant last point\n        coordinates.pop();\n        this.geometryFunction_(coordinates, geometry);\n      } else if (this.mode_ === Mode$1.POLYGON) {\n        // remove the redundant last point in ring\n        /** @type {PolyCoordType} */ (coordinates)[0].pop();\n        this.geometryFunction_(coordinates, geometry);\n        coordinates = geometry.getCoordinates();\n      }\n\n      // cast multi-part geometries\n      if (this.type_ === GeometryType.MULTI_POINT) {\n        sketchFeature.setGeometry(new MultiPoint([/** @type {PointCoordType} */(coordinates)]));\n      } else if (this.type_ === GeometryType.MULTI_LINE_STRING) {\n        sketchFeature.setGeometry(new MultiLineString([/** @type {LineCoordType} */(coordinates)]));\n      } else if (this.type_ === GeometryType.MULTI_POLYGON) {\n        sketchFeature.setGeometry(new MultiPolygon([/** @type {PolyCoordType} */(coordinates)]));\n      }\n\n      // First dispatch event to allow full set up of feature\n      this.dispatchEvent(new DrawEvent(DrawEventType.DRAWEND, sketchFeature));\n\n      // Then insert feature\n      if (this.features_) {\n        this.features_.push(sketchFeature);\n      }\n      if (this.source_) {\n        this.source_.addFeature(sketchFeature);\n      }\n    };\n\n    /**\n     * Stop drawing without adding the sketch feature to the target layer.\n     * @return {Feature} The sketch feature (or null if none).\n     * @private\n     */\n    Draw.prototype.abortDrawing_ = function abortDrawing_ () {\n      this.finishCoordinate_ = null;\n      var sketchFeature = this.sketchFeature_;\n      if (sketchFeature) {\n        this.sketchFeature_ = null;\n        this.sketchPoint_ = null;\n        this.sketchLine_ = null;\n        /** @type {VectorSource} */ (this.overlay_.getSource()).clear(true);\n      }\n      return sketchFeature;\n    };\n\n    /**\n     * Extend an existing geometry by adding additional points. This only works\n     * on features with `LineString` geometries, where the interaction will\n     * extend lines by adding points to the end of the coordinates array.\n     * @param {!Feature} feature Feature to be extended.\n     * @api\n     */\n    Draw.prototype.extend = function extend (feature) {\n      var geometry = feature.getGeometry();\n      var lineString = /** @type {LineString} */ (geometry);\n      this.sketchFeature_ = feature;\n      this.sketchCoords_ = lineString.getCoordinates();\n      var last = this.sketchCoords_[this.sketchCoords_.length - 1];\n      this.finishCoordinate_ = last.slice();\n      this.sketchCoords_.push(last.slice());\n      this.updateSketchFeatures_();\n      this.dispatchEvent(new DrawEvent(DrawEventType.DRAWSTART, this.sketchFeature_));\n    };\n\n    /**\n     * Redraw the sketch features.\n     * @private\n     */\n    Draw.prototype.updateSketchFeatures_ = function updateSketchFeatures_ () {\n      var sketchFeatures = [];\n      if (this.sketchFeature_) {\n        sketchFeatures.push(this.sketchFeature_);\n      }\n      if (this.sketchLine_) {\n        sketchFeatures.push(this.sketchLine_);\n      }\n      if (this.sketchPoint_) {\n        sketchFeatures.push(this.sketchPoint_);\n      }\n      var overlaySource = /** @type {VectorSource} */ (this.overlay_.getSource());\n      overlaySource.clear(true);\n      overlaySource.addFeatures(sketchFeatures);\n    };\n\n    /**\n     * @private\n     */\n    Draw.prototype.updateState_ = function updateState_ () {\n      var map = this.getMap();\n      var active = this.getActive();\n      if (!map || !active) {\n        this.abortDrawing_();\n      }\n      this.overlay_.setMap(active ? map : null);\n    };\n\n    return Draw;\n  }(PointerInteraction));\n\n\n  /**\n   * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n   */\n  function getDefaultStyleFunction() {\n    var styles = createEditingStyle();\n    return function(feature, resolution) {\n      return styles[feature.getGeometry().getType()];\n    };\n  }\n\n\n  /**\n   * Create a `geometryFunction` for `type: 'Circle'` that will create a regular\n   * polygon with a user specified number of sides and start angle instead of an\n   * `import(\"../geom/Circle.js\").Circle` geometry.\n   * @param {number=} opt_sides Number of sides of the regular polygon. Default is\n   *     32.\n   * @param {number=} opt_angle Angle of the first point in radians. 0 means East.\n   *     Default is the angle defined by the heading from the center of the\n   *     regular polygon to the current pointer position.\n   * @return {GeometryFunction} Function that draws a\n   *     polygon.\n   * @api\n   */\n  function createRegularPolygon(opt_sides, opt_angle) {\n    return function(coordinates, opt_geometry) {\n      var center = /** @type {LineCoordType} */ (coordinates)[0];\n      var end = /** @type {LineCoordType} */ (coordinates)[1];\n      var radius = Math.sqrt(\n        squaredDistance$1(center, end));\n      var geometry = opt_geometry ? /** @type {Polygon} */ (opt_geometry) :\n        fromCircle(new Circle(center), opt_sides);\n      var angle = opt_angle;\n      if (!opt_angle) {\n        var x = end[0] - center[0];\n        var y = end[1] - center[1];\n        angle = Math.atan(y / x) - (x < 0 ? Math.PI : 0);\n      }\n      makeRegular(geometry, center, radius, angle);\n      return geometry;\n    };\n  }\n\n\n  /**\n   * Get the drawing mode.  The mode for mult-part geometries is the same as for\n   * their single-part cousins.\n   * @param {GeometryType} type Geometry type.\n   * @return {Mode} Drawing mode.\n   */\n  function getMode(type) {\n    var mode;\n    if (type === GeometryType.POINT ||\n        type === GeometryType.MULTI_POINT) {\n      mode = Mode$1.POINT;\n    } else if (type === GeometryType.LINE_STRING ||\n        type === GeometryType.MULTI_LINE_STRING) {\n      mode = Mode$1.LINE_STRING;\n    } else if (type === GeometryType.POLYGON ||\n        type === GeometryType.MULTI_POLYGON) {\n      mode = Mode$1.POLYGON;\n    } else if (type === GeometryType.CIRCLE) {\n      mode = Mode$1.CIRCLE;\n    }\n    return (\n      /** @type {!Mode} */ (mode)\n    );\n  }\n\n  /**\n   * @module ol/interaction/Extent\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../extent.js\").Extent} [extent] Initial extent. Defaults to no\n   * initial extent.\n   * @property {import(\"../style/Style.js\").StyleLike} [boxStyle]\n   * Style for the drawn extent box. Defaults to\n   * {@link module:ol/style/Style~createEditing()['Polygon']}\n   * @property {number} [pixelTolerance=10] Pixel tolerance for considering the\n   * pointer close enough to a segment or vertex for editing.\n   * @property {import(\"../style/Style.js\").StyleLike} [pointerStyle]\n   * Style for the cursor used to draw the extent. Defaults to\n   * {@link module:ol/style/Style~createEditing()['Point']}\n   * @property {boolean} [wrapX=false] Wrap the drawn extent across multiple maps\n   * in the X direction? Only affects visuals, not functionality.\n   */\n\n\n  /**\n   * @enum {string}\n   */\n  var ExtentEventType = {\n    /**\n     * Triggered after the extent is changed\n     * @event ExtentEventType#extentchanged\n     * @api\n     */\n    EXTENTCHANGED: 'extentchanged'\n  };\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/Extent~ExtentInteraction} instances are\n   * instances of this type.\n   */\n  var ExtentInteractionEvent = /*@__PURE__*/(function (Event$$1) {\n    function ExtentInteractionEvent(extent) {\n      Event$$1.call(this, ExtentEventType.EXTENTCHANGED);\n\n      /**\n       * The current extent.\n       * @type {import(\"../extent.js\").Extent}\n       * @api\n       */\n      this.extent = extent;\n    }\n\n    if ( Event$$1 ) ExtentInteractionEvent.__proto__ = Event$$1;\n    ExtentInteractionEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    ExtentInteractionEvent.prototype.constructor = ExtentInteractionEvent;\n\n    return ExtentInteractionEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Allows the user to draw a vector box by clicking and dragging on the map.\n   * Once drawn, the vector box can be modified by dragging its vertices or edges.\n   * This interaction is only supported for mouse devices.\n   *\n   * @fires Event\n   * @api\n   */\n  var ExtentInteraction = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function ExtentInteraction(opt_options) {\n\n      var options = opt_options || {};\n\n      PointerInteraction$$1.call(/** @type {import(\"./Pointer.js\").Options} */ this, (options));\n\n      /**\n       * Extent of the drawn box\n       * @type {import(\"../extent.js\").Extent}\n       * @private\n       */\n      this.extent_ = null;\n\n      /**\n       * Handler for pointer move events\n       * @type {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent|null}\n       * @private\n       */\n      this.pointerHandler_ = null;\n\n      /**\n       * Pixel threshold to snap to extent\n       * @type {number}\n       * @private\n       */\n      this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n        options.pixelTolerance : 10;\n\n      /**\n       * Is the pointer snapped to an extent vertex\n       * @type {boolean}\n       * @private\n       */\n      this.snappedToVertex_ = false;\n\n      /**\n       * Feature for displaying the visible extent\n       * @type {Feature}\n       * @private\n       */\n      this.extentFeature_ = null;\n\n      /**\n       * Feature for displaying the visible pointer\n       * @type {Feature}\n       * @private\n       */\n      this.vertexFeature_ = null;\n\n      if (!opt_options) {\n        opt_options = {};\n      }\n\n      /**\n       * Layer for the extentFeature\n       * @type {VectorLayer}\n       * @private\n       */\n      this.extentOverlay_ = new VectorLayer({\n        source: new VectorSource({\n          useSpatialIndex: false,\n          wrapX: !!opt_options.wrapX\n        }),\n        style: opt_options.boxStyle ? opt_options.boxStyle : getDefaultExtentStyleFunction(),\n        updateWhileAnimating: true,\n        updateWhileInteracting: true\n      });\n\n      /**\n       * Layer for the vertexFeature\n       * @type {VectorLayer}\n       * @private\n       */\n      this.vertexOverlay_ = new VectorLayer({\n        source: new VectorSource({\n          useSpatialIndex: false,\n          wrapX: !!opt_options.wrapX\n        }),\n        style: opt_options.pointerStyle ? opt_options.pointerStyle : getDefaultPointerStyleFunction(),\n        updateWhileAnimating: true,\n        updateWhileInteracting: true\n      });\n\n      if (opt_options.extent) {\n        this.setExtent(opt_options.extent);\n      }\n    }\n\n    if ( PointerInteraction$$1 ) ExtentInteraction.__proto__ = PointerInteraction$$1;\n    ExtentInteraction.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    ExtentInteraction.prototype.constructor = ExtentInteraction;\n\n    /**\n     * @param {import(\"../pixel.js\").Pixel} pixel cursor location\n     * @param {import(\"../PluggableMap.js\").default} map map\n     * @returns {import(\"../coordinate.js\").Coordinate|null} snapped vertex on extent\n     * @private\n     */\n    ExtentInteraction.prototype.snapToVertex_ = function snapToVertex_ (pixel, map) {\n      var pixelCoordinate = map.getCoordinateFromPixel(pixel);\n      var sortByDistance = function(a, b) {\n        return squaredDistanceToSegment(pixelCoordinate, a) -\n            squaredDistanceToSegment(pixelCoordinate, b);\n      };\n      var extent = this.getExtent();\n      if (extent) {\n        //convert extents to line segments and find the segment closest to pixelCoordinate\n        var segments = getSegments(extent);\n        segments.sort(sortByDistance);\n        var closestSegment = segments[0];\n\n        var vertex = (closestOnSegment(pixelCoordinate,\n          closestSegment));\n        var vertexPixel = map.getPixelFromCoordinate(vertex);\n\n        //if the distance is within tolerance, snap to the segment\n        if (distance(pixel, vertexPixel) <= this.pixelTolerance_) {\n          //test if we should further snap to a vertex\n          var pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n          var pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n          var squaredDist1 = squaredDistance$1(vertexPixel, pixel1);\n          var squaredDist2 = squaredDistance$1(vertexPixel, pixel2);\n          var dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n          this.snappedToVertex_ = dist <= this.pixelTolerance_;\n          if (this.snappedToVertex_) {\n            vertex = squaredDist1 > squaredDist2 ?\n              closestSegment[1] : closestSegment[0];\n          }\n          return vertex;\n        }\n      }\n      return null;\n    };\n\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent pointer move event\n     * @private\n     */\n    ExtentInteraction.prototype.handlePointerMove_ = function handlePointerMove_ (mapBrowserEvent) {\n      var pixel = mapBrowserEvent.pixel;\n      var map = mapBrowserEvent.map;\n\n      var vertex = this.snapToVertex_(pixel, map);\n      if (!vertex) {\n        vertex = map.getCoordinateFromPixel(pixel);\n      }\n      this.createOrUpdatePointerFeature_(vertex);\n    };\n\n    /**\n     * @param {import(\"../extent.js\").Extent} extent extent\n     * @returns {Feature} extent as featrue\n     * @private\n     */\n    ExtentInteraction.prototype.createOrUpdateExtentFeature_ = function createOrUpdateExtentFeature_ (extent) {\n      var extentFeature = this.extentFeature_;\n\n      if (!extentFeature) {\n        if (!extent) {\n          extentFeature = new Feature({});\n        } else {\n          extentFeature = new Feature(fromExtent(extent));\n        }\n        this.extentFeature_ = extentFeature;\n        /** @type {VectorSource} */ (this.extentOverlay_.getSource()).addFeature(extentFeature);\n      } else {\n        if (!extent) {\n          extentFeature.setGeometry(undefined);\n        } else {\n          extentFeature.setGeometry(fromExtent(extent));\n        }\n      }\n      return extentFeature;\n    };\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} vertex location of feature\n     * @returns {Feature} vertex as feature\n     * @private\n     */\n    ExtentInteraction.prototype.createOrUpdatePointerFeature_ = function createOrUpdatePointerFeature_ (vertex) {\n      var vertexFeature = this.vertexFeature_;\n      if (!vertexFeature) {\n        vertexFeature = new Feature(new Point(vertex));\n        this.vertexFeature_ = vertexFeature;\n        /** @type {VectorSource} */ (this.vertexOverlay_.getSource()).addFeature(vertexFeature);\n      } else {\n        var geometry = /** @type {Point} */ (vertexFeature.getGeometry());\n        geometry.setCoordinates(vertex);\n      }\n      return vertexFeature;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ExtentInteraction.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n      if (!(/** @type {import(\"../MapBrowserPointerEvent.js\").default} */ (mapBrowserEvent).pointerEvent)) {\n        return true;\n      }\n      //display pointer (if not dragging)\n      if (mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE && !this.handlingDownUpSequence) {\n        this.handlePointerMove_(mapBrowserEvent);\n      }\n      //call pointer to determine up/down/drag\n      PointerInteraction$$1.prototype.handleEvent.call(this, mapBrowserEvent);\n      //return false to stop propagation\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ExtentInteraction.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n      var pixel = mapBrowserEvent.pixel;\n      var map = mapBrowserEvent.map;\n\n      var extent = this.getExtent();\n      var vertex = this.snapToVertex_(pixel, map);\n\n      //find the extent corner opposite the passed corner\n      var getOpposingPoint = function(point) {\n        var x_ = null;\n        var y_ = null;\n        if (point[0] == extent[0]) {\n          x_ = extent[2];\n        } else if (point[0] == extent[2]) {\n          x_ = extent[0];\n        }\n        if (point[1] == extent[1]) {\n          y_ = extent[3];\n        } else if (point[1] == extent[3]) {\n          y_ = extent[1];\n        }\n        if (x_ !== null && y_ !== null) {\n          return [x_, y_];\n        }\n        return null;\n      };\n      if (vertex && extent) {\n        var x = (vertex[0] == extent[0] || vertex[0] == extent[2]) ? vertex[0] : null;\n        var y = (vertex[1] == extent[1] || vertex[1] == extent[3]) ? vertex[1] : null;\n\n        //snap to point\n        if (x !== null && y !== null) {\n          this.pointerHandler_ = getPointHandler(getOpposingPoint(vertex));\n        //snap to edge\n        } else if (x !== null) {\n          this.pointerHandler_ = getEdgeHandler(\n            getOpposingPoint([x, extent[1]]),\n            getOpposingPoint([x, extent[3]])\n          );\n        } else if (y !== null) {\n          this.pointerHandler_ = getEdgeHandler(\n            getOpposingPoint([extent[0], y]),\n            getOpposingPoint([extent[2], y])\n          );\n        }\n      //no snap - new bbox\n      } else {\n        vertex = map.getCoordinateFromPixel(pixel);\n        this.setExtent([vertex[0], vertex[1], vertex[0], vertex[1]]);\n        this.pointerHandler_ = getPointHandler(vertex);\n      }\n      return true; //event handled; start downup sequence\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ExtentInteraction.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n      if (this.pointerHandler_) {\n        var pixelCoordinate = mapBrowserEvent.coordinate;\n        this.setExtent(this.pointerHandler_(pixelCoordinate));\n        this.createOrUpdatePointerFeature_(pixelCoordinate);\n      }\n      return true;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ExtentInteraction.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n      this.pointerHandler_ = null;\n      //If bbox is zero area, set to null;\n      var extent = this.getExtent();\n      if (!extent || getArea(extent) === 0) {\n        this.setExtent(null);\n      }\n      return false; //Stop handling downup sequence\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ExtentInteraction.prototype.setMap = function setMap (map) {\n      this.extentOverlay_.setMap(map);\n      this.vertexOverlay_.setMap(map);\n      PointerInteraction$$1.prototype.setMap.call(this, map);\n    };\n\n    /**\n     * Returns the current drawn extent in the view projection\n     *\n     * @return {import(\"../extent.js\").Extent} Drawn extent in the view projection.\n     * @api\n     */\n    ExtentInteraction.prototype.getExtent = function getExtent () {\n      return this.extent_;\n    };\n\n    /**\n     * Manually sets the drawn extent, using the view projection.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent\n     * @api\n     */\n    ExtentInteraction.prototype.setExtent = function setExtent (extent) {\n      //Null extent means no bbox\n      this.extent_ = extent ? extent : null;\n      this.createOrUpdateExtentFeature_(extent);\n      this.dispatchEvent(new ExtentInteractionEvent(this.extent_));\n    };\n\n    return ExtentInteraction;\n  }(PointerInteraction));\n\n  /**\n   * Returns the default style for the drawn bbox\n   *\n   * @return {import(\"../style/Style.js\").StyleFunction} Default Extent style\n   */\n  function getDefaultExtentStyleFunction() {\n    var style = createEditingStyle();\n    return function(feature, resolution) {\n      return style[GeometryType.POLYGON];\n    };\n  }\n\n  /**\n   * Returns the default style for the pointer\n   *\n   * @return {import(\"../style/Style.js\").StyleFunction} Default pointer style\n   */\n  function getDefaultPointerStyleFunction() {\n    var style = createEditingStyle();\n    return function(feature, resolution) {\n      return style[GeometryType.POINT];\n    };\n  }\n\n  /**\n   * @param {import(\"../coordinate.js\").Coordinate} fixedPoint corner that will be unchanged in the new extent\n   * @returns {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent} event handler\n   */\n  function getPointHandler(fixedPoint) {\n    return function(point) {\n      return boundingExtent([fixedPoint, point]);\n    };\n  }\n\n  /**\n   * @param {import(\"../coordinate.js\").Coordinate} fixedP1 first corner that will be unchanged in the new extent\n   * @param {import(\"../coordinate.js\").Coordinate} fixedP2 second corner that will be unchanged in the new extent\n   * @returns {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent|null} event handler\n   */\n  function getEdgeHandler(fixedP1, fixedP2) {\n    if (fixedP1[0] == fixedP2[0]) {\n      return function(point) {\n        return boundingExtent([fixedP1, [point[0], fixedP2[1]]]);\n      };\n    } else if (fixedP1[1] == fixedP2[1]) {\n      return function(point) {\n        return boundingExtent([fixedP1, [fixedP2[0], point[1]]]);\n      };\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * @param {import(\"../extent.js\").Extent} extent extent\n   * @returns {Array<Array<import(\"../coordinate.js\").Coordinate>>} extent line segments\n   */\n  function getSegments(extent) {\n    return [\n      [[extent[0], extent[1]], [extent[0], extent[3]]],\n      [[extent[0], extent[3]], [extent[2], extent[3]]],\n      [[extent[2], extent[3]], [extent[2], extent[1]]],\n      [[extent[2], extent[1]], [extent[0], extent[1]]]\n    ];\n  }\n\n  /**\n   * @module ol/interaction/Modify\n   */\n\n\n  /**\n   * The segment index assigned to a circle's center when\n   * breaking up a circle into ModifySegmentDataType segments.\n   * @type {number}\n   */\n  var CIRCLE_CENTER_INDEX = 0;\n\n  /**\n   * The segment index assigned to a circle's circumference when\n   * breaking up a circle into ModifySegmentDataType segments.\n   * @type {number}\n   */\n  var CIRCLE_CIRCUMFERENCE_INDEX = 1;\n\n\n  /**\n   * @enum {string}\n   */\n  var ModifyEventType = {\n    /**\n     * Triggered upon feature modification start\n     * @event ModifyEvent#modifystart\n     * @api\n     */\n    MODIFYSTART: 'modifystart',\n    /**\n     * Triggered upon feature modification end\n     * @event ModifyEvent#modifyend\n     * @api\n     */\n    MODIFYEND: 'modifyend'\n  };\n\n\n  /**\n   * @typedef {Object} SegmentData\n   * @property {Array<number>} [depth]\n   * @property {Feature} feature\n   * @property {import(\"../geom/SimpleGeometry.js\").default} geometry\n   * @property {number} [index]\n   * @property {Array<import(\"../extent.js\").Extent>} segment\n   * @property {Array<SegmentData>} [featureSegments]\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event will be considered to add or move a\n   * vertex to the sketch. Default is\n   * {@link module:ol/events/condition~primaryAction}.\n   * @property {import(\"../events/condition.js\").Condition} [deleteCondition] A function\n   * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. By default,\n   * {@link module:ol/events/condition~singleClick} with\n   * {@link module:ol/events/condition~altKeyOnly} results in a vertex deletion.\n   * @property {import(\"../events/condition.js\").Condition} [insertVertexCondition] A\n   * function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and\n   * returns a boolean to indicate whether a new vertex can be added to the sketch\n   * features. Default is {@link module:ol/events/condition~always}.\n   * @property {number} [pixelTolerance=10] Pixel tolerance for considering the\n   * pointer close enough to a segment or vertex for editing.\n   * @property {import(\"../style/Style.js\").StyleLike} [style]\n   * Style used for the features being modified. By default the default edit\n   * style is used (see {@link module:ol/style}).\n   * @property {VectorSource} [source] The vector source with\n   * features to modify.  If a vector source is not provided, a feature collection\n   * must be provided with the features option.\n   * @property {Collection<Feature>} [features]\n   * The features the interaction works on.  If a feature collection is not\n   * provided, a vector source must be provided with the source option.\n   * @property {boolean} [wrapX=false] Wrap the world horizontally on the sketch\n   * overlay.\n   */\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/Modify~Modify} instances are\n   * instances of this type.\n   */\n  var ModifyEvent = /*@__PURE__*/(function (Event$$1) {\n    function ModifyEvent(type, features, mapBrowserPointerEvent) {\n      Event$$1.call(this, type);\n\n      /**\n       * The features being modified.\n       * @type {Collection<Feature>}\n       * @api\n       */\n      this.features = features;\n\n      /**\n       * Associated {@link module:ol/MapBrowserEvent}.\n       * @type {import(\"../MapBrowserEvent.js\").default}\n       * @api\n       */\n      this.mapBrowserEvent = mapBrowserPointerEvent;\n\n    }\n\n    if ( Event$$1 ) ModifyEvent.__proto__ = Event$$1;\n    ModifyEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    ModifyEvent.prototype.constructor = ModifyEvent;\n\n    return ModifyEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Interaction for modifying feature geometries.  To modify features that have\n   * been added to an existing source, construct the modify interaction with the\n   * `source` option.  If you want to modify features in a collection (for example,\n   * the collection used by a select interaction), construct the interaction with\n   * the `features` option.  The interaction must be constructed with either a\n   * `source` or `features` option.\n   *\n   * By default, the interaction will allow deletion of vertices when the `alt`\n   * key is pressed.  To configure the interaction with a different condition\n   * for deletion, use the `deleteCondition` option.\n   * @fires ModifyEvent\n   * @api\n   */\n  var Modify = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function Modify(options) {\n\n      PointerInteraction$$1.call(/** @type {import(\"./Pointer.js\").Options} */ this, (options));\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : primaryAction;\n\n      /**\n       * @private\n       * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Browser event.\n       * @return {boolean} Combined condition result.\n       */\n      this.defaultDeleteCondition_ = function(mapBrowserEvent) {\n        return altKeyOnly(mapBrowserEvent) && singleClick(mapBrowserEvent);\n      };\n\n      /**\n       * @type {import(\"../events/condition.js\").Condition}\n       * @private\n       */\n      this.deleteCondition_ = options.deleteCondition ?\n        options.deleteCondition : this.defaultDeleteCondition_;\n\n      /**\n       * @type {import(\"../events/condition.js\").Condition}\n       * @private\n       */\n      this.insertVertexCondition_ = options.insertVertexCondition ?\n        options.insertVertexCondition : always;\n\n      /**\n       * Editing vertex.\n       * @type {Feature}\n       * @private\n       */\n      this.vertexFeature_ = null;\n\n      /**\n       * Segments intersecting {@link this.vertexFeature_} by segment uid.\n       * @type {Object<string, boolean>}\n       * @private\n       */\n      this.vertexSegments_ = null;\n\n      /**\n       * @type {import(\"../pixel.js\").Pixel}\n       * @private\n       */\n      this.lastPixel_ = [0, 0];\n\n      /**\n       * Tracks if the next `singleclick` event should be ignored to prevent\n       * accidental deletion right after vertex creation.\n       * @type {boolean}\n       * @private\n       */\n      this.ignoreNextSingleClick_ = false;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.modified_ = false;\n\n      /**\n       * Segment RTree for each layer\n       * @type {RBush<SegmentData>}\n       * @private\n       */\n      this.rBush_ = new RBush();\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n        options.pixelTolerance : 10;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.snappedToVertex_ = false;\n\n      /**\n       * Indicate whether the interaction is currently changing a feature's\n       * coordinates.\n       * @type {boolean}\n       * @private\n       */\n      this.changingFeature_ = false;\n\n      /**\n       * @type {Array}\n       * @private\n       */\n      this.dragSegments_ = [];\n\n      /**\n       * Draw overlay where sketch features are drawn.\n       * @type {VectorLayer}\n       * @private\n       */\n      this.overlay_ = new VectorLayer({\n        source: new VectorSource({\n          useSpatialIndex: false,\n          wrapX: !!options.wrapX\n        }),\n        style: options.style ? options.style :\n          getDefaultStyleFunction$1(),\n        updateWhileAnimating: true,\n        updateWhileInteracting: true\n      });\n\n      /**\n       * @const\n       * @private\n       * @type {!Object<string, function(Feature, import(\"../geom/Geometry.js\").default)>}\n       */\n      this.SEGMENT_WRITERS_ = {\n        'Point': this.writePointGeometry_,\n        'LineString': this.writeLineStringGeometry_,\n        'LinearRing': this.writeLineStringGeometry_,\n        'Polygon': this.writePolygonGeometry_,\n        'MultiPoint': this.writeMultiPointGeometry_,\n        'MultiLineString': this.writeMultiLineStringGeometry_,\n        'MultiPolygon': this.writeMultiPolygonGeometry_,\n        'Circle': this.writeCircleGeometry_,\n        'GeometryCollection': this.writeGeometryCollectionGeometry_\n      };\n\n\n      /**\n       * @type {VectorSource}\n       * @private\n       */\n      this.source_ = null;\n\n      var features;\n      if (options.source) {\n        this.source_ = options.source;\n        features = new Collection(this.source_.getFeatures());\n        listen(this.source_, VectorEventType.ADDFEATURE,\n          this.handleSourceAdd_, this);\n        listen(this.source_, VectorEventType.REMOVEFEATURE,\n          this.handleSourceRemove_, this);\n      } else {\n        features = options.features;\n      }\n      if (!features) {\n        throw new Error('The modify interaction requires features or a source');\n      }\n\n      /**\n       * @type {Collection<Feature>}\n       * @private\n       */\n      this.features_ = features;\n\n      this.features_.forEach(this.addFeature_.bind(this));\n      listen(this.features_, CollectionEventType.ADD,\n        this.handleFeatureAdd_, this);\n      listen(this.features_, CollectionEventType.REMOVE,\n        this.handleFeatureRemove_, this);\n\n      /**\n       * @type {import(\"../MapBrowserPointerEvent.js\").default}\n       * @private\n       */\n      this.lastPointerEvent_ = null;\n\n    }\n\n    if ( PointerInteraction$$1 ) Modify.__proto__ = PointerInteraction$$1;\n    Modify.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    Modify.prototype.constructor = Modify;\n\n    /**\n     * @param {Feature} feature Feature.\n     * @private\n     */\n    Modify.prototype.addFeature_ = function addFeature_ (feature) {\n      var geometry = feature.getGeometry();\n      if (geometry && geometry.getType() in this.SEGMENT_WRITERS_) {\n        this.SEGMENT_WRITERS_[geometry.getType()].call(this, feature, geometry);\n      }\n      var map = this.getMap();\n      if (map && map.isRendered() && this.getActive()) {\n        this.handlePointerAtPixel_(this.lastPixel_, map);\n      }\n      listen(feature, EventType.CHANGE,\n        this.handleFeatureChange_, this);\n    };\n\n    /**\n     * @param {import(\"../MapBrowserPointerEvent.js\").default} evt Map browser event\n     * @private\n     */\n    Modify.prototype.willModifyFeatures_ = function willModifyFeatures_ (evt) {\n      if (!this.modified_) {\n        this.modified_ = true;\n        this.dispatchEvent(new ModifyEvent(\n          ModifyEventType.MODIFYSTART, this.features_, evt));\n      }\n    };\n\n    /**\n     * @param {Feature} feature Feature.\n     * @private\n     */\n    Modify.prototype.removeFeature_ = function removeFeature_ (feature) {\n      this.removeFeatureSegmentData_(feature);\n      // Remove the vertex feature if the collection of canditate features\n      // is empty.\n      if (this.vertexFeature_ && this.features_.getLength() === 0) {\n        /** @type {VectorSource} */ (this.overlay_.getSource()).removeFeature(this.vertexFeature_);\n        this.vertexFeature_ = null;\n      }\n      unlisten(feature, EventType.CHANGE,\n        this.handleFeatureChange_, this);\n    };\n\n    /**\n     * @param {Feature} feature Feature.\n     * @private\n     */\n    Modify.prototype.removeFeatureSegmentData_ = function removeFeatureSegmentData_ (feature) {\n      var rBush = this.rBush_;\n      var /** @type {Array<SegmentData>} */ nodesToRemove = [];\n      rBush.forEach(\n        /**\n         * @param {SegmentData} node RTree node.\n         */\n        function(node) {\n          if (feature === node.feature) {\n            nodesToRemove.push(node);\n          }\n        });\n      for (var i = nodesToRemove.length - 1; i >= 0; --i) {\n        rBush.remove(nodesToRemove[i]);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Modify.prototype.setActive = function setActive (active) {\n      if (this.vertexFeature_ && !active) {\n        /** @type {VectorSource} */ (this.overlay_.getSource()).removeFeature(this.vertexFeature_);\n        this.vertexFeature_ = null;\n      }\n      PointerInteraction$$1.prototype.setActive.call(this, active);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Modify.prototype.setMap = function setMap (map) {\n      this.overlay_.setMap(map);\n      PointerInteraction$$1.prototype.setMap.call(this, map);\n    };\n\n    /**\n     * Get the overlay layer that this interaction renders sketch features to.\n     * @return {VectorLayer} Overlay layer.\n     * @api\n     */\n    Modify.prototype.getOverlay = function getOverlay () {\n      return this.overlay_;\n    };\n\n    /**\n     * @param {import(\"../source/Vector.js\").VectorSourceEvent} event Event.\n     * @private\n     */\n    Modify.prototype.handleSourceAdd_ = function handleSourceAdd_ (event) {\n      if (event.feature) {\n        this.features_.push(event.feature);\n      }\n    };\n\n    /**\n     * @param {import(\"../source/Vector.js\").VectorSourceEvent} event Event.\n     * @private\n     */\n    Modify.prototype.handleSourceRemove_ = function handleSourceRemove_ (event) {\n      if (event.feature) {\n        this.features_.remove(event.feature);\n      }\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Modify.prototype.handleFeatureAdd_ = function handleFeatureAdd_ (evt) {\n      this.addFeature_(/** @type {Feature} */ (evt.element));\n    };\n\n    /**\n     * @param {import(\"../events/Event.js\").default} evt Event.\n     * @private\n     */\n    Modify.prototype.handleFeatureChange_ = function handleFeatureChange_ (evt) {\n      if (!this.changingFeature_) {\n        var feature = /** @type {Feature} */ (evt.target);\n        this.removeFeature_(feature);\n        this.addFeature_(feature);\n      }\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Modify.prototype.handleFeatureRemove_ = function handleFeatureRemove_ (evt) {\n      var feature = /** @type {Feature} */ (evt.element);\n      this.removeFeature_(feature);\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {Point} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writePointGeometry_ = function writePointGeometry_ (feature, geometry) {\n      var coordinates = geometry.getCoordinates();\n      var segmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        geometry: geometry,\n        segment: [coordinates, coordinates]\n      });\n      this.rBush_.insert(geometry.getExtent(), segmentData);\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/MultiPoint.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeMultiPointGeometry_ = function writeMultiPointGeometry_ (feature, geometry) {\n      var points = geometry.getCoordinates();\n      for (var i = 0, ii = points.length; i < ii; ++i) {\n        var coordinates = points[i];\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          geometry: geometry,\n          depth: [i],\n          index: i,\n          segment: [coordinates, coordinates]\n        });\n        this.rBush_.insert(geometry.getExtent(), segmentData);\n      }\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/LineString.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeLineStringGeometry_ = function writeLineStringGeometry_ (feature, geometry) {\n      var coordinates = geometry.getCoordinates();\n      for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        var segment = coordinates.slice(i, i + 2);\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          geometry: geometry,\n          index: i,\n          segment: segment\n        });\n        this.rBush_.insert(boundingExtent(segment), segmentData);\n      }\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/MultiLineString.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeMultiLineStringGeometry_ = function writeMultiLineStringGeometry_ (feature, geometry) {\n      var lines = geometry.getCoordinates();\n      for (var j = 0, jj = lines.length; j < jj; ++j) {\n        var coordinates = lines[j];\n        for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n          var segment = coordinates.slice(i, i + 2);\n          var segmentData = /** @type {SegmentData} */ ({\n            feature: feature,\n            geometry: geometry,\n            depth: [j],\n            index: i,\n            segment: segment\n          });\n          this.rBush_.insert(boundingExtent(segment), segmentData);\n        }\n      }\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/Polygon.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writePolygonGeometry_ = function writePolygonGeometry_ (feature, geometry) {\n      var rings = geometry.getCoordinates();\n      for (var j = 0, jj = rings.length; j < jj; ++j) {\n        var coordinates = rings[j];\n        for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n          var segment = coordinates.slice(i, i + 2);\n          var segmentData = /** @type {SegmentData} */ ({\n            feature: feature,\n            geometry: geometry,\n            depth: [j],\n            index: i,\n            segment: segment\n          });\n          this.rBush_.insert(boundingExtent(segment), segmentData);\n        }\n      }\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/MultiPolygon.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeMultiPolygonGeometry_ = function writeMultiPolygonGeometry_ (feature, geometry) {\n      var polygons = geometry.getCoordinates();\n      for (var k = 0, kk = polygons.length; k < kk; ++k) {\n        var rings = polygons[k];\n        for (var j = 0, jj = rings.length; j < jj; ++j) {\n          var coordinates = rings[j];\n          for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n            var segment = coordinates.slice(i, i + 2);\n            var segmentData = /** @type {SegmentData} */ ({\n              feature: feature,\n              geometry: geometry,\n              depth: [j, k],\n              index: i,\n              segment: segment\n            });\n            this.rBush_.insert(boundingExtent(segment), segmentData);\n          }\n        }\n      }\n    };\n\n    /**\n     * We convert a circle into two segments.  The segment at index\n     * {@link CIRCLE_CENTER_INDEX} is the\n     * circle's center (a point).  The segment at index\n     * {@link CIRCLE_CIRCUMFERENCE_INDEX} is\n     * the circumference, and is not a line segment.\n     *\n     * @param {Feature} feature Feature.\n     * @param {import(\"../geom/Circle.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeCircleGeometry_ = function writeCircleGeometry_ (feature, geometry) {\n      var coordinates = geometry.getCenter();\n      var centerSegmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        geometry: geometry,\n        index: CIRCLE_CENTER_INDEX,\n        segment: [coordinates, coordinates]\n      });\n      var circumferenceSegmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        geometry: geometry,\n        index: CIRCLE_CIRCUMFERENCE_INDEX,\n        segment: [coordinates, coordinates]\n      });\n      var featureSegments = [centerSegmentData, circumferenceSegmentData];\n      centerSegmentData.featureSegments = circumferenceSegmentData.featureSegments = featureSegments;\n      this.rBush_.insert(createOrUpdateFromCoordinate(coordinates), centerSegmentData);\n      this.rBush_.insert(geometry.getExtent(), circumferenceSegmentData);\n    };\n\n    /**\n     * @param {Feature} feature Feature\n     * @param {import(\"../geom/GeometryCollection.js\").default} geometry Geometry.\n     * @private\n     */\n    Modify.prototype.writeGeometryCollectionGeometry_ = function writeGeometryCollectionGeometry_ (feature, geometry) {\n      var geometries = geometry.getGeometriesArray();\n      for (var i = 0; i < geometries.length; ++i) {\n        this.SEGMENT_WRITERS_[geometries[i].getType()].call(this, feature, geometries[i]);\n      }\n    };\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinates Coordinates.\n     * @return {Feature} Vertex feature.\n     * @private\n     */\n    Modify.prototype.createOrUpdateVertexFeature_ = function createOrUpdateVertexFeature_ (coordinates) {\n      var vertexFeature = this.vertexFeature_;\n      if (!vertexFeature) {\n        vertexFeature = new Feature(new Point(coordinates));\n        this.vertexFeature_ = vertexFeature;\n        /** @type {VectorSource} */ (this.overlay_.getSource()).addFeature(vertexFeature);\n      } else {\n        var geometry = /** @type {Point} */ (vertexFeature.getGeometry());\n        geometry.setCoordinates(coordinates);\n      }\n      return vertexFeature;\n    };\n\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent map browser event} and may modify the geometry.\n     * @override\n     */\n    Modify.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n      if (!(/** @type {import(\"../MapBrowserPointerEvent.js\").default} */ (mapBrowserEvent).pointerEvent)) {\n        return true;\n      }\n      this.lastPointerEvent_ = mapBrowserEvent;\n\n      var handled;\n      if (!mapBrowserEvent.map.getView().getInteracting() &&\n          mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE &&\n          !this.handlingDownUpSequence) {\n        this.handlePointerMove_(mapBrowserEvent);\n      }\n      if (this.vertexFeature_ && this.deleteCondition_(mapBrowserEvent)) {\n        if (mapBrowserEvent.type != MapBrowserEventType.SINGLECLICK || !this.ignoreNextSingleClick_) {\n          handled = this.removePoint();\n        } else {\n          handled = true;\n        }\n      }\n\n      if (mapBrowserEvent.type == MapBrowserEventType.SINGLECLICK) {\n        this.ignoreNextSingleClick_ = false;\n      }\n\n      return PointerInteraction$$1.prototype.handleEvent.call(this, mapBrowserEvent) && !handled;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Modify.prototype.handleDragEvent = function handleDragEvent (evt) {\n      this.ignoreNextSingleClick_ = false;\n      this.willModifyFeatures_(evt);\n\n      var vertex = evt.coordinate;\n      for (var i = 0, ii = this.dragSegments_.length; i < ii; ++i) {\n        var dragSegment = this.dragSegments_[i];\n        var segmentData = dragSegment[0];\n        var depth = segmentData.depth;\n        var geometry = segmentData.geometry;\n        var coordinates = (void 0);\n        var segment = segmentData.segment;\n        var index = dragSegment[1];\n\n        while (vertex.length < geometry.getStride()) {\n          vertex.push(segment[index][vertex.length]);\n        }\n\n        switch (geometry.getType()) {\n          case GeometryType.POINT:\n            coordinates = vertex;\n            segment[0] = segment[1] = vertex;\n            break;\n          case GeometryType.MULTI_POINT:\n            coordinates = geometry.getCoordinates();\n            coordinates[segmentData.index] = vertex;\n            segment[0] = segment[1] = vertex;\n            break;\n          case GeometryType.LINE_STRING:\n            coordinates = geometry.getCoordinates();\n            coordinates[segmentData.index + index] = vertex;\n            segment[index] = vertex;\n            break;\n          case GeometryType.MULTI_LINE_STRING:\n            coordinates = geometry.getCoordinates();\n            coordinates[depth[0]][segmentData.index + index] = vertex;\n            segment[index] = vertex;\n            break;\n          case GeometryType.POLYGON:\n            coordinates = geometry.getCoordinates();\n            coordinates[depth[0]][segmentData.index + index] = vertex;\n            segment[index] = vertex;\n            break;\n          case GeometryType.MULTI_POLYGON:\n            coordinates = geometry.getCoordinates();\n            coordinates[depth[1]][depth[0]][segmentData.index + index] = vertex;\n            segment[index] = vertex;\n            break;\n          case GeometryType.CIRCLE:\n            segment[0] = segment[1] = vertex;\n            if (segmentData.index === CIRCLE_CENTER_INDEX) {\n              this.changingFeature_ = true;\n              geometry.setCenter(vertex);\n              this.changingFeature_ = false;\n            } else { // We're dragging the circle's circumference:\n              this.changingFeature_ = true;\n              geometry.setRadius(distance(geometry.getCenter(), vertex));\n              this.changingFeature_ = false;\n            }\n            break;\n          default:\n            // pass\n        }\n\n        if (coordinates) {\n          this.setGeometryCoordinates_(geometry, coordinates);\n        }\n      }\n      this.createOrUpdateVertexFeature_(vertex);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Modify.prototype.handleDownEvent = function handleDownEvent (evt) {\n      if (!this.condition_(evt)) {\n        return false;\n      }\n      this.handlePointerAtPixel_(evt.pixel, evt.map);\n      var pixelCoordinate = evt.map.getCoordinateFromPixel(evt.pixel);\n      this.dragSegments_.length = 0;\n      this.modified_ = false;\n      var vertexFeature = this.vertexFeature_;\n      if (vertexFeature) {\n        var insertVertices = [];\n        var geometry = /** @type {Point} */ (vertexFeature.getGeometry());\n        var vertex = geometry.getCoordinates();\n        var vertexExtent = boundingExtent([vertex]);\n        var segmentDataMatches = this.rBush_.getInExtent(vertexExtent);\n        var componentSegments = {};\n        segmentDataMatches.sort(compareIndexes);\n        for (var i = 0, ii = segmentDataMatches.length; i < ii; ++i) {\n          var segmentDataMatch = segmentDataMatches[i];\n          var segment = segmentDataMatch.segment;\n          var uid = getUid(segmentDataMatch.feature);\n          var depth = segmentDataMatch.depth;\n          if (depth) {\n            uid += '-' + depth.join('-'); // separate feature components\n          }\n          if (!componentSegments[uid]) {\n            componentSegments[uid] = new Array(2);\n          }\n          if (segmentDataMatch.geometry.getType() === GeometryType.CIRCLE &&\n          segmentDataMatch.index === CIRCLE_CIRCUMFERENCE_INDEX) {\n\n            var closestVertex = closestOnSegmentData(pixelCoordinate, segmentDataMatch);\n            if (equals$1(closestVertex, vertex) && !componentSegments[uid][0]) {\n              this.dragSegments_.push([segmentDataMatch, 0]);\n              componentSegments[uid][0] = segmentDataMatch;\n            }\n          } else if (equals$1(segment[0], vertex) &&\n              !componentSegments[uid][0]) {\n            this.dragSegments_.push([segmentDataMatch, 0]);\n            componentSegments[uid][0] = segmentDataMatch;\n          } else if (equals$1(segment[1], vertex) &&\n              !componentSegments[uid][1]) {\n\n            // prevent dragging closed linestrings by the connecting node\n            if ((segmentDataMatch.geometry.getType() ===\n                GeometryType.LINE_STRING ||\n                segmentDataMatch.geometry.getType() ===\n                GeometryType.MULTI_LINE_STRING) &&\n                componentSegments[uid][0] &&\n                componentSegments[uid][0].index === 0) {\n              continue;\n            }\n\n            this.dragSegments_.push([segmentDataMatch, 1]);\n            componentSegments[uid][1] = segmentDataMatch;\n          } else if (this.insertVertexCondition_(evt) && getUid(segment) in this.vertexSegments_ &&\n              (!componentSegments[uid][0] && !componentSegments[uid][1])) {\n            insertVertices.push([segmentDataMatch, vertex]);\n          }\n        }\n        if (insertVertices.length) {\n          this.willModifyFeatures_(evt);\n        }\n        for (var j = insertVertices.length - 1; j >= 0; --j) {\n          this.insertVertex_.apply(this, insertVertices[j]);\n        }\n      }\n      return !!this.vertexFeature_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Modify.prototype.handleUpEvent = function handleUpEvent (evt) {\n      for (var i = this.dragSegments_.length - 1; i >= 0; --i) {\n        var segmentData = this.dragSegments_[i][0];\n        var geometry = segmentData.geometry;\n        if (geometry.getType() === GeometryType.CIRCLE) {\n          // Update a circle object in the R* bush:\n          var coordinates = geometry.getCenter();\n          var centerSegmentData = segmentData.featureSegments[0];\n          var circumferenceSegmentData = segmentData.featureSegments[1];\n          centerSegmentData.segment[0] = centerSegmentData.segment[1] = coordinates;\n          circumferenceSegmentData.segment[0] = circumferenceSegmentData.segment[1] = coordinates;\n          this.rBush_.update(createOrUpdateFromCoordinate(coordinates), centerSegmentData);\n          this.rBush_.update(geometry.getExtent(), circumferenceSegmentData);\n        } else {\n          this.rBush_.update(boundingExtent(segmentData.segment), segmentData);\n        }\n      }\n      if (this.modified_) {\n        this.dispatchEvent(new ModifyEvent(ModifyEventType.MODIFYEND, this.features_, evt));\n        this.modified_ = false;\n      }\n      return false;\n    };\n\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} evt Event.\n     * @private\n     */\n    Modify.prototype.handlePointerMove_ = function handlePointerMove_ (evt) {\n      this.lastPixel_ = evt.pixel;\n      this.handlePointerAtPixel_(evt.pixel, evt.map);\n    };\n\n    /**\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @private\n     */\n    Modify.prototype.handlePointerAtPixel_ = function handlePointerAtPixel_ (pixel, map) {\n      var pixelCoordinate = map.getCoordinateFromPixel(pixel);\n      var sortByDistance = function(a, b) {\n        return pointDistanceToSegmentDataSquared(pixelCoordinate, a) -\n            pointDistanceToSegmentDataSquared(pixelCoordinate, b);\n      };\n\n      var box = buffer(createOrUpdateFromCoordinate(pixelCoordinate),\n        map.getView().getResolution() * this.pixelTolerance_);\n\n      var rBush = this.rBush_;\n      var nodes = rBush.getInExtent(box);\n      if (nodes.length > 0) {\n        nodes.sort(sortByDistance);\n        var node = nodes[0];\n        var closestSegment = node.segment;\n        var vertex = closestOnSegmentData(pixelCoordinate, node);\n        var vertexPixel = map.getPixelFromCoordinate(vertex);\n        var dist = distance(pixel, vertexPixel);\n        if (dist <= this.pixelTolerance_) {\n          /** @type {Object<string, boolean>} */\n          var vertexSegments = {};\n\n          if (node.geometry.getType() === GeometryType.CIRCLE &&\n          node.index === CIRCLE_CIRCUMFERENCE_INDEX) {\n\n            this.snappedToVertex_ = true;\n            this.createOrUpdateVertexFeature_(vertex);\n          } else {\n            var pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n            var pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n            var squaredDist1 = squaredDistance$1(vertexPixel, pixel1);\n            var squaredDist2 = squaredDistance$1(vertexPixel, pixel2);\n            dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n            this.snappedToVertex_ = dist <= this.pixelTolerance_;\n            if (this.snappedToVertex_) {\n              vertex = squaredDist1 > squaredDist2 ? closestSegment[1] : closestSegment[0];\n            }\n            this.createOrUpdateVertexFeature_(vertex);\n            for (var i = 1, ii = nodes.length; i < ii; ++i) {\n              var segment = nodes[i].segment;\n              if ((equals$1(closestSegment[0], segment[0]) &&\n                  equals$1(closestSegment[1], segment[1]) ||\n                  (equals$1(closestSegment[0], segment[1]) &&\n                  equals$1(closestSegment[1], segment[0])))) {\n                vertexSegments[getUid(segment)] = true;\n              } else {\n                break;\n              }\n            }\n          }\n\n          vertexSegments[getUid(closestSegment)] = true;\n          this.vertexSegments_ = vertexSegments;\n          return;\n        }\n      }\n      if (this.vertexFeature_) {\n        /** @type {VectorSource} */ (this.overlay_.getSource()).removeFeature(this.vertexFeature_);\n        this.vertexFeature_ = null;\n      }\n    };\n\n    /**\n     * @param {SegmentData} segmentData Segment data.\n     * @param {import(\"../coordinate.js\").Coordinate} vertex Vertex.\n     * @private\n     */\n    Modify.prototype.insertVertex_ = function insertVertex_ (segmentData, vertex) {\n      var segment = segmentData.segment;\n      var feature = segmentData.feature;\n      var geometry = segmentData.geometry;\n      var depth = segmentData.depth;\n      var index = /** @type {number} */ (segmentData.index);\n      var coordinates;\n\n      while (vertex.length < geometry.getStride()) {\n        vertex.push(0);\n      }\n\n      switch (geometry.getType()) {\n        case GeometryType.MULTI_LINE_STRING:\n          coordinates = geometry.getCoordinates();\n          coordinates[depth[0]].splice(index + 1, 0, vertex);\n          break;\n        case GeometryType.POLYGON:\n          coordinates = geometry.getCoordinates();\n          coordinates[depth[0]].splice(index + 1, 0, vertex);\n          break;\n        case GeometryType.MULTI_POLYGON:\n          coordinates = geometry.getCoordinates();\n          coordinates[depth[1]][depth[0]].splice(index + 1, 0, vertex);\n          break;\n        case GeometryType.LINE_STRING:\n          coordinates = geometry.getCoordinates();\n          coordinates.splice(index + 1, 0, vertex);\n          break;\n        default:\n          return;\n      }\n\n      this.setGeometryCoordinates_(geometry, coordinates);\n      var rTree = this.rBush_;\n      rTree.remove(segmentData);\n      this.updateSegmentIndices_(geometry, index, depth, 1);\n      var newSegmentData = /** @type {SegmentData} */ ({\n        segment: [segment[0], vertex],\n        feature: feature,\n        geometry: geometry,\n        depth: depth,\n        index: index\n      });\n      rTree.insert(boundingExtent(newSegmentData.segment),\n        newSegmentData);\n      this.dragSegments_.push([newSegmentData, 1]);\n\n      var newSegmentData2 = /** @type {SegmentData} */ ({\n        segment: [vertex, segment[1]],\n        feature: feature,\n        geometry: geometry,\n        depth: depth,\n        index: index + 1\n      });\n      rTree.insert(boundingExtent(newSegmentData2.segment), newSegmentData2);\n      this.dragSegments_.push([newSegmentData2, 0]);\n      this.ignoreNextSingleClick_ = true;\n    };\n\n    /**\n     * Removes the vertex currently being pointed.\n     * @return {boolean} True when a vertex was removed.\n     * @api\n     */\n    Modify.prototype.removePoint = function removePoint () {\n      if (this.lastPointerEvent_ && this.lastPointerEvent_.type != MapBrowserEventType.POINTERDRAG) {\n        var evt = this.lastPointerEvent_;\n        this.willModifyFeatures_(evt);\n        this.removeVertex_();\n        this.dispatchEvent(new ModifyEvent(ModifyEventType.MODIFYEND, this.features_, evt));\n        this.modified_ = false;\n        return true;\n      }\n      return false;\n    };\n\n    /**\n     * Removes a vertex from all matching features.\n     * @return {boolean} True when a vertex was removed.\n     * @private\n     */\n    Modify.prototype.removeVertex_ = function removeVertex_ () {\n      var dragSegments = this.dragSegments_;\n      var segmentsByFeature = {};\n      var deleted = false;\n      var component, coordinates, dragSegment, geometry, i, index, left;\n      var newIndex, right, segmentData, uid;\n      for (i = dragSegments.length - 1; i >= 0; --i) {\n        dragSegment = dragSegments[i];\n        segmentData = dragSegment[0];\n        uid = getUid(segmentData.feature);\n        if (segmentData.depth) {\n          // separate feature components\n          uid += '-' + segmentData.depth.join('-');\n        }\n        if (!(uid in segmentsByFeature)) {\n          segmentsByFeature[uid] = {};\n        }\n        if (dragSegment[1] === 0) {\n          segmentsByFeature[uid].right = segmentData;\n          segmentsByFeature[uid].index = segmentData.index;\n        } else if (dragSegment[1] == 1) {\n          segmentsByFeature[uid].left = segmentData;\n          segmentsByFeature[uid].index = segmentData.index + 1;\n        }\n\n      }\n      for (uid in segmentsByFeature) {\n        right = segmentsByFeature[uid].right;\n        left = segmentsByFeature[uid].left;\n        index = segmentsByFeature[uid].index;\n        newIndex = index - 1;\n        if (left !== undefined) {\n          segmentData = left;\n        } else {\n          segmentData = right;\n        }\n        if (newIndex < 0) {\n          newIndex = 0;\n        }\n        geometry = segmentData.geometry;\n        coordinates = geometry.getCoordinates();\n        component = coordinates;\n        deleted = false;\n        switch (geometry.getType()) {\n          case GeometryType.MULTI_LINE_STRING:\n            if (coordinates[segmentData.depth[0]].length > 2) {\n              coordinates[segmentData.depth[0]].splice(index, 1);\n              deleted = true;\n            }\n            break;\n          case GeometryType.LINE_STRING:\n            if (coordinates.length > 2) {\n              coordinates.splice(index, 1);\n              deleted = true;\n            }\n            break;\n          case GeometryType.MULTI_POLYGON:\n            component = component[segmentData.depth[1]];\n            /* falls through */\n          case GeometryType.POLYGON:\n            component = component[segmentData.depth[0]];\n            if (component.length > 4) {\n              if (index == component.length - 1) {\n                index = 0;\n              }\n              component.splice(index, 1);\n              deleted = true;\n              if (index === 0) {\n                // close the ring again\n                component.pop();\n                component.push(component[0]);\n                newIndex = component.length - 1;\n              }\n            }\n            break;\n          default:\n            // pass\n        }\n\n        if (deleted) {\n          this.setGeometryCoordinates_(geometry, coordinates);\n          var segments = [];\n          if (left !== undefined) {\n            this.rBush_.remove(left);\n            segments.push(left.segment[0]);\n          }\n          if (right !== undefined) {\n            this.rBush_.remove(right);\n            segments.push(right.segment[1]);\n          }\n          if (left !== undefined && right !== undefined) {\n            var newSegmentData = /** @type {SegmentData} */ ({\n              depth: segmentData.depth,\n              feature: segmentData.feature,\n              geometry: segmentData.geometry,\n              index: newIndex,\n              segment: segments\n            });\n            this.rBush_.insert(boundingExtent(newSegmentData.segment),\n              newSegmentData);\n          }\n          this.updateSegmentIndices_(geometry, index, segmentData.depth, -1);\n          if (this.vertexFeature_) {\n            /** @type {VectorSource} */ (this.overlay_.getSource()).removeFeature(this.vertexFeature_);\n            this.vertexFeature_ = null;\n          }\n          dragSegments.length = 0;\n        }\n\n      }\n      return deleted;\n    };\n\n    /**\n     * @param {import(\"../geom/SimpleGeometry.js\").default} geometry Geometry.\n     * @param {Array} coordinates Coordinates.\n     * @private\n     */\n    Modify.prototype.setGeometryCoordinates_ = function setGeometryCoordinates_ (geometry, coordinates) {\n      this.changingFeature_ = true;\n      geometry.setCoordinates(coordinates);\n      this.changingFeature_ = false;\n    };\n\n    /**\n     * @param {import(\"../geom/SimpleGeometry.js\").default} geometry Geometry.\n     * @param {number} index Index.\n     * @param {Array<number>|undefined} depth Depth.\n     * @param {number} delta Delta (1 or -1).\n     * @private\n     */\n    Modify.prototype.updateSegmentIndices_ = function updateSegmentIndices_ (geometry, index, depth, delta) {\n      this.rBush_.forEachInExtent(geometry.getExtent(), function(segmentDataMatch) {\n        if (segmentDataMatch.geometry === geometry &&\n            (depth === undefined || segmentDataMatch.depth === undefined ||\n            equals(segmentDataMatch.depth, depth)) &&\n            segmentDataMatch.index > index) {\n          segmentDataMatch.index += delta;\n        }\n      });\n    };\n\n    return Modify;\n  }(PointerInteraction));\n\n\n  /**\n   * @param {SegmentData} a The first segment data.\n   * @param {SegmentData} b The second segment data.\n   * @return {number} The difference in indexes.\n   */\n  function compareIndexes(a, b) {\n    return a.index - b.index;\n  }\n\n\n  /**\n   * Returns the distance from a point to a line segment.\n   *\n   * @param {import(\"../coordinate.js\").Coordinate} pointCoordinates The coordinates of the point from\n   *        which to calculate the distance.\n   * @param {SegmentData} segmentData The object describing the line\n   *        segment we are calculating the distance to.\n   * @return {number} The square of the distance between a point and a line segment.\n   */\n  function pointDistanceToSegmentDataSquared(pointCoordinates, segmentData) {\n    var geometry = segmentData.geometry;\n\n    if (geometry.getType() === GeometryType.CIRCLE) {\n      var circleGeometry = /** @type {import(\"../geom/Circle.js\").default} */ (geometry);\n\n      if (segmentData.index === CIRCLE_CIRCUMFERENCE_INDEX) {\n        var distanceToCenterSquared =\n              squaredDistance$1(circleGeometry.getCenter(), pointCoordinates);\n        var distanceToCircumference =\n              Math.sqrt(distanceToCenterSquared) - circleGeometry.getRadius();\n        return distanceToCircumference * distanceToCircumference;\n      }\n    }\n    return squaredDistanceToSegment(pointCoordinates, segmentData.segment);\n  }\n\n  /**\n   * Returns the point closest to a given line segment.\n   *\n   * @param {import(\"../coordinate.js\").Coordinate} pointCoordinates The point to which a closest point\n   *        should be found.\n   * @param {SegmentData} segmentData The object describing the line\n   *        segment which should contain the closest point.\n   * @return {import(\"../coordinate.js\").Coordinate} The point closest to the specified line segment.\n   */\n  function closestOnSegmentData(pointCoordinates, segmentData) {\n    var geometry = segmentData.geometry;\n\n    if (geometry.getType() === GeometryType.CIRCLE &&\n    segmentData.index === CIRCLE_CIRCUMFERENCE_INDEX) {\n      return geometry.getClosestPoint(pointCoordinates);\n    }\n    return closestOnSegment(pointCoordinates, segmentData.segment);\n  }\n\n\n  /**\n   * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n   */\n  function getDefaultStyleFunction$1() {\n    var style = createEditingStyle();\n    return function(feature, resolution) {\n      return style[GeometryType.POINT];\n    };\n  }\n\n  /**\n   * @module ol/interaction/Select\n   */\n\n\n  /**\n   * @enum {string}\n   */\n  var SelectEventType = {\n    /**\n     * Triggered when feature(s) has been (de)selected.\n     * @event SelectEvent#select\n     * @api\n     */\n    SELECT: 'select'\n  };\n\n\n  /**\n   * A function that takes an {@link module:ol/Feature} or\n   * {@link module:ol/render/Feature} and an\n   * {@link module:ol/layer/Layer} and returns `true` if the feature may be\n   * selected or `false` otherwise.\n   * @typedef {function(import(\"../Feature.js\").FeatureLike, import(\"../layer/Layer.js\").default):boolean} FilterFunction\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../events/condition.js\").Condition} [addCondition] A function\n   * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled.\n   * By default, this is {@link module:ol/events/condition~never}. Use this if you\n   * want to use different events for add and remove instead of `toggle`.\n   * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n   * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. This is the event\n   * for the selected features as a whole. By default, this is\n   * {@link module:ol/events/condition~singleClick}. Clicking on a feature selects that\n   * feature and removes any that were in the selection. Clicking outside any\n   * feature removes all from the selection.\n   * See `toggle`, `add`, `remove` options for adding/removing extra features to/\n   * from the selection.\n   * @property {Array<import(\"../layer/Layer.js\").default>|function(import(\"../layer/Layer.js\").default): boolean} [layers]\n   * A list of layers from which features should be selected. Alternatively, a\n   * filter function can be provided. The function will be called for each layer\n   * in the map and should return `true` for layers that you want to be\n   * selectable. If the option is absent, all visible layers will be considered\n   * selectable.\n   * @property {import(\"../style/Style.js\").StyleLike} [style]\n   * Style for the selected features. By default the default edit style is used\n   * (see {@link module:ol/style}).\n   * @property {import(\"../events/condition.js\").Condition} [removeCondition] A function\n   * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled.\n   * By default, this is {@link module:ol/events/condition~never}. Use this if you\n   * want to use different events for add and remove instead of `toggle`.\n   * @property {import(\"../events/condition.js\").Condition} [toggleCondition] A function\n   * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n   * boolean to indicate whether that event should be handled. This is in addition\n   * to the `condition` event. By default,\n   * {@link module:ol/events/condition~shiftKeyOnly}, i.e. pressing `shift` as\n   * well as the `condition` event, adds that feature to the current selection if\n   * it is not currently selected, and removes it if it is. See `add` and `remove`\n   * if you want to use different events instead of a toggle.\n   * @property {boolean} [multi=false] A boolean that determines if the default\n   * behaviour should select only single features or all (overlapping) features at\n   * the clicked map position. The default of `false` means single select.\n   * @property {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} [features]\n   * Collection where the interaction will place selected features. Optional. If\n   * not set the interaction will create a collection. In any case the collection\n   * used by the interaction is returned by\n   * {@link module:ol/interaction/Select~Select#getFeatures}.\n   * @property {FilterFunction} [filter] A function\n   * that takes an {@link module:ol/Feature} and an\n   * {@link module:ol/layer/Layer} and returns `true` if the feature may be\n   * selected or `false` otherwise.\n   * @property {boolean} [wrapX=true] Wrap the world horizontally on the selection\n   * overlay.\n   * @property {number} [hitTolerance=0] Hit-detection tolerance. Pixels inside\n   * the radius around the given position will be checked for features. This only\n   * works for the canvas renderer and not for WebGL.\n   */\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/Select~Select} instances are instances of\n   * this type.\n   */\n  var SelectEvent = /*@__PURE__*/(function (Event$$1) {\n    function SelectEvent(type, selected, deselected, mapBrowserEvent) {\n      Event$$1.call(this, type);\n\n      /**\n       * Selected features array.\n       * @type {Array<import(\"../Feature.js\").default>}\n       * @api\n       */\n      this.selected = selected;\n\n      /**\n       * Deselected features array.\n       * @type {Array<import(\"../Feature.js\").default>}\n       * @api\n       */\n      this.deselected = deselected;\n\n      /**\n       * Associated {@link module:ol/MapBrowserEvent}.\n       * @type {import(\"../MapBrowserEvent.js\").default}\n       * @api\n       */\n      this.mapBrowserEvent = mapBrowserEvent;\n\n    }\n\n    if ( Event$$1 ) SelectEvent.__proto__ = Event$$1;\n    SelectEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    SelectEvent.prototype.constructor = SelectEvent;\n\n    return SelectEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Interaction for selecting vector features. By default, selected features are\n   * styled differently, so this interaction can be used for visual highlighting,\n   * as well as selecting features for other actions, such as modification or\n   * output. There are three ways of controlling which features are selected:\n   * using the browser event as defined by the `condition` and optionally the\n   * `toggle`, `add`/`remove`, and `multi` options; a `layers` filter; and a\n   * further feature filter using the `filter` option.\n   *\n   * Selected features are added to an internal unmanaged layer.\n   *\n   * @fires SelectEvent\n   * @api\n   */\n  var Select = /*@__PURE__*/(function (Interaction$$1) {\n    function Select(opt_options) {\n\n      Interaction$$1.call(this, {\n        handleEvent: handleEvent$3\n      });\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.condition_ = options.condition ? options.condition : singleClick;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.addCondition_ = options.addCondition ? options.addCondition : never;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.removeCondition_ = options.removeCondition ? options.removeCondition : never;\n\n      /**\n       * @private\n       * @type {import(\"../events/condition.js\").Condition}\n       */\n      this.toggleCondition_ = options.toggleCondition ? options.toggleCondition : shiftKeyOnly;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.multi_ = options.multi ? options.multi : false;\n\n      /**\n       * @private\n       * @type {FilterFunction}\n       */\n      this.filter_ = options.filter ? options.filter : TRUE;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n      var featureOverlay = new VectorLayer({\n        source: new VectorSource({\n          useSpatialIndex: false,\n          features: options.features,\n          wrapX: options.wrapX\n        }),\n        style: options.style ? options.style :\n          getDefaultStyleFunction$2(),\n        updateWhileAnimating: true,\n        updateWhileInteracting: true\n      });\n\n      /**\n       * @private\n       * @type {VectorLayer}\n       */\n      this.featureOverlay_ = featureOverlay;\n\n      /** @type {function(import(\"../layer/Layer.js\").default): boolean} */\n      var layerFilter;\n      if (options.layers) {\n        if (typeof options.layers === 'function') {\n          layerFilter = options.layers;\n        } else {\n          var layers = options.layers;\n          layerFilter = function(layer) {\n            return includes(layers, layer);\n          };\n        }\n      } else {\n        layerFilter = TRUE;\n      }\n\n      /**\n       * @private\n       * @type {function(import(\"../layer/Layer.js\").default): boolean}\n       */\n      this.layerFilter_ = layerFilter;\n\n      /**\n       * An association between selected feature (key)\n       * and layer (value)\n       * @private\n       * @type {Object<string, import(\"../layer/Layer.js\").default>}\n       */\n      this.featureLayerAssociation_ = {};\n\n      var features = this.getFeatures();\n      listen(features, CollectionEventType.ADD,\n        this.addFeature_, this);\n      listen(features, CollectionEventType.REMOVE,\n        this.removeFeature_, this);\n    }\n\n    if ( Interaction$$1 ) Select.__proto__ = Interaction$$1;\n    Select.prototype = Object.create( Interaction$$1 && Interaction$$1.prototype );\n    Select.prototype.constructor = Select;\n\n    /**\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     * @param {import(\"../layer/Layer.js\").default} layer Layer.\n     * @private\n     */\n    Select.prototype.addFeatureLayerAssociation_ = function addFeatureLayerAssociation_ (feature, layer) {\n      this.featureLayerAssociation_[getUid(feature)] = layer;\n    };\n\n    /**\n     * Get the selected features.\n     * @return {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} Features collection.\n     * @api\n     */\n    Select.prototype.getFeatures = function getFeatures () {\n      return /** @type {VectorSource} */ (this.featureOverlay_.getSource()).getFeaturesCollection();\n    };\n\n    /**\n     * Returns the Hit-detection tolerance.\n     * @returns {number} Hit tolerance in pixels.\n     * @api\n     */\n    Select.prototype.getHitTolerance = function getHitTolerance () {\n      return this.hitTolerance_;\n    };\n\n    /**\n     * Returns the associated {@link module:ol/layer/Vector~Vector vectorlayer} of\n     * the (last) selected feature. Note that this will not work with any\n     * programmatic method like pushing features to\n     * {@link module:ol/interaction/Select~Select#getFeatures collection}.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature\n     * @return {VectorLayer} Layer.\n     * @api\n     */\n    Select.prototype.getLayer = function getLayer (feature) {\n      return (\n        /** @type {VectorLayer} */ (this.featureLayerAssociation_[getUid(feature)])\n      );\n    };\n\n    /**\n     * Get the overlay layer that this interaction renders selected features to.\n     * @return {VectorLayer} Overlay layer.\n     * @api\n     */\n    Select.prototype.getOverlay = function getOverlay () {\n      return this.featureOverlay_;\n    };\n\n    /**\n     * Hit-detection tolerance. Pixels inside the radius around the given position\n     * will be checked for features. This only works for the canvas renderer and\n     * not for WebGL.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @api\n     */\n    Select.prototype.setHitTolerance = function setHitTolerance (hitTolerance) {\n      this.hitTolerance_ = hitTolerance;\n    };\n\n    /**\n     * Remove the interaction from its current map, if any,  and attach it to a new\n     * map, if any. Pass `null` to just remove the interaction from the current map.\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @override\n     * @api\n     */\n    Select.prototype.setMap = function setMap (map) {\n      var currentMap = this.getMap();\n      var selectedFeatures = this.getFeatures();\n      if (currentMap) {\n        selectedFeatures.forEach(currentMap.unskipFeature.bind(currentMap));\n      }\n      Interaction$$1.prototype.setMap.call(this, map);\n      this.featureOverlay_.setMap(map);\n      if (map) {\n        selectedFeatures.forEach(map.skipFeature.bind(map));\n      }\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Select.prototype.addFeature_ = function addFeature_ (evt) {\n      var map = this.getMap();\n      if (map) {\n        map.skipFeature(/** @type {import(\"../Feature.js\").default} */ (evt.element));\n      }\n    };\n\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Select.prototype.removeFeature_ = function removeFeature_ (evt) {\n      var map = this.getMap();\n      if (map) {\n        map.unskipFeature(/** @type {import(\"../Feature.js\").default} */ (evt.element));\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     * @private\n     */\n    Select.prototype.removeFeatureLayerAssociation_ = function removeFeatureLayerAssociation_ (feature) {\n      delete this.featureLayerAssociation_[getUid(feature)];\n    };\n\n    return Select;\n  }(Interaction));\n\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} and may change the\n   * selected state of features.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @this {Select}\n   */\n  function handleEvent$3(mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n    var add = this.addCondition_(mapBrowserEvent);\n    var remove$$1 = this.removeCondition_(mapBrowserEvent);\n    var toggle = this.toggleCondition_(mapBrowserEvent);\n    var set = !add && !remove$$1 && !toggle;\n    var map = mapBrowserEvent.map;\n    var features = this.getFeatures();\n    var deselected = [];\n    var selected = [];\n    if (set) {\n      // Replace the currently selected feature(s) with the feature(s) at the\n      // pixel, or clear the selected feature(s) if there is no feature at\n      // the pixel.\n      clear(this.featureLayerAssociation_);\n      map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n        (\n          /**\n           * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n           * @param {import(\"../layer/Layer.js\").default} layer Layer.\n           * @return {boolean|undefined} Continue to iterate over the features.\n           */\n          function(feature, layer) {\n            if (this.filter_(feature, layer)) {\n              selected.push(feature);\n              this.addFeatureLayerAssociation_(feature, layer);\n              return !this.multi_;\n            }\n          }).bind(this), {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n      for (var i = features.getLength() - 1; i >= 0; --i) {\n        var feature = features.item(i);\n        var index = selected.indexOf(feature);\n        if (index > -1) {\n          // feature is already selected\n          selected.splice(index, 1);\n        } else {\n          features.remove(feature);\n          deselected.push(feature);\n        }\n      }\n      if (selected.length !== 0) {\n        features.extend(selected);\n      }\n    } else {\n      // Modify the currently selected feature(s).\n      map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n        (\n          /**\n           * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n           * @param {import(\"../layer/Layer.js\").default} layer Layer.\n           * @return {boolean|undefined} Continue to iterate over the features.\n           */\n          function(feature, layer) {\n            if (this.filter_(feature, layer)) {\n              if ((add || toggle) && !includes(features.getArray(), feature)) {\n                selected.push(feature);\n                this.addFeatureLayerAssociation_(feature, layer);\n              } else if ((remove$$1 || toggle) && includes(features.getArray(), feature)) {\n                deselected.push(feature);\n                this.removeFeatureLayerAssociation_(feature);\n              }\n              return !this.multi_;\n            }\n          }).bind(this), {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n      for (var j = deselected.length - 1; j >= 0; --j) {\n        features.remove(deselected[j]);\n      }\n      features.extend(selected);\n    }\n    if (selected.length > 0 || deselected.length > 0) {\n      this.dispatchEvent(\n        new SelectEvent(SelectEventType.SELECT,\n          selected, deselected, mapBrowserEvent));\n    }\n    return pointerMove$1(mapBrowserEvent);\n  }\n\n\n  /**\n   * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n   */\n  function getDefaultStyleFunction$2() {\n    var styles = createEditingStyle();\n    extend(styles[GeometryType.POLYGON], styles[GeometryType.LINE_STRING]);\n    extend(styles[GeometryType.GEOMETRY_COLLECTION], styles[GeometryType.LINE_STRING]);\n\n    return function(feature, resolution) {\n      if (!feature.getGeometry()) {\n        return null;\n      }\n      return styles[feature.getGeometry().getType()];\n    };\n  }\n\n  /**\n   * @module ol/interaction/Snap\n   */\n\n\n  /**\n   * @typedef {Object} Result\n   * @property {boolean} snapped\n   * @property {import(\"../coordinate.js\").Coordinate|null} vertex\n   * @property {import(\"../pixel.js\").Pixel|null} vertexPixel\n   */\n\n\n  /**\n   * @typedef {Object} SegmentData\n   * @property {import(\"../Feature.js\").default} feature\n   * @property {Array<import(\"../coordinate.js\").Coordinate>} segment\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} [features] Snap to these features. Either this option or source should be provided.\n   * @property {boolean} [edge=true] Snap to edges.\n   * @property {boolean} [vertex=true] Snap to vertices.\n   * @property {number} [pixelTolerance=10] Pixel tolerance for considering the pointer close enough to a segment or\n   * vertex for snapping.\n   * @property {import(\"../source/Vector.js\").default} [source] Snap to features from this source. Either this option or features should be provided\n   */\n\n\n  /**\n   * @param  {import(\"../source/Vector.js\").VectorSourceEvent|import(\"../Collection.js\").CollectionEvent} evt Event.\n   * @return {import(\"../Feature.js\").default} Feature.\n   */\n  function getFeatureFromEvent(evt) {\n    if (/** @type {import(\"../source/Vector.js\").VectorSourceEvent} */ (evt).feature) {\n      return /** @type {import(\"../source/Vector.js\").VectorSourceEvent} */ (evt).feature;\n    } else if (/** @type {import(\"../Collection.js\").CollectionEvent} */ (evt).element) {\n      return /** @type {import(\"../Feature.js\").default} */ (/** @type {import(\"../Collection.js\").CollectionEvent} */ (evt).element);\n    }\n\n  }\n\n  /**\n   * @classdesc\n   * Handles snapping of vector features while modifying or drawing them.  The\n   * features can come from a {@link module:ol/source/Vector} or {@link module:ol/Collection~Collection}\n   * Any interaction object that allows the user to interact\n   * with the features using the mouse can benefit from the snapping, as long\n   * as it is added before.\n   *\n   * The snap interaction modifies map browser event `coordinate` and `pixel`\n   * properties to force the snap to occur to any interaction that them.\n   *\n   * Example:\n   *\n   *     import Snap from 'ol/interaction/Snap';\n   *\n   *     var snap = new Snap({\n   *       source: source\n   *     });\n   *\n   * @api\n   */\n  var Snap = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function Snap(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n\n      if (!pointerOptions.handleDownEvent) {\n        pointerOptions.handleDownEvent = TRUE;\n      }\n\n      if (!pointerOptions.stopDown) {\n        pointerOptions.stopDown = FALSE;\n      }\n\n      PointerInteraction$$1.call(this, pointerOptions);\n\n      /**\n       * @type {import(\"../source/Vector.js\").default}\n       * @private\n       */\n      this.source_ = options.source ? options.source : null;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.vertex_ = options.vertex !== undefined ? options.vertex : true;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.edge_ = options.edge !== undefined ? options.edge : true;\n\n      /**\n       * @type {import(\"../Collection.js\").default<import(\"../Feature.js\").default>}\n       * @private\n       */\n      this.features_ = options.features ? options.features : null;\n\n      /**\n       * @type {Array<import(\"../events.js\").EventsKey>}\n       * @private\n       */\n      this.featuresListenerKeys_ = [];\n\n      /**\n       * @type {Object<string, import(\"../events.js\").EventsKey>}\n       * @private\n       */\n      this.featureChangeListenerKeys_ = {};\n\n      /**\n       * Extents are preserved so indexed segment can be quickly removed\n       * when its feature geometry changes\n       * @type {Object<string, import(\"../extent.js\").Extent>}\n       * @private\n       */\n      this.indexedFeaturesExtents_ = {};\n\n      /**\n       * If a feature geometry changes while a pointer drag|move event occurs, the\n       * feature doesn't get updated right away.  It will be at the next 'pointerup'\n       * event fired.\n       * @type {!Object<string, import(\"../Feature.js\").default>}\n       * @private\n       */\n      this.pendingFeatures_ = {};\n\n      /**\n       * Used for distance sorting in sortByDistance_\n       * @type {import(\"../coordinate.js\").Coordinate}\n       * @private\n       */\n      this.pixelCoordinate_ = null;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n        options.pixelTolerance : 10;\n\n      /**\n       * @type {function(SegmentData, SegmentData): number}\n       * @private\n       */\n      this.sortByDistance_ = sortByDistance.bind(this);\n\n\n      /**\n      * Segment RTree for each layer\n      * @type {import(\"../structs/RBush.js\").default<SegmentData>}\n      * @private\n      */\n      this.rBush_ = new RBush();\n\n\n      /**\n      * @const\n      * @private\n      * @type {Object<string, function(import(\"../Feature.js\").default, import(\"../geom/Geometry.js\").default)>}\n      */\n      this.SEGMENT_WRITERS_ = {\n        'Point': this.writePointGeometry_,\n        'LineString': this.writeLineStringGeometry_,\n        'LinearRing': this.writeLineStringGeometry_,\n        'Polygon': this.writePolygonGeometry_,\n        'MultiPoint': this.writeMultiPointGeometry_,\n        'MultiLineString': this.writeMultiLineStringGeometry_,\n        'MultiPolygon': this.writeMultiPolygonGeometry_,\n        'GeometryCollection': this.writeGeometryCollectionGeometry_,\n        'Circle': this.writeCircleGeometry_\n      };\n    }\n\n    if ( PointerInteraction$$1 ) Snap.__proto__ = PointerInteraction$$1;\n    Snap.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    Snap.prototype.constructor = Snap;\n\n    /**\n     * Add a feature to the collection of features that we may snap to.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {boolean=} opt_listen Whether to listen to the feature change or not\n     *     Defaults to `true`.\n     * @api\n     */\n    Snap.prototype.addFeature = function addFeature (feature, opt_listen) {\n      var register = opt_listen !== undefined ? opt_listen : true;\n      var feature_uid = getUid(feature);\n      var geometry = feature.getGeometry();\n      if (geometry) {\n        var segmentWriter = this.SEGMENT_WRITERS_[geometry.getType()];\n        if (segmentWriter) {\n          this.indexedFeaturesExtents_[feature_uid] = geometry.getExtent(createEmpty());\n          segmentWriter.call(this, feature, geometry);\n        }\n      }\n\n      if (register) {\n        this.featureChangeListenerKeys_[feature_uid] = listen(\n          feature,\n          EventType.CHANGE,\n          this.handleFeatureChange_, this);\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @private\n     */\n    Snap.prototype.forEachFeatureAdd_ = function forEachFeatureAdd_ (feature) {\n      this.addFeature(feature);\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @private\n     */\n    Snap.prototype.forEachFeatureRemove_ = function forEachFeatureRemove_ (feature) {\n      this.removeFeature(feature);\n    };\n\n    /**\n     * @return {import(\"../Collection.js\").default<import(\"../Feature.js\").default>|Array<import(\"../Feature.js\").default>} Features.\n     * @private\n     */\n    Snap.prototype.getFeatures_ = function getFeatures_ () {\n      var features;\n      if (this.features_) {\n        features = this.features_;\n      } else if (this.source_) {\n        features = this.source_.getFeatures();\n      }\n      return features;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Snap.prototype.handleEvent = function handleEvent (evt) {\n      var result = this.snapTo(evt.pixel, evt.coordinate, evt.map);\n      if (result.snapped) {\n        evt.coordinate = result.vertex.slice(0, 2);\n        evt.pixel = result.vertexPixel;\n      }\n      return PointerInteraction$$1.prototype.handleEvent.call(this, evt);\n    };\n\n    /**\n     * @param {import(\"../source/Vector.js\").VectorSourceEvent|import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Snap.prototype.handleFeatureAdd_ = function handleFeatureAdd_ (evt) {\n      var feature = getFeatureFromEvent(evt);\n      this.addFeature(feature);\n    };\n\n    /**\n     * @param {import(\"../source/Vector.js\").VectorSourceEvent|import(\"../Collection.js\").CollectionEvent} evt Event.\n     * @private\n     */\n    Snap.prototype.handleFeatureRemove_ = function handleFeatureRemove_ (evt) {\n      var feature = getFeatureFromEvent(evt);\n      this.removeFeature(feature);\n    };\n\n    /**\n     * @param {import(\"../events/Event.js\").default} evt Event.\n     * @private\n     */\n    Snap.prototype.handleFeatureChange_ = function handleFeatureChange_ (evt) {\n      var feature = /** @type {import(\"../Feature.js\").default} */ (evt.target);\n      if (this.handlingDownUpSequence) {\n        var uid = getUid(feature);\n        if (!(uid in this.pendingFeatures_)) {\n          this.pendingFeatures_[uid] = feature;\n        }\n      } else {\n        this.updateFeature_(feature);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Snap.prototype.handleUpEvent = function handleUpEvent (evt) {\n      var featuresToUpdate = getValues(this.pendingFeatures_);\n      if (featuresToUpdate.length) {\n        featuresToUpdate.forEach(this.updateFeature_.bind(this));\n        this.pendingFeatures_ = {};\n      }\n      return false;\n    };\n\n    /**\n     * Remove a feature from the collection of features that we may snap to.\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {boolean=} opt_unlisten Whether to unlisten to the feature change\n     *     or not. Defaults to `true`.\n     * @api\n     */\n    Snap.prototype.removeFeature = function removeFeature (feature, opt_unlisten) {\n      var unregister = opt_unlisten !== undefined ? opt_unlisten : true;\n      var feature_uid = getUid(feature);\n      var extent = this.indexedFeaturesExtents_[feature_uid];\n      if (extent) {\n        var rBush = this.rBush_;\n        var nodesToRemove = [];\n        rBush.forEachInExtent(extent, function(node) {\n          if (feature === node.feature) {\n            nodesToRemove.push(node);\n          }\n        });\n        for (var i = nodesToRemove.length - 1; i >= 0; --i) {\n          rBush.remove(nodesToRemove[i]);\n        }\n      }\n\n      if (unregister) {\n        unlistenByKey(this.featureChangeListenerKeys_[feature_uid]);\n        delete this.featureChangeListenerKeys_[feature_uid];\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Snap.prototype.setMap = function setMap (map) {\n      var currentMap = this.getMap();\n      var keys = this.featuresListenerKeys_;\n      var features = /** @type {Array<import(\"../Feature.js\").default>} */ (this.getFeatures_());\n\n      if (currentMap) {\n        keys.forEach(unlistenByKey);\n        keys.length = 0;\n        features.forEach(this.forEachFeatureRemove_.bind(this));\n      }\n      PointerInteraction$$1.prototype.setMap.call(this, map);\n\n      if (map) {\n        if (this.features_) {\n          keys.push(\n            listen(this.features_, CollectionEventType.ADD,\n              this.handleFeatureAdd_, this),\n            listen(this.features_, CollectionEventType.REMOVE,\n              this.handleFeatureRemove_, this)\n          );\n        } else if (this.source_) {\n          keys.push(\n            listen(this.source_, VectorEventType.ADDFEATURE,\n              this.handleFeatureAdd_, this),\n            listen(this.source_, VectorEventType.REMOVEFEATURE,\n              this.handleFeatureRemove_, this)\n          );\n        }\n        features.forEach(this.forEachFeatureAdd_.bind(this));\n      }\n    };\n\n    /**\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel\n     * @param {import(\"../coordinate.js\").Coordinate} pixelCoordinate Coordinate\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @return {Result} Snap result\n     */\n    Snap.prototype.snapTo = function snapTo (pixel, pixelCoordinate, map) {\n\n      var lowerLeft = map.getCoordinateFromPixel(\n        [pixel[0] - this.pixelTolerance_, pixel[1] + this.pixelTolerance_]);\n      var upperRight = map.getCoordinateFromPixel(\n        [pixel[0] + this.pixelTolerance_, pixel[1] - this.pixelTolerance_]);\n      var box = boundingExtent([lowerLeft, upperRight]);\n\n      var segments = this.rBush_.getInExtent(box);\n\n      // If snapping on vertices only, don't consider circles\n      if (this.vertex_ && !this.edge_) {\n        segments = segments.filter(function(segment) {\n          return segment.feature.getGeometry().getType() !==\n              GeometryType.CIRCLE;\n        });\n      }\n\n      var snappedToVertex = false;\n      var snapped = false;\n      var vertex = null;\n      var vertexPixel = null;\n      var dist, pixel1, pixel2, squaredDist1, squaredDist2;\n      if (segments.length > 0) {\n        this.pixelCoordinate_ = pixelCoordinate;\n        segments.sort(this.sortByDistance_);\n        var closestSegment = segments[0].segment;\n        var isCircle = segments[0].feature.getGeometry().getType() ===\n            GeometryType.CIRCLE;\n        if (this.vertex_ && !this.edge_) {\n          pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n          pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n          squaredDist1 = squaredDistance$1(pixel, pixel1);\n          squaredDist2 = squaredDistance$1(pixel, pixel2);\n          dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n          snappedToVertex = dist <= this.pixelTolerance_;\n          if (snappedToVertex) {\n            snapped = true;\n            vertex = squaredDist1 > squaredDist2 ? closestSegment[1] : closestSegment[0];\n            vertexPixel = map.getPixelFromCoordinate(vertex);\n          }\n        } else if (this.edge_) {\n          if (isCircle) {\n            vertex = closestOnCircle(pixelCoordinate,\n              /** @type {import(\"../geom/Circle.js\").default} */ (segments[0].feature.getGeometry()));\n          } else {\n            vertex = closestOnSegment(pixelCoordinate, closestSegment);\n          }\n          vertexPixel = map.getPixelFromCoordinate(vertex);\n          if (distance(pixel, vertexPixel) <= this.pixelTolerance_) {\n            snapped = true;\n            if (this.vertex_ && !isCircle) {\n              pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n              pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n              squaredDist1 = squaredDistance$1(vertexPixel, pixel1);\n              squaredDist2 = squaredDistance$1(vertexPixel, pixel2);\n              dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n              snappedToVertex = dist <= this.pixelTolerance_;\n              if (snappedToVertex) {\n                vertex = squaredDist1 > squaredDist2 ? closestSegment[1] : closestSegment[0];\n                vertexPixel = map.getPixelFromCoordinate(vertex);\n              }\n            }\n          }\n        }\n        if (snapped) {\n          vertexPixel = [Math.round(vertexPixel[0]), Math.round(vertexPixel[1])];\n        }\n      }\n      return (\n        /** @type {Result} */ ({\n          snapped: snapped,\n          vertex: vertex,\n          vertexPixel: vertexPixel\n        })\n      );\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @private\n     */\n    Snap.prototype.updateFeature_ = function updateFeature_ (feature) {\n      this.removeFeature(feature, false);\n      this.addFeature(feature, false);\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/Circle.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeCircleGeometry_ = function writeCircleGeometry_ (feature, geometry) {\n      var polygon = fromCircle(geometry);\n      var coordinates = polygon.getCoordinates()[0];\n      for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        var segment = coordinates.slice(i, i + 2);\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          segment: segment\n        });\n        this.rBush_.insert(boundingExtent(segment), segmentData);\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/GeometryCollection.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeGeometryCollectionGeometry_ = function writeGeometryCollectionGeometry_ (feature, geometry) {\n      var geometries = geometry.getGeometriesArray();\n      for (var i = 0; i < geometries.length; ++i) {\n        var segmentWriter = this.SEGMENT_WRITERS_[geometries[i].getType()];\n        if (segmentWriter) {\n          segmentWriter.call(this, feature, geometries[i]);\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/LineString.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeLineStringGeometry_ = function writeLineStringGeometry_ (feature, geometry) {\n      var coordinates = geometry.getCoordinates();\n      for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        var segment = coordinates.slice(i, i + 2);\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          segment: segment\n        });\n        this.rBush_.insert(boundingExtent(segment), segmentData);\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/MultiLineString.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeMultiLineStringGeometry_ = function writeMultiLineStringGeometry_ (feature, geometry) {\n      var lines = geometry.getCoordinates();\n      for (var j = 0, jj = lines.length; j < jj; ++j) {\n        var coordinates = lines[j];\n        for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n          var segment = coordinates.slice(i, i + 2);\n          var segmentData = /** @type {SegmentData} */ ({\n            feature: feature,\n            segment: segment\n          });\n          this.rBush_.insert(boundingExtent(segment), segmentData);\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/MultiPoint.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeMultiPointGeometry_ = function writeMultiPointGeometry_ (feature, geometry) {\n      var points = geometry.getCoordinates();\n      for (var i = 0, ii = points.length; i < ii; ++i) {\n        var coordinates = points[i];\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          segment: [coordinates, coordinates]\n        });\n        this.rBush_.insert(geometry.getExtent(), segmentData);\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/MultiPolygon.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writeMultiPolygonGeometry_ = function writeMultiPolygonGeometry_ (feature, geometry) {\n      var polygons = geometry.getCoordinates();\n      for (var k = 0, kk = polygons.length; k < kk; ++k) {\n        var rings = polygons[k];\n        for (var j = 0, jj = rings.length; j < jj; ++j) {\n          var coordinates = rings[j];\n          for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n            var segment = coordinates.slice(i, i + 2);\n            var segmentData = /** @type {SegmentData} */ ({\n              feature: feature,\n              segment: segment\n            });\n            this.rBush_.insert(boundingExtent(segment), segmentData);\n          }\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/Point.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writePointGeometry_ = function writePointGeometry_ (feature, geometry) {\n      var coordinates = geometry.getCoordinates();\n      var segmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        segment: [coordinates, coordinates]\n      });\n      this.rBush_.insert(geometry.getExtent(), segmentData);\n    };\n\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature\n     * @param {import(\"../geom/Polygon.js\").default} geometry Geometry.\n     * @private\n     */\n    Snap.prototype.writePolygonGeometry_ = function writePolygonGeometry_ (feature, geometry) {\n      var rings = geometry.getCoordinates();\n      for (var j = 0, jj = rings.length; j < jj; ++j) {\n        var coordinates = rings[j];\n        for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n          var segment = coordinates.slice(i, i + 2);\n          var segmentData = /** @type {SegmentData} */ ({\n            feature: feature,\n            segment: segment\n          });\n          this.rBush_.insert(boundingExtent(segment), segmentData);\n        }\n      }\n    };\n\n    return Snap;\n  }(PointerInteraction));\n\n\n  /**\n   * Sort segments by distance, helper function\n   * @param {SegmentData} a The first segment data.\n   * @param {SegmentData} b The second segment data.\n   * @return {number} The difference in distance.\n   * @this {Snap}\n   */\n  function sortByDistance(a, b) {\n    var deltaA = squaredDistanceToSegment(this.pixelCoordinate_, a.segment);\n    var deltaB = squaredDistanceToSegment(this.pixelCoordinate_, b.segment);\n    return deltaA - deltaB;\n  }\n\n  /**\n   * @module ol/interaction/Translate\n   */\n\n\n  /**\n   * @enum {string}\n   */\n  var TranslateEventType = {\n    /**\n     * Triggered upon feature translation start.\n     * @event TranslateEvent#translatestart\n     * @api\n     */\n    TRANSLATESTART: 'translatestart',\n    /**\n     * Triggered upon feature translation.\n     * @event TranslateEvent#translating\n     * @api\n     */\n    TRANSLATING: 'translating',\n    /**\n     * Triggered upon feature translation end.\n     * @event TranslateEvent#translateend\n     * @api\n     */\n    TRANSLATEEND: 'translateend'\n  };\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {Collection<import(\"../Feature.js\").default>} [features] Only features contained in this collection will be able to be translated. If\n   * not specified, all features on the map will be able to be translated.\n   * @property {Array<import(\"../layer/Layer.js\").default>|function(import(\"../layer/Layer.js\").default): boolean} [layers] A list of layers from which features should be\n   * translated. Alternatively, a filter function can be provided. The\n   * function will be called for each layer in the map and should return\n   * `true` for layers that you want to be translatable. If the option is\n   * absent, all visible layers will be considered translatable.\n   * @property {number} [hitTolerance=0] Hit-detection tolerance. Pixels inside the radius around the given position\n   * will be checked for features. This only works for the canvas renderer and\n   * not for WebGL.\n   */\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/interaction/Translate~Translate} instances\n   * are instances of this type.\n   */\n  var TranslateEvent = /*@__PURE__*/(function (Event$$1) {\n    function TranslateEvent(type, features, coordinate) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The features being translated.\n       * @type {Collection<import(\"../Feature.js\").default>}\n       * @api\n       */\n      this.features = features;\n\n      /**\n       * The coordinate of the drag event.\n       * @const\n       * @type {import(\"../coordinate.js\").Coordinate}\n       * @api\n       */\n      this.coordinate = coordinate;\n\n    }\n\n    if ( Event$$1 ) TranslateEvent.__proto__ = Event$$1;\n    TranslateEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    TranslateEvent.prototype.constructor = TranslateEvent;\n\n    return TranslateEvent;\n  }(Event));\n\n\n  /**\n   * @classdesc\n   * Interaction for translating (moving) features.\n   *\n   * @fires TranslateEvent\n   * @api\n   */\n  var Translate = /*@__PURE__*/(function (PointerInteraction$$1) {\n    function Translate(opt_options) {\n      var options = opt_options ? opt_options : {};\n\n      PointerInteraction$$1.call(/** @type {import(\"./Pointer.js\").Options} */ this, (options));\n\n      /**\n       * The last position we translated to.\n       * @type {import(\"../coordinate.js\").Coordinate}\n       * @private\n       */\n      this.lastCoordinate_ = null;\n\n\n      /**\n       * @type {Collection<import(\"../Feature.js\").default>}\n       * @private\n       */\n      this.features_ = options.features !== undefined ? options.features : null;\n\n      /** @type {function(import(\"../layer/Layer.js\").default): boolean} */\n      var layerFilter;\n      if (options.layers) {\n        if (typeof options.layers === 'function') {\n          layerFilter = options.layers;\n        } else {\n          var layers = options.layers;\n          layerFilter = function(layer) {\n            return includes(layers, layer);\n          };\n        }\n      } else {\n        layerFilter = TRUE;\n      }\n\n      /**\n       * @private\n       * @type {function(import(\"../layer/Layer.js\").default): boolean}\n       */\n      this.layerFilter_ = layerFilter;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n      /**\n       * @type {import(\"../Feature.js\").default}\n       * @private\n       */\n      this.lastFeature_ = null;\n\n      listen(this,\n        getChangeEventType(InteractionProperty.ACTIVE),\n        this.handleActiveChanged_, this);\n\n    }\n\n    if ( PointerInteraction$$1 ) Translate.__proto__ = PointerInteraction$$1;\n    Translate.prototype = Object.create( PointerInteraction$$1 && PointerInteraction$$1.prototype );\n    Translate.prototype.constructor = Translate;\n\n    /**\n     * @inheritDoc\n     */\n    Translate.prototype.handleDownEvent = function handleDownEvent (event) {\n      this.lastFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n      if (!this.lastCoordinate_ && this.lastFeature_) {\n        this.lastCoordinate_ = event.coordinate;\n        this.handleMoveEvent(event);\n\n        var features = this.features_ || new Collection([this.lastFeature_]);\n\n        this.dispatchEvent(\n          new TranslateEvent(\n            TranslateEventType.TRANSLATESTART, features,\n            event.coordinate));\n        return true;\n      }\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Translate.prototype.handleUpEvent = function handleUpEvent (event) {\n      if (this.lastCoordinate_) {\n        this.lastCoordinate_ = null;\n        this.handleMoveEvent(event);\n\n        var features = this.features_ || new Collection([this.lastFeature_]);\n\n        this.dispatchEvent(\n          new TranslateEvent(\n            TranslateEventType.TRANSLATEEND, features,\n            event.coordinate));\n        return true;\n      }\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Translate.prototype.handleDragEvent = function handleDragEvent (event) {\n      if (this.lastCoordinate_) {\n        var newCoordinate = event.coordinate;\n        var deltaX = newCoordinate[0] - this.lastCoordinate_[0];\n        var deltaY = newCoordinate[1] - this.lastCoordinate_[1];\n\n        var features = this.features_ || new Collection([this.lastFeature_]);\n\n        features.forEach(function(feature) {\n          var geom = feature.getGeometry();\n          geom.translate(deltaX, deltaY);\n          feature.setGeometry(geom);\n        });\n\n        this.lastCoordinate_ = newCoordinate;\n        this.dispatchEvent(\n          new TranslateEvent(\n            TranslateEventType.TRANSLATING, features,\n            newCoordinate));\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Translate.prototype.handleMoveEvent = function handleMoveEvent (event) {\n      var elem = event.map.getViewport();\n\n      // Change the cursor to grab/grabbing if hovering any of the features managed\n      // by the interaction\n      if (this.featuresAtPixel_(event.pixel, event.map)) {\n        elem.classList.remove(this.lastCoordinate_ ? 'ol-grab' : 'ol-grabbing');\n        elem.classList.add(this.lastCoordinate_ ? 'ol-grabbing' : 'ol-grab');\n      } else {\n        elem.classList.remove('ol-grab', 'ol-grabbing');\n      }\n    };\n\n    /**\n     * Tests to see if the given coordinates intersects any of our selected\n     * features.\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel coordinate to test for intersection.\n     * @param {import(\"../PluggableMap.js\").default} map Map to test the intersection on.\n     * @return {import(\"../Feature.js\").default} Returns the feature found at the specified pixel\n     * coordinates.\n     * @private\n     */\n    Translate.prototype.featuresAtPixel_ = function featuresAtPixel_ (pixel, map) {\n      return map.forEachFeatureAtPixel(pixel,\n        function(feature) {\n          if (!this.features_ || includes(this.features_.getArray(), feature)) {\n            return feature;\n          }\n        }.bind(this), {\n          layerFilter: this.layerFilter_,\n          hitTolerance: this.hitTolerance_\n        });\n    };\n\n    /**\n     * Returns the Hit-detection tolerance.\n     * @returns {number} Hit tolerance in pixels.\n     * @api\n     */\n    Translate.prototype.getHitTolerance = function getHitTolerance () {\n      return this.hitTolerance_;\n    };\n\n    /**\n     * Hit-detection tolerance. Pixels inside the radius around the given position\n     * will be checked for features. This only works for the canvas renderer and\n     * not for WebGL.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @api\n     */\n    Translate.prototype.setHitTolerance = function setHitTolerance (hitTolerance) {\n      this.hitTolerance_ = hitTolerance;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    Translate.prototype.setMap = function setMap (map) {\n      var oldMap = this.getMap();\n      PointerInteraction$$1.prototype.setMap.call(this, map);\n      this.updateState_(oldMap);\n    };\n\n    /**\n     * @private\n     */\n    Translate.prototype.handleActiveChanged_ = function handleActiveChanged_ () {\n      this.updateState_(null);\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").default} oldMap Old map.\n     * @private\n     */\n    Translate.prototype.updateState_ = function updateState_ (oldMap) {\n      var map = this.getMap();\n      var active = this.getActive();\n      if (!map || !active) {\n        map = map || oldMap;\n        if (map) {\n          var elem = map.getViewport();\n          elem.classList.remove('ol-grab', 'ol-grabbing');\n        }\n      }\n    };\n\n    return Translate;\n  }(PointerInteraction));\n\n  /**\n   * @module ol/interaction\n   */\n\n\n  /**\n   * @typedef {Object} DefaultsOptions\n   * @property {boolean} [altShiftDragRotate=true] Whether Alt-Shift-drag rotate is\n   * desired.\n   * @property {boolean} [onFocusOnly=false] Interact only when the map has the\n   * focus. This affects the `MouseWheelZoom` and `DragPan` interactions and is\n   * useful when page scroll is desired for maps that do not have the browser's\n   * focus.\n   * @property {boolean} [constrainResolution=false] Zoom to the closest integer\n   * zoom level after the wheel/trackpad or pinch gesture ends.\n   * @property {boolean} [doubleClickZoom=true] Whether double click zoom is\n   * desired.\n   * @property {boolean} [keyboard=true] Whether keyboard interaction is desired.\n   * @property {boolean} [mouseWheelZoom=true] Whether mousewheel zoom is desired.\n   * @property {boolean} [shiftDragZoom=true] Whether Shift-drag zoom is desired.\n   * @property {boolean} [dragPan=true] Whether drag pan is desired.\n   * @property {boolean} [pinchRotate=true] Whether pinch rotate is desired.\n   * @property {boolean} [pinchZoom=true] Whether pinch zoom is desired.\n   * @property {number} [zoomDelta] Zoom level delta when using keyboard or\n   * mousewheel zoom.\n   * @property {number} [zoomDuration] Duration of the zoom animation in\n   * milliseconds.\n   */\n\n\n  /**\n   * Set of interactions included in maps by default. Specific interactions can be\n   * excluded by setting the appropriate option to false in the constructor\n   * options, but the order of the interactions is fixed.  If you want to specify\n   * a different order for interactions, you will need to create your own\n   * {@link module:ol/interaction/Interaction} instances and insert\n   * them into a {@link module:ol/Collection} in the order you want\n   * before creating your {@link module:ol/Map~Map} instance. The default set of\n   * interactions, in sequence, is:\n   * * {@link module:ol/interaction/DragRotate~DragRotate}\n   * * {@link module:ol/interaction/DoubleClickZoom~DoubleClickZoom}\n   * * {@link module:ol/interaction/DragPan~DragPan}\n   * * {@link module:ol/interaction/PinchRotate~PinchRotate}\n   * * {@link module:ol/interaction/PinchZoom~PinchZoom}\n   * * {@link module:ol/interaction/KeyboardPan~KeyboardPan}\n   * * {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}\n   * * {@link module:ol/interaction/MouseWheelZoom~MouseWheelZoom}\n   * * {@link module:ol/interaction/DragZoom~DragZoom}\n   *\n   * @param {DefaultsOptions=} opt_options Defaults options.\n   * @return {import(\"./Collection.js\").default<import(\"./interaction/Interaction.js\").default>}\n   * A collection of interactions to be used with the {@link module:ol/Map~Map}\n   * constructor's `interactions` option.\n   * @api\n   */\n  function defaults$1(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    var interactions = new Collection();\n\n    var kinetic = new Kinetic(-0.005, 0.05, 100);\n\n    var altShiftDragRotate = options.altShiftDragRotate !== undefined ?\n      options.altShiftDragRotate : true;\n    if (altShiftDragRotate) {\n      interactions.push(new DragRotate());\n    }\n\n    var doubleClickZoom = options.doubleClickZoom !== undefined ?\n      options.doubleClickZoom : true;\n    if (doubleClickZoom) {\n      interactions.push(new DoubleClickZoom({\n        delta: options.zoomDelta,\n        duration: options.zoomDuration\n      }));\n    }\n\n    var dragPan = options.dragPan !== undefined ? options.dragPan : true;\n    if (dragPan) {\n      interactions.push(new DragPan({\n        condition: options.onFocusOnly ? focus : undefined,\n        kinetic: kinetic\n      }));\n    }\n\n    var pinchRotate = options.pinchRotate !== undefined ? options.pinchRotate :\n      true;\n    if (pinchRotate) {\n      interactions.push(new PinchRotate());\n    }\n\n    var pinchZoom = options.pinchZoom !== undefined ? options.pinchZoom : true;\n    if (pinchZoom) {\n      interactions.push(new PinchZoom({\n        constrainResolution: options.constrainResolution,\n        duration: options.zoomDuration\n      }));\n    }\n\n    var keyboard = options.keyboard !== undefined ? options.keyboard : true;\n    if (keyboard) {\n      interactions.push(new KeyboardPan());\n      interactions.push(new KeyboardZoom({\n        delta: options.zoomDelta,\n        duration: options.zoomDuration\n      }));\n    }\n\n    var mouseWheelZoom = options.mouseWheelZoom !== undefined ?\n      options.mouseWheelZoom : true;\n    if (mouseWheelZoom) {\n      interactions.push(new MouseWheelZoom({\n        condition: options.onFocusOnly ? focus : undefined,\n        constrainResolution: options.constrainResolution,\n        duration: options.zoomDuration\n      }));\n    }\n\n    var shiftDragZoom = options.shiftDragZoom !== undefined ?\n      options.shiftDragZoom : true;\n    if (shiftDragZoom) {\n      interactions.push(new DragZoom({\n        duration: options.zoomDuration\n      }));\n    }\n\n    return interactions;\n\n  }\n\n  /**\n   * @module ol/reproj/common\n   */\n\n  /**\n   * Default maximum allowed threshold  (in pixels) for reprojection\n   * triangulation.\n   * @type {number}\n   */\n  var ERROR_THRESHOLD = 0.5;\n\n  /**\n   * @module ol/ImageBase\n   */\n\n  /**\n   * @abstract\n   */\n  var ImageBase = /*@__PURE__*/(function (EventTarget) {\n    function ImageBase(extent, resolution, pixelRatio, state) {\n\n      EventTarget.call(this);\n\n      /**\n       * @protected\n       * @type {import(\"./extent.js\").Extent}\n       */\n      this.extent = extent;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelRatio_ = pixelRatio;\n\n      /**\n       * @protected\n       * @type {number|undefined}\n       */\n      this.resolution = resolution;\n\n      /**\n       * @protected\n       * @type {import(\"./ImageState.js\").default}\n       */\n      this.state = state;\n\n    }\n\n    if ( EventTarget ) ImageBase.__proto__ = EventTarget;\n    ImageBase.prototype = Object.create( EventTarget && EventTarget.prototype );\n    ImageBase.prototype.constructor = ImageBase;\n\n    /**\n     * @protected\n     */\n    ImageBase.prototype.changed = function changed () {\n      this.dispatchEvent(EventType.CHANGE);\n    };\n\n    /**\n     * @return {import(\"./extent.js\").Extent} Extent.\n     */\n    ImageBase.prototype.getExtent = function getExtent () {\n      return this.extent;\n    };\n\n    /**\n     * @abstract\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     */\n    ImageBase.prototype.getImage = function getImage () {\n      return abstract();\n    };\n\n    /**\n     * @return {number} PixelRatio.\n     */\n    ImageBase.prototype.getPixelRatio = function getPixelRatio () {\n      return this.pixelRatio_;\n    };\n\n    /**\n     * @return {number} Resolution.\n     */\n    ImageBase.prototype.getResolution = function getResolution () {\n      return /** @type {number} */ (this.resolution);\n    };\n\n    /**\n     * @return {import(\"./ImageState.js\").default} State.\n     */\n    ImageBase.prototype.getState = function getState () {\n      return this.state;\n    };\n\n    /**\n     * Load not yet loaded URI.\n     * @abstract\n     */\n    ImageBase.prototype.load = function load () {\n      abstract();\n    };\n\n    return ImageBase;\n  }(Target));\n\n  /**\n   * @module ol/ImageCanvas\n   */\n\n\n  /**\n   * A function that is called to trigger asynchronous canvas drawing.  It is\n   * called with a \"done\" callback that should be called when drawing is done.\n   * If any error occurs during drawing, the \"done\" callback should be called with\n   * that error.\n   *\n   * @typedef {function(function(Error=))} Loader\n   */\n\n\n  var ImageCanvas = /*@__PURE__*/(function (ImageBase$$1) {\n    function ImageCanvas(extent, resolution, pixelRatio, canvas, opt_loader) {\n\n      var state = opt_loader !== undefined ? ImageState.IDLE : ImageState.LOADED;\n\n      ImageBase$$1.call(this, extent, resolution, pixelRatio, state);\n\n      /**\n       * Optional canvas loader function.\n       * @type {?Loader}\n       * @private\n       */\n      this.loader_ = opt_loader !== undefined ? opt_loader : null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = canvas;\n\n      /**\n       * @private\n       * @type {Error}\n       */\n      this.error_ = null;\n\n    }\n\n    if ( ImageBase$$1 ) ImageCanvas.__proto__ = ImageBase$$1;\n    ImageCanvas.prototype = Object.create( ImageBase$$1 && ImageBase$$1.prototype );\n    ImageCanvas.prototype.constructor = ImageCanvas;\n\n    /**\n     * Get any error associated with asynchronous rendering.\n     * @return {Error} Any error that occurred during rendering.\n     */\n    ImageCanvas.prototype.getError = function getError () {\n      return this.error_;\n    };\n\n    /**\n     * Handle async drawing complete.\n     * @param {Error=} err Any error during drawing.\n     * @private\n     */\n    ImageCanvas.prototype.handleLoad_ = function handleLoad_ (err) {\n      if (err) {\n        this.error_ = err;\n        this.state = ImageState.ERROR;\n      } else {\n        this.state = ImageState.LOADED;\n      }\n      this.changed();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ImageCanvas.prototype.load = function load () {\n      if (this.state == ImageState.IDLE) {\n        this.state = ImageState.LOADING;\n        this.changed();\n        this.loader_(this.handleLoad_.bind(this));\n      }\n    };\n\n    /**\n     * @return {HTMLCanvasElement} Canvas element.\n     */\n    ImageCanvas.prototype.getImage = function getImage () {\n      return this.canvas_;\n    };\n\n    return ImageCanvas;\n  }(ImageBase));\n\n  /**\n   * @module ol/render/Event\n   */\n\n  var RenderEvent = /*@__PURE__*/(function (Event$$1) {\n    function RenderEvent(type, opt_vectorContext, opt_frameState, opt_context, opt_glContext) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * For canvas, this is an instance of {@link module:ol/render/canvas/Immediate}.\n       * @type {import(\"./VectorContext.js\").default|undefined}\n       * @api\n       */\n      this.vectorContext = opt_vectorContext;\n\n      /**\n       * An object representing the current render frame state.\n       * @type {import(\"../PluggableMap.js\").FrameState|undefined}\n       * @api\n       */\n      this.frameState = opt_frameState;\n\n      /**\n       * Canvas context. Only available when a Canvas renderer is used, null\n       * otherwise.\n       * @type {CanvasRenderingContext2D|null|undefined}\n       * @api\n       */\n      this.context = opt_context;\n\n      /**\n       * WebGL context. Only available when a WebGL renderer is used, null\n       * otherwise.\n       * @type {import(\"../webgl/Context.js\").default|null|undefined}\n       * @api\n       */\n      this.glContext = opt_glContext;\n\n    }\n\n    if ( Event$$1 ) RenderEvent.__proto__ = Event$$1;\n    RenderEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    RenderEvent.prototype.constructor = RenderEvent;\n\n    return RenderEvent;\n  }(Event));\n\n  /**\n   * @module ol/render/VectorContext\n   */\n\n  /**\n   * @classdesc\n   * Context for drawing geometries.  A vector context is available on render\n   * events and does not need to be constructed directly.\n   * @api\n   */\n  var VectorContext = function VectorContext () {};\n\n  VectorContext.prototype.drawCustom = function drawCustom (geometry, feature, renderer) {};\n\n  /**\n   * Render a geometry.\n   *\n   * @param {import(\"../geom/Geometry.js\").default} geometry The geometry to render.\n   */\n  VectorContext.prototype.drawGeometry = function drawGeometry (geometry) {};\n\n  /**\n   * Set the rendering style.\n   *\n   * @param {import(\"../style/Style.js\").default} style The rendering style.\n   */\n  VectorContext.prototype.setStyle = function setStyle (style) {};\n\n  /**\n   * @param {import(\"../geom/Circle.js\").default} circleGeometry Circle geometry.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawCircle = function drawCircle (circleGeometry, feature) {};\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   */\n  VectorContext.prototype.drawFeature = function drawFeature (feature, style) {};\n\n  /**\n   * @param {import(\"../geom/GeometryCollection.js\").default} geometryCollectionGeometry Geometry collection.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawGeometryCollection = function drawGeometryCollection (geometryCollectionGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/LineString.js\").default|import(\"./Feature.js\").default} lineStringGeometry Line string geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawLineString = function drawLineString (lineStringGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/MultiLineString.js\").default|import(\"./Feature.js\").default} multiLineStringGeometry MultiLineString geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawMultiLineString = function drawMultiLineString (multiLineStringGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/MultiPoint.js\").default|import(\"./Feature.js\").default} multiPointGeometry MultiPoint geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawMultiPoint = function drawMultiPoint (multiPointGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/MultiPolygon.js\").default} multiPolygonGeometry MultiPolygon geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawMultiPolygon = function drawMultiPolygon (multiPolygonGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/Point.js\").default|import(\"./Feature.js\").default} pointGeometry Point geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawPoint = function drawPoint (pointGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/Polygon.js\").default|import(\"./Feature.js\").default} polygonGeometry Polygon geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawPolygon = function drawPolygon (polygonGeometry, feature) {};\n\n  /**\n   * @param {import(\"../geom/Geometry.js\").default|import(\"./Feature.js\").default} geometry Geometry.\n   * @param {import(\"../Feature.js\").default|import(\"./Feature.js\").default} feature Feature.\n   */\n  VectorContext.prototype.drawText = function drawText (geometry, feature) {};\n\n  /**\n   * @param {import(\"../style/Fill.js\").default} fillStyle Fill style.\n   * @param {import(\"../style/Stroke.js\").default} strokeStyle Stroke style.\n   */\n  VectorContext.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {};\n\n  /**\n   * @param {import(\"../style/Image.js\").default} imageStyle Image style.\n   * @param {import(\"./canvas.js\").DeclutterGroup=} opt_declutterGroup Declutter.\n   */\n  VectorContext.prototype.setImageStyle = function setImageStyle (imageStyle, opt_declutterGroup) {};\n\n  /**\n   * @param {import(\"../style/Text.js\").default} textStyle Text style.\n   * @param {import(\"./canvas.js\").DeclutterGroup=} opt_declutterGroup Declutter.\n   */\n  VectorContext.prototype.setTextStyle = function setTextStyle (textStyle, opt_declutterGroup) {};\n\n  /**\n   * @module ol/render/canvas/Immediate\n   */\n\n  /**\n   * @classdesc\n   * A concrete subclass of {@link module:ol/render/VectorContext} that implements\n   * direct rendering of features and geometries to an HTML5 Canvas context.\n   * Instances of this class are created internally by the library and\n   * provided to application code as vectorContext member of the\n   * {@link module:ol/render/Event~RenderEvent} object associated with postcompose, precompose and\n   * render events emitted by layers and maps.\n   */\n  var CanvasImmediateRenderer = /*@__PURE__*/(function (VectorContext$$1) {\n    function CanvasImmediateRenderer(context, pixelRatio, extent, transform, viewRotation) {\n      VectorContext$$1.call(this);\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.context_ = context;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelRatio_ = pixelRatio;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.extent_ = extent;\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.transform_ = transform;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.viewRotation_ = viewRotation;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").FillState}\n       */\n      this.contextFillState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").StrokeState}\n       */\n      this.contextStrokeState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").TextState}\n       */\n      this.contextTextState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").FillState}\n       */\n      this.fillState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").StrokeState}\n       */\n      this.strokeState_ = null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n       */\n      this.image_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageAnchorX_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageAnchorY_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageHeight_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageOpacity_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageOriginX_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageOriginY_ = 0;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.imageRotateWithView_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageRotation_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageScale_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.imageWidth_ = 0;\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.text_ = '';\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textOffsetX_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textOffsetY_ = 0;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.textRotateWithView_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textRotation_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textScale_ = 0;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").FillState}\n       */\n      this.textFillState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").StrokeState}\n       */\n      this.textStrokeState_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").TextState}\n       */\n      this.textState_ = null;\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.pixelCoordinates_ = [];\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.tmpLocalTransform_ = create();\n\n    }\n\n    if ( VectorContext$$1 ) CanvasImmediateRenderer.__proto__ = VectorContext$$1;\n    CanvasImmediateRenderer.prototype = Object.create( VectorContext$$1 && VectorContext$$1.prototype );\n    CanvasImmediateRenderer.prototype.constructor = CanvasImmediateRenderer;\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.drawImages_ = function drawImages_ (flatCoordinates, offset, end, stride) {\n      if (!this.image_) {\n        return;\n      }\n      var pixelCoordinates = transform2D(\n        flatCoordinates, offset, end, 2, this.transform_,\n        this.pixelCoordinates_);\n      var context = this.context_;\n      var localTransform = this.tmpLocalTransform_;\n      var alpha = context.globalAlpha;\n      if (this.imageOpacity_ != 1) {\n        context.globalAlpha = alpha * this.imageOpacity_;\n      }\n      var rotation = this.imageRotation_;\n      if (this.imageRotateWithView_) {\n        rotation += this.viewRotation_;\n      }\n      for (var i = 0, ii = pixelCoordinates.length; i < ii; i += 2) {\n        var x = pixelCoordinates[i] - this.imageAnchorX_;\n        var y = pixelCoordinates[i + 1] - this.imageAnchorY_;\n        if (rotation !== 0 || this.imageScale_ != 1) {\n          var centerX = x + this.imageAnchorX_;\n          var centerY = y + this.imageAnchorY_;\n          compose(localTransform,\n            centerX, centerY,\n            this.imageScale_, this.imageScale_,\n            rotation,\n            -centerX, -centerY);\n          context.setTransform.apply(context, localTransform);\n        }\n        context.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_,\n          this.imageWidth_, this.imageHeight_, x, y,\n          this.imageWidth_, this.imageHeight_);\n      }\n      if (rotation !== 0 || this.imageScale_ != 1) {\n        context.setTransform(1, 0, 0, 1, 0, 0);\n      }\n      if (this.imageOpacity_ != 1) {\n        context.globalAlpha = alpha;\n      }\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.drawText_ = function drawText_ (flatCoordinates, offset, end, stride) {\n      if (!this.textState_ || this.text_ === '') {\n        return;\n      }\n      if (this.textFillState_) {\n        this.setContextFillState_(this.textFillState_);\n      }\n      if (this.textStrokeState_) {\n        this.setContextStrokeState_(this.textStrokeState_);\n      }\n      this.setContextTextState_(this.textState_);\n      var pixelCoordinates = transform2D(\n        flatCoordinates, offset, end, stride, this.transform_,\n        this.pixelCoordinates_);\n      var context = this.context_;\n      var rotation = this.textRotation_;\n      if (this.textRotateWithView_) {\n        rotation += this.viewRotation_;\n      }\n      for (; offset < end; offset += stride) {\n        var x = pixelCoordinates[offset] + this.textOffsetX_;\n        var y = pixelCoordinates[offset + 1] + this.textOffsetY_;\n        if (rotation !== 0 || this.textScale_ != 1) {\n          var localTransform = compose(this.tmpLocalTransform_,\n            x, y,\n            this.textScale_, this.textScale_,\n            rotation,\n            -x, -y);\n          context.setTransform.apply(context, localTransform);\n        }\n        if (this.textStrokeState_) {\n          context.strokeText(this.text_, x, y);\n        }\n        if (this.textFillState_) {\n          context.fillText(this.text_, x, y);\n        }\n      }\n      if (rotation !== 0 || this.textScale_ != 1) {\n        context.setTransform(1, 0, 0, 1, 0, 0);\n      }\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} close Close.\n     * @private\n     * @return {number} end End.\n     */\n    CanvasImmediateRenderer.prototype.moveToLineTo_ = function moveToLineTo_ (flatCoordinates, offset, end, stride, close) {\n      var context = this.context_;\n      var pixelCoordinates = transform2D(\n        flatCoordinates, offset, end, stride, this.transform_,\n        this.pixelCoordinates_);\n      context.moveTo(pixelCoordinates[0], pixelCoordinates[1]);\n      var length = pixelCoordinates.length;\n      if (close) {\n        length -= 2;\n      }\n      for (var i = 2; i < length; i += 2) {\n        context.lineTo(pixelCoordinates[i], pixelCoordinates[i + 1]);\n      }\n      if (close) {\n        context.closePath();\n      }\n      return end;\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n    CanvasImmediateRenderer.prototype.drawRings_ = function drawRings_ (flatCoordinates, offset, ends, stride) {\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, true);\n      }\n      return offset;\n    };\n\n    /**\n     * Render a circle geometry into the canvas.  Rendering is immediate and uses\n     * the current fill and stroke styles.\n     *\n     * @param {import(\"../../geom/Circle.js\").default} geometry Circle geometry.\n     * @override\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawCircle = function drawCircle (geometry) {\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.fillState_ || this.strokeState_) {\n        if (this.fillState_) {\n          this.setContextFillState_(this.fillState_);\n        }\n        if (this.strokeState_) {\n          this.setContextStrokeState_(this.strokeState_);\n        }\n        var pixelCoordinates = transformGeom2D(\n          geometry, this.transform_, this.pixelCoordinates_);\n        var dx = pixelCoordinates[2] - pixelCoordinates[0];\n        var dy = pixelCoordinates[3] - pixelCoordinates[1];\n        var radius = Math.sqrt(dx * dx + dy * dy);\n        var context = this.context_;\n        context.beginPath();\n        context.arc(\n          pixelCoordinates[0], pixelCoordinates[1], radius, 0, 2 * Math.PI);\n        if (this.fillState_) {\n          context.fill();\n        }\n        if (this.strokeState_) {\n          context.stroke();\n        }\n      }\n      if (this.text_ !== '') {\n        this.drawText_(geometry.getCenter(), 0, 2, 2);\n      }\n    };\n\n    /**\n     * Set the rendering style.  Note that since this is an immediate rendering API,\n     * any `zIndex` on the provided style will be ignored.\n     *\n     * @param {import(\"../../style/Style.js\").default} style The rendering style.\n     * @override\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.setStyle = function setStyle (style) {\n      this.setFillStrokeStyle(style.getFill(), style.getStroke());\n      this.setImageStyle(style.getImage());\n      this.setTextStyle(style.getText());\n    };\n\n    /**\n     * Render a geometry into the canvas.  Call\n     * {@link module:ol/render/canvas/Immediate#setStyle} first to set the rendering style.\n     *\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry The geometry to render.\n     * @override\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawGeometry = function drawGeometry (geometry) {\n      var type = geometry.getType();\n      switch (type) {\n        case GeometryType.POINT:\n          this.drawPoint(/** @type {import(\"../../geom/Point.js\").default} */ (geometry));\n          break;\n        case GeometryType.LINE_STRING:\n          this.drawLineString(/** @type {import(\"../../geom/LineString.js\").default} */ (geometry));\n          break;\n        case GeometryType.POLYGON:\n          this.drawPolygon(/** @type {import(\"../../geom/Polygon.js\").default} */ (geometry));\n          break;\n        case GeometryType.MULTI_POINT:\n          this.drawMultiPoint(/** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry));\n          break;\n        case GeometryType.MULTI_LINE_STRING:\n          this.drawMultiLineString(/** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry));\n          break;\n        case GeometryType.MULTI_POLYGON:\n          this.drawMultiPolygon(/** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry));\n          break;\n        case GeometryType.GEOMETRY_COLLECTION:\n          this.drawGeometryCollection(/** @type {import(\"../../geom/GeometryCollection.js\").default} */ (geometry));\n          break;\n        case GeometryType.CIRCLE:\n          this.drawCircle(/** @type {import(\"../../geom/Circle.js\").default} */ (geometry));\n          break;\n        default:\n      }\n    };\n\n    /**\n     * Render a feature into the canvas.  Note that any `zIndex` on the provided\n     * style will be ignored - features are rendered immediately in the order that\n     * this method is called.  If you need `zIndex` support, you should be using an\n     * {@link module:ol/layer/Vector~VectorLayer} instead.\n     *\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {import(\"../../style/Style.js\").default} style Style.\n     * @override\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawFeature = function drawFeature (feature, style) {\n      var geometry = style.getGeometryFunction()(feature);\n      if (!geometry || !intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      this.setStyle(style);\n      this.drawGeometry(geometry);\n    };\n\n    /**\n     * Render a GeometryCollection to the canvas.  Rendering is immediate and\n     * uses the current styles appropriate for each geometry in the collection.\n     *\n     * @param {import(\"../../geom/GeometryCollection.js\").default} geometry Geometry collection.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawGeometryCollection = function drawGeometryCollection (geometry) {\n      var geometries = geometry.getGeometriesArray();\n      for (var i = 0, ii = geometries.length; i < ii; ++i) {\n        this.drawGeometry(geometries[i]);\n      }\n    };\n\n    /**\n     * Render a Point geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Point.js\").default|import(\"../Feature.js\").default} geometry Point geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawPoint = function drawPoint (geometry) {\n      var flatCoordinates = geometry.getFlatCoordinates();\n      var stride = geometry.getStride();\n      if (this.image_) {\n        this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n      if (this.text_ !== '') {\n        this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n    };\n\n    /**\n     * Render a MultiPoint geometry  into the canvas.  Rendering is immediate and\n     * uses the current style.\n     *\n     * @param {import(\"../../geom/MultiPoint.js\").default|import(\"../Feature.js\").default} geometry MultiPoint geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawMultiPoint = function drawMultiPoint (geometry) {\n      var flatCoordinates = geometry.getFlatCoordinates();\n      var stride = geometry.getStride();\n      if (this.image_) {\n        this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n      if (this.text_ !== '') {\n        this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n    };\n\n    /**\n     * Render a LineString into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} geometry LineString geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawLineString = function drawLineString (geometry) {\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.strokeState_) {\n        this.setContextStrokeState_(this.strokeState_);\n        var context = this.context_;\n        var flatCoordinates = geometry.getFlatCoordinates();\n        context.beginPath();\n        this.moveToLineTo_(flatCoordinates, 0, flatCoordinates.length,\n          geometry.getStride(), false);\n        context.stroke();\n      }\n      if (this.text_ !== '') {\n        var flatMidpoint = geometry.getFlatMidpoint();\n        this.drawText_(flatMidpoint, 0, 2, 2);\n      }\n    };\n\n    /**\n     * Render a MultiLineString geometry into the canvas.  Rendering is immediate\n     * and uses the current style.\n     *\n     * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} geometry MultiLineString geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawMultiLineString = function drawMultiLineString (geometry) {\n      var geometryExtent = geometry.getExtent();\n      if (!intersects(this.extent_, geometryExtent)) {\n        return;\n      }\n      if (this.strokeState_) {\n        this.setContextStrokeState_(this.strokeState_);\n        var context = this.context_;\n        var flatCoordinates = geometry.getFlatCoordinates();\n        var offset = 0;\n        var ends = /** @type {Array<number>} */ (geometry.getEnds());\n        var stride = geometry.getStride();\n        context.beginPath();\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n          offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, false);\n        }\n        context.stroke();\n      }\n      if (this.text_ !== '') {\n        var flatMidpoints = geometry.getFlatMidpoints();\n        this.drawText_(flatMidpoints, 0, flatMidpoints.length, 2);\n      }\n    };\n\n    /**\n     * Render a Polygon geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Polygon.js\").default|import(\"../Feature.js\").default} geometry Polygon geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawPolygon = function drawPolygon (geometry) {\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.strokeState_ || this.fillState_) {\n        if (this.fillState_) {\n          this.setContextFillState_(this.fillState_);\n        }\n        if (this.strokeState_) {\n          this.setContextStrokeState_(this.strokeState_);\n        }\n        var context = this.context_;\n        context.beginPath();\n        this.drawRings_(geometry.getOrientedFlatCoordinates(),\n          0, /** @type {Array<number>} */ (geometry.getEnds()), geometry.getStride());\n        if (this.fillState_) {\n          context.fill();\n        }\n        if (this.strokeState_) {\n          context.stroke();\n        }\n      }\n      if (this.text_ !== '') {\n        var flatInteriorPoint = geometry.getFlatInteriorPoint();\n        this.drawText_(flatInteriorPoint, 0, 2, 2);\n      }\n    };\n\n    /**\n     * Render MultiPolygon geometry into the canvas.  Rendering is immediate and\n     * uses the current style.\n     * @param {import(\"../../geom/MultiPolygon.js\").default} geometry MultiPolygon geometry.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.drawMultiPolygon = function drawMultiPolygon (geometry) {\n      if (!intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      if (this.strokeState_ || this.fillState_) {\n        if (this.fillState_) {\n          this.setContextFillState_(this.fillState_);\n        }\n        if (this.strokeState_) {\n          this.setContextStrokeState_(this.strokeState_);\n        }\n        var context = this.context_;\n        var flatCoordinates = geometry.getOrientedFlatCoordinates();\n        var offset = 0;\n        var endss = geometry.getEndss();\n        var stride = geometry.getStride();\n        context.beginPath();\n        for (var i = 0, ii = endss.length; i < ii; ++i) {\n          var ends = endss[i];\n          offset = this.drawRings_(flatCoordinates, offset, ends, stride);\n        }\n        if (this.fillState_) {\n          context.fill();\n        }\n        if (this.strokeState_) {\n          context.stroke();\n        }\n      }\n      if (this.text_ !== '') {\n        var flatInteriorPoints = geometry.getFlatInteriorPoints();\n        this.drawText_(flatInteriorPoints, 0, flatInteriorPoints.length, 2);\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillState} fillState Fill state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextFillState_ = function setContextFillState_ (fillState) {\n      var context = this.context_;\n      var contextFillState = this.contextFillState_;\n      if (!contextFillState) {\n        context.fillStyle = fillState.fillStyle;\n        this.contextFillState_ = {\n          fillStyle: fillState.fillStyle\n        };\n      } else {\n        if (contextFillState.fillStyle != fillState.fillStyle) {\n          contextFillState.fillStyle = context.fillStyle = fillState.fillStyle;\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").StrokeState} strokeState Stroke state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextStrokeState_ = function setContextStrokeState_ (strokeState) {\n      var context = this.context_;\n      var contextStrokeState = this.contextStrokeState_;\n      if (!contextStrokeState) {\n        context.lineCap = /** @type {CanvasLineCap} */ (strokeState.lineCap);\n        if (CANVAS_LINE_DASH) {\n          context.setLineDash(strokeState.lineDash);\n          context.lineDashOffset = strokeState.lineDashOffset;\n        }\n        context.lineJoin = /** @type {CanvasLineJoin} */ (strokeState.lineJoin);\n        context.lineWidth = strokeState.lineWidth;\n        context.miterLimit = strokeState.miterLimit;\n        context.strokeStyle = strokeState.strokeStyle;\n        this.contextStrokeState_ = {\n          lineCap: strokeState.lineCap,\n          lineDash: strokeState.lineDash,\n          lineDashOffset: strokeState.lineDashOffset,\n          lineJoin: strokeState.lineJoin,\n          lineWidth: strokeState.lineWidth,\n          miterLimit: strokeState.miterLimit,\n          strokeStyle: strokeState.strokeStyle\n        };\n      } else {\n        if (contextStrokeState.lineCap != strokeState.lineCap) {\n          contextStrokeState.lineCap = context.lineCap = /** @type {CanvasLineCap} */ (strokeState.lineCap);\n        }\n        if (CANVAS_LINE_DASH) {\n          if (!equals(contextStrokeState.lineDash, strokeState.lineDash)) {\n            context.setLineDash(contextStrokeState.lineDash = strokeState.lineDash);\n          }\n          if (contextStrokeState.lineDashOffset != strokeState.lineDashOffset) {\n            contextStrokeState.lineDashOffset = context.lineDashOffset =\n                strokeState.lineDashOffset;\n          }\n        }\n        if (contextStrokeState.lineJoin != strokeState.lineJoin) {\n          contextStrokeState.lineJoin = context.lineJoin = /** @type {CanvasLineJoin} */ (strokeState.lineJoin);\n        }\n        if (contextStrokeState.lineWidth != strokeState.lineWidth) {\n          contextStrokeState.lineWidth = context.lineWidth = strokeState.lineWidth;\n        }\n        if (contextStrokeState.miterLimit != strokeState.miterLimit) {\n          contextStrokeState.miterLimit = context.miterLimit =\n              strokeState.miterLimit;\n        }\n        if (contextStrokeState.strokeStyle != strokeState.strokeStyle) {\n          contextStrokeState.strokeStyle = context.strokeStyle =\n              strokeState.strokeStyle;\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").TextState} textState Text state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextTextState_ = function setContextTextState_ (textState) {\n      var context = this.context_;\n      var contextTextState = this.contextTextState_;\n      var textAlign = textState.textAlign ?\n        textState.textAlign : defaultTextAlign;\n      if (!contextTextState) {\n        context.font = textState.font;\n        context.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n        context.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n        this.contextTextState_ = {\n          font: textState.font,\n          textAlign: textAlign,\n          textBaseline: textState.textBaseline\n        };\n      } else {\n        if (contextTextState.font != textState.font) {\n          contextTextState.font = context.font = textState.font;\n        }\n        if (contextTextState.textAlign != textAlign) {\n          contextTextState.textAlign = context.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n        }\n        if (contextTextState.textBaseline != textState.textBaseline) {\n          contextTextState.textBaseline = context.textBaseline =\n            /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n        }\n      }\n    };\n\n    /**\n     * Set the fill and stroke style for subsequent draw operations.  To clear\n     * either fill or stroke styles, pass null for the appropriate parameter.\n     *\n     * @param {import(\"../../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../../style/Stroke.js\").default} strokeStyle Stroke style.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      if (!fillStyle) {\n        this.fillState_ = null;\n      } else {\n        var fillStyleColor = fillStyle.getColor();\n        this.fillState_ = {\n          fillStyle: asColorLike(fillStyleColor ?\n            fillStyleColor : defaultFillStyle)\n        };\n      }\n      if (!strokeStyle) {\n        this.strokeState_ = null;\n      } else {\n        var strokeStyleColor = strokeStyle.getColor();\n        var strokeStyleLineCap = strokeStyle.getLineCap();\n        var strokeStyleLineDash = strokeStyle.getLineDash();\n        var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n        var strokeStyleLineJoin = strokeStyle.getLineJoin();\n        var strokeStyleWidth = strokeStyle.getWidth();\n        var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n        this.strokeState_ = {\n          lineCap: strokeStyleLineCap !== undefined ?\n            strokeStyleLineCap : defaultLineCap,\n          lineDash: strokeStyleLineDash ?\n            strokeStyleLineDash : defaultLineDash,\n          lineDashOffset: strokeStyleLineDashOffset ?\n            strokeStyleLineDashOffset : defaultLineDashOffset,\n          lineJoin: strokeStyleLineJoin !== undefined ?\n            strokeStyleLineJoin : defaultLineJoin,\n          lineWidth: this.pixelRatio_ * (strokeStyleWidth !== undefined ?\n            strokeStyleWidth : defaultLineWidth),\n          miterLimit: strokeStyleMiterLimit !== undefined ?\n            strokeStyleMiterLimit : defaultMiterLimit,\n          strokeStyle: asColorLike(strokeStyleColor ?\n            strokeStyleColor : defaultStrokeStyle)\n        };\n      }\n    };\n\n    /**\n     * Set the image style for subsequent draw operations.  Pass null to remove\n     * the image style.\n     *\n     * @param {import(\"../../style/Image.js\").default} imageStyle Image style.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.setImageStyle = function setImageStyle (imageStyle) {\n      if (!imageStyle) {\n        this.image_ = null;\n      } else {\n        var imageAnchor = imageStyle.getAnchor();\n        // FIXME pixel ratio\n        var imageImage = imageStyle.getImage(1);\n        var imageOrigin = imageStyle.getOrigin();\n        var imageSize = imageStyle.getSize();\n        this.imageAnchorX_ = imageAnchor[0];\n        this.imageAnchorY_ = imageAnchor[1];\n        this.imageHeight_ = imageSize[1];\n        this.image_ = imageImage;\n        this.imageOpacity_ = imageStyle.getOpacity();\n        this.imageOriginX_ = imageOrigin[0];\n        this.imageOriginY_ = imageOrigin[1];\n        this.imageRotateWithView_ = imageStyle.getRotateWithView();\n        this.imageRotation_ = imageStyle.getRotation();\n        this.imageScale_ = imageStyle.getScale() * this.pixelRatio_;\n        this.imageWidth_ = imageSize[0];\n      }\n    };\n\n    /**\n     * Set the text style for subsequent draw operations.  Pass null to\n     * remove the text style.\n     *\n     * @param {import(\"../../style/Text.js\").default} textStyle Text style.\n     * @override\n     */\n    CanvasImmediateRenderer.prototype.setTextStyle = function setTextStyle (textStyle) {\n      if (!textStyle) {\n        this.text_ = '';\n      } else {\n        var textFillStyle = textStyle.getFill();\n        if (!textFillStyle) {\n          this.textFillState_ = null;\n        } else {\n          var textFillStyleColor = textFillStyle.getColor();\n          this.textFillState_ = {\n            fillStyle: asColorLike(textFillStyleColor ?\n              textFillStyleColor : defaultFillStyle)\n          };\n        }\n        var textStrokeStyle = textStyle.getStroke();\n        if (!textStrokeStyle) {\n          this.textStrokeState_ = null;\n        } else {\n          var textStrokeStyleColor = textStrokeStyle.getColor();\n          var textStrokeStyleLineCap = textStrokeStyle.getLineCap();\n          var textStrokeStyleLineDash = textStrokeStyle.getLineDash();\n          var textStrokeStyleLineDashOffset = textStrokeStyle.getLineDashOffset();\n          var textStrokeStyleLineJoin = textStrokeStyle.getLineJoin();\n          var textStrokeStyleWidth = textStrokeStyle.getWidth();\n          var textStrokeStyleMiterLimit = textStrokeStyle.getMiterLimit();\n          this.textStrokeState_ = {\n            lineCap: textStrokeStyleLineCap !== undefined ?\n              textStrokeStyleLineCap : defaultLineCap,\n            lineDash: textStrokeStyleLineDash ?\n              textStrokeStyleLineDash : defaultLineDash,\n            lineDashOffset: textStrokeStyleLineDashOffset ?\n              textStrokeStyleLineDashOffset : defaultLineDashOffset,\n            lineJoin: textStrokeStyleLineJoin !== undefined ?\n              textStrokeStyleLineJoin : defaultLineJoin,\n            lineWidth: textStrokeStyleWidth !== undefined ?\n              textStrokeStyleWidth : defaultLineWidth,\n            miterLimit: textStrokeStyleMiterLimit !== undefined ?\n              textStrokeStyleMiterLimit : defaultMiterLimit,\n            strokeStyle: asColorLike(textStrokeStyleColor ?\n              textStrokeStyleColor : defaultStrokeStyle)\n          };\n        }\n        var textFont = textStyle.getFont();\n        var textOffsetX = textStyle.getOffsetX();\n        var textOffsetY = textStyle.getOffsetY();\n        var textRotateWithView = textStyle.getRotateWithView();\n        var textRotation = textStyle.getRotation();\n        var textScale = textStyle.getScale();\n        var textText = textStyle.getText();\n        var textTextAlign = textStyle.getTextAlign();\n        var textTextBaseline = textStyle.getTextBaseline();\n        this.textState_ = {\n          font: textFont !== undefined ?\n            textFont : defaultFont,\n          textAlign: textTextAlign !== undefined ?\n            textTextAlign : defaultTextAlign,\n          textBaseline: textTextBaseline !== undefined ?\n            textTextBaseline : defaultTextBaseline\n        };\n        this.text_ = textText !== undefined ? textText : '';\n        this.textOffsetX_ =\n            textOffsetX !== undefined ? (this.pixelRatio_ * textOffsetX) : 0;\n        this.textOffsetY_ =\n            textOffsetY !== undefined ? (this.pixelRatio_ * textOffsetY) : 0;\n        this.textRotateWithView_ = textRotateWithView !== undefined ? textRotateWithView : false;\n        this.textRotation_ = textRotation !== undefined ? textRotation : 0;\n        this.textScale_ = this.pixelRatio_ * (textScale !== undefined ?\n          textScale : 1);\n      }\n    };\n\n    return CanvasImmediateRenderer;\n  }(VectorContext));\n\n  /**\n   * @module ol/style/IconImageCache\n   */\n\n  /**\n   * @classdesc\n   * Singleton class. Available through {@link module:ol/style/IconImageCache~shared}.\n   */\n  var IconImageCache = function IconImageCache() {\n\n    /**\n    * @type {!Object<string, import(\"./IconImage.js\").default>}\n    * @private\n    */\n    this.cache_ = {};\n\n    /**\n    * @type {number}\n    * @private\n    */\n    this.cacheSize_ = 0;\n\n    /**\n    * @type {number}\n    * @private\n    */\n    this.maxCacheSize_ = 32;\n  };\n\n  /**\n  * FIXME empty description for jsdoc\n  */\n  IconImageCache.prototype.clear = function clear () {\n    this.cache_ = {};\n    this.cacheSize_ = 0;\n  };\n\n  /**\n  * FIXME empty description for jsdoc\n  */\n  IconImageCache.prototype.expire = function expire () {\n    if (this.cacheSize_ > this.maxCacheSize_) {\n      var i = 0;\n      for (var key in this.cache_) {\n        var iconImage = this.cache_[key];\n        if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n          delete this.cache_[key];\n          --this.cacheSize_;\n        }\n      }\n    }\n  };\n\n  /**\n  * @param {string} src Src.\n  * @param {?string} crossOrigin Cross origin.\n  * @param {import(\"../color.js\").Color} color Color.\n  * @return {import(\"./IconImage.js\").default} Icon image.\n  */\n  IconImageCache.prototype.get = function get (src, crossOrigin, color) {\n    var key = getKey(src, crossOrigin, color);\n    return key in this.cache_ ? this.cache_[key] : null;\n  };\n\n  /**\n  * @param {string} src Src.\n  * @param {?string} crossOrigin Cross origin.\n  * @param {import(\"../color.js\").Color} color Color.\n  * @param {import(\"./IconImage.js\").default} iconImage Icon image.\n  */\n  IconImageCache.prototype.set = function set (src, crossOrigin, color, iconImage) {\n    var key = getKey(src, crossOrigin, color);\n    this.cache_[key] = iconImage;\n    ++this.cacheSize_;\n  };\n\n  /**\n  * Set the cache size of the icon cache. Default is `32`. Change this value when\n  * your map uses more than 32 different icon images and you are not caching icon\n  * styles on the application level.\n  * @param {number} maxCacheSize Cache max size.\n  * @api\n  */\n  IconImageCache.prototype.setSize = function setSize (maxCacheSize) {\n    this.maxCacheSize_ = maxCacheSize;\n    this.expire();\n  };\n\n\n  /**\n   * @param {string} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../color.js\").Color} color Color.\n   * @return {string} Cache key.\n   */\n  function getKey(src, crossOrigin, color) {\n    var colorString = color ? asString(color) : 'null';\n    return crossOrigin + ':' + src + ':' + colorString;\n  }\n\n\n  /**\n   * The {@link module:ol/style/IconImageCache~IconImageCache} for\n   * {@link module:ol/style/Icon~Icon} images.\n   * @api\n   */\n  var shared = new IconImageCache();\n\n  /**\n   * @module ol/renderer/Map\n   */\n\n  /**\n   * @abstract\n   */\n  var MapRenderer = /*@__PURE__*/(function (Disposable$$1) {\n    function MapRenderer(map) {\n      Disposable$$1.call(this);\n\n      /**\n       * @private\n       * @type {import(\"../PluggableMap.js\").default}\n       */\n      this.map_ = map;\n\n      /**\n       * @private\n       * @type {!Object<string, import(\"./Layer.js\").default>}\n       */\n      this.layerRenderers_ = {};\n\n      /**\n       * @private\n       * @type {Object<string, import(\"../events.js\").EventsKey>}\n       */\n      this.layerRendererListeners_ = {};\n\n      /**\n       * @private\n       * @type {Array<typeof import(\"./Layer.js\").default>}\n       */\n      this.layerRendererConstructors_ = [];\n\n    }\n\n    if ( Disposable$$1 ) MapRenderer.__proto__ = Disposable$$1;\n    MapRenderer.prototype = Object.create( Disposable$$1 && Disposable$$1.prototype );\n    MapRenderer.prototype.constructor = MapRenderer;\n\n    /**\n     * @abstract\n     * @param {import(\"../render/EventType.js\").default} type Event type.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    MapRenderer.prototype.dispatchRenderEvent = function dispatchRenderEvent (type, frameState) {\n      abstract();\n    };\n\n    /**\n     * Register layer renderer constructors.\n     * @param {Array<typeof import(\"./Layer.js\").default>} constructors Layer renderers.\n     */\n    MapRenderer.prototype.registerLayerRenderers = function registerLayerRenderers (constructors) {\n      this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_, constructors);\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @protected\n     */\n    MapRenderer.prototype.calculateMatrices2D = function calculateMatrices2D (frameState) {\n      var viewState = frameState.viewState;\n      var coordinateToPixelTransform = frameState.coordinateToPixelTransform;\n      var pixelToCoordinateTransform = frameState.pixelToCoordinateTransform;\n\n      compose(coordinateToPixelTransform,\n        frameState.size[0] / 2, frameState.size[1] / 2,\n        1 / viewState.resolution, -1 / viewState.resolution,\n        -viewState.rotation,\n        -viewState.center[0], -viewState.center[1]);\n\n      invert(\n        setFromArray(pixelToCoordinateTransform, coordinateToPixelTransform));\n    };\n\n    /**\n     * Removes all layer renderers.\n     */\n    MapRenderer.prototype.removeLayerRenderers = function removeLayerRenderers () {\n      for (var key in this.layerRenderers_) {\n        this.removeLayerRendererByKey_(key).dispose();\n      }\n    };\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(this: S, import(\"../Feature.js\").FeatureLike,\n     *     import(\"../layer/Layer.js\").default): T} callback Feature callback.\n     * @param {S} thisArg Value to use as `this` when executing `callback`.\n     * @param {function(this: U, import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @param {U} thisArg2 Value to use as `this` when executing `layerFilter`.\n     * @return {T|undefined} Callback result.\n     * @template S,T,U\n     */\n    MapRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (\n      coordinate,\n      frameState,\n      hitTolerance,\n      callback,\n      thisArg,\n      layerFilter,\n      thisArg2\n    ) {\n      var result;\n      var viewState = frameState.viewState;\n      var viewResolution = viewState.resolution;\n\n      /**\n       * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n       * @param {import(\"../layer/Layer.js\").default} layer Layer.\n       * @return {?} Callback result.\n       */\n      function forEachFeatureAtCoordinate(feature, layer) {\n        var managed = frameState.layerStates[getUid(layer)].managed;\n        if (!(getUid(feature) in frameState.skippedFeatureUids && !managed)) {\n          return callback.call(thisArg, feature, managed ? layer : null);\n        }\n      }\n\n      var projection = viewState.projection;\n\n      var translatedCoordinate = coordinate;\n      if (projection.canWrapX()) {\n        var projectionExtent = projection.getExtent();\n        var worldWidth = getWidth(projectionExtent);\n        var x = coordinate[0];\n        if (x < projectionExtent[0] || x > projectionExtent[2]) {\n          var worldsAway = Math.ceil((projectionExtent[0] - x) / worldWidth);\n          translatedCoordinate = [x + worldWidth * worldsAway, coordinate[1]];\n        }\n      }\n\n      var layerStates = frameState.layerStatesArray;\n      var numLayers = layerStates.length;\n      var i;\n      for (i = numLayers - 1; i >= 0; --i) {\n        var layerState = layerStates[i];\n        var layer = layerState.layer;\n        if (visibleAtResolution(layerState, viewResolution) && layerFilter.call(thisArg2, layer)) {\n          var layerRenderer = this.getLayerRenderer(layer);\n          var source = /** @type {import(\"../layer/Layer.js\").default} */ (layer).getSource();\n          if (source) {\n            result = layerRenderer.forEachFeatureAtCoordinate(\n              source.getWrapX() ? translatedCoordinate : coordinate,\n              frameState, hitTolerance, forEachFeatureAtCoordinate);\n          }\n          if (result) {\n            return result;\n          }\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(this: S, import(\"../layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback Layer\n     *     callback.\n     * @param {S} thisArg Value to use as `this` when executing `callback`.\n     * @param {function(this: U, import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @param {U} thisArg2 Value to use as `this` when executing `layerFilter`.\n     * @return {T|undefined} Callback result.\n     * @template S,T,U\n     */\n    MapRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, hitTolerance, callback, thisArg, layerFilter, thisArg2) {\n      return abstract();\n    };\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(this: U, import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @param {U} thisArg Value to use as `this` when executing `layerFilter`.\n     * @return {boolean} Is there a feature at the given coordinate?\n     * @template U\n     */\n    MapRenderer.prototype.hasFeatureAtCoordinate = function hasFeatureAtCoordinate (coordinate, frameState, hitTolerance, layerFilter, thisArg) {\n      var hasFeature = this.forEachFeatureAtCoordinate(\n        coordinate, frameState, hitTolerance, TRUE, this, layerFilter, thisArg);\n\n      return hasFeature !== undefined;\n    };\n\n    /**\n     * @param {import(\"../layer/Base.js\").default} layer Layer.\n     * @protected\n     * @return {import(\"./Layer.js\").default} Layer renderer.\n     */\n    MapRenderer.prototype.getLayerRenderer = function getLayerRenderer (layer) {\n      var layerKey = getUid(layer);\n      if (layerKey in this.layerRenderers_) {\n        return this.layerRenderers_[layerKey];\n      } else {\n        var renderer;\n        for (var i = 0, ii = this.layerRendererConstructors_.length; i < ii; ++i) {\n          var candidate = this.layerRendererConstructors_[i];\n          if (candidate['handles'](layer)) {\n            renderer = candidate['create'](this, layer);\n            break;\n          }\n        }\n        if (renderer) {\n          this.layerRenderers_[layerKey] = renderer;\n          this.layerRendererListeners_[layerKey] = listen(renderer,\n            EventType.CHANGE, this.handleLayerRendererChange_, this);\n        } else {\n          throw new Error('Unable to create renderer for layer: ' + layer.getType());\n        }\n        return renderer;\n      }\n    };\n\n    /**\n     * @param {string} layerKey Layer key.\n     * @protected\n     * @return {import(\"./Layer.js\").default} Layer renderer.\n     */\n    MapRenderer.prototype.getLayerRendererByKey = function getLayerRendererByKey (layerKey) {\n      return this.layerRenderers_[layerKey];\n    };\n\n    /**\n     * @protected\n     * @return {Object<string, import(\"./Layer.js\").default>} Layer renderers.\n     */\n    MapRenderer.prototype.getLayerRenderers = function getLayerRenderers () {\n      return this.layerRenderers_;\n    };\n\n    /**\n     * @return {import(\"../PluggableMap.js\").default} Map.\n     */\n    MapRenderer.prototype.getMap = function getMap () {\n      return this.map_;\n    };\n\n    /**\n     * Handle changes in a layer renderer.\n     * @private\n     */\n    MapRenderer.prototype.handleLayerRendererChange_ = function handleLayerRendererChange_ () {\n      this.map_.render();\n    };\n\n    /**\n     * @param {string} layerKey Layer key.\n     * @return {import(\"./Layer.js\").default} Layer renderer.\n     * @private\n     */\n    MapRenderer.prototype.removeLayerRendererByKey_ = function removeLayerRendererByKey_ (layerKey) {\n      var layerRenderer = this.layerRenderers_[layerKey];\n      delete this.layerRenderers_[layerKey];\n\n      unlistenByKey(this.layerRendererListeners_[layerKey]);\n      delete this.layerRendererListeners_[layerKey];\n\n      return layerRenderer;\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @private\n     */\n    MapRenderer.prototype.removeUnusedLayerRenderers_ = function removeUnusedLayerRenderers_ (map, frameState) {\n      for (var layerKey in this.layerRenderers_) {\n        if (!frameState || !(layerKey in frameState.layerStates)) {\n          this.removeLayerRendererByKey_(layerKey).dispose();\n        }\n      }\n    };\n\n    /**\n     * Render.\n     * @abstract\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    MapRenderer.prototype.renderFrame = function renderFrame (frameState) {\n      abstract();\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    MapRenderer.prototype.scheduleExpireIconCache = function scheduleExpireIconCache (frameState) {\n      frameState.postRenderFunctions.push(/** @type {import(\"../PluggableMap.js\").PostRenderFunction} */ (expireIconCache));\n    };\n\n    /**\n     * @param {!import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    MapRenderer.prototype.scheduleRemoveUnusedLayerRenderers = function scheduleRemoveUnusedLayerRenderers (frameState) {\n      for (var layerKey in this.layerRenderers_) {\n        if (!(layerKey in frameState.layerStates)) {\n          frameState.postRenderFunctions.push(\n            /** @type {import(\"../PluggableMap.js\").PostRenderFunction} */ (this.removeUnusedLayerRenderers_.bind(this))\n          );\n          return;\n        }\n      }\n    };\n\n    return MapRenderer;\n  }(Disposable));\n\n\n  /**\n   * @param {import(\"../PluggableMap.js\").default} map Map.\n   * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n   */\n  function expireIconCache(map, frameState) {\n    shared.expire();\n  }\n\n\n  /**\n   * @param {import(\"../layer/Layer.js\").State} state1 First layer state.\n   * @param {import(\"../layer/Layer.js\").State} state2 Second layer state.\n   * @return {number} The zIndex difference.\n   */\n  function sortByZIndex(state1, state2) {\n    return state1.zIndex - state2.zIndex;\n  }\n\n  /**\n   * @module ol/renderer/canvas/Map\n   */\n\n\n  /**\n   * @type {Array<typeof import(\"../Layer.js\").default>}\n   */\n  var layerRendererConstructors = [];\n\n  /**\n   * @classdesc\n   * Canvas map renderer.\n   * @api\n   */\n  var CanvasMapRenderer = /*@__PURE__*/(function (MapRenderer$$1) {\n    function CanvasMapRenderer(map) {\n      MapRenderer$$1.call(this, map);\n\n      var container = map.getViewport();\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.context_ = createCanvasContext2D();\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = this.context_.canvas;\n\n      this.canvas_.style.width = '100%';\n      this.canvas_.style.height = '100%';\n      this.canvas_.style.display = 'block';\n      this.canvas_.className = CLASS_UNSELECTABLE;\n      container.insertBefore(this.canvas_, container.childNodes[0] || null);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderedVisible_ = true;\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.transform_ = create();\n\n    }\n\n    if ( MapRenderer$$1 ) CanvasMapRenderer.__proto__ = MapRenderer$$1;\n    CanvasMapRenderer.prototype = Object.create( MapRenderer$$1 && MapRenderer$$1.prototype );\n    CanvasMapRenderer.prototype.constructor = CanvasMapRenderer;\n\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    CanvasMapRenderer.prototype.dispatchRenderEvent = function dispatchRenderEvent (type, frameState) {\n      var map = this.getMap();\n      var context = this.context_;\n      if (map.hasListener(type)) {\n        var extent = frameState.extent;\n        var pixelRatio = frameState.pixelRatio;\n        var viewState = frameState.viewState;\n        var rotation = viewState.rotation;\n\n        var transform = this.getTransform(frameState);\n\n        var vectorContext = new CanvasImmediateRenderer(context, pixelRatio,\n          extent, transform, rotation);\n        var composeEvent = new RenderEvent(type, vectorContext,\n          frameState, context, null);\n        map.dispatchEvent(composeEvent);\n      }\n    };\n\n    /**\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     * @return {!import(\"../../transform.js\").Transform} Transform.\n     */\n    CanvasMapRenderer.prototype.getTransform = function getTransform (frameState) {\n      var viewState = frameState.viewState;\n      var dx1 = this.canvas_.width / 2;\n      var dy1 = this.canvas_.height / 2;\n      var sx = frameState.pixelRatio / viewState.resolution;\n      var sy = -sx;\n      var angle = -viewState.rotation;\n      var dx2 = -viewState.center[0];\n      var dy2 = -viewState.center[1];\n      return compose(this.transform_, dx1, dy1, sx, sy, angle, dx2, dy2);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasMapRenderer.prototype.renderFrame = function renderFrame (frameState) {\n\n      if (!frameState) {\n        if (this.renderedVisible_) {\n          this.canvas_.style.display = 'none';\n          this.renderedVisible_ = false;\n        }\n        return;\n      }\n\n      var context = this.context_;\n      var pixelRatio = frameState.pixelRatio;\n      var width = Math.round(frameState.size[0] * pixelRatio);\n      var height = Math.round(frameState.size[1] * pixelRatio);\n      if (this.canvas_.width != width || this.canvas_.height != height) {\n        this.canvas_.width = width;\n        this.canvas_.height = height;\n      } else {\n        context.clearRect(0, 0, width, height);\n      }\n\n      var rotation = frameState.viewState.rotation;\n\n      this.calculateMatrices2D(frameState);\n\n      this.dispatchRenderEvent(RenderEventType.PRECOMPOSE, frameState);\n\n      var layerStatesArray = frameState.layerStatesArray;\n      stableSort(layerStatesArray, sortByZIndex);\n\n      if (rotation) {\n        context.save();\n        rotateAtOffset(context, rotation, width / 2, height / 2);\n      }\n\n      var viewResolution = frameState.viewState.resolution;\n      var i, ii;\n      for (i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n        var layerState = layerStatesArray[i];\n        var layer = layerState.layer;\n        var layerRenderer = /** @type {import(\"./Layer.js\").default} */ (this.getLayerRenderer(layer));\n        if (!visibleAtResolution(layerState, viewResolution) ||\n            layerState.sourceState != SourceState.READY) {\n          continue;\n        }\n        if (layerRenderer.prepareFrame(frameState, layerState)) {\n          layerRenderer.composeFrame(frameState, layerState, context);\n        }\n      }\n\n      if (rotation) {\n        context.restore();\n      }\n\n      this.dispatchRenderEvent(RenderEventType.POSTCOMPOSE, frameState);\n\n      if (!this.renderedVisible_) {\n        this.canvas_.style.display = '';\n        this.renderedVisible_ = true;\n      }\n\n      this.scheduleRemoveUnusedLayerRenderers(frameState);\n      this.scheduleExpireIconCache(frameState);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasMapRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, hitTolerance, callback, thisArg, layerFilter, thisArg2) {\n      var result;\n      var viewState = frameState.viewState;\n      var viewResolution = viewState.resolution;\n\n      var layerStates = frameState.layerStatesArray;\n      var numLayers = layerStates.length;\n\n      var coordinate = apply(\n        frameState.pixelToCoordinateTransform, pixel.slice());\n\n      var i;\n      for (i = numLayers - 1; i >= 0; --i) {\n        var layerState = layerStates[i];\n        var layer = layerState.layer;\n        if (visibleAtResolution(layerState, viewResolution) && layerFilter.call(thisArg2, layer)) {\n          var layerRenderer = /** @type {import(\"./Layer.js\").default} */ (this.getLayerRenderer(layer));\n          result = layerRenderer.forEachLayerAtCoordinate(\n            coordinate, frameState, hitTolerance, callback, thisArg);\n          if (result) {\n            return result;\n          }\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasMapRenderer.prototype.registerLayerRenderers = function registerLayerRenderers (constructors) {\n      MapRenderer$$1.prototype.registerLayerRenderers.call(this, constructors);\n      for (var i = 0, ii = constructors.length; i < ii; ++i) {\n        var ctor = constructors[i];\n        if (!includes(layerRendererConstructors, ctor)) {\n          layerRendererConstructors.push(ctor);\n        }\n      }\n    };\n\n    return CanvasMapRenderer;\n  }(MapRenderer));\n\n  /**\n   * @module ol/renderer/Layer\n   */\n\n  var LayerRenderer = /*@__PURE__*/(function (Observable$$1) {\n    function LayerRenderer(layer) {\n\n      Observable$$1.call(this);\n\n      /**\n       * @private\n       * @type {import(\"../layer/Layer.js\").default}\n       */\n      this.layer_ = layer;\n\n    }\n\n    if ( Observable$$1 ) LayerRenderer.__proto__ = Observable$$1;\n    LayerRenderer.prototype = Object.create( Observable$$1 && Observable$$1.prototype );\n    LayerRenderer.prototype.constructor = LayerRenderer;\n\n    /**\n     * Create a function that adds loaded tiles to the tile lookup.\n     * @param {import(\"../source/Tile.js\").default} source Tile source.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection of the tiles.\n     * @param {Object<number, Object<string, import(\"../Tile.js\").default>>} tiles Lookup of loaded tiles by zoom level.\n     * @return {function(number, import(\"../TileRange.js\").default):boolean} A function that can be\n     *     called with a zoom level and a tile range to add loaded tiles to the lookup.\n     * @protected\n     */\n    LayerRenderer.prototype.createLoadedTileFinder = function createLoadedTileFinder (source, projection, tiles) {\n      return (\n        /**\n         * @param {number} zoom Zoom level.\n         * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n         * @return {boolean} The tile range is fully loaded.\n         */\n        function(zoom, tileRange) {\n          /**\n           * @param {import(\"../Tile.js\").default} tile Tile.\n           */\n          function callback(tile) {\n            if (!tiles[zoom]) {\n              tiles[zoom] = {};\n            }\n            tiles[zoom][tile.tileCoord.toString()] = tile;\n          }\n          return source.forEachLoadedTile(projection, zoom, tileRange, callback);\n        }\n      );\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(import(\"../Feature.js\").FeatureLike, import(\"../layer/Layer.js\").default): T} callback Feature callback.\n     * @return {T|void} Callback result.\n     * @template T\n     */\n    LayerRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (coordinate, frameState, hitTolerance, callback) {};\n\n    /**\n     * @return {import(\"../layer/Layer.js\").default} Layer.\n     */\n    LayerRenderer.prototype.getLayer = function getLayer () {\n      return this.layer_;\n    };\n\n    /**\n     * Handle changes in image state.\n     * @param {import(\"../events/Event.js\").default} event Image change event.\n     * @private\n     */\n    LayerRenderer.prototype.handleImageChange_ = function handleImageChange_ (event) {\n      var image = /** @type {import(\"../Image.js\").default} */ (event.target);\n      if (image.getState() === ImageState.LOADED) {\n        this.renderIfReadyAndVisible();\n      }\n    };\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Is there a feature at the given coordinate?\n     */\n    LayerRenderer.prototype.hasFeatureAtCoordinate = function hasFeatureAtCoordinate (coordinate, frameState) {\n      return false;\n    };\n\n    /**\n     * Load the image if not already loaded, and register the image change\n     * listener if needed.\n     * @param {import(\"../ImageBase.js\").default} image Image.\n     * @return {boolean} `true` if the image is already loaded, `false` otherwise.\n     * @protected\n     */\n    LayerRenderer.prototype.loadImage = function loadImage (image) {\n      var imageState = image.getState();\n      if (imageState != ImageState.LOADED && imageState != ImageState.ERROR) {\n        listen(image, EventType.CHANGE, this.handleImageChange_, this);\n      }\n      if (imageState == ImageState.IDLE) {\n        image.load();\n        imageState = image.getState();\n      }\n      return imageState == ImageState.LOADED;\n    };\n\n    /**\n     * @protected\n     */\n    LayerRenderer.prototype.renderIfReadyAndVisible = function renderIfReadyAndVisible () {\n      var layer = this.getLayer();\n      if (layer.getVisible() && layer.getSourceState() == SourceState.READY) {\n        this.changed();\n      }\n    };\n\n    /**\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../source/Tile.js\").default} tileSource Tile source.\n     * @protected\n     */\n    LayerRenderer.prototype.scheduleExpireCache = function scheduleExpireCache (frameState, tileSource) {\n      if (tileSource.canExpireCache()) {\n        /**\n         * @param {import(\"../source/Tile.js\").default} tileSource Tile source.\n         * @param {import(\"../PluggableMap.js\").default} map Map.\n         * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n         */\n        var postRenderFunction = function(tileSource, map, frameState) {\n          var tileSourceKey = getUid(tileSource);\n          if (tileSourceKey in frameState.usedTiles) {\n            tileSource.expireCache(frameState.viewState.projection,\n              frameState.usedTiles[tileSourceKey]);\n          }\n        }.bind(null, tileSource);\n\n        frameState.postRenderFunctions.push(\n          /** @type {import(\"../PluggableMap.js\").PostRenderFunction} */ (postRenderFunction)\n        );\n      }\n    };\n\n    /**\n     * @param {!Object<string, !Object<string, import(\"../TileRange.js\").default>>} usedTiles Used tiles.\n     * @param {import(\"../source/Tile.js\").default} tileSource Tile source.\n     * @param {number} z Z.\n     * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n     * @protected\n     */\n    LayerRenderer.prototype.updateUsedTiles = function updateUsedTiles (usedTiles, tileSource, z, tileRange) {\n      // FIXME should we use tilesToDrawByZ instead?\n      var tileSourceKey = getUid(tileSource);\n      var zKey = z.toString();\n      if (tileSourceKey in usedTiles) {\n        if (zKey in usedTiles[tileSourceKey]) {\n          usedTiles[tileSourceKey][zKey].extend(tileRange);\n        } else {\n          usedTiles[tileSourceKey][zKey] = tileRange;\n        }\n      } else {\n        usedTiles[tileSourceKey] = {};\n        usedTiles[tileSourceKey][zKey] = tileRange;\n      }\n    };\n\n    /**\n     * Manage tile pyramid.\n     * This function performs a number of functions related to the tiles at the\n     * current zoom and lower zoom levels:\n     * - registers idle tiles in frameState.wantedTiles so that they are not\n     *   discarded by the tile queue\n     * - enqueues missing tiles\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../source/Tile.js\").default} tileSource Tile source.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} currentZ Current Z.\n     * @param {number} preload Load low resolution tiles up to 'preload' levels.\n     * @param {function(this: T, import(\"../Tile.js\").default)=} opt_tileCallback Tile callback.\n     * @param {T=} opt_this Object to use as `this` in `opt_tileCallback`.\n     * @protected\n     * @template T\n     */\n    LayerRenderer.prototype.manageTilePyramid = function manageTilePyramid (\n      frameState,\n      tileSource,\n      tileGrid,\n      pixelRatio,\n      projection,\n      extent,\n      currentZ,\n      preload,\n      opt_tileCallback,\n      opt_this\n    ) {\n      var tileSourceKey = getUid(tileSource);\n      if (!(tileSourceKey in frameState.wantedTiles)) {\n        frameState.wantedTiles[tileSourceKey] = {};\n      }\n      var wantedTiles = frameState.wantedTiles[tileSourceKey];\n      var tileQueue = frameState.tileQueue;\n      var minZoom = tileGrid.getMinZoom();\n      var tile, tileRange, tileResolution, x, y, z;\n      for (z = minZoom; z <= currentZ; ++z) {\n        tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z, tileRange);\n        tileResolution = tileGrid.getResolution(z);\n        for (x = tileRange.minX; x <= tileRange.maxX; ++x) {\n          for (y = tileRange.minY; y <= tileRange.maxY; ++y) {\n            if (currentZ - z <= preload) {\n              tile = tileSource.getTile(z, x, y, pixelRatio, projection);\n              if (tile.getState() == TileState.IDLE) {\n                wantedTiles[tile.getKey()] = true;\n                if (!tileQueue.isKeyQueued(tile.getKey())) {\n                  tileQueue.enqueue([tile, tileSourceKey,\n                    tileGrid.getTileCoordCenter(tile.tileCoord), tileResolution]);\n                }\n              }\n              if (opt_tileCallback !== undefined) {\n                opt_tileCallback.call(opt_this, tile);\n              }\n            } else {\n              tileSource.useTile(z, x, y, projection);\n            }\n          }\n        }\n      }\n    };\n\n    return LayerRenderer;\n  }(Observable));\n\n  /**\n   * @module ol/renderer/canvas/Layer\n   */\n\n  /**\n   * @abstract\n   */\n  var CanvasLayerRenderer = /*@__PURE__*/(function (LayerRenderer$$1) {\n    function CanvasLayerRenderer(layer) {\n\n      LayerRenderer$$1.call(this, layer);\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.renderedResolution;\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.transform_ = create();\n\n    }\n\n    if ( LayerRenderer$$1 ) CanvasLayerRenderer.__proto__ = LayerRenderer$$1;\n    CanvasLayerRenderer.prototype = Object.create( LayerRenderer$$1 && LayerRenderer$$1.prototype );\n    CanvasLayerRenderer.prototype.constructor = CanvasLayerRenderer;\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../extent.js\").Extent} extent Clip extent.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.clip = function clip (context, frameState, extent) {\n      var pixelRatio = frameState.pixelRatio;\n      var width = frameState.size[0] * pixelRatio;\n      var height = frameState.size[1] * pixelRatio;\n      var rotation = frameState.viewState.rotation;\n      var topLeft = getTopLeft(extent);\n      var topRight = getTopRight(extent);\n      var bottomRight = getBottomRight(extent);\n      var bottomLeft = getBottomLeft(extent);\n\n      apply(frameState.coordinateToPixelTransform, topLeft);\n      apply(frameState.coordinateToPixelTransform, topRight);\n      apply(frameState.coordinateToPixelTransform, bottomRight);\n      apply(frameState.coordinateToPixelTransform, bottomLeft);\n\n      context.save();\n      rotateAtOffset(context, -rotation, width / 2, height / 2);\n      context.beginPath();\n      context.moveTo(topLeft[0] * pixelRatio, topLeft[1] * pixelRatio);\n      context.lineTo(topRight[0] * pixelRatio, topRight[1] * pixelRatio);\n      context.lineTo(bottomRight[0] * pixelRatio, bottomRight[1] * pixelRatio);\n      context.lineTo(bottomLeft[0] * pixelRatio, bottomLeft[1] * pixelRatio);\n      context.clip();\n      rotateAtOffset(context, rotation, width / 2, height / 2);\n    };\n\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../transform.js\").Transform=} opt_transform Transform.\n     * @private\n     */\n    CanvasLayerRenderer.prototype.dispatchComposeEvent_ = function dispatchComposeEvent_ (type, context, frameState, opt_transform) {\n      var layer = this.getLayer();\n      if (layer.hasListener(type)) {\n        var width = frameState.size[0] * frameState.pixelRatio;\n        var height = frameState.size[1] * frameState.pixelRatio;\n        var rotation = frameState.viewState.rotation;\n        rotateAtOffset(context, -rotation, width / 2, height / 2);\n        var transform = opt_transform !== undefined ?\n          opt_transform : this.getTransform(frameState, 0);\n        var render = new CanvasImmediateRenderer(\n          context, frameState.pixelRatio, frameState.extent, transform,\n          frameState.viewState.rotation);\n        var composeEvent = new RenderEvent(type, render, frameState,\n          context, null);\n        layer.dispatchEvent(composeEvent);\n        rotateAtOffset(context, rotation, width / 2, height / 2);\n      }\n    };\n\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(this: S, import(\"../../layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback Layer\n     *     callback.\n     * @param {S} thisArg Value to use as `this` when executing `callback`.\n     * @return {T|undefined} Callback result.\n     * @template S,T,U\n     */\n    CanvasLayerRenderer.prototype.forEachLayerAtCoordinate = function forEachLayerAtCoordinate (coordinate, frameState, hitTolerance, callback, thisArg) {\n      var hasFeature = this.forEachFeatureAtCoordinate(coordinate, frameState, hitTolerance, TRUE);\n\n      if (hasFeature) {\n        return callback.call(thisArg, this.getLayer(), null);\n      } else {\n        return undefined;\n      }\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @param {import(\"../../transform.js\").Transform=} opt_transform Transform.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.postCompose = function postCompose (context, frameState, layerState, opt_transform) {\n      this.dispatchComposeEvent_(RenderEventType.POSTCOMPOSE, context, frameState, opt_transform);\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../transform.js\").Transform=} opt_transform Transform.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.preCompose = function preCompose (context, frameState, opt_transform) {\n      this.dispatchComposeEvent_(RenderEventType.PRECOMPOSE, context, frameState, opt_transform);\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../transform.js\").Transform=} opt_transform Transform.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.dispatchRenderEvent = function dispatchRenderEvent (context, frameState, opt_transform) {\n      this.dispatchComposeEvent_(RenderEventType.RENDER, context, frameState, opt_transform);\n    };\n\n    /**\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} offsetX Offset on the x-axis in view coordinates.\n     * @protected\n     * @return {!import(\"../../transform.js\").Transform} Transform.\n     */\n    CanvasLayerRenderer.prototype.getTransform = function getTransform (frameState, offsetX) {\n      var viewState = frameState.viewState;\n      var pixelRatio = frameState.pixelRatio;\n      var dx1 = pixelRatio * frameState.size[0] / 2;\n      var dy1 = pixelRatio * frameState.size[1] / 2;\n      var sx = pixelRatio / viewState.resolution;\n      var sy = -sx;\n      var angle = -viewState.rotation;\n      var dx2 = -viewState.center[0] + offsetX;\n      var dy2 = -viewState.center[1];\n      return compose(this.transform_, dx1, dy1, sx, sy, angle, dx2, dy2);\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @param {CanvasRenderingContext2D} context Context.\n     */\n    CanvasLayerRenderer.prototype.composeFrame = function composeFrame (frameState, layerState, context) {\n      abstract();\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @return {boolean} whether composeFrame should be called.\n     */\n    CanvasLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState) {\n      return abstract();\n    };\n\n    return CanvasLayerRenderer;\n  }(LayerRenderer));\n\n  /**\n   * @module ol/renderer/canvas/IntermediateCanvas\n   */\n\n  /**\n   * @abstract\n   */\n  var IntermediateCanvasRenderer = /*@__PURE__*/(function (CanvasLayerRenderer$$1) {\n    function IntermediateCanvasRenderer(layer) {\n\n      CanvasLayerRenderer$$1.call(this, layer);\n\n      /**\n       * @protected\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.coordinateToCanvasPixelTransform = create();\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.hitCanvasContext_ = null;\n\n    }\n\n    if ( CanvasLayerRenderer$$1 ) IntermediateCanvasRenderer.__proto__ = CanvasLayerRenderer$$1;\n    IntermediateCanvasRenderer.prototype = Object.create( CanvasLayerRenderer$$1 && CanvasLayerRenderer$$1.prototype );\n    IntermediateCanvasRenderer.prototype.constructor = IntermediateCanvasRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    IntermediateCanvasRenderer.prototype.composeFrame = function composeFrame (frameState, layerState, context) {\n\n      this.preCompose(context, frameState);\n\n      var image = this.getImage();\n      if (image) {\n\n        // clipped rendering if layer extent is set\n        var extent = layerState.extent;\n        var clipped = extent !== undefined &&\n            !containsExtent(extent, frameState.extent) &&\n            intersects(extent, frameState.extent);\n        if (clipped) {\n          this.clip(context, frameState, /** @type {import(\"../../extent.js\").Extent} */ (extent));\n        }\n\n        var imageTransform = this.getImageTransform();\n        // for performance reasons, context.save / context.restore is not used\n        // to save and restore the transformation matrix and the opacity.\n        // see http://jsperf.com/context-save-restore-versus-variable\n        var alpha = context.globalAlpha;\n        context.globalAlpha = layerState.opacity;\n\n        // for performance reasons, context.setTransform is only used\n        // when the view is rotated. see http://jsperf.com/canvas-transform\n        var dx = imageTransform[4];\n        var dy = imageTransform[5];\n        var dw = image.width * imageTransform[0];\n        var dh = image.height * imageTransform[3];\n        if (dw >= 0.5 && dh >= 0.5) {\n          context.drawImage(image, 0, 0, +image.width, +image.height,\n            Math.round(dx), Math.round(dy), Math.round(dw), Math.round(dh));\n        }\n        context.globalAlpha = alpha;\n\n        if (clipped) {\n          context.restore();\n        }\n      }\n\n      this.postCompose(context, frameState, layerState);\n    };\n\n    /**\n     * @abstract\n     * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Canvas.\n     */\n    IntermediateCanvasRenderer.prototype.getImage = function getImage () {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @return {!import(\"../../transform.js\").Transform} Image transform.\n     */\n    IntermediateCanvasRenderer.prototype.getImageTransform = function getImageTransform () {\n      return abstract();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    IntermediateCanvasRenderer.prototype.forEachLayerAtCoordinate = function forEachLayerAtCoordinate (coordinate, frameState, hitTolerance, callback, thisArg) {\n      if (!this.getImage()) {\n        return undefined;\n      }\n\n      var pixel = apply(this.coordinateToCanvasPixelTransform, coordinate.slice());\n      scale(pixel, frameState.viewState.resolution / this.renderedResolution);\n\n      if (!this.hitCanvasContext_) {\n        this.hitCanvasContext_ = createCanvasContext2D(1, 1);\n      }\n\n      this.hitCanvasContext_.clearRect(0, 0, 1, 1);\n      this.hitCanvasContext_.drawImage(this.getImage(), pixel[0], pixel[1], 1, 1, 0, 0, 1, 1);\n\n      var imageData = this.hitCanvasContext_.getImageData(0, 0, 1, 1).data;\n      if (imageData[3] > 0) {\n        return callback.call(thisArg, this.getLayer(), imageData);\n      } else {\n        return undefined;\n      }\n    };\n\n    return IntermediateCanvasRenderer;\n  }(CanvasLayerRenderer));\n\n  /**\n   * @module ol/renderer/canvas/ImageLayer\n   */\n\n  /**\n   * @classdesc\n   * Canvas renderer for image layers.\n   * @api\n   */\n  var CanvasImageLayerRenderer = /*@__PURE__*/(function (IntermediateCanvasRenderer$$1) {\n    function CanvasImageLayerRenderer(imageLayer) {\n\n      IntermediateCanvasRenderer$$1.call(this, imageLayer);\n\n      /**\n       * @private\n       * @type {?import(\"../../ImageBase.js\").default}\n       */\n      this.image_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.imageTransform_ = create();\n\n      /**\n       * @type {!Array<string>}\n       */\n      this.skippedFeatures_ = [];\n\n      /**\n       * @private\n       * @type {import(\"./VectorLayer.js\").default}\n       */\n      this.vectorRenderer_ = null;\n\n      if (imageLayer.getType() === LayerType.VECTOR) {\n        for (var i = 0, ii = layerRendererConstructors.length; i < ii; ++i) {\n          var ctor = layerRendererConstructors[i];\n          if (ctor !== CanvasImageLayerRenderer && ctor['handles'](imageLayer)) {\n            this.vectorRenderer_ = /** @type {import(\"./VectorLayer.js\").default} */ (new ctor(imageLayer));\n            break;\n          }\n        }\n      }\n\n    }\n\n    if ( IntermediateCanvasRenderer$$1 ) CanvasImageLayerRenderer.__proto__ = IntermediateCanvasRenderer$$1;\n    CanvasImageLayerRenderer.prototype = Object.create( IntermediateCanvasRenderer$$1 && IntermediateCanvasRenderer$$1.prototype );\n    CanvasImageLayerRenderer.prototype.constructor = CanvasImageLayerRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageLayerRenderer.prototype.disposeInternal = function disposeInternal () {\n      if (this.vectorRenderer_) {\n        this.vectorRenderer_.dispose();\n      }\n      IntermediateCanvasRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageLayerRenderer.prototype.getImage = function getImage () {\n      return !this.image_ ? null : this.image_.getImage();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageLayerRenderer.prototype.getImageTransform = function getImageTransform () {\n      return this.imageTransform_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState) {\n\n      var pixelRatio = frameState.pixelRatio;\n      var size = frameState.size;\n      var viewState = frameState.viewState;\n      var viewCenter = viewState.center;\n      var viewResolution = viewState.resolution;\n\n      var image;\n      var imageLayer = /** @type {import(\"../../layer/Image.js\").default} */ (this.getLayer());\n      var imageSource = /** @type {import(\"../../source/Image.js\").default} */ (imageLayer.getSource());\n\n      var hints = frameState.viewHints;\n\n      var vectorRenderer = this.vectorRenderer_;\n      var renderedExtent = frameState.extent;\n      if (!vectorRenderer && layerState.extent !== undefined) {\n        renderedExtent = getIntersection(renderedExtent, layerState.extent);\n      }\n\n      if (!hints[ViewHint.ANIMATING] && !hints[ViewHint.INTERACTING] &&\n          !isEmpty$1(renderedExtent)) {\n        var projection = viewState.projection;\n        var skippedFeatures = this.skippedFeatures_;\n        if (vectorRenderer) {\n          var context = vectorRenderer.context;\n          var imageFrameState = /** @type {import(\"../../PluggableMap.js\").FrameState} */ (assign({}, frameState, {\n            size: [\n              getWidth(renderedExtent) / viewResolution,\n              getHeight(renderedExtent) / viewResolution\n            ],\n            viewState: /** @type {import(\"../../View.js\").State} */ (assign({}, frameState.viewState, {\n              rotation: 0\n            }))\n          }));\n          var newSkippedFeatures = Object.keys(imageFrameState.skippedFeatureUids).sort();\n          image = new ImageCanvas(renderedExtent, viewResolution, pixelRatio, context.canvas, function(callback) {\n            if (vectorRenderer.prepareFrame(imageFrameState, layerState) &&\n                (vectorRenderer.replayGroupChanged ||\n                !equals(skippedFeatures, newSkippedFeatures))) {\n              context.canvas.width = imageFrameState.size[0] * pixelRatio;\n              context.canvas.height = imageFrameState.size[1] * pixelRatio;\n              vectorRenderer.compose(context, imageFrameState, layerState);\n              skippedFeatures = newSkippedFeatures;\n              callback();\n            }\n          });\n        } else {\n          image = imageSource.getImage(\n            renderedExtent, viewResolution, pixelRatio, projection);\n        }\n        if (image && this.loadImage(image)) {\n          this.image_ = image;\n          this.skippedFeatures_ = skippedFeatures;\n        }\n      }\n\n      if (this.image_) {\n        image = this.image_;\n        var imageExtent = image.getExtent();\n        var imageResolution = image.getResolution();\n        var imagePixelRatio = image.getPixelRatio();\n        var scale = pixelRatio * imageResolution /\n            (viewResolution * imagePixelRatio);\n        var transform = compose(this.imageTransform_,\n          pixelRatio * size[0] / 2, pixelRatio * size[1] / 2,\n          scale, scale,\n          0,\n          imagePixelRatio * (imageExtent[0] - viewCenter[0]) / imageResolution,\n          imagePixelRatio * (viewCenter[1] - imageExtent[3]) / imageResolution);\n        compose(this.coordinateToCanvasPixelTransform,\n          pixelRatio * size[0] / 2 - transform[4], pixelRatio * size[1] / 2 - transform[5],\n          pixelRatio / viewResolution, -pixelRatio / viewResolution,\n          0,\n          -viewCenter[0], -viewCenter[1]);\n\n        this.renderedResolution = imageResolution * pixelRatio / imagePixelRatio;\n      }\n\n      return !!this.image_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageLayerRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (coordinate, frameState, hitTolerance, callback) {\n      if (this.vectorRenderer_) {\n        return this.vectorRenderer_.forEachFeatureAtCoordinate(coordinate, frameState, hitTolerance, callback);\n      } else {\n        return IntermediateCanvasRenderer$$1.prototype.forEachFeatureAtCoordinate.call(this, coordinate, frameState, hitTolerance, callback);\n      }\n    };\n\n    return CanvasImageLayerRenderer;\n  }(IntermediateCanvasRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  CanvasImageLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.IMAGE ||\n      layer.getType() === LayerType.VECTOR &&\n      /** @type {import(\"../../layer/Vector.js\").default} */ (layer).getRenderMode() === VectorRenderType.IMAGE;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {CanvasImageLayerRenderer} The layer renderer.\n   */\n  CanvasImageLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new CanvasImageLayerRenderer(/** @type {import(\"../../layer/Image.js\").default} */ (layer));\n  };\n\n  /**\n   * @module ol/TileRange\n   */\n\n  /**\n   * A representation of a contiguous block of tiles.  A tile range is specified\n   * by its min/max tile coordinates and is inclusive of coordinates.\n   */\n  var TileRange = function TileRange(minX, maxX, minY, maxY) {\n\n    /**\n     * @type {number}\n     */\n    this.minX = minX;\n\n    /**\n     * @type {number}\n     */\n    this.maxX = maxX;\n\n    /**\n     * @type {number}\n     */\n    this.minY = minY;\n\n    /**\n     * @type {number}\n     */\n    this.maxY = maxY;\n\n  };\n\n  /**\n   * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @return {boolean} Contains tile coordinate.\n   */\n  TileRange.prototype.contains = function contains (tileCoord) {\n    return this.containsXY(tileCoord[1], tileCoord[2]);\n  };\n\n  /**\n   * @param {TileRange} tileRange Tile range.\n   * @return {boolean} Contains.\n   */\n  TileRange.prototype.containsTileRange = function containsTileRange (tileRange) {\n    return this.minX <= tileRange.minX && tileRange.maxX <= this.maxX &&\n       this.minY <= tileRange.minY && tileRange.maxY <= this.maxY;\n  };\n\n  /**\n   * @param {number} x Tile coordinate x.\n   * @param {number} y Tile coordinate y.\n   * @return {boolean} Contains coordinate.\n   */\n  TileRange.prototype.containsXY = function containsXY (x, y) {\n    return this.minX <= x && x <= this.maxX && this.minY <= y && y <= this.maxY;\n  };\n\n  /**\n   * @param {TileRange} tileRange Tile range.\n   * @return {boolean} Equals.\n   */\n  TileRange.prototype.equals = function equals (tileRange) {\n    return this.minX == tileRange.minX && this.minY == tileRange.minY &&\n       this.maxX == tileRange.maxX && this.maxY == tileRange.maxY;\n  };\n\n  /**\n   * @param {TileRange} tileRange Tile range.\n   */\n  TileRange.prototype.extend = function extend (tileRange) {\n    if (tileRange.minX < this.minX) {\n      this.minX = tileRange.minX;\n    }\n    if (tileRange.maxX > this.maxX) {\n      this.maxX = tileRange.maxX;\n    }\n    if (tileRange.minY < this.minY) {\n      this.minY = tileRange.minY;\n    }\n    if (tileRange.maxY > this.maxY) {\n      this.maxY = tileRange.maxY;\n    }\n  };\n\n  /**\n   * @return {number} Height.\n   */\n  TileRange.prototype.getHeight = function getHeight () {\n    return this.maxY - this.minY + 1;\n  };\n\n  /**\n   * @return {import(\"./size.js\").Size} Size.\n   */\n  TileRange.prototype.getSize = function getSize () {\n    return [this.getWidth(), this.getHeight()];\n  };\n\n  /**\n   * @return {number} Width.\n   */\n  TileRange.prototype.getWidth = function getWidth () {\n    return this.maxX - this.minX + 1;\n  };\n\n  /**\n   * @param {TileRange} tileRange Tile range.\n   * @return {boolean} Intersects.\n   */\n  TileRange.prototype.intersects = function intersects (tileRange) {\n    return this.minX <= tileRange.maxX &&\n       this.maxX >= tileRange.minX &&\n       this.minY <= tileRange.maxY &&\n       this.maxY >= tileRange.minY;\n  };\n\n\n  /**\n   * @param {number} minX Minimum X.\n   * @param {number} maxX Maximum X.\n   * @param {number} minY Minimum Y.\n   * @param {number} maxY Maximum Y.\n   * @param {TileRange=} tileRange TileRange.\n   * @return {TileRange} Tile range.\n   */\n  function createOrUpdate$1(minX, maxX, minY, maxY, tileRange) {\n    if (tileRange !== undefined) {\n      tileRange.minX = minX;\n      tileRange.maxX = maxX;\n      tileRange.minY = minY;\n      tileRange.maxY = maxY;\n      return tileRange;\n    } else {\n      return new TileRange(minX, maxX, minY, maxY);\n    }\n  }\n\n  /**\n   * @module ol/renderer/canvas/TileLayer\n   */\n\n  /**\n   * @classdesc\n   * Canvas renderer for tile layers.\n   * @api\n   */\n  var CanvasTileLayerRenderer = /*@__PURE__*/(function (IntermediateCanvasRenderer$$1) {\n    function CanvasTileLayerRenderer(tileLayer, opt_noContext) {\n\n      IntermediateCanvasRenderer$$1.call(this, tileLayer);\n\n      /**\n       * @protected\n       * @type {CanvasRenderingContext2D}\n       */\n      this.context = opt_noContext ? null : createCanvasContext2D();\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.oversampling_;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.renderedExtent_ = null;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.renderedRevision;\n\n      /**\n       * @protected\n       * @type {!Array<import(\"../../Tile.js\").default>}\n       */\n      this.renderedTiles = [];\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.newTiles_ = false;\n\n      /**\n       * @protected\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.tmpExtent = createEmpty();\n\n      /**\n       * @private\n       * @type {import(\"../../TileRange.js\").default}\n       */\n      this.tmpTileRange_ = new TileRange(0, 0, 0, 0);\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.imageTransform_ = create();\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.zDirection = 0;\n\n    }\n\n    if ( IntermediateCanvasRenderer$$1 ) CanvasTileLayerRenderer.__proto__ = IntermediateCanvasRenderer$$1;\n    CanvasTileLayerRenderer.prototype = Object.create( IntermediateCanvasRenderer$$1 && IntermediateCanvasRenderer$$1.prototype );\n    CanvasTileLayerRenderer.prototype.constructor = CanvasTileLayerRenderer;\n\n    /**\n     * @private\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @return {boolean} Tile is drawable.\n     */\n    CanvasTileLayerRenderer.prototype.isDrawableTile_ = function isDrawableTile_ (tile) {\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      var tileState = tile.getState();\n      var useInterimTilesOnError = tileLayer.getUseInterimTilesOnError();\n      return tileState == TileState.LOADED ||\n          tileState == TileState.EMPTY ||\n          tileState == TileState.ERROR && !useInterimTilesOnError;\n    };\n\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../../Tile.js\").default} Tile.\n     */\n    CanvasTileLayerRenderer.prototype.getTile = function getTile (z, x, y, pixelRatio, projection) {\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      var tileSource = /** @type {import(\"../../source/Tile.js\").default} */ (tileLayer.getSource());\n      var tile = tileSource.getTile(z, x, y, pixelRatio, projection);\n      if (tile.getState() == TileState.ERROR) {\n        if (!tileLayer.getUseInterimTilesOnError()) {\n          // When useInterimTilesOnError is false, we consider the error tile as loaded.\n          tile.setState(TileState.LOADED);\n        } else if (tileLayer.getPreload() > 0) {\n          // Preloaded tiles for lower resolutions might have finished loading.\n          this.newTiles_ = true;\n        }\n      }\n      if (!this.isDrawableTile_(tile)) {\n        tile = tile.getInterimTile();\n      }\n      return tile;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasTileLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState) {\n\n      var pixelRatio = frameState.pixelRatio;\n      var size = frameState.size;\n      var viewState = frameState.viewState;\n      var projection = viewState.projection;\n      var viewResolution = viewState.resolution;\n      var viewCenter = viewState.center;\n\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      var tileSource = /** @type {import(\"../../source/Tile.js\").default} */ (tileLayer.getSource());\n      var sourceRevision = tileSource.getRevision();\n      var tileGrid = tileSource.getTileGridForProjection(projection);\n      var z = tileGrid.getZForResolution(viewResolution, this.zDirection);\n      var tileResolution = tileGrid.getResolution(z);\n      var oversampling = Math.round(viewResolution / tileResolution) || 1;\n      var extent = frameState.extent;\n\n      if (layerState.extent !== undefined) {\n        extent = getIntersection(extent, layerState.extent);\n      }\n      if (isEmpty$1(extent)) {\n        // Return false to prevent the rendering of the layer.\n        return false;\n      }\n\n      var tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z);\n      var imageExtent = tileGrid.getTileRangeExtent(z, tileRange);\n\n      var tilePixelRatio = tileSource.getTilePixelRatio(pixelRatio);\n\n      /**\n       * @type {Object<number, Object<string, import(\"../../Tile.js\").default>>}\n       */\n      var tilesToDrawByZ = {};\n      tilesToDrawByZ[z] = {};\n\n      var findLoadedTiles = this.createLoadedTileFinder(\n        tileSource, projection, tilesToDrawByZ);\n\n      var hints = frameState.viewHints;\n      var animatingOrInteracting = hints[ViewHint.ANIMATING] || hints[ViewHint.INTERACTING];\n\n      var tmpExtent = this.tmpExtent;\n      var tmpTileRange = this.tmpTileRange_;\n      this.newTiles_ = false;\n      var tile, x, y;\n      for (x = tileRange.minX; x <= tileRange.maxX; ++x) {\n        for (y = tileRange.minY; y <= tileRange.maxY; ++y) {\n          if (Date.now() - frameState.time > 16 && animatingOrInteracting) {\n            continue;\n          }\n          tile = this.getTile(z, x, y, pixelRatio, projection);\n          if (this.isDrawableTile_(tile)) {\n            var uid = getUid(this);\n            if (tile.getState() == TileState.LOADED) {\n              tilesToDrawByZ[z][tile.tileCoord.toString()] = tile;\n              var inTransition = tile.inTransition(uid);\n              if (!this.newTiles_ && (inTransition || this.renderedTiles.indexOf(tile) === -1)) {\n                this.newTiles_ = true;\n              }\n            }\n            if (tile.getAlpha(uid, frameState.time) === 1) {\n              // don't look for alt tiles if alpha is 1\n              continue;\n            }\n          }\n\n          var childTileRange = tileGrid.getTileCoordChildTileRange(\n            tile.tileCoord, tmpTileRange, tmpExtent);\n          var covered = false;\n          if (childTileRange) {\n            covered = findLoadedTiles(z + 1, childTileRange);\n          }\n          if (!covered) {\n            tileGrid.forEachTileCoordParentTileRange(\n              tile.tileCoord, findLoadedTiles, null, tmpTileRange, tmpExtent);\n          }\n\n        }\n      }\n\n      var renderedResolution = tileResolution * pixelRatio / tilePixelRatio * oversampling;\n      if (!(this.renderedResolution && Date.now() - frameState.time > 16 && animatingOrInteracting) && (\n        this.newTiles_ ||\n            !(this.renderedExtent_ && containsExtent(this.renderedExtent_, extent)) ||\n            this.renderedRevision != sourceRevision ||\n            oversampling != this.oversampling_ ||\n            !animatingOrInteracting && renderedResolution != this.renderedResolution\n      )) {\n\n        var context = this.context;\n        if (context) {\n          var tilePixelSize = tileSource.getTilePixelSize(z, pixelRatio, projection);\n          var width = Math.round(tileRange.getWidth() * tilePixelSize[0] / oversampling);\n          var height = Math.round(tileRange.getHeight() * tilePixelSize[1] / oversampling);\n          var canvas = context.canvas;\n          if (canvas.width != width || canvas.height != height) {\n            this.oversampling_ = oversampling;\n            canvas.width = width;\n            canvas.height = height;\n          } else {\n            if (this.renderedExtent_ && !equals$2(imageExtent, this.renderedExtent_)) {\n              context.clearRect(0, 0, width, height);\n            }\n            oversampling = this.oversampling_;\n          }\n        }\n\n        this.renderedTiles.length = 0;\n        /** @type {Array<number>} */\n        var zs = Object.keys(tilesToDrawByZ).map(Number);\n        zs.sort(function(a, b) {\n          if (a === z) {\n            return 1;\n          } else if (b === z) {\n            return -1;\n          } else {\n            return a > b ? 1 : a < b ? -1 : 0;\n          }\n        });\n        var currentResolution, currentScale, currentTilePixelSize, currentZ, i, ii;\n        var tileExtent, tileGutter, tilesToDraw, w, h;\n        for (i = 0, ii = zs.length; i < ii; ++i) {\n          currentZ = zs[i];\n          currentTilePixelSize = tileSource.getTilePixelSize(currentZ, pixelRatio, projection);\n          currentResolution = tileGrid.getResolution(currentZ);\n          currentScale = currentResolution / tileResolution;\n          tileGutter = tilePixelRatio * tileSource.getGutterForProjection(projection);\n          tilesToDraw = tilesToDrawByZ[currentZ];\n          for (var tileCoordKey in tilesToDraw) {\n            tile = tilesToDraw[tileCoordKey];\n            tileExtent = tileGrid.getTileCoordExtent(tile.getTileCoord(), tmpExtent);\n            x = (tileExtent[0] - imageExtent[0]) / tileResolution * tilePixelRatio / oversampling;\n            y = (imageExtent[3] - tileExtent[3]) / tileResolution * tilePixelRatio / oversampling;\n            w = currentTilePixelSize[0] * currentScale / oversampling;\n            h = currentTilePixelSize[1] * currentScale / oversampling;\n            this.drawTileImage(tile, frameState, layerState, x, y, w, h, tileGutter, z === currentZ);\n            this.renderedTiles.push(tile);\n          }\n        }\n\n        this.renderedRevision = sourceRevision;\n        this.renderedResolution = tileResolution * pixelRatio / tilePixelRatio * oversampling;\n        this.renderedExtent_ = imageExtent;\n      }\n\n      var scale = this.renderedResolution / viewResolution;\n      var transform = compose(this.imageTransform_,\n        pixelRatio * size[0] / 2, pixelRatio * size[1] / 2,\n        scale, scale,\n        0,\n        (this.renderedExtent_[0] - viewCenter[0]) / this.renderedResolution * pixelRatio,\n        (viewCenter[1] - this.renderedExtent_[3]) / this.renderedResolution * pixelRatio);\n      compose(this.coordinateToCanvasPixelTransform,\n        pixelRatio * size[0] / 2 - transform[4], pixelRatio * size[1] / 2 - transform[5],\n        pixelRatio / viewResolution, -pixelRatio / viewResolution,\n        0,\n        -viewCenter[0], -viewCenter[1]);\n\n\n      this.updateUsedTiles(frameState.usedTiles, tileSource, z, tileRange);\n      this.manageTilePyramid(frameState, tileSource, tileGrid, pixelRatio,\n        projection, extent, z, tileLayer.getPreload());\n      this.scheduleExpireCache(frameState, tileSource);\n\n      return this.renderedTiles.length > 0;\n    };\n\n    /**\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @param {number} x Left of the tile.\n     * @param {number} y Top of the tile.\n     * @param {number} w Width of the tile.\n     * @param {number} h Height of the tile.\n     * @param {number} gutter Tile gutter.\n     * @param {boolean} transition Apply an alpha transition.\n     */\n    CanvasTileLayerRenderer.prototype.drawTileImage = function drawTileImage (tile, frameState, layerState, x, y, w, h, gutter, transition) {\n      var image = this.getTileImage(tile);\n      if (!image) {\n        return;\n      }\n      var uid = getUid(this);\n      var alpha = transition ? tile.getAlpha(uid, frameState.time) : 1;\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      var tileSource = /** @type {import(\"../../source/Tile.js\").default} */ (tileLayer.getSource());\n      if (alpha === 1 && !tileSource.getOpaque(frameState.viewState.projection)) {\n        this.context.clearRect(x, y, w, h);\n      }\n      var alphaChanged = alpha !== this.context.globalAlpha;\n      if (alphaChanged) {\n        this.context.save();\n        this.context.globalAlpha = alpha;\n      }\n      this.context.drawImage(image, gutter, gutter,\n        image.width - 2 * gutter, image.height - 2 * gutter, x, y, w, h);\n\n      if (alphaChanged) {\n        this.context.restore();\n      }\n      if (alpha !== 1) {\n        frameState.animate = true;\n      } else if (transition) {\n        tile.endTransition(uid);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasTileLayerRenderer.prototype.getImage = function getImage () {\n      var context = this.context;\n      return context ? context.canvas : null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasTileLayerRenderer.prototype.getImageTransform = function getImageTransform () {\n      return this.imageTransform_;\n    };\n\n    /**\n     * Get the image from a tile.\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @protected\n     */\n    CanvasTileLayerRenderer.prototype.getTileImage = function getTileImage (tile) {\n      return /** @type {import(\"../../ImageTile.js\").default} */ (tile).getImage();\n    };\n\n    return CanvasTileLayerRenderer;\n  }(IntermediateCanvasRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  CanvasTileLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.TILE;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {CanvasTileLayerRenderer} The layer renderer.\n   */\n  CanvasTileLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new CanvasTileLayerRenderer(/** @type {import(\"../../layer/Tile.js\").default} */ (layer));\n  };\n\n\n  /**\n   * @function\n   * @return {import(\"../../layer/Tile.js\").default|import(\"../../layer/VectorTile.js\").default}\n   */\n  CanvasTileLayerRenderer.prototype.getLayer;\n\n  /**\n   * @module ol/render/ReplayGroup\n   */\n\n  /**\n   * Base class for replay groups.\n   */\n  var ReplayGroup = function ReplayGroup () {};\n\n  ReplayGroup.prototype.getReplay = function getReplay (zIndex, replayType) {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @return {boolean} Is empty.\n   */\n  ReplayGroup.prototype.isEmpty = function isEmpty () {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @param {boolean} group Group with previous replay\n   * @return {Array<*>} The resulting instruction group\n   */\n  ReplayGroup.prototype.addDeclutter = function addDeclutter (group) {\n    return abstract();\n  };\n\n  /**\n   * @module ol/render/ReplayType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var ReplayType = {\n    CIRCLE: 'Circle',\n    DEFAULT: 'Default',\n    IMAGE: 'Image',\n    LINE_STRING: 'LineString',\n    POLYGON: 'Polygon',\n    TEXT: 'Text'\n  };\n\n  /**\n   * @module ol/geom/flat/textpath\n   */\n\n\n  /**\n   * @param {Array<number>} flatCoordinates Path to put text on.\n   * @param {number} offset Start offset of the `flatCoordinates`.\n   * @param {number} end End offset of the `flatCoordinates`.\n   * @param {number} stride Stride.\n   * @param {string} text Text to place on the path.\n   * @param {function(string):number} measure Measure function returning the\n   * width of the character passed as 1st argument.\n   * @param {number} startM m along the path where the text starts.\n   * @param {number} maxAngle Max angle between adjacent chars in radians.\n   * @return {Array<Array<*>>} The result array of null if `maxAngle` was\n   * exceeded. Entries of the array are x, y, anchorX, angle, chunk.\n   */\n  function drawTextOnPath(\n    flatCoordinates, offset, end, stride, text, measure, startM, maxAngle) {\n    var result = [];\n\n    // Keep text upright\n    var reverse = flatCoordinates[offset] > flatCoordinates[end - stride];\n\n    var numChars = text.length;\n\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    offset += stride;\n    var x2 = flatCoordinates[offset];\n    var y2 = flatCoordinates[offset + 1];\n    var segmentM = 0;\n    var segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n\n    var chunk = '';\n    var chunkLength = 0;\n    var data, index, previousAngle;\n    for (var i = 0; i < numChars; ++i) {\n      index = reverse ? numChars - i - 1 : i;\n      var char = text.charAt(index);\n      chunk = reverse ? char + chunk : chunk + char;\n      var charLength = measure(chunk) - chunkLength;\n      chunkLength += charLength;\n      var charM = startM + charLength / 2;\n      while (offset < end - stride && segmentM + segmentLength < charM) {\n        x1 = x2;\n        y1 = y2;\n        offset += stride;\n        x2 = flatCoordinates[offset];\n        y2 = flatCoordinates[offset + 1];\n        segmentM += segmentLength;\n        segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n      }\n      var segmentPos = charM - segmentM;\n      var angle = Math.atan2(y2 - y1, x2 - x1);\n      if (reverse) {\n        angle += angle > 0 ? -Math.PI : Math.PI;\n      }\n      if (previousAngle !== undefined) {\n        var delta = angle - previousAngle;\n        delta += (delta > Math.PI) ? -2 * Math.PI : (delta < -Math.PI) ? 2 * Math.PI : 0;\n        if (Math.abs(delta) > maxAngle) {\n          return null;\n        }\n      }\n      var interpolate = segmentPos / segmentLength;\n      var x = lerp(x1, x2, interpolate);\n      var y = lerp(y1, y2, interpolate);\n      if (previousAngle == angle) {\n        if (reverse) {\n          data[0] = x;\n          data[1] = y;\n          data[2] = charLength / 2;\n        }\n        data[4] = chunk;\n      } else {\n        chunk = char;\n        chunkLength = charLength;\n        data = [x, y, charLength / 2, angle, chunk];\n        if (reverse) {\n          result.unshift(data);\n        } else {\n          result.push(data);\n        }\n        previousAngle = angle;\n      }\n      startM += charLength;\n    }\n    return result;\n  }\n\n  /**\n   * @module ol/render/canvas/Instruction\n   */\n\n  /**\n   * @enum {number}\n   */\n  var Instruction = {\n    BEGIN_GEOMETRY: 0,\n    BEGIN_PATH: 1,\n    CIRCLE: 2,\n    CLOSE_PATH: 3,\n    CUSTOM: 4,\n    DRAW_CHARS: 5,\n    DRAW_IMAGE: 6,\n    END_GEOMETRY: 7,\n    FILL: 8,\n    MOVE_TO_LINE_TO: 9,\n    SET_FILL_STYLE: 10,\n    SET_STROKE_STYLE: 11,\n    STROKE: 12\n  };\n\n\n  /**\n   * @type {Array<Instruction>}\n   */\n  var fillInstruction = [Instruction.FILL];\n\n\n  /**\n   * @type {Array<Instruction>}\n   */\n  var strokeInstruction = [Instruction.STROKE];\n\n\n  /**\n   * @type {Array<Instruction>}\n   */\n  var beginPathInstruction = [Instruction.BEGIN_PATH];\n\n\n  /**\n   * @type {Array<Instruction>}\n   */\n  var closePathInstruction = [Instruction.CLOSE_PATH];\n\n  /**\n   * @module ol/render/replay\n   */\n\n\n  /**\n   * @const\n   * @type {Array<ReplayType>}\n   */\n  var ORDER = [\n    ReplayType.POLYGON,\n    ReplayType.CIRCLE,\n    ReplayType.LINE_STRING,\n    ReplayType.IMAGE,\n    ReplayType.TEXT,\n    ReplayType.DEFAULT\n  ];\n\n  /**\n   * @const\n   * @enum {number}\n   */\n  var TEXT_ALIGN = {};\n  TEXT_ALIGN['left'] = 0;\n  TEXT_ALIGN['end'] = 0;\n  TEXT_ALIGN['center'] = 0.5;\n  TEXT_ALIGN['right'] = 1;\n  TEXT_ALIGN['start'] = 1;\n  TEXT_ALIGN['top'] = 0;\n  TEXT_ALIGN['middle'] = 0.5;\n  TEXT_ALIGN['hanging'] = 0.2;\n  TEXT_ALIGN['alphabetic'] = 0.8;\n  TEXT_ALIGN['ideographic'] = 0.8;\n  TEXT_ALIGN['bottom'] = 1;\n\n  /**\n   * @module ol/render/canvas/Replay\n   */\n\n\n  /**\n   * @type {import(\"../../extent.js\").Extent}\n   */\n  var tmpExtent = createEmpty();\n\n\n  /**\n   * @type {!import(\"../../transform.js\").Transform}\n   */\n  var tmpTransform$1 = create();\n\n\n  var CanvasReplay = /*@__PURE__*/(function (VectorContext$$1) {\n    function CanvasReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n      VectorContext$$1.call(this);\n\n      /**\n       * @type {?}\n       */\n      this.declutterTree = declutterTree;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.tolerance = tolerance;\n\n      /**\n       * @protected\n       * @const\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.maxExtent = maxExtent;\n\n      /**\n       * @protected\n       * @type {boolean}\n       */\n      this.overlaps = overlaps;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.pixelRatio = pixelRatio;\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.maxLineWidth = 0;\n\n      /**\n       * @protected\n       * @const\n       * @type {number}\n       */\n      this.resolution = resolution;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.alignFill_;\n\n      /**\n       * @private\n       * @type {Array<*>}\n       */\n      this.beginGeometryInstruction1_ = null;\n\n      /**\n       * @private\n       * @type {Array<*>}\n       */\n      this.beginGeometryInstruction2_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.bufferedMaxExtent_ = null;\n\n      /**\n       * @protected\n       * @type {Array<*>}\n       */\n      this.instructions = [];\n\n      /**\n       * @protected\n       * @type {Array<number>}\n       */\n      this.coordinates = [];\n\n      /**\n       * @private\n       * @type {!Object<number,import(\"../../coordinate.js\").Coordinate|Array<import(\"../../coordinate.js\").Coordinate>|Array<Array<import(\"../../coordinate.js\").Coordinate>>>}\n       */\n      this.coordinateCache_ = {};\n\n      /**\n       * @private\n       * @type {!import(\"../../transform.js\").Transform}\n       */\n      this.renderedTransform_ = create();\n\n      /**\n       * @protected\n       * @type {Array<*>}\n       */\n      this.hitDetectionInstructions = [];\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.pixelCoordinates_ = null;\n\n      /**\n       * @protected\n       * @type {import(\"../canvas.js\").FillStrokeState}\n       */\n      this.state = /** @type {import(\"../canvas.js\").FillStrokeState} */ ({});\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.viewRotation_ = 0;\n\n    }\n\n    if ( VectorContext$$1 ) CanvasReplay.__proto__ = VectorContext$$1;\n    CanvasReplay.prototype = Object.create( VectorContext$$1 && VectorContext$$1.prototype );\n    CanvasReplay.prototype.constructor = CanvasReplay;\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} p1 1st point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p2 2nd point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p3 3rd point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p4 4th point of the background box.\n     * @param {Array<*>} fillInstruction Fill instruction.\n     * @param {Array<*>} strokeInstruction Stroke instruction.\n     */\n    CanvasReplay.prototype.replayTextBackground_ = function replayTextBackground_ (context, p1, p2, p3, p4, fillInstruction$$1, strokeInstruction$$1) {\n      context.beginPath();\n      context.moveTo.apply(context, p1);\n      context.lineTo.apply(context, p2);\n      context.lineTo.apply(context, p3);\n      context.lineTo.apply(context, p4);\n      context.lineTo.apply(context, p1);\n      if (fillInstruction$$1) {\n        this.alignFill_ = /** @type {boolean} */ (fillInstruction$$1[2]);\n        this.fill_(context);\n      }\n      if (strokeInstruction$$1) {\n        this.setStrokeStyle_(context, /** @type {Array<*>} */ (strokeInstruction$$1));\n        context.stroke();\n      }\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {HTMLImageElement|HTMLCanvasElement|HTMLVideoElement} image Image.\n     * @param {number} anchorX Anchor X.\n     * @param {number} anchorY Anchor Y.\n     * @param {import(\"../canvas.js\").DeclutterGroup} declutterGroup Declutter group.\n     * @param {number} height Height.\n     * @param {number} opacity Opacity.\n     * @param {number} originX Origin X.\n     * @param {number} originY Origin Y.\n     * @param {number} rotation Rotation.\n     * @param {number} scale Scale.\n     * @param {boolean} snapToPixel Snap to pixel.\n     * @param {number} width Width.\n     * @param {Array<number>} padding Padding.\n     * @param {Array<*>} fillInstruction Fill instruction.\n     * @param {Array<*>} strokeInstruction Stroke instruction.\n     */\n    CanvasReplay.prototype.replayImage_ = function replayImage_ (\n      context,\n      x,\n      y,\n      image,\n      anchorX,\n      anchorY,\n      declutterGroup,\n      height,\n      opacity,\n      originX,\n      originY,\n      rotation,\n      scale,\n      snapToPixel,\n      width,\n      padding,\n      fillInstruction$$1,\n      strokeInstruction$$1\n    ) {\n      var fillStroke = fillInstruction$$1 || strokeInstruction$$1;\n      anchorX *= scale;\n      anchorY *= scale;\n      x -= anchorX;\n      y -= anchorY;\n\n      var w = (width + originX > image.width) ? image.width - originX : width;\n      var h = (height + originY > image.height) ? image.height - originY : height;\n      var boxW = padding[3] + w * scale + padding[1];\n      var boxH = padding[0] + h * scale + padding[2];\n      var boxX = x - padding[3];\n      var boxY = y - padding[0];\n\n      /** @type {import(\"../../coordinate.js\").Coordinate} */\n      var p1;\n      /** @type {import(\"../../coordinate.js\").Coordinate} */\n      var p2;\n      /** @type {import(\"../../coordinate.js\").Coordinate} */\n      var p3;\n      /** @type {import(\"../../coordinate.js\").Coordinate} */\n      var p4;\n      if (fillStroke || rotation !== 0) {\n        p1 = [boxX, boxY];\n        p2 = [boxX + boxW, boxY];\n        p3 = [boxX + boxW, boxY + boxH];\n        p4 = [boxX, boxY + boxH];\n      }\n\n      var transform = null;\n      if (rotation !== 0) {\n        var centerX = x + anchorX;\n        var centerY = y + anchorY;\n        transform = compose(tmpTransform$1, centerX, centerY, 1, 1, rotation, -centerX, -centerY);\n\n        createOrUpdateEmpty(tmpExtent);\n        extendCoordinate(tmpExtent, apply(tmpTransform$1, p1));\n        extendCoordinate(tmpExtent, apply(tmpTransform$1, p2));\n        extendCoordinate(tmpExtent, apply(tmpTransform$1, p3));\n        extendCoordinate(tmpExtent, apply(tmpTransform$1, p4));\n      } else {\n        createOrUpdate(boxX, boxY, boxX + boxW, boxY + boxH, tmpExtent);\n      }\n      var canvas = context.canvas;\n      var strokePadding = strokeInstruction$$1 ? (strokeInstruction$$1[2] * scale / 2) : 0;\n      var intersects$$1 =\n          tmpExtent[0] - strokePadding <= canvas.width && tmpExtent[2] + strokePadding >= 0 &&\n          tmpExtent[1] - strokePadding <= canvas.height && tmpExtent[3] + strokePadding >= 0;\n\n      if (snapToPixel) {\n        x = Math.round(x);\n        y = Math.round(y);\n      }\n\n      if (declutterGroup) {\n        if (!intersects$$1 && declutterGroup[4] == 1) {\n          return;\n        }\n        extend$1(declutterGroup, tmpExtent);\n        var declutterArgs = intersects$$1 ?\n          [context, transform ? transform.slice(0) : null, opacity, image, originX, originY, w, h, x, y, scale] :\n          null;\n        if (declutterArgs && fillStroke) {\n          declutterArgs.push(fillInstruction$$1, strokeInstruction$$1, p1, p2, p3, p4);\n        }\n        declutterGroup.push(declutterArgs);\n      } else if (intersects$$1) {\n        if (fillStroke) {\n          this.replayTextBackground_(context, p1, p2, p3, p4,\n            /** @type {Array<*>} */ (fillInstruction$$1),\n            /** @type {Array<*>} */ (strokeInstruction$$1));\n        }\n        drawImage(context, transform, opacity, image, originX, originY, w, h, x, y, scale);\n      }\n    };\n\n    /**\n     * @protected\n     * @param {Array<number>} dashArray Dash array.\n     * @return {Array<number>} Dash array with pixel ratio applied\n     */\n    CanvasReplay.prototype.applyPixelRatio = function applyPixelRatio (dashArray) {\n      var pixelRatio = this.pixelRatio;\n      return pixelRatio == 1 ? dashArray : dashArray.map(function(dash) {\n        return dash * pixelRatio;\n      });\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} closed Last input coordinate equals first.\n     * @param {boolean} skipFirst Skip first coordinate.\n     * @protected\n     * @return {number} My end.\n     */\n    CanvasReplay.prototype.appendFlatCoordinates = function appendFlatCoordinates (flatCoordinates, offset, end, stride, closed, skipFirst) {\n\n      var myEnd = this.coordinates.length;\n      var extent = this.getBufferedMaxExtent();\n      if (skipFirst) {\n        offset += stride;\n      }\n      var lastCoord = [flatCoordinates[offset], flatCoordinates[offset + 1]];\n      var nextCoord = [NaN, NaN];\n      var skipped = true;\n\n      var i, lastRel, nextRel;\n      for (i = offset + stride; i < end; i += stride) {\n        nextCoord[0] = flatCoordinates[i];\n        nextCoord[1] = flatCoordinates[i + 1];\n        nextRel = coordinateRelationship(extent, nextCoord);\n        if (nextRel !== lastRel) {\n          if (skipped) {\n            this.coordinates[myEnd++] = lastCoord[0];\n            this.coordinates[myEnd++] = lastCoord[1];\n          }\n          this.coordinates[myEnd++] = nextCoord[0];\n          this.coordinates[myEnd++] = nextCoord[1];\n          skipped = false;\n        } else if (nextRel === Relationship.INTERSECTING) {\n          this.coordinates[myEnd++] = nextCoord[0];\n          this.coordinates[myEnd++] = nextCoord[1];\n          skipped = false;\n        } else {\n          skipped = true;\n        }\n        lastCoord[0] = nextCoord[0];\n        lastCoord[1] = nextCoord[1];\n        lastRel = nextRel;\n      }\n\n      // Last coordinate equals first or only one point to append:\n      if ((closed && skipped) || i === offset + stride) {\n        this.coordinates[myEnd++] = lastCoord[0];\n        this.coordinates[myEnd++] = lastCoord[1];\n      }\n      return myEnd;\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @param {Array<number>} replayEnds Replay ends.\n     * @return {number} Offset.\n     */\n    CanvasReplay.prototype.drawCustomCoordinates_ = function drawCustomCoordinates_ (flatCoordinates, offset, ends, stride, replayEnds) {\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var replayEnd = this.appendFlatCoordinates(flatCoordinates, offset, end, stride, false, false);\n        replayEnds.push(replayEnd);\n        offset = end;\n      }\n      return offset;\n    };\n\n    /**\n     * @inheritDoc.\n     */\n    CanvasReplay.prototype.drawCustom = function drawCustom (geometry, feature, renderer) {\n      this.beginGeometry(geometry, feature);\n      var type = geometry.getType();\n      var stride = geometry.getStride();\n      var replayBegin = this.coordinates.length;\n      var flatCoordinates, replayEnd, replayEnds, replayEndss;\n      var offset;\n      if (type == GeometryType.MULTI_POLYGON) {\n        geometry = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry);\n        flatCoordinates = geometry.getOrientedFlatCoordinates();\n        replayEndss = [];\n        var endss = geometry.getEndss();\n        offset = 0;\n        for (var i = 0, ii = endss.length; i < ii; ++i) {\n          var myEnds = [];\n          offset = this.drawCustomCoordinates_(flatCoordinates, offset, endss[i], stride, myEnds);\n          replayEndss.push(myEnds);\n        }\n        this.instructions.push([Instruction.CUSTOM,\n          replayBegin, replayEndss, geometry, renderer, inflateMultiCoordinatesArray]);\n      } else if (type == GeometryType.POLYGON || type == GeometryType.MULTI_LINE_STRING) {\n        replayEnds = [];\n        flatCoordinates = (type == GeometryType.POLYGON) ?\n          /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getOrientedFlatCoordinates() :\n          geometry.getFlatCoordinates();\n        offset = this.drawCustomCoordinates_(flatCoordinates, 0,\n          /** @type {import(\"../../geom/Polygon.js\").default|import(\"../../geom/MultiLineString.js\").default} */ (geometry).getEnds(),\n          stride, replayEnds);\n        this.instructions.push([Instruction.CUSTOM,\n          replayBegin, replayEnds, geometry, renderer, inflateCoordinatesArray]);\n      } else if (type == GeometryType.LINE_STRING || type == GeometryType.MULTI_POINT) {\n        flatCoordinates = geometry.getFlatCoordinates();\n        replayEnd = this.appendFlatCoordinates(\n          flatCoordinates, 0, flatCoordinates.length, stride, false, false);\n        this.instructions.push([Instruction.CUSTOM,\n          replayBegin, replayEnd, geometry, renderer, inflateCoordinates]);\n      } else if (type == GeometryType.POINT) {\n        flatCoordinates = geometry.getFlatCoordinates();\n        this.coordinates.push(flatCoordinates[0], flatCoordinates[1]);\n        replayEnd = this.coordinates.length;\n        this.instructions.push([Instruction.CUSTOM,\n          replayBegin, replayEnd, geometry, renderer]);\n      }\n      this.endGeometry(geometry, feature);\n    };\n\n    /**\n     * @protected\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n     */\n    CanvasReplay.prototype.beginGeometry = function beginGeometry (geometry, feature) {\n      this.beginGeometryInstruction1_ = [Instruction.BEGIN_GEOMETRY, feature, 0];\n      this.instructions.push(this.beginGeometryInstruction1_);\n      this.beginGeometryInstruction2_ = [Instruction.BEGIN_GEOMETRY, feature, 0];\n      this.hitDetectionInstructions.push(this.beginGeometryInstruction2_);\n    };\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n    CanvasReplay.prototype.finish = function finish () {};\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     */\n    CanvasReplay.prototype.fill_ = function fill_ (context) {\n      if (this.alignFill_) {\n        var origin = apply(this.renderedTransform_, [0, 0]);\n        var repeatSize = 512 * this.pixelRatio;\n        context.translate(origin[0] % repeatSize, origin[1] % repeatSize);\n        context.rotate(this.viewRotation_);\n      }\n      context.fill();\n      if (this.alignFill_) {\n        context.setTransform.apply(context, resetTransform);\n      }\n    };\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {Array<*>} instruction Instruction.\n     */\n    CanvasReplay.prototype.setStrokeStyle_ = function setStrokeStyle_ (context, instruction) {\n      context.strokeStyle = /** @type {import(\"../../colorlike.js\").ColorLike} */ (instruction[1]);\n      context.lineWidth = /** @type {number} */ (instruction[2]);\n      context.lineCap = /** @type {CanvasLineCap} */ (instruction[3]);\n      context.lineJoin = /** @type {CanvasLineJoin} */ (instruction[4]);\n      context.miterLimit = /** @type {number} */ (instruction[5]);\n      if (CANVAS_LINE_DASH) {\n        context.lineDashOffset = /** @type {number} */ (instruction[7]);\n        context.setLineDash(/** @type {Array<number>} */ (instruction[6]));\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").DeclutterGroup} declutterGroup Declutter group.\n     * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n     */\n    CanvasReplay.prototype.renderDeclutter_ = function renderDeclutter_ (declutterGroup, feature) {\n      if (declutterGroup && declutterGroup.length > 5) {\n        var groupCount = declutterGroup[4];\n        if (groupCount == 1 || groupCount == declutterGroup.length - 5) {\n          /** @type {import(\"../../structs/RBush.js\").Entry} */\n          var box = {\n            minX: /** @type {number} */ (declutterGroup[0]),\n            minY: /** @type {number} */ (declutterGroup[1]),\n            maxX: /** @type {number} */ (declutterGroup[2]),\n            maxY: /** @type {number} */ (declutterGroup[3]),\n            value: feature\n          };\n          if (!this.declutterTree.collides(box)) {\n            this.declutterTree.insert(box);\n            for (var j = 5, jj = declutterGroup.length; j < jj; ++j) {\n              var declutterData = /** @type {Array} */ (declutterGroup[j]);\n              if (declutterData) {\n                if (declutterData.length > 11) {\n                  this.replayTextBackground_(declutterData[0],\n                    declutterData[13], declutterData[14], declutterData[15], declutterData[16],\n                    declutterData[11], declutterData[12]);\n                }\n                drawImage.apply(undefined, declutterData);\n              }\n            }\n          }\n          declutterGroup.length = 5;\n          createOrUpdateEmpty(declutterGroup);\n        }\n      }\n    };\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features\n     *     to skip.\n     * @param {Array<*>} instructions Instructions array.\n     * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Only check features that intersect this\n     *     extent.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CanvasReplay.prototype.replay_ = function replay_ (\n      context,\n      transform,\n      skippedFeaturesHash,\n      instructions,\n      snapToPixel,\n      featureCallback,\n      opt_hitExtent\n    ) {\n      /** @type {Array<number>} */\n      var pixelCoordinates;\n      if (this.pixelCoordinates_ && equals(transform, this.renderedTransform_)) {\n        pixelCoordinates = this.pixelCoordinates_;\n      } else {\n        if (!this.pixelCoordinates_) {\n          this.pixelCoordinates_ = [];\n        }\n        pixelCoordinates = transform2D(\n          this.coordinates, 0, this.coordinates.length, 2,\n          transform, this.pixelCoordinates_);\n        setFromArray(this.renderedTransform_, transform);\n      }\n      var skipFeatures = !isEmpty(skippedFeaturesHash);\n      var i = 0; // instruction index\n      var ii = instructions.length; // end of instructions\n      var d = 0; // data index\n      var dd; // end of per-instruction data\n      var anchorX, anchorY, prevX, prevY, roundX, roundY, declutterGroup, image;\n      var pendingFill = 0;\n      var pendingStroke = 0;\n      var lastFillInstruction = null;\n      var lastStrokeInstruction = null;\n      var coordinateCache = this.coordinateCache_;\n      var viewRotation = this.viewRotation_;\n\n      var state = /** @type {import(\"../../render.js\").State} */ ({\n        context: context,\n        pixelRatio: this.pixelRatio,\n        resolution: this.resolution,\n        rotation: viewRotation\n      });\n\n      // When the batch size gets too big, performance decreases. 200 is a good\n      // balance between batch size and number of fill/stroke instructions.\n      var batchSize = this.instructions != instructions || this.overlaps ? 0 : 200;\n      var /** @type {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} */ feature;\n      var x, y;\n      while (i < ii) {\n        var instruction = instructions[i];\n        var type = /** @type {CanvasInstruction} */ (instruction[0]);\n        switch (type) {\n          case Instruction.BEGIN_GEOMETRY:\n            feature = /** @type {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} */ (instruction[1]);\n            if ((skipFeatures && skippedFeaturesHash[getUid(feature)]) || !feature.getGeometry()) {\n              i = /** @type {number} */ (instruction[2]);\n            } else if (opt_hitExtent !== undefined && !intersects(\n              opt_hitExtent, feature.getGeometry().getExtent())) {\n              i = /** @type {number} */ (instruction[2]) + 1;\n            } else {\n              ++i;\n            }\n            break;\n          case Instruction.BEGIN_PATH:\n            if (pendingFill > batchSize) {\n              this.fill_(context);\n              pendingFill = 0;\n            }\n            if (pendingStroke > batchSize) {\n              context.stroke();\n              pendingStroke = 0;\n            }\n            if (!pendingFill && !pendingStroke) {\n              context.beginPath();\n              prevX = prevY = NaN;\n            }\n            ++i;\n            break;\n          case Instruction.CIRCLE:\n            d = /** @type {number} */ (instruction[1]);\n            var x1 = pixelCoordinates[d];\n            var y1 = pixelCoordinates[d + 1];\n            var x2 = pixelCoordinates[d + 2];\n            var y2 = pixelCoordinates[d + 3];\n            var dx = x2 - x1;\n            var dy = y2 - y1;\n            var r = Math.sqrt(dx * dx + dy * dy);\n            context.moveTo(x1 + r, y1);\n            context.arc(x1, y1, r, 0, 2 * Math.PI, true);\n            ++i;\n            break;\n          case Instruction.CLOSE_PATH:\n            context.closePath();\n            ++i;\n            break;\n          case Instruction.CUSTOM:\n            d = /** @type {number} */ (instruction[1]);\n            dd = instruction[2];\n            var geometry = /** @type {import(\"../../geom/SimpleGeometry.js\").default} */ (instruction[3]);\n            var renderer = instruction[4];\n            var fn = instruction.length == 6 ? instruction[5] : undefined;\n            state.geometry = geometry;\n            state.feature = feature;\n            if (!(i in coordinateCache)) {\n              coordinateCache[i] = [];\n            }\n            var coords = coordinateCache[i];\n            if (fn) {\n              fn(pixelCoordinates, d, dd, 2, coords);\n            } else {\n              coords[0] = pixelCoordinates[d];\n              coords[1] = pixelCoordinates[d + 1];\n              coords.length = 2;\n            }\n            renderer(coords, state);\n            ++i;\n            break;\n          case Instruction.DRAW_IMAGE:\n            d = /** @type {number} */ (instruction[1]);\n            dd = /** @type {number} */ (instruction[2]);\n            image = /** @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} */\n                (instruction[3]);\n            // Remaining arguments in DRAW_IMAGE are in alphabetical order\n            anchorX = /** @type {number} */ (instruction[4]);\n            anchorY = /** @type {number} */ (instruction[5]);\n            declutterGroup = featureCallback ? null : /** @type {import(\"../canvas.js\").DeclutterGroup} */ (instruction[6]);\n            var height = /** @type {number} */ (instruction[7]);\n            var opacity = /** @type {number} */ (instruction[8]);\n            var originX = /** @type {number} */ (instruction[9]);\n            var originY = /** @type {number} */ (instruction[10]);\n            var rotateWithView = /** @type {boolean} */ (instruction[11]);\n            var rotation = /** @type {number} */ (instruction[12]);\n            var scale = /** @type {number} */ (instruction[13]);\n            var width = /** @type {number} */ (instruction[14]);\n\n            var padding = (void 0), backgroundFill = (void 0), backgroundStroke = (void 0);\n            if (instruction.length > 16) {\n              padding = /** @type {Array<number>} */ (instruction[15]);\n              backgroundFill = /** @type {boolean} */ (instruction[16]);\n              backgroundStroke = /** @type {boolean} */ (instruction[17]);\n            } else {\n              padding = defaultPadding;\n              backgroundFill = backgroundStroke = false;\n            }\n\n            if (rotateWithView) {\n              rotation += viewRotation;\n            }\n            for (; d < dd; d += 2) {\n              this.replayImage_(context,\n                pixelCoordinates[d], pixelCoordinates[d + 1], image, anchorX, anchorY,\n                declutterGroup, height, opacity, originX, originY, rotation, scale,\n                snapToPixel, width, padding,\n                backgroundFill ? /** @type {Array<*>} */ (lastFillInstruction) : null,\n                backgroundStroke ? /** @type {Array<*>} */ (lastStrokeInstruction) : null);\n            }\n            this.renderDeclutter_(declutterGroup, feature);\n            ++i;\n            break;\n          case Instruction.DRAW_CHARS:\n            var begin = /** @type {number} */ (instruction[1]);\n            var end = /** @type {number} */ (instruction[2]);\n            var baseline = /** @type {number} */ (instruction[3]);\n            declutterGroup = featureCallback ? null : /** @type {import(\"../canvas.js\").DeclutterGroup} */ (instruction[4]);\n            var overflow = /** @type {number} */ (instruction[5]);\n            var fillKey = /** @type {string} */ (instruction[6]);\n            var maxAngle = /** @type {number} */ (instruction[7]);\n            var measure = /** @type {function(string):number} */ (instruction[8]);\n            var offsetY = /** @type {number} */ (instruction[9]);\n            var strokeKey = /** @type {string} */ (instruction[10]);\n            var strokeWidth = /** @type {number} */ (instruction[11]);\n            var text = /** @type {string} */ (instruction[12]);\n            var textKey = /** @type {string} */ (instruction[13]);\n            var textScale = /** @type {number} */ (instruction[14]);\n\n            var pathLength = lineStringLength(pixelCoordinates, begin, end, 2);\n            var textLength = measure(text);\n            if (overflow || textLength <= pathLength) {\n              /** @type {import(\"./TextReplay.js\").default} */\n              var textReplay = /** @type {?} */ (this);\n              var textAlign = textReplay.textStates[textKey].textAlign;\n              var startM = (pathLength - textLength) * TEXT_ALIGN[textAlign];\n              var parts = drawTextOnPath(\n                pixelCoordinates, begin, end, 2, text, measure, startM, maxAngle);\n              if (parts) {\n                var c = (void 0), cc = (void 0), chars = (void 0), label = (void 0), part = (void 0);\n                if (strokeKey) {\n                  for (c = 0, cc = parts.length; c < cc; ++c) {\n                    part = parts[c]; // x, y, anchorX, rotation, chunk\n                    chars = /** @type {string} */ (part[4]);\n                    label = textReplay.getImage(chars, textKey, '', strokeKey);\n                    anchorX = /** @type {number} */ (part[2]) + strokeWidth;\n                    anchorY = baseline * label.height + (0.5 - baseline) * 2 * strokeWidth - offsetY;\n                    this.replayImage_(context,\n                      /** @type {number} */ (part[0]), /** @type {number} */ (part[1]), label,\n                      anchorX, anchorY, declutterGroup, label.height, 1, 0, 0,\n                      /** @type {number} */ (part[3]), textScale, false, label.width,\n                      defaultPadding, null, null);\n                  }\n                }\n                if (fillKey) {\n                  for (c = 0, cc = parts.length; c < cc; ++c) {\n                    part = parts[c]; // x, y, anchorX, rotation, chunk\n                    chars = /** @type {string} */ (part[4]);\n                    label = textReplay.getImage(chars, textKey, fillKey, '');\n                    anchorX = /** @type {number} */ (part[2]);\n                    anchorY = baseline * label.height - offsetY;\n                    this.replayImage_(context,\n                      /** @type {number} */ (part[0]), /** @type {number} */ (part[1]), label,\n                      anchorX, anchorY, declutterGroup, label.height, 1, 0, 0,\n                      /** @type {number} */ (part[3]), textScale, false, label.width,\n                      defaultPadding, null, null);\n                  }\n                }\n              }\n            }\n            this.renderDeclutter_(declutterGroup, feature);\n            ++i;\n            break;\n          case Instruction.END_GEOMETRY:\n            if (featureCallback !== undefined) {\n              feature = /** @type {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} */ (instruction[1]);\n              var result = featureCallback(feature);\n              if (result) {\n                return result;\n              }\n            }\n            ++i;\n            break;\n          case Instruction.FILL:\n            if (batchSize) {\n              pendingFill++;\n            } else {\n              this.fill_(context);\n            }\n            ++i;\n            break;\n          case Instruction.MOVE_TO_LINE_TO:\n            d = /** @type {number} */ (instruction[1]);\n            dd = /** @type {number} */ (instruction[2]);\n            x = pixelCoordinates[d];\n            y = pixelCoordinates[d + 1];\n            roundX = (x + 0.5) | 0;\n            roundY = (y + 0.5) | 0;\n            if (roundX !== prevX || roundY !== prevY) {\n              context.moveTo(x, y);\n              prevX = roundX;\n              prevY = roundY;\n            }\n            for (d += 2; d < dd; d += 2) {\n              x = pixelCoordinates[d];\n              y = pixelCoordinates[d + 1];\n              roundX = (x + 0.5) | 0;\n              roundY = (y + 0.5) | 0;\n              if (d == dd - 2 || roundX !== prevX || roundY !== prevY) {\n                context.lineTo(x, y);\n                prevX = roundX;\n                prevY = roundY;\n              }\n            }\n            ++i;\n            break;\n          case Instruction.SET_FILL_STYLE:\n            lastFillInstruction = instruction;\n            this.alignFill_ = instruction[2];\n\n            if (pendingFill) {\n              this.fill_(context);\n              pendingFill = 0;\n              if (pendingStroke) {\n                context.stroke();\n                pendingStroke = 0;\n              }\n            }\n\n            context.fillStyle = /** @type {import(\"../../colorlike.js\").ColorLike} */ (instruction[1]);\n            ++i;\n            break;\n          case Instruction.SET_STROKE_STYLE:\n            lastStrokeInstruction = instruction;\n            if (pendingStroke) {\n              context.stroke();\n              pendingStroke = 0;\n            }\n            this.setStrokeStyle_(context, /** @type {Array<*>} */ (instruction));\n            ++i;\n            break;\n          case Instruction.STROKE:\n            if (batchSize) {\n              pendingStroke++;\n            } else {\n              context.stroke();\n            }\n            ++i;\n            break;\n          default:\n            ++i; // consume the instruction anyway, to avoid an infinite loop\n            break;\n        }\n      }\n      if (pendingFill) {\n        this.fill_(context);\n      }\n      if (pendingStroke) {\n        context.stroke();\n      }\n      return undefined;\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features\n     *     to skip.\n     * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n     */\n    CanvasReplay.prototype.replay = function replay (context, transform, viewRotation, skippedFeaturesHash, snapToPixel) {\n      this.viewRotation_ = viewRotation;\n      this.replay_(context, transform,\n        skippedFeaturesHash, this.instructions, snapToPixel, undefined, undefined);\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features\n     *     to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T=} opt_featureCallback\n     *     Feature callback.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Only check features that intersect this\n     *     extent.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CanvasReplay.prototype.replayHitDetection = function replayHitDetection (\n      context,\n      transform,\n      viewRotation,\n      skippedFeaturesHash,\n      opt_featureCallback,\n      opt_hitExtent\n    ) {\n      this.viewRotation_ = viewRotation;\n      return this.replay_(context, transform, skippedFeaturesHash,\n        this.hitDetectionInstructions, true, opt_featureCallback, opt_hitExtent);\n    };\n\n    /**\n     * Reverse the hit detection instructions.\n     */\n    CanvasReplay.prototype.reverseHitDetectionInstructions = function reverseHitDetectionInstructions () {\n      var hitDetectionInstructions = this.hitDetectionInstructions;\n      // step 1 - reverse array\n      hitDetectionInstructions.reverse();\n      // step 2 - reverse instructions within geometry blocks\n      var i;\n      var n = hitDetectionInstructions.length;\n      var instruction;\n      var type;\n      var begin = -1;\n      for (i = 0; i < n; ++i) {\n        instruction = hitDetectionInstructions[i];\n        type = /** @type {CanvasInstruction} */ (instruction[0]);\n        if (type == Instruction.END_GEOMETRY) {\n          begin = i;\n        } else if (type == Instruction.BEGIN_GEOMETRY) {\n          instruction[2] = i;\n          reverseSubArray(this.hitDetectionInstructions, begin, i);\n          begin = -1;\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasReplay.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      var state = this.state;\n      if (fillStyle) {\n        var fillStyleColor = fillStyle.getColor();\n        state.fillStyle = asColorLike(fillStyleColor ?\n          fillStyleColor : defaultFillStyle);\n      } else {\n        state.fillStyle = undefined;\n      }\n      if (strokeStyle) {\n        var strokeStyleColor = strokeStyle.getColor();\n        state.strokeStyle = asColorLike(strokeStyleColor ?\n          strokeStyleColor : defaultStrokeStyle);\n        var strokeStyleLineCap = strokeStyle.getLineCap();\n        state.lineCap = strokeStyleLineCap !== undefined ?\n          strokeStyleLineCap : defaultLineCap;\n        var strokeStyleLineDash = strokeStyle.getLineDash();\n        state.lineDash = strokeStyleLineDash ?\n          strokeStyleLineDash.slice() : defaultLineDash;\n        var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n        state.lineDashOffset = strokeStyleLineDashOffset ?\n          strokeStyleLineDashOffset : defaultLineDashOffset;\n        var strokeStyleLineJoin = strokeStyle.getLineJoin();\n        state.lineJoin = strokeStyleLineJoin !== undefined ?\n          strokeStyleLineJoin : defaultLineJoin;\n        var strokeStyleWidth = strokeStyle.getWidth();\n        state.lineWidth = strokeStyleWidth !== undefined ?\n          strokeStyleWidth : defaultLineWidth;\n        var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n        state.miterLimit = strokeStyleMiterLimit !== undefined ?\n          strokeStyleMiterLimit : defaultMiterLimit;\n\n        if (state.lineWidth > this.maxLineWidth) {\n          this.maxLineWidth = state.lineWidth;\n          // invalidate the buffered max extent cache\n          this.bufferedMaxExtent_ = null;\n        }\n      } else {\n        state.strokeStyle = undefined;\n        state.lineCap = undefined;\n        state.lineDash = null;\n        state.lineDashOffset = undefined;\n        state.lineJoin = undefined;\n        state.lineWidth = undefined;\n        state.miterLimit = undefined;\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @return {Array<*>} Fill instruction.\n     */\n    CanvasReplay.prototype.createFill = function createFill (state, geometry) {\n      var fillStyle = state.fillStyle;\n      /** @type {Array<*>} */\n      var fillInstruction$$1 = [Instruction.SET_FILL_STYLE, fillStyle];\n      if (typeof fillStyle !== 'string') {\n        // Fill is a pattern or gradient - align it!\n        fillInstruction$$1.push(true);\n      }\n      return fillInstruction$$1;\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     */\n    CanvasReplay.prototype.applyStroke = function applyStroke (state) {\n      this.instructions.push(this.createStroke(state));\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @return {Array<*>} Stroke instruction.\n     */\n    CanvasReplay.prototype.createStroke = function createStroke (state) {\n      return [\n        Instruction.SET_STROKE_STYLE,\n        state.strokeStyle, state.lineWidth * this.pixelRatio, state.lineCap,\n        state.lineJoin, state.miterLimit,\n        this.applyPixelRatio(state.lineDash), state.lineDashOffset * this.pixelRatio\n      ];\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {function(this:CanvasReplay, import(\"../canvas.js\").FillStrokeState, (import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default)):Array<*>} createFill Create fill.\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     */\n    CanvasReplay.prototype.updateFillStyle = function updateFillStyle (state, createFill, geometry) {\n      var fillStyle = state.fillStyle;\n      if (typeof fillStyle !== 'string' || state.currentFillStyle != fillStyle) {\n        if (fillStyle !== undefined) {\n          this.instructions.push(createFill.call(this, state, geometry));\n        }\n        state.currentFillStyle = fillStyle;\n      }\n    };\n\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {function(this:CanvasReplay, import(\"../canvas.js\").FillStrokeState)} applyStroke Apply stroke.\n     */\n    CanvasReplay.prototype.updateStrokeStyle = function updateStrokeStyle (state, applyStroke) {\n      var strokeStyle = state.strokeStyle;\n      var lineCap = state.lineCap;\n      var lineDash = state.lineDash;\n      var lineDashOffset = state.lineDashOffset;\n      var lineJoin = state.lineJoin;\n      var lineWidth = state.lineWidth;\n      var miterLimit = state.miterLimit;\n      if (state.currentStrokeStyle != strokeStyle ||\n          state.currentLineCap != lineCap ||\n          (lineDash != state.currentLineDash && !equals(state.currentLineDash, lineDash)) ||\n          state.currentLineDashOffset != lineDashOffset ||\n          state.currentLineJoin != lineJoin ||\n          state.currentLineWidth != lineWidth ||\n          state.currentMiterLimit != miterLimit) {\n        if (strokeStyle !== undefined) {\n          applyStroke.call(this, state);\n        }\n        state.currentStrokeStyle = strokeStyle;\n        state.currentLineCap = lineCap;\n        state.currentLineDash = lineDash;\n        state.currentLineDashOffset = lineDashOffset;\n        state.currentLineJoin = lineJoin;\n        state.currentLineWidth = lineWidth;\n        state.currentMiterLimit = miterLimit;\n      }\n    };\n\n    /**\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n     */\n    CanvasReplay.prototype.endGeometry = function endGeometry (geometry, feature) {\n      this.beginGeometryInstruction1_[2] = this.instructions.length;\n      this.beginGeometryInstruction1_ = null;\n      this.beginGeometryInstruction2_[2] = this.hitDetectionInstructions.length;\n      this.beginGeometryInstruction2_ = null;\n      var endGeometryInstruction = [Instruction.END_GEOMETRY, feature];\n      this.instructions.push(endGeometryInstruction);\n      this.hitDetectionInstructions.push(endGeometryInstruction);\n    };\n\n    /**\n     * Get the buffered rendering extent.  Rendering will be clipped to the extent\n     * provided to the constructor.  To account for symbolizers that may intersect\n     * this extent, we calculate a buffered extent (e.g. based on stroke width).\n     * @return {import(\"../../extent.js\").Extent} The buffered rendering extent.\n     * @protected\n     */\n    CanvasReplay.prototype.getBufferedMaxExtent = function getBufferedMaxExtent () {\n      if (!this.bufferedMaxExtent_) {\n        this.bufferedMaxExtent_ = clone(this.maxExtent);\n        if (this.maxLineWidth > 0) {\n          var width = this.resolution * (this.maxLineWidth + 1) / 2;\n          buffer(this.bufferedMaxExtent_, width, this.bufferedMaxExtent_);\n        }\n      }\n      return this.bufferedMaxExtent_;\n    };\n\n    return CanvasReplay;\n  }(VectorContext));\n\n  /**\n   * @module ol/render/canvas/ImageReplay\n   */\n\n  var CanvasImageReplay = /*@__PURE__*/(function (CanvasReplay$$1) {\n    function CanvasImageReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n      CanvasReplay$$1.call(this, tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\n\n      /**\n       * @private\n       * @type {import(\"../canvas.js\").DeclutterGroup}\n       */\n      this.declutterGroup_ = null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n       */\n      this.hitDetectionImage_ = null;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n       */\n      this.image_ = null;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.anchorX_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.anchorY_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.height_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.opacity_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.originX_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.originY_ = undefined;\n\n      /**\n       * @private\n       * @type {boolean|undefined}\n       */\n      this.rotateWithView_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.rotation_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.scale_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.width_ = undefined;\n\n    }\n\n    if ( CanvasReplay$$1 ) CanvasImageReplay.__proto__ = CanvasReplay$$1;\n    CanvasImageReplay.prototype = Object.create( CanvasReplay$$1 && CanvasReplay$$1.prototype );\n    CanvasImageReplay.prototype.constructor = CanvasImageReplay;\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} My end.\n     */\n    CanvasImageReplay.prototype.drawCoordinates_ = function drawCoordinates_ (flatCoordinates, offset, end, stride) {\n      return this.appendFlatCoordinates(flatCoordinates, offset, end, stride, false, false);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageReplay.prototype.drawPoint = function drawPoint (pointGeometry, feature) {\n      if (!this.image_) {\n        return;\n      }\n      this.beginGeometry(pointGeometry, feature);\n      var flatCoordinates = pointGeometry.getFlatCoordinates();\n      var stride = pointGeometry.getStride();\n      var myBegin = this.coordinates.length;\n      var myEnd = this.drawCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n      this.instructions.push([\n        Instruction.DRAW_IMAGE, myBegin, myEnd, this.image_,\n        // Remaining arguments to DRAW_IMAGE are in alphabetical order\n        this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n        this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n        this.scale_ * this.pixelRatio, this.width_\n      ]);\n      this.hitDetectionInstructions.push([\n        Instruction.DRAW_IMAGE, myBegin, myEnd, this.hitDetectionImage_,\n        // Remaining arguments to DRAW_IMAGE are in alphabetical order\n        this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n        this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n        this.scale_, this.width_\n      ]);\n      this.endGeometry(pointGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageReplay.prototype.drawMultiPoint = function drawMultiPoint (multiPointGeometry, feature) {\n      if (!this.image_) {\n        return;\n      }\n      this.beginGeometry(multiPointGeometry, feature);\n      var flatCoordinates = multiPointGeometry.getFlatCoordinates();\n      var stride = multiPointGeometry.getStride();\n      var myBegin = this.coordinates.length;\n      var myEnd = this.drawCoordinates_(\n        flatCoordinates, 0, flatCoordinates.length, stride);\n      this.instructions.push([\n        Instruction.DRAW_IMAGE, myBegin, myEnd, this.image_,\n        // Remaining arguments to DRAW_IMAGE are in alphabetical order\n        this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n        this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n        this.scale_ * this.pixelRatio, this.width_\n      ]);\n      this.hitDetectionInstructions.push([\n        Instruction.DRAW_IMAGE, myBegin, myEnd, this.hitDetectionImage_,\n        // Remaining arguments to DRAW_IMAGE are in alphabetical order\n        this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n        this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n        this.scale_, this.width_\n      ]);\n      this.endGeometry(multiPointGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageReplay.prototype.finish = function finish () {\n      this.reverseHitDetectionInstructions();\n      // FIXME this doesn't really protect us against further calls to draw*Geometry\n      this.anchorX_ = undefined;\n      this.anchorY_ = undefined;\n      this.hitDetectionImage_ = null;\n      this.image_ = null;\n      this.height_ = undefined;\n      this.scale_ = undefined;\n      this.opacity_ = undefined;\n      this.originX_ = undefined;\n      this.originY_ = undefined;\n      this.rotateWithView_ = undefined;\n      this.rotation_ = undefined;\n      this.width_ = undefined;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasImageReplay.prototype.setImageStyle = function setImageStyle (imageStyle, declutterGroup) {\n      var anchor = imageStyle.getAnchor();\n      var size = imageStyle.getSize();\n      var hitDetectionImage = imageStyle.getHitDetectionImage(1);\n      var image = imageStyle.getImage(1);\n      var origin = imageStyle.getOrigin();\n      this.anchorX_ = anchor[0];\n      this.anchorY_ = anchor[1];\n      this.declutterGroup_ = /** @type {import(\"../canvas.js\").DeclutterGroup} */ (declutterGroup);\n      this.hitDetectionImage_ = hitDetectionImage;\n      this.image_ = image;\n      this.height_ = size[1];\n      this.opacity_ = imageStyle.getOpacity();\n      this.originX_ = origin[0];\n      this.originY_ = origin[1];\n      this.rotateWithView_ = imageStyle.getRotateWithView();\n      this.rotation_ = imageStyle.getRotation();\n      this.scale_ = imageStyle.getScale();\n      this.width_ = size[0];\n    };\n\n    return CanvasImageReplay;\n  }(CanvasReplay));\n\n  /**\n   * @module ol/render/canvas/LineStringReplay\n   */\n\n  var CanvasLineStringReplay = /*@__PURE__*/(function (CanvasReplay$$1) {\n    function CanvasLineStringReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n      CanvasReplay$$1.call(this, tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\n    }\n\n    if ( CanvasReplay$$1 ) CanvasLineStringReplay.__proto__ = CanvasReplay$$1;\n    CanvasLineStringReplay.prototype = Object.create( CanvasReplay$$1 && CanvasReplay$$1.prototype );\n    CanvasLineStringReplay.prototype.constructor = CanvasLineStringReplay;\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} end.\n     */\n    CanvasLineStringReplay.prototype.drawFlatCoordinates_ = function drawFlatCoordinates_ (flatCoordinates, offset, end, stride) {\n      var myBegin = this.coordinates.length;\n      var myEnd = this.appendFlatCoordinates(\n        flatCoordinates, offset, end, stride, false, false);\n      var moveToLineToInstruction = [Instruction.MOVE_TO_LINE_TO, myBegin, myEnd];\n      this.instructions.push(moveToLineToInstruction);\n      this.hitDetectionInstructions.push(moveToLineToInstruction);\n      return end;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasLineStringReplay.prototype.drawLineString = function drawLineString (lineStringGeometry, feature) {\n      var state = this.state;\n      var strokeStyle = state.strokeStyle;\n      var lineWidth = state.lineWidth;\n      if (strokeStyle === undefined || lineWidth === undefined) {\n        return;\n      }\n      this.updateStrokeStyle(state, this.applyStroke);\n      this.beginGeometry(lineStringGeometry, feature);\n      this.hitDetectionInstructions.push([\n        Instruction.SET_STROKE_STYLE,\n        state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\n        state.miterLimit, state.lineDash, state.lineDashOffset\n      ], beginPathInstruction);\n      var flatCoordinates = lineStringGeometry.getFlatCoordinates();\n      var stride = lineStringGeometry.getStride();\n      this.drawFlatCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n      this.hitDetectionInstructions.push(strokeInstruction);\n      this.endGeometry(lineStringGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasLineStringReplay.prototype.drawMultiLineString = function drawMultiLineString (multiLineStringGeometry, feature) {\n      var state = this.state;\n      var strokeStyle = state.strokeStyle;\n      var lineWidth = state.lineWidth;\n      if (strokeStyle === undefined || lineWidth === undefined) {\n        return;\n      }\n      this.updateStrokeStyle(state, this.applyStroke);\n      this.beginGeometry(multiLineStringGeometry, feature);\n      this.hitDetectionInstructions.push([\n        Instruction.SET_STROKE_STYLE,\n        state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\n        state.miterLimit, state.lineDash, state.lineDashOffset\n      ], beginPathInstruction);\n      var ends = multiLineStringGeometry.getEnds();\n      var flatCoordinates = multiLineStringGeometry.getFlatCoordinates();\n      var stride = multiLineStringGeometry.getStride();\n      var offset = 0;\n      for (var i = 0, ii = ends.length; i < ii; ++i) {\n        offset = this.drawFlatCoordinates_(flatCoordinates, offset, ends[i], stride);\n      }\n      this.hitDetectionInstructions.push(strokeInstruction);\n      this.endGeometry(multiLineStringGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasLineStringReplay.prototype.finish = function finish () {\n      var state = this.state;\n      if (state.lastStroke != undefined && state.lastStroke != this.coordinates.length) {\n        this.instructions.push(strokeInstruction);\n      }\n      this.reverseHitDetectionInstructions();\n      this.state = null;\n    };\n\n    /**\n     * @inheritDoc.\n     */\n    CanvasLineStringReplay.prototype.applyStroke = function applyStroke (state) {\n      if (state.lastStroke != undefined && state.lastStroke != this.coordinates.length) {\n        this.instructions.push(strokeInstruction);\n        state.lastStroke = this.coordinates.length;\n      }\n      state.lastStroke = 0;\n      CanvasReplay$$1.prototype.applyStroke.call(this, state);\n      this.instructions.push(beginPathInstruction);\n    };\n\n    return CanvasLineStringReplay;\n  }(CanvasReplay));\n\n  /**\n   * @module ol/render/canvas/PolygonReplay\n   */\n\n\n  var CanvasPolygonReplay = /*@__PURE__*/(function (CanvasReplay$$1) {\n    function CanvasPolygonReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n      CanvasReplay$$1.call(this, tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\n    }\n\n    if ( CanvasReplay$$1 ) CanvasPolygonReplay.__proto__ = CanvasReplay$$1;\n    CanvasPolygonReplay.prototype = Object.create( CanvasReplay$$1 && CanvasReplay$$1.prototype );\n    CanvasPolygonReplay.prototype.constructor = CanvasPolygonReplay;\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n    CanvasPolygonReplay.prototype.drawFlatCoordinatess_ = function drawFlatCoordinatess_ (flatCoordinates, offset, ends, stride) {\n      var state = this.state;\n      var fill = state.fillStyle !== undefined;\n      var stroke = state.strokeStyle != undefined;\n      var numEnds = ends.length;\n      this.instructions.push(beginPathInstruction);\n      this.hitDetectionInstructions.push(beginPathInstruction);\n      for (var i = 0; i < numEnds; ++i) {\n        var end = ends[i];\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatCoordinates(flatCoordinates, offset, end, stride, true, !stroke);\n        var moveToLineToInstruction = [Instruction.MOVE_TO_LINE_TO, myBegin, myEnd];\n        this.instructions.push(moveToLineToInstruction);\n        this.hitDetectionInstructions.push(moveToLineToInstruction);\n        if (stroke) {\n          // Performance optimization: only call closePath() when we have a stroke.\n          // Otherwise the ring is closed already (see appendFlatCoordinates above).\n          this.instructions.push(closePathInstruction);\n          this.hitDetectionInstructions.push(closePathInstruction);\n        }\n        offset = end;\n      }\n      if (fill) {\n        this.instructions.push(fillInstruction);\n        this.hitDetectionInstructions.push(fillInstruction);\n      }\n      if (stroke) {\n        this.instructions.push(strokeInstruction);\n        this.hitDetectionInstructions.push(strokeInstruction);\n      }\n      return offset;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasPolygonReplay.prototype.drawCircle = function drawCircle (circleGeometry, feature) {\n      var state = this.state;\n      var fillStyle = state.fillStyle;\n      var strokeStyle = state.strokeStyle;\n      if (fillStyle === undefined && strokeStyle === undefined) {\n        return;\n      }\n      this.setFillStrokeStyles_(circleGeometry);\n      this.beginGeometry(circleGeometry, feature);\n      if (state.fillStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_FILL_STYLE,\n          asString(defaultFillStyle)\n        ]);\n      }\n      if (state.strokeStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_STROKE_STYLE,\n          state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\n          state.miterLimit, state.lineDash, state.lineDashOffset\n        ]);\n      }\n      var flatCoordinates = circleGeometry.getFlatCoordinates();\n      var stride = circleGeometry.getStride();\n      var myBegin = this.coordinates.length;\n      this.appendFlatCoordinates(\n        flatCoordinates, 0, flatCoordinates.length, stride, false, false);\n      var circleInstruction = [Instruction.CIRCLE, myBegin];\n      this.instructions.push(beginPathInstruction, circleInstruction);\n      this.hitDetectionInstructions.push(beginPathInstruction, circleInstruction);\n      this.hitDetectionInstructions.push(fillInstruction);\n      if (state.fillStyle !== undefined) {\n        this.instructions.push(fillInstruction);\n      }\n      if (state.strokeStyle !== undefined) {\n        this.instructions.push(strokeInstruction);\n        this.hitDetectionInstructions.push(strokeInstruction);\n      }\n      this.endGeometry(circleGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasPolygonReplay.prototype.drawPolygon = function drawPolygon (polygonGeometry, feature) {\n      var state = this.state;\n      var fillStyle = state.fillStyle;\n      var strokeStyle = state.strokeStyle;\n      if (fillStyle === undefined && strokeStyle === undefined) {\n        return;\n      }\n      this.setFillStrokeStyles_(polygonGeometry);\n      this.beginGeometry(polygonGeometry, feature);\n      if (state.fillStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_FILL_STYLE,\n          asString(defaultFillStyle)\n        ]);\n      }\n      if (state.strokeStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_STROKE_STYLE,\n          state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\n          state.miterLimit, state.lineDash, state.lineDashOffset\n        ]);\n      }\n      var ends = polygonGeometry.getEnds();\n      var flatCoordinates = polygonGeometry.getOrientedFlatCoordinates();\n      var stride = polygonGeometry.getStride();\n      this.drawFlatCoordinatess_(flatCoordinates, 0, ends, stride);\n      this.endGeometry(polygonGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasPolygonReplay.prototype.drawMultiPolygon = function drawMultiPolygon (multiPolygonGeometry, feature) {\n      var state = this.state;\n      var fillStyle = state.fillStyle;\n      var strokeStyle = state.strokeStyle;\n      if (fillStyle === undefined && strokeStyle === undefined) {\n        return;\n      }\n      this.setFillStrokeStyles_(multiPolygonGeometry);\n      this.beginGeometry(multiPolygonGeometry, feature);\n      if (state.fillStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_FILL_STYLE,\n          asString(defaultFillStyle)\n        ]);\n      }\n      if (state.strokeStyle !== undefined) {\n        this.hitDetectionInstructions.push([\n          Instruction.SET_STROKE_STYLE,\n          state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\n          state.miterLimit, state.lineDash, state.lineDashOffset\n        ]);\n      }\n      var endss = multiPolygonGeometry.getEndss();\n      var flatCoordinates = multiPolygonGeometry.getOrientedFlatCoordinates();\n      var stride = multiPolygonGeometry.getStride();\n      var offset = 0;\n      for (var i = 0, ii = endss.length; i < ii; ++i) {\n        offset = this.drawFlatCoordinatess_(flatCoordinates, offset, endss[i], stride);\n      }\n      this.endGeometry(multiPolygonGeometry, feature);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasPolygonReplay.prototype.finish = function finish () {\n      this.reverseHitDetectionInstructions();\n      this.state = null;\n      // We want to preserve topology when drawing polygons.  Polygons are\n      // simplified using quantization and point elimination. However, we might\n      // have received a mix of quantized and non-quantized geometries, so ensure\n      // that all are quantized by quantizing all coordinates in the batch.\n      var tolerance = this.tolerance;\n      if (tolerance !== 0) {\n        var coordinates = this.coordinates;\n        for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n          coordinates[i] = snap(coordinates[i], tolerance);\n        }\n      }\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     */\n    CanvasPolygonReplay.prototype.setFillStrokeStyles_ = function setFillStrokeStyles_ (geometry) {\n      var state = this.state;\n      var fillStyle = state.fillStyle;\n      if (fillStyle !== undefined) {\n        this.updateFillStyle(state, this.createFill, geometry);\n      }\n      if (state.strokeStyle !== undefined) {\n        this.updateStrokeStyle(state, this.applyStroke);\n      }\n    };\n\n    return CanvasPolygonReplay;\n  }(CanvasReplay));\n\n  /**\n   * @module ol/geom/flat/straightchunk\n   */\n\n\n  /**\n   * @param {number} maxAngle Maximum acceptable angle delta between segments.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {Array<number>} Start and end of the first suitable chunk of the\n   * given `flatCoordinates`.\n   */\n  function matchingChunk(maxAngle, flatCoordinates, offset, end, stride) {\n    var chunkStart = offset;\n    var chunkEnd = offset;\n    var chunkM = 0;\n    var m = 0;\n    var start = offset;\n    var acos, i, m12, m23, x1, y1, x12, y12, x23, y23;\n    for (i = offset; i < end; i += stride) {\n      var x2 = flatCoordinates[i];\n      var y2 = flatCoordinates[i + 1];\n      if (x1 !== undefined) {\n        x23 = x2 - x1;\n        y23 = y2 - y1;\n        m23 = Math.sqrt(x23 * x23 + y23 * y23);\n        if (x12 !== undefined) {\n          m += m12;\n          acos = Math.acos((x12 * x23 + y12 * y23) / (m12 * m23));\n          if (acos > maxAngle) {\n            if (m > chunkM) {\n              chunkM = m;\n              chunkStart = start;\n              chunkEnd = i;\n            }\n            m = 0;\n            start = i - stride;\n          }\n        }\n        m12 = m23;\n        x12 = x23;\n        y12 = y23;\n      }\n      x1 = x2;\n      y1 = y2;\n    }\n    m += m23;\n    return m > chunkM ? [start, i] : [chunkStart, chunkEnd];\n  }\n\n  /**\n   * @module ol/style/TextPlacement\n   */\n\n  /**\n   * Text placement. One of `'point'`, `'line'`. Default is `'point'`. Note that\n   * `'line'` requires the underlying geometry to be a {@link module:ol/geom/LineString~LineString},\n   * {@link module:ol/geom/Polygon~Polygon}, {@link module:ol/geom/MultiLineString~MultiLineString} or\n   * {@link module:ol/geom/MultiPolygon~MultiPolygon}.\n   * @enum {string}\n   */\n  var TextPlacement = {\n    POINT: 'point',\n    LINE: 'line'\n  };\n\n  /**\n   * @module ol/render/canvas/TextReplay\n   */\n\n  var CanvasTextReplay = /*@__PURE__*/(function (CanvasReplay$$1) {\n    function CanvasTextReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n      CanvasReplay$$1.call(this, tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\n\n      /**\n       * @private\n       * @type {import(\"../canvas.js\").DeclutterGroup}\n       */\n      this.declutterGroup_;\n\n      /**\n       * @private\n       * @type {Array<HTMLCanvasElement>}\n       */\n      this.labels_ = null;\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.text_ = '';\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textOffsetX_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textOffsetY_ = 0;\n\n      /**\n       * @private\n       * @type {boolean|undefined}\n       */\n      this.textRotateWithView_ = undefined;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textRotation_ = 0;\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").FillState}\n       */\n      this.textFillState_ = null;\n\n      /**\n       * @type {!Object<string, import(\"../canvas.js\").FillState>}\n       */\n      this.fillStates = {};\n\n      /**\n       * @private\n       * @type {?import(\"../canvas.js\").StrokeState}\n       */\n      this.textStrokeState_ = null;\n\n      /**\n       * @type {!Object<string, import(\"../canvas.js\").StrokeState>}\n       */\n      this.strokeStates = {};\n\n      /**\n       * @private\n       * @type {import(\"../canvas.js\").TextState}\n       */\n      this.textState_ = /** @type {import(\"../canvas.js\").TextState} */ ({});\n\n      /**\n       * @type {!Object<string, import(\"../canvas.js\").TextState>}\n       */\n      this.textStates = {};\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.textKey_ = '';\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.fillKey_ = '';\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.strokeKey_ = '';\n\n      /**\n       * @private\n       * @type {Object<string, Object<string, number>>}\n       */\n      this.widths_ = {};\n\n      labelCache.prune();\n\n    }\n\n    if ( CanvasReplay$$1 ) CanvasTextReplay.__proto__ = CanvasReplay$$1;\n    CanvasTextReplay.prototype = Object.create( CanvasReplay$$1 && CanvasReplay$$1.prototype );\n    CanvasTextReplay.prototype.constructor = CanvasTextReplay;\n\n    /**\n     * @inheritDoc\n     */\n    CanvasTextReplay.prototype.drawText = function drawText (geometry, feature) {\n      var fillState = this.textFillState_;\n      var strokeState = this.textStrokeState_;\n      var textState = this.textState_;\n      if (this.text_ === '' || !textState || (!fillState && !strokeState)) {\n        return;\n      }\n\n      var begin = this.coordinates.length;\n\n      var geometryType = geometry.getType();\n      var flatCoordinates = null;\n      var end = 2;\n      var stride = 2;\n      var i, ii;\n\n      if (textState.placement === TextPlacement.LINE) {\n        if (!intersects(this.getBufferedMaxExtent(), geometry.getExtent())) {\n          return;\n        }\n        var ends;\n        flatCoordinates = geometry.getFlatCoordinates();\n        stride = geometry.getStride();\n        if (geometryType == GeometryType.LINE_STRING) {\n          ends = [flatCoordinates.length];\n        } else if (geometryType == GeometryType.MULTI_LINE_STRING) {\n          ends = geometry.getEnds();\n        } else if (geometryType == GeometryType.POLYGON) {\n          ends = geometry.getEnds().slice(0, 1);\n        } else if (geometryType == GeometryType.MULTI_POLYGON) {\n          var endss = geometry.getEndss();\n          ends = [];\n          for (i = 0, ii = endss.length; i < ii; ++i) {\n            ends.push(endss[i][0]);\n          }\n        }\n        this.beginGeometry(geometry, feature);\n        var textAlign = textState.textAlign;\n        var flatOffset = 0;\n        var flatEnd;\n        for (var o = 0, oo = ends.length; o < oo; ++o) {\n          if (textAlign == undefined) {\n            var range = matchingChunk(textState.maxAngle, flatCoordinates, flatOffset, ends[o], stride);\n            flatOffset = range[0];\n            flatEnd = range[1];\n          } else {\n            flatEnd = ends[o];\n          }\n          for (i = flatOffset; i < flatEnd; i += stride) {\n            this.coordinates.push(flatCoordinates[i], flatCoordinates[i + 1]);\n          }\n          end = this.coordinates.length;\n          flatOffset = ends[o];\n          this.drawChars_(begin, end, this.declutterGroup_);\n          begin = end;\n        }\n        this.endGeometry(geometry, feature);\n\n      } else {\n        var label = this.getImage(this.text_, this.textKey_, this.fillKey_, this.strokeKey_);\n        var width = label.width / this.pixelRatio;\n        switch (geometryType) {\n          case GeometryType.POINT:\n          case GeometryType.MULTI_POINT:\n            flatCoordinates = geometry.getFlatCoordinates();\n            end = flatCoordinates.length;\n            break;\n          case GeometryType.LINE_STRING:\n            flatCoordinates = /** @type {import(\"../../geom/LineString.js\").default} */ (geometry).getFlatMidpoint();\n            break;\n          case GeometryType.CIRCLE:\n            flatCoordinates = /** @type {import(\"../../geom/Circle.js\").default} */ (geometry).getCenter();\n            break;\n          case GeometryType.MULTI_LINE_STRING:\n            flatCoordinates = /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry).getFlatMidpoints();\n            end = flatCoordinates.length;\n            break;\n          case GeometryType.POLYGON:\n            flatCoordinates = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getFlatInteriorPoint();\n            if (!textState.overflow && flatCoordinates[2] / this.resolution < width) {\n              return;\n            }\n            stride = 3;\n            break;\n          case GeometryType.MULTI_POLYGON:\n            var interiorPoints = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getFlatInteriorPoints();\n            flatCoordinates = [];\n            for (i = 0, ii = interiorPoints.length; i < ii; i += 3) {\n              if (textState.overflow || interiorPoints[i + 2] / this.resolution >= width) {\n                flatCoordinates.push(interiorPoints[i], interiorPoints[i + 1]);\n              }\n            }\n            end = flatCoordinates.length;\n            if (end == 0) {\n              return;\n            }\n            break;\n          default:\n        }\n        end = this.appendFlatCoordinates(flatCoordinates, 0, end, stride, false, false);\n        if (textState.backgroundFill || textState.backgroundStroke) {\n          this.setFillStrokeStyle(textState.backgroundFill, textState.backgroundStroke);\n          if (textState.backgroundFill) {\n            this.updateFillStyle(this.state, this.createFill, geometry);\n            this.hitDetectionInstructions.push(this.createFill(this.state, geometry));\n          }\n          if (textState.backgroundStroke) {\n            this.updateStrokeStyle(this.state, this.applyStroke);\n            this.hitDetectionInstructions.push(this.createStroke(this.state));\n          }\n        }\n        this.beginGeometry(geometry, feature);\n        this.drawTextImage_(label, begin, end);\n        this.endGeometry(geometry, feature);\n      }\n    };\n\n    /**\n     * @param {string} text Text.\n     * @param {string} textKey Text style key.\n     * @param {string} fillKey Fill style key.\n     * @param {string} strokeKey Stroke style key.\n     * @return {HTMLCanvasElement} Image.\n     */\n    CanvasTextReplay.prototype.getImage = function getImage (text, textKey, fillKey, strokeKey) {\n      var label;\n      var key = strokeKey + textKey + text + fillKey + this.pixelRatio;\n\n      if (!labelCache.containsKey(key)) {\n        var strokeState = strokeKey ? this.strokeStates[strokeKey] || this.textStrokeState_ : null;\n        var fillState = fillKey ? this.fillStates[fillKey] || this.textFillState_ : null;\n        var textState = this.textStates[textKey] || this.textState_;\n        var pixelRatio = this.pixelRatio;\n        var scale = textState.scale * pixelRatio;\n        var align = TEXT_ALIGN[textState.textAlign || defaultTextAlign];\n        var strokeWidth = strokeKey && strokeState.lineWidth ? strokeState.lineWidth : 0;\n\n        var lines = text.split('\\n');\n        var numLines = lines.length;\n        var widths = [];\n        var width = measureTextWidths(textState.font, lines, widths);\n        var lineHeight = measureTextHeight(textState.font);\n        var height = lineHeight * numLines;\n        var renderWidth = (width + strokeWidth);\n        var context = createCanvasContext2D(\n          Math.ceil(renderWidth * scale),\n          Math.ceil((height + strokeWidth) * scale));\n        label = context.canvas;\n        labelCache.set(key, label);\n        if (scale != 1) {\n          context.scale(scale, scale);\n        }\n        context.font = textState.font;\n        if (strokeKey) {\n          context.strokeStyle = strokeState.strokeStyle;\n          context.lineWidth = strokeWidth;\n          context.lineCap = /** @type {CanvasLineCap} */ (strokeState.lineCap);\n          context.lineJoin = /** @type {CanvasLineJoin} */ (strokeState.lineJoin);\n          context.miterLimit = strokeState.miterLimit;\n          if (CANVAS_LINE_DASH && strokeState.lineDash.length) {\n            context.setLineDash(strokeState.lineDash);\n            context.lineDashOffset = strokeState.lineDashOffset;\n          }\n        }\n        if (fillKey) {\n          context.fillStyle = fillState.fillStyle;\n        }\n        context.textBaseline = 'middle';\n        context.textAlign = 'center';\n        var leftRight = (0.5 - align);\n        var x = align * label.width / scale + leftRight * strokeWidth;\n        var i;\n        if (strokeKey) {\n          for (i = 0; i < numLines; ++i) {\n            context.strokeText(lines[i], x + leftRight * widths[i], 0.5 * (strokeWidth + lineHeight) + i * lineHeight);\n          }\n        }\n        if (fillKey) {\n          for (i = 0; i < numLines; ++i) {\n            context.fillText(lines[i], x + leftRight * widths[i], 0.5 * (strokeWidth + lineHeight) + i * lineHeight);\n          }\n        }\n      }\n      return labelCache.get(key);\n    };\n\n    /**\n     * @private\n     * @param {HTMLCanvasElement} label Label.\n     * @param {number} begin Begin.\n     * @param {number} end End.\n     */\n    CanvasTextReplay.prototype.drawTextImage_ = function drawTextImage_ (label, begin, end) {\n      var textState = this.textState_;\n      var strokeState = this.textStrokeState_;\n      var pixelRatio = this.pixelRatio;\n      var align = TEXT_ALIGN[textState.textAlign || defaultTextAlign];\n      var baseline = TEXT_ALIGN[textState.textBaseline];\n      var strokeWidth = strokeState && strokeState.lineWidth ? strokeState.lineWidth : 0;\n\n      var anchorX = align * label.width / pixelRatio + 2 * (0.5 - align) * strokeWidth;\n      var anchorY = baseline * label.height / pixelRatio + 2 * (0.5 - baseline) * strokeWidth;\n      this.instructions.push([Instruction.DRAW_IMAGE, begin, end,\n        label, (anchorX - this.textOffsetX_) * pixelRatio, (anchorY - this.textOffsetY_) * pixelRatio,\n        this.declutterGroup_, label.height, 1, 0, 0, this.textRotateWithView_, this.textRotation_,\n        1, label.width,\n        textState.padding == defaultPadding ?\n          defaultPadding : textState.padding.map(function(p) {\n            return p * pixelRatio;\n          }),\n        !!textState.backgroundFill, !!textState.backgroundStroke\n      ]);\n      this.hitDetectionInstructions.push([Instruction.DRAW_IMAGE, begin, end,\n        label, (anchorX - this.textOffsetX_) * pixelRatio, (anchorY - this.textOffsetY_) * pixelRatio,\n        this.declutterGroup_, label.height, 1, 0, 0, this.textRotateWithView_, this.textRotation_,\n        1 / pixelRatio, label.width, textState.padding,\n        !!textState.backgroundFill, !!textState.backgroundStroke\n      ]);\n    };\n\n    /**\n     * @private\n     * @param {number} begin Begin.\n     * @param {number} end End.\n     * @param {import(\"../canvas.js\").DeclutterGroup} declutterGroup Declutter group.\n     */\n    CanvasTextReplay.prototype.drawChars_ = function drawChars_ (begin, end, declutterGroup) {\n      var strokeState = this.textStrokeState_;\n      var textState = this.textState_;\n      var fillState = this.textFillState_;\n\n      var strokeKey = this.strokeKey_;\n      if (strokeState) {\n        if (!(strokeKey in this.strokeStates)) {\n          this.strokeStates[strokeKey] = /** @type {import(\"../canvas.js\").StrokeState} */ ({\n            strokeStyle: strokeState.strokeStyle,\n            lineCap: strokeState.lineCap,\n            lineDashOffset: strokeState.lineDashOffset,\n            lineWidth: strokeState.lineWidth,\n            lineJoin: strokeState.lineJoin,\n            miterLimit: strokeState.miterLimit,\n            lineDash: strokeState.lineDash\n          });\n        }\n      }\n      var textKey = this.textKey_;\n      if (!(this.textKey_ in this.textStates)) {\n        this.textStates[this.textKey_] = /** @type {import(\"../canvas.js\").TextState} */ ({\n          font: textState.font,\n          textAlign: textState.textAlign || defaultTextAlign,\n          scale: textState.scale\n        });\n      }\n      var fillKey = this.fillKey_;\n      if (fillState) {\n        if (!(fillKey in this.fillStates)) {\n          this.fillStates[fillKey] = /** @type {import(\"../canvas.js\").FillState} */ ({\n            fillStyle: fillState.fillStyle\n          });\n        }\n      }\n\n      var pixelRatio = this.pixelRatio;\n      var baseline = TEXT_ALIGN[textState.textBaseline];\n\n      var offsetY = this.textOffsetY_ * pixelRatio;\n      var text = this.text_;\n      var font = textState.font;\n      var textScale = textState.scale;\n      var strokeWidth = strokeState ? strokeState.lineWidth * textScale / 2 : 0;\n      var widths = this.widths_[font];\n      if (!widths) {\n        this.widths_[font] = widths = {};\n      }\n      this.instructions.push([Instruction.DRAW_CHARS,\n        begin, end, baseline, declutterGroup,\n        textState.overflow, fillKey, textState.maxAngle,\n        function(text) {\n          var width = widths[text];\n          if (!width) {\n            width = widths[text] = measureTextWidth(font, text);\n          }\n          return width * textScale * pixelRatio;\n        },\n        offsetY, strokeKey, strokeWidth * pixelRatio, text, textKey, 1\n      ]);\n      this.hitDetectionInstructions.push([Instruction.DRAW_CHARS,\n        begin, end, baseline, declutterGroup,\n        textState.overflow, fillKey, textState.maxAngle,\n        function(text) {\n          var width = widths[text];\n          if (!width) {\n            width = widths[text] = measureTextWidth(font, text);\n          }\n          return width * textScale;\n        },\n        offsetY, strokeKey, strokeWidth, text, textKey, 1 / pixelRatio\n      ]);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasTextReplay.prototype.setTextStyle = function setTextStyle (textStyle, declutterGroup) {\n      var textState, fillState, strokeState;\n      if (!textStyle) {\n        this.text_ = '';\n      } else {\n        this.declutterGroup_ = /** @type {import(\"../canvas.js\").DeclutterGroup} */ (declutterGroup);\n\n        var textFillStyle = textStyle.getFill();\n        if (!textFillStyle) {\n          fillState = this.textFillState_ = null;\n        } else {\n          fillState = this.textFillState_;\n          if (!fillState) {\n            fillState = this.textFillState_ = /** @type {import(\"../canvas.js\").FillState} */ ({});\n          }\n          fillState.fillStyle = asColorLike(\n            textFillStyle.getColor() || defaultFillStyle);\n        }\n\n        var textStrokeStyle = textStyle.getStroke();\n        if (!textStrokeStyle) {\n          strokeState = this.textStrokeState_ = null;\n        } else {\n          strokeState = this.textStrokeState_;\n          if (!strokeState) {\n            strokeState = this.textStrokeState_ = /** @type {import(\"../canvas.js\").StrokeState} */ ({});\n          }\n          var lineDash = textStrokeStyle.getLineDash();\n          var lineDashOffset = textStrokeStyle.getLineDashOffset();\n          var lineWidth = textStrokeStyle.getWidth();\n          var miterLimit = textStrokeStyle.getMiterLimit();\n          strokeState.lineCap = textStrokeStyle.getLineCap() || defaultLineCap;\n          strokeState.lineDash = lineDash ? lineDash.slice() : defaultLineDash;\n          strokeState.lineDashOffset =\n              lineDashOffset === undefined ? defaultLineDashOffset : lineDashOffset;\n          strokeState.lineJoin = textStrokeStyle.getLineJoin() || defaultLineJoin;\n          strokeState.lineWidth =\n              lineWidth === undefined ? defaultLineWidth : lineWidth;\n          strokeState.miterLimit =\n              miterLimit === undefined ? defaultMiterLimit : miterLimit;\n          strokeState.strokeStyle = asColorLike(\n            textStrokeStyle.getColor() || defaultStrokeStyle);\n        }\n\n        textState = this.textState_;\n        var font = textStyle.getFont() || defaultFont;\n        checkFont(font);\n        var textScale = textStyle.getScale();\n        textState.overflow = textStyle.getOverflow();\n        textState.font = font;\n        textState.maxAngle = textStyle.getMaxAngle();\n        textState.placement = textStyle.getPlacement();\n        textState.textAlign = textStyle.getTextAlign();\n        textState.textBaseline = textStyle.getTextBaseline() || defaultTextBaseline;\n        textState.backgroundFill = textStyle.getBackgroundFill();\n        textState.backgroundStroke = textStyle.getBackgroundStroke();\n        textState.padding = textStyle.getPadding() || defaultPadding;\n        textState.scale = textScale === undefined ? 1 : textScale;\n\n        var textOffsetX = textStyle.getOffsetX();\n        var textOffsetY = textStyle.getOffsetY();\n        var textRotateWithView = textStyle.getRotateWithView();\n        var textRotation = textStyle.getRotation();\n        this.text_ = textStyle.getText() || '';\n        this.textOffsetX_ = textOffsetX === undefined ? 0 : textOffsetX;\n        this.textOffsetY_ = textOffsetY === undefined ? 0 : textOffsetY;\n        this.textRotateWithView_ = textRotateWithView === undefined ? false : textRotateWithView;\n        this.textRotation_ = textRotation === undefined ? 0 : textRotation;\n\n        this.strokeKey_ = strokeState ?\n          (typeof strokeState.strokeStyle == 'string' ? strokeState.strokeStyle : getUid(strokeState.strokeStyle)) +\n          strokeState.lineCap + strokeState.lineDashOffset + '|' + strokeState.lineWidth +\n          strokeState.lineJoin + strokeState.miterLimit + '[' + strokeState.lineDash.join() + ']' :\n          '';\n        this.textKey_ = textState.font + textState.scale + (textState.textAlign || '?');\n        this.fillKey_ = fillState ?\n          (typeof fillState.fillStyle == 'string' ? fillState.fillStyle : ('|' + getUid(fillState.fillStyle))) :\n          '';\n      }\n    };\n\n    return CanvasTextReplay;\n  }(CanvasReplay));\n\n\n  /**\n   * @param {string} font Font to use for measuring.\n   * @param {Array<string>} lines Lines to measure.\n   * @param {Array<number>} widths Array will be populated with the widths of\n   * each line.\n   * @return {number} Width of the whole text.\n   */\n  function measureTextWidths(font, lines, widths) {\n    var numLines = lines.length;\n    var width = 0;\n    for (var i = 0; i < numLines; ++i) {\n      var currentWidth = measureTextWidth(font, lines[i]);\n      width = Math.max(width, currentWidth);\n      widths.push(currentWidth);\n    }\n    return width;\n  }\n\n  /**\n   * @module ol/render/canvas/ReplayGroup\n   */\n\n\n  /**\n   * @type {Object<ReplayType, typeof CanvasReplay>}\n   */\n  var BATCH_CONSTRUCTORS = {\n    'Circle': CanvasPolygonReplay,\n    'Default': CanvasReplay,\n    'Image': CanvasImageReplay,\n    'LineString': CanvasLineStringReplay,\n    'Polygon': CanvasPolygonReplay,\n    'Text': CanvasTextReplay\n  };\n\n\n  var CanvasReplayGroup = /*@__PURE__*/(function (ReplayGroup$$1) {\n    function CanvasReplayGroup(\n      tolerance,\n      maxExtent,\n      resolution,\n      pixelRatio,\n      overlaps,\n      declutterTree,\n      opt_renderBuffer\n    ) {\n      ReplayGroup$$1.call(this);\n\n      /**\n       * Declutter tree.\n       * @private\n       */\n      this.declutterTree_ = declutterTree;\n\n      /**\n       * @type {import(\"../canvas.js\").DeclutterGroup}\n       * @private\n       */\n      this.declutterGroup_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.tolerance_ = tolerance;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.maxExtent_ = maxExtent;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.overlaps_ = overlaps;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelRatio_ = pixelRatio;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.resolution_ = resolution;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.renderBuffer_ = opt_renderBuffer;\n\n      /**\n       * @private\n       * @type {!Object<string, !Object<ReplayType, CanvasReplay>>}\n       */\n      this.replaysByZIndex_ = {};\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.hitDetectionContext_ = createCanvasContext2D(1, 1);\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.hitDetectionTransform_ = create();\n    }\n\n    if ( ReplayGroup$$1 ) CanvasReplayGroup.__proto__ = ReplayGroup$$1;\n    CanvasReplayGroup.prototype = Object.create( ReplayGroup$$1 && ReplayGroup$$1.prototype );\n    CanvasReplayGroup.prototype.constructor = CanvasReplayGroup;\n\n    /**\n     * @inheritDoc\n     */\n    CanvasReplayGroup.prototype.addDeclutter = function addDeclutter (group) {\n      var declutter = null;\n      if (this.declutterTree_) {\n        if (group) {\n          declutter = this.declutterGroup_;\n          /** @type {number} */ (declutter[4])++;\n        } else {\n          declutter = this.declutterGroup_ = createEmpty();\n          declutter.push(1);\n        }\n      }\n      return declutter;\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     */\n    CanvasReplayGroup.prototype.clip = function clip (context, transform) {\n      var flatClipCoords = this.getClipCoords(transform);\n      context.beginPath();\n      context.moveTo(flatClipCoords[0], flatClipCoords[1]);\n      context.lineTo(flatClipCoords[2], flatClipCoords[3]);\n      context.lineTo(flatClipCoords[4], flatClipCoords[5]);\n      context.lineTo(flatClipCoords[6], flatClipCoords[7]);\n      context.clip();\n    };\n\n    /**\n     * @param {Array<ReplayType>} replays Replays.\n     * @return {boolean} Has replays of the provided types.\n     */\n    CanvasReplayGroup.prototype.hasReplays = function hasReplays (replays) {\n      for (var zIndex in this.replaysByZIndex_) {\n        var candidates = this.replaysByZIndex_[zIndex];\n        for (var i = 0, ii = replays.length; i < ii; ++i) {\n          if (replays[i] in candidates) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n    CanvasReplayGroup.prototype.finish = function finish () {\n      for (var zKey in this.replaysByZIndex_) {\n        var replays = this.replaysByZIndex_[zKey];\n        for (var replayKey in replays) {\n          replays[replayKey].finish();\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T} callback Feature callback.\n     * @param {Object<string, import(\"../canvas.js\").DeclutterGroup>} declutterReplays Declutter replays.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CanvasReplayGroup.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (\n      coordinate,\n      resolution,\n      rotation,\n      hitTolerance,\n      skippedFeaturesHash,\n      callback,\n      declutterReplays\n    ) {\n\n      hitTolerance = Math.round(hitTolerance);\n      var contextSize = hitTolerance * 2 + 1;\n      var transform = compose(this.hitDetectionTransform_,\n        hitTolerance + 0.5, hitTolerance + 0.5,\n        1 / resolution, -1 / resolution,\n        -rotation,\n        -coordinate[0], -coordinate[1]);\n      var context = this.hitDetectionContext_;\n\n      if (context.canvas.width !== contextSize || context.canvas.height !== contextSize) {\n        context.canvas.width = contextSize;\n        context.canvas.height = contextSize;\n      } else {\n        context.clearRect(0, 0, contextSize, contextSize);\n      }\n\n      /**\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      var hitExtent;\n      if (this.renderBuffer_ !== undefined) {\n        hitExtent = createEmpty();\n        extendCoordinate(hitExtent, coordinate);\n        buffer(hitExtent, resolution * (this.renderBuffer_ + hitTolerance), hitExtent);\n      }\n\n      var mask = getCircleArray(hitTolerance);\n      var declutteredFeatures;\n      if (this.declutterTree_) {\n        declutteredFeatures = this.declutterTree_.all().map(function(entry) {\n          return entry.value;\n        });\n      }\n\n      var replayType;\n\n      /**\n       * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n       * @return {?} Callback result.\n       */\n      function featureCallback(feature) {\n        var imageData = context.getImageData(0, 0, contextSize, contextSize).data;\n        for (var i = 0; i < contextSize; i++) {\n          for (var j = 0; j < contextSize; j++) {\n            if (mask[i][j]) {\n              if (imageData[(j * contextSize + i) * 4 + 3] > 0) {\n                var result = (void 0);\n                if (!(declutteredFeatures && (replayType == ReplayType.IMAGE || replayType == ReplayType.TEXT)) ||\n                    declutteredFeatures.indexOf(feature) !== -1) {\n                  result = callback(feature);\n                }\n                if (result) {\n                  return result;\n                } else {\n                  context.clearRect(0, 0, contextSize, contextSize);\n                  return undefined;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      /** @type {Array<number>} */\n      var zs = Object.keys(this.replaysByZIndex_).map(Number);\n      zs.sort(numberSafeCompareFunction);\n\n      var i, j, replays, replay, result;\n      for (i = zs.length - 1; i >= 0; --i) {\n        var zIndexKey = zs[i].toString();\n        replays = this.replaysByZIndex_[zIndexKey];\n        for (j = ORDER.length - 1; j >= 0; --j) {\n          replayType = ORDER[j];\n          replay = replays[replayType];\n          if (replay !== undefined) {\n            if (declutterReplays &&\n                (replayType == ReplayType.IMAGE || replayType == ReplayType.TEXT)) {\n              var declutter = declutterReplays[zIndexKey];\n              if (!declutter) {\n                declutterReplays[zIndexKey] = [replay, transform.slice(0)];\n              } else {\n                declutter.push(replay, transform.slice(0));\n              }\n            } else {\n              result = replay.replayHitDetection(context, transform, rotation,\n                skippedFeaturesHash, featureCallback, hitExtent);\n              if (result) {\n                return result;\n              }\n            }\n          }\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @return {Array<number>} Clip coordinates.\n     */\n    CanvasReplayGroup.prototype.getClipCoords = function getClipCoords (transform) {\n      var maxExtent = this.maxExtent_;\n      var minX = maxExtent[0];\n      var minY = maxExtent[1];\n      var maxX = maxExtent[2];\n      var maxY = maxExtent[3];\n      var flatClipCoords = [minX, minY, minX, maxY, maxX, maxY, maxX, minY];\n      transform2D(\n        flatClipCoords, 0, 8, 2, transform, flatClipCoords);\n      return flatClipCoords;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasReplayGroup.prototype.getReplay = function getReplay (zIndex, replayType) {\n      var zIndexKey = zIndex !== undefined ? zIndex.toString() : '0';\n      var replays = this.replaysByZIndex_[zIndexKey];\n      if (replays === undefined) {\n        replays = {};\n        this.replaysByZIndex_[zIndexKey] = replays;\n      }\n      var replay = replays[replayType];\n      if (replay === undefined) {\n        var Constructor = BATCH_CONSTRUCTORS[replayType];\n        replay = new Constructor(this.tolerance_, this.maxExtent_,\n          this.resolution_, this.pixelRatio_, this.overlaps_, this.declutterTree_);\n        replays[replayType] = replay;\n      }\n      return replay;\n    };\n\n    /**\n     * @return {Object<string, Object<ReplayType, CanvasReplay>>} Replays.\n     */\n    CanvasReplayGroup.prototype.getReplays = function getReplays () {\n      return this.replaysByZIndex_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasReplayGroup.prototype.isEmpty = function isEmpty$1$$1 () {\n      return isEmpty(this.replaysByZIndex_);\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {boolean} snapToPixel Snap point symbols and test to integer pixel.\n     * @param {Array<ReplayType>=} opt_replayTypes Ordered replay types to replay.\n     *     Default is {@link module:ol/render/replay~ORDER}\n     * @param {Object<string, import(\"../canvas.js\").DeclutterGroup>=} opt_declutterReplays Declutter replays.\n     */\n    CanvasReplayGroup.prototype.replay = function replay (\n      context,\n      transform,\n      viewRotation,\n      skippedFeaturesHash,\n      snapToPixel,\n      opt_replayTypes,\n      opt_declutterReplays\n    ) {\n\n      /** @type {Array<number>} */\n      var zs = Object.keys(this.replaysByZIndex_).map(Number);\n      zs.sort(numberSafeCompareFunction);\n\n      // setup clipping so that the parts of over-simplified geometries are not\n      // visible outside the current extent when panning\n      context.save();\n      this.clip(context, transform);\n\n      var replayTypes = opt_replayTypes ? opt_replayTypes : ORDER;\n      var i, ii, j, jj, replays, replay;\n      for (i = 0, ii = zs.length; i < ii; ++i) {\n        var zIndexKey = zs[i].toString();\n        replays = this.replaysByZIndex_[zIndexKey];\n        for (j = 0, jj = replayTypes.length; j < jj; ++j) {\n          var replayType = replayTypes[j];\n          replay = replays[replayType];\n          if (replay !== undefined) {\n            if (opt_declutterReplays &&\n                (replayType == ReplayType.IMAGE || replayType == ReplayType.TEXT)) {\n              var declutter = opt_declutterReplays[zIndexKey];\n              if (!declutter) {\n                opt_declutterReplays[zIndexKey] = [replay, transform.slice(0)];\n              } else {\n                declutter.push(replay, transform.slice(0));\n              }\n            } else {\n              replay.replay(context, transform, viewRotation, skippedFeaturesHash, snapToPixel);\n            }\n          }\n        }\n      }\n\n      context.restore();\n    };\n\n    return CanvasReplayGroup;\n  }(ReplayGroup));\n\n\n  /**\n   * This cache is used for storing calculated pixel circles for increasing performance.\n   * It is a static property to allow each Replaygroup to access it.\n   * @type {Object<number, Array<Array<(boolean|undefined)>>>}\n   */\n  var circleArrayCache = {\n    0: [[true]]\n  };\n\n\n  /**\n   * This method fills a row in the array from the given coordinate to the\n   * middle with `true`.\n   * @param {Array<Array<(boolean|undefined)>>} array The array that will be altered.\n   * @param {number} x X coordinate.\n   * @param {number} y Y coordinate.\n   */\n  function fillCircleArrayRowToMiddle(array, x, y) {\n    var i;\n    var radius = Math.floor(array.length / 2);\n    if (x >= radius) {\n      for (i = radius; i < x; i++) {\n        array[i][y] = true;\n      }\n    } else if (x < radius) {\n      for (i = x + 1; i < radius; i++) {\n        array[i][y] = true;\n      }\n    }\n  }\n\n\n  /**\n   * This methods creates a circle inside a fitting array. Points inside the\n   * circle are marked by true, points on the outside are undefined.\n   * It uses the midpoint circle algorithm.\n   * A cache is used to increase performance.\n   * @param {number} radius Radius.\n   * @returns {Array<Array<(boolean|undefined)>>} An array with marked circle points.\n   */\n  function getCircleArray(radius) {\n    if (circleArrayCache[radius] !== undefined) {\n      return circleArrayCache[radius];\n    }\n\n    var arraySize = radius * 2 + 1;\n    var arr = new Array(arraySize);\n    for (var i = 0; i < arraySize; i++) {\n      arr[i] = new Array(arraySize);\n    }\n\n    var x = radius;\n    var y = 0;\n    var error = 0;\n\n    while (x >= y) {\n      fillCircleArrayRowToMiddle(arr, radius + x, radius + y);\n      fillCircleArrayRowToMiddle(arr, radius + y, radius + x);\n      fillCircleArrayRowToMiddle(arr, radius - y, radius + x);\n      fillCircleArrayRowToMiddle(arr, radius - x, radius + y);\n      fillCircleArrayRowToMiddle(arr, radius - x, radius - y);\n      fillCircleArrayRowToMiddle(arr, radius - y, radius - x);\n      fillCircleArrayRowToMiddle(arr, radius + y, radius - x);\n      fillCircleArrayRowToMiddle(arr, radius + x, radius - y);\n\n      y++;\n      error += 1 + 2 * y;\n      if (2 * (error - x) + 1 > 0) {\n        x -= 1;\n        error += 1 - 2 * x;\n      }\n    }\n\n    circleArrayCache[radius] = arr;\n    return arr;\n  }\n\n\n  /**\n   * @param {!Object<string, Array<*>>} declutterReplays Declutter replays.\n   * @param {CanvasRenderingContext2D} context Context.\n   * @param {number} rotation Rotation.\n   * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n   */\n  function replayDeclutter(declutterReplays, context, rotation, snapToPixel) {\n    var zs = Object.keys(declutterReplays).map(Number).sort(numberSafeCompareFunction);\n    var skippedFeatureUids = {};\n    for (var z = 0, zz = zs.length; z < zz; ++z) {\n      var replayData = declutterReplays[zs[z].toString()];\n      for (var i = 0, ii = replayData.length; i < ii;) {\n        var replay = replayData[i++];\n        var transform = replayData[i++];\n        replay.replay(context, transform, rotation, skippedFeatureUids, snapToPixel);\n      }\n    }\n  }\n\n  /**\n   * @module ol/renderer/vector\n   */\n\n\n  /**\n   * Tolerance for geometry simplification in device pixels.\n   * @type {number}\n   */\n  var SIMPLIFY_TOLERANCE = 0.5;\n\n\n  /**\n   * @const\n   * @type {Object<import(\"../geom/GeometryType.js\").default,\n   *                function(import(\"../render/ReplayGroup.js\").default, import(\"../geom/Geometry.js\").default,\n   *                         import(\"../style/Style.js\").default, Object)>}\n   */\n  var GEOMETRY_RENDERERS = {\n    'Point': renderPointGeometry,\n    'LineString': renderLineStringGeometry,\n    'Polygon': renderPolygonGeometry,\n    'MultiPoint': renderMultiPointGeometry,\n    'MultiLineString': renderMultiLineStringGeometry,\n    'MultiPolygon': renderMultiPolygonGeometry,\n    'GeometryCollection': renderGeometryCollectionGeometry,\n    'Circle': renderCircleGeometry\n  };\n\n\n  /**\n   * @param {import(\"../Feature.js\").FeatureLike} feature1 Feature 1.\n   * @param {import(\"../Feature.js\").FeatureLike} feature2 Feature 2.\n   * @return {number} Order.\n   */\n  function defaultOrder(feature1, feature2) {\n    return parseInt(getUid(feature1), 10) - parseInt(getUid(feature2), 10);\n  }\n\n\n  /**\n   * @param {number} resolution Resolution.\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {number} Squared pixel tolerance.\n   */\n  function getSquaredTolerance(resolution, pixelRatio) {\n    var tolerance = getTolerance(resolution, pixelRatio);\n    return tolerance * tolerance;\n  }\n\n\n  /**\n   * @param {number} resolution Resolution.\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {number} Pixel tolerance.\n   */\n  function getTolerance(resolution, pixelRatio) {\n    return SIMPLIFY_TOLERANCE * resolution / pixelRatio;\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/Circle.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   */\n  function renderCircleGeometry(replayGroup, geometry, style, feature) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (fillStyle || strokeStyle) {\n      var circleReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.CIRCLE);\n      circleReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n      circleReplay.drawCircle(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {number} squaredTolerance Squared tolerance.\n   * @param {function(this: T, import(\"../events/Event.js\").default)} listener Listener function.\n   * @param {T} thisArg Value to use as `this` when executing `listener`.\n   * @return {boolean} `true` if style is loading.\n   * @template T\n   */\n  function renderFeature(replayGroup, feature, style, squaredTolerance, listener, thisArg) {\n    var loading = false;\n    var imageStyle = style.getImage();\n    if (imageStyle) {\n      var imageState = imageStyle.getImageState();\n      if (imageState == ImageState.LOADED || imageState == ImageState.ERROR) {\n        imageStyle.unlistenImageChange(listener, thisArg);\n      } else {\n        if (imageState == ImageState.IDLE) {\n          imageStyle.load();\n        }\n        imageState = imageStyle.getImageState();\n        imageStyle.listenImageChange(listener, thisArg);\n        loading = true;\n      }\n    }\n    renderFeatureInternal(replayGroup, feature, style, squaredTolerance);\n\n    return loading;\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {number} squaredTolerance Squared tolerance.\n   */\n  function renderFeatureInternal(replayGroup, feature, style, squaredTolerance) {\n    var geometry = style.getGeometryFunction()(feature);\n    if (!geometry) {\n      return;\n    }\n    var simplifiedGeometry = geometry.getSimplifiedGeometry(squaredTolerance);\n    var renderer = style.getRenderer();\n    if (renderer) {\n      renderGeometry(replayGroup, simplifiedGeometry, style, feature);\n    } else {\n      var geometryRenderer = GEOMETRY_RENDERERS[simplifiedGeometry.getType()];\n      geometryRenderer(replayGroup, simplifiedGeometry, style, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderGeometry(replayGroup, geometry, style, feature) {\n    if (geometry.getType() == GeometryType.GEOMETRY_COLLECTION) {\n      var geometries = /** @type {import(\"../geom/GeometryCollection.js\").default} */ (geometry).getGeometries();\n      for (var i = 0, ii = geometries.length; i < ii; ++i) {\n        renderGeometry(replayGroup, geometries[i], style, feature);\n      }\n      return;\n    }\n    var replay = replayGroup.getReplay(style.getZIndex(), ReplayType.DEFAULT);\n    replay.drawCustom(/** @type {import(\"../geom/SimpleGeometry.js\").default} */ (geometry), feature, style.getRenderer());\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/GeometryCollection.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   */\n  function renderGeometryCollectionGeometry(replayGroup, geometry, style, feature) {\n    var geometries = geometry.getGeometriesArray();\n    var i, ii;\n    for (i = 0, ii = geometries.length; i < ii; ++i) {\n      var geometryRenderer =\n          GEOMETRY_RENDERERS[geometries[i].getType()];\n      geometryRenderer(replayGroup, geometries[i], style, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/LineString.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderLineStringGeometry(replayGroup, geometry, style, feature) {\n    var strokeStyle = style.getStroke();\n    if (strokeStyle) {\n      var lineStringReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.LINE_STRING);\n      lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n      lineStringReplay.drawLineString(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/MultiLineString.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderMultiLineStringGeometry(replayGroup, geometry, style, feature) {\n    var strokeStyle = style.getStroke();\n    if (strokeStyle) {\n      var lineStringReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.LINE_STRING);\n      lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n      lineStringReplay.drawMultiLineString(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/MultiPolygon.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   */\n  function renderMultiPolygonGeometry(replayGroup, geometry, style, feature) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (strokeStyle || fillStyle) {\n      var polygonReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.POLYGON);\n      polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n      polygonReplay.drawMultiPolygon(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/Point.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderPointGeometry(replayGroup, geometry, style, feature) {\n    var imageStyle = style.getImage();\n    if (imageStyle) {\n      if (imageStyle.getImageState() != ImageState.LOADED) {\n        return;\n      }\n      var imageReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.IMAGE);\n      imageReplay.setImageStyle(imageStyle, replayGroup.addDeclutter(false));\n      imageReplay.drawPoint(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(!!imageStyle));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/MultiPoint.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderMultiPointGeometry(replayGroup, geometry, style, feature) {\n    var imageStyle = style.getImage();\n    if (imageStyle) {\n      if (imageStyle.getImageState() != ImageState.LOADED) {\n        return;\n      }\n      var imageReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.IMAGE);\n      imageReplay.setImageStyle(imageStyle, replayGroup.addDeclutter(false));\n      imageReplay.drawMultiPoint(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(!!imageStyle));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n\n  /**\n   * @param {import(\"../render/ReplayGroup.js\").default} replayGroup Replay group.\n   * @param {import(\"../geom/Polygon.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n   * @param {import(\"../style/Style.js\").default} style Style.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   */\n  function renderPolygonGeometry(replayGroup, geometry, style, feature) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (fillStyle || strokeStyle) {\n      var polygonReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.POLYGON);\n      polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n      polygonReplay.drawPolygon(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle) {\n      var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n      textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n      textReplay.drawText(geometry, feature);\n    }\n  }\n\n  /**\n   * @module ol/renderer/canvas/VectorLayer\n   */\n\n  /**\n   * @classdesc\n   * Canvas renderer for vector layers.\n   * @api\n   */\n  var CanvasVectorLayerRenderer = /*@__PURE__*/(function (CanvasLayerRenderer$$1) {\n    function CanvasVectorLayerRenderer(vectorLayer) {\n\n      CanvasLayerRenderer$$1.call(this, vectorLayer);\n\n      /**\n       * Declutter tree.\n       * @private\n       */\n      this.declutterTree_ = vectorLayer.getDeclutter() ? rbush_1(9, undefined) : null;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.dirty_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedRevision_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedResolution_ = NaN;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.renderedExtent_ = createEmpty();\n\n      /**\n       * @private\n       * @type {function(import(\"../../Feature.js\").default, import(\"../../Feature.js\").default): number|null}\n       */\n      this.renderedRenderOrder_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../render/canvas/ReplayGroup.js\").default}\n       */\n      this.replayGroup_ = null;\n\n      /**\n       * A new replay group had to be created by `prepareFrame()`\n       * @type {boolean}\n       */\n      this.replayGroupChanged = true;\n\n      /**\n       * @type {CanvasRenderingContext2D}\n       */\n      this.context = createCanvasContext2D();\n\n      listen(labelCache, EventType.CLEAR, this.handleFontsChanged_, this);\n\n    }\n\n    if ( CanvasLayerRenderer$$1 ) CanvasVectorLayerRenderer.__proto__ = CanvasLayerRenderer$$1;\n    CanvasVectorLayerRenderer.prototype = Object.create( CanvasLayerRenderer$$1 && CanvasLayerRenderer$$1.prototype );\n    CanvasVectorLayerRenderer.prototype.constructor = CanvasVectorLayerRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorLayerRenderer.prototype.disposeInternal = function disposeInternal () {\n      unlisten(labelCache, EventType.CLEAR, this.handleFontsChanged_, this);\n      CanvasLayerRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     */\n    CanvasVectorLayerRenderer.prototype.compose = function compose (context, frameState, layerState) {\n      var extent = frameState.extent;\n      var pixelRatio = frameState.pixelRatio;\n      var skippedFeatureUids = layerState.managed ?\n        frameState.skippedFeatureUids : {};\n      var viewState = frameState.viewState;\n      var projection = viewState.projection;\n      var rotation = viewState.rotation;\n      var projectionExtent = projection.getExtent();\n      var vectorSource = /** @type {import(\"../../source/Vector.js\").default} */ (this.getLayer().getSource());\n\n      var transform = this.getTransform(frameState, 0);\n\n      // clipped rendering if layer extent is set\n      var clipExtent = layerState.extent;\n      var clipped = clipExtent !== undefined;\n      if (clipped) {\n        this.clip(context, frameState, /** @type {import(\"../../extent.js\").Extent} */ (clipExtent));\n      }\n      var replayGroup = this.replayGroup_;\n      if (replayGroup && !replayGroup.isEmpty()) {\n        if (this.declutterTree_) {\n          this.declutterTree_.clear();\n        }\n        var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n        var drawOffsetX = 0;\n        var drawOffsetY = 0;\n        var replayContext;\n        var transparentLayer = layerState.opacity !== 1;\n        var hasRenderListeners = layer.hasListener(RenderEventType.RENDER);\n        if (transparentLayer || hasRenderListeners) {\n          var drawWidth = context.canvas.width;\n          var drawHeight = context.canvas.height;\n          if (rotation) {\n            var drawSize = Math.round(Math.sqrt(drawWidth * drawWidth + drawHeight * drawHeight));\n            drawOffsetX = (drawSize - drawWidth) / 2;\n            drawOffsetY = (drawSize - drawHeight) / 2;\n            drawWidth = drawHeight = drawSize;\n          }\n          // resize and clear\n          this.context.canvas.width = drawWidth;\n          this.context.canvas.height = drawHeight;\n          replayContext = this.context;\n        } else {\n          replayContext = context;\n        }\n\n        var alpha = replayContext.globalAlpha;\n        if (!transparentLayer) {\n          // for performance reasons, context.save / context.restore is not used\n          // to save and restore the transformation matrix and the opacity.\n          // see http://jsperf.com/context-save-restore-versus-variable\n          replayContext.globalAlpha = layerState.opacity;\n        }\n\n        if (replayContext != context) {\n          replayContext.translate(drawOffsetX, drawOffsetY);\n        }\n\n        var viewHints = frameState.viewHints;\n        var snapToPixel = !(viewHints[ViewHint.ANIMATING] || viewHints[ViewHint.INTERACTING]);\n        var width = frameState.size[0] * pixelRatio;\n        var height = frameState.size[1] * pixelRatio;\n        rotateAtOffset(replayContext, -rotation,\n          width / 2, height / 2);\n        replayGroup.replay(replayContext, transform, rotation, skippedFeatureUids, snapToPixel);\n        if (vectorSource.getWrapX() && projection.canWrapX() &&\n            !containsExtent(projectionExtent, extent)) {\n          var startX = extent[0];\n          var worldWidth = getWidth(projectionExtent);\n          var world = 0;\n          var offsetX;\n          while (startX < projectionExtent[0]) {\n            --world;\n            offsetX = worldWidth * world;\n            transform = this.getTransform(frameState, offsetX);\n            replayGroup.replay(replayContext, transform, rotation, skippedFeatureUids, snapToPixel);\n            startX += worldWidth;\n          }\n          world = 0;\n          startX = extent[2];\n          while (startX > projectionExtent[2]) {\n            ++world;\n            offsetX = worldWidth * world;\n            transform = this.getTransform(frameState, offsetX);\n            replayGroup.replay(replayContext, transform, rotation, skippedFeatureUids, snapToPixel);\n            startX -= worldWidth;\n          }\n        }\n        rotateAtOffset(replayContext, rotation,\n          width / 2, height / 2);\n\n        if (hasRenderListeners) {\n          this.dispatchRenderEvent(replayContext, frameState, transform);\n        }\n        if (replayContext != context) {\n          if (transparentLayer) {\n            var mainContextAlpha = context.globalAlpha;\n            context.globalAlpha = layerState.opacity;\n            context.drawImage(replayContext.canvas, -drawOffsetX, -drawOffsetY);\n            context.globalAlpha = mainContextAlpha;\n          } else {\n            context.drawImage(replayContext.canvas, -drawOffsetX, -drawOffsetY);\n          }\n          replayContext.translate(-drawOffsetX, -drawOffsetY);\n        }\n\n        if (!transparentLayer) {\n          replayContext.globalAlpha = alpha;\n        }\n      }\n\n      if (clipped) {\n        context.restore();\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorLayerRenderer.prototype.composeFrame = function composeFrame (frameState, layerState, context) {\n      var transform = this.getTransform(frameState, 0);\n      this.preCompose(context, frameState, transform);\n      this.compose(context, frameState, layerState);\n      this.postCompose(context, frameState, layerState, transform);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorLayerRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (coordinate, frameState, hitTolerance, callback, thisArg) {\n      if (!this.replayGroup_) {\n        return undefined;\n      } else {\n        var resolution = frameState.viewState.resolution;\n        var rotation = frameState.viewState.rotation;\n        var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n        /** @type {!Object<string, boolean>} */\n        var features = {};\n        var result = this.replayGroup_.forEachFeatureAtCoordinate(coordinate, resolution, rotation, hitTolerance, {},\n          /**\n           * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n           * @return {?} Callback result.\n           */\n          function(feature) {\n            var key = getUid(feature);\n            if (!(key in features)) {\n              features[key] = true;\n              return callback.call(thisArg, feature, layer);\n            }\n          }, null);\n        return result;\n      }\n    };\n\n    /**\n     * @param {import(\"../../events/Event.js\").default} event Event.\n     */\n    CanvasVectorLayerRenderer.prototype.handleFontsChanged_ = function handleFontsChanged_ (event) {\n      var layer = this.getLayer();\n      if (layer.getVisible() && this.replayGroup_) {\n        layer.changed();\n      }\n    };\n\n    /**\n     * Handle changes in image style state.\n     * @param {import(\"../../events/Event.js\").default} event Image style change event.\n     * @private\n     */\n    CanvasVectorLayerRenderer.prototype.handleStyleImageChange_ = function handleStyleImageChange_ (event) {\n      this.renderIfReadyAndVisible();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState) {\n      var vectorLayer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var vectorSource = /** @type {import(\"../../source/Vector.js\").default} */ (vectorLayer.getSource());\n\n      var animating = frameState.viewHints[ViewHint.ANIMATING];\n      var interacting = frameState.viewHints[ViewHint.INTERACTING];\n      var updateWhileAnimating = vectorLayer.getUpdateWhileAnimating();\n      var updateWhileInteracting = vectorLayer.getUpdateWhileInteracting();\n\n      if (!this.dirty_ && (!updateWhileAnimating && animating) ||\n          (!updateWhileInteracting && interacting)) {\n        return true;\n      }\n\n      var frameStateExtent = frameState.extent;\n      var viewState = frameState.viewState;\n      var projection = viewState.projection;\n      var resolution = viewState.resolution;\n      var pixelRatio = frameState.pixelRatio;\n      var vectorLayerRevision = vectorLayer.getRevision();\n      var vectorLayerRenderBuffer = vectorLayer.getRenderBuffer();\n      var vectorLayerRenderOrder = vectorLayer.getRenderOrder();\n\n      if (vectorLayerRenderOrder === undefined) {\n        vectorLayerRenderOrder = defaultOrder;\n      }\n\n      var extent = buffer(frameStateExtent,\n        vectorLayerRenderBuffer * resolution);\n      var projectionExtent = viewState.projection.getExtent();\n\n      if (vectorSource.getWrapX() && viewState.projection.canWrapX() &&\n          !containsExtent(projectionExtent, frameState.extent)) {\n        // For the replay group, we need an extent that intersects the real world\n        // (-180° to +180°). To support geometries in a coordinate range from -540°\n        // to +540°, we add at least 1 world width on each side of the projection\n        // extent. If the viewport is wider than the world, we need to add half of\n        // the viewport width to make sure we cover the whole viewport.\n        var worldWidth = getWidth(projectionExtent);\n        var gutter = Math.max(getWidth(extent) / 2, worldWidth);\n        extent[0] = projectionExtent[0] - gutter;\n        extent[2] = projectionExtent[2] + gutter;\n      }\n\n      if (!this.dirty_ &&\n          this.renderedResolution_ == resolution &&\n          this.renderedRevision_ == vectorLayerRevision &&\n          this.renderedRenderOrder_ == vectorLayerRenderOrder &&\n          containsExtent(this.renderedExtent_, extent)) {\n        this.replayGroupChanged = false;\n        return true;\n      }\n\n      this.replayGroup_ = null;\n\n      this.dirty_ = false;\n\n      var replayGroup = new CanvasReplayGroup(\n        getTolerance(resolution, pixelRatio), extent, resolution,\n        pixelRatio, vectorSource.getOverlaps(), this.declutterTree_, vectorLayer.getRenderBuffer());\n      vectorSource.loadFeatures(extent, resolution, projection);\n      /**\n       * @param {import(\"../../Feature.js\").default} feature Feature.\n       * @this {CanvasVectorLayerRenderer}\n       */\n      var render = function(feature) {\n        var styles;\n        var styleFunction = feature.getStyleFunction() || vectorLayer.getStyleFunction();\n        if (styleFunction) {\n          styles = styleFunction(feature, resolution);\n        }\n        if (styles) {\n          var dirty = this.renderFeature(\n            feature, resolution, pixelRatio, styles, replayGroup);\n          this.dirty_ = this.dirty_ || dirty;\n        }\n      }.bind(this);\n      if (vectorLayerRenderOrder) {\n        /** @type {Array<import(\"../../Feature.js\").default>} */\n        var features = [];\n        vectorSource.forEachFeatureInExtent(extent,\n          /**\n           * @param {import(\"../../Feature.js\").default} feature Feature.\n           */\n          function(feature) {\n            features.push(feature);\n          });\n        features.sort(vectorLayerRenderOrder);\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n          render(features[i]);\n        }\n      } else {\n        vectorSource.forEachFeatureInExtent(extent, render);\n      }\n      replayGroup.finish();\n\n      this.renderedResolution_ = resolution;\n      this.renderedRevision_ = vectorLayerRevision;\n      this.renderedRenderOrder_ = vectorLayerRenderOrder;\n      this.renderedExtent_ = extent;\n      this.replayGroup_ = replayGroup;\n\n      this.replayGroupChanged = true;\n      return true;\n    };\n\n    /**\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../style/Style.js\").default|Array<import(\"../../style/Style.js\").default>} styles The style or array of styles.\n     * @param {import(\"../../render/canvas/ReplayGroup.js\").default} replayGroup Replay group.\n     * @return {boolean} `true` if an image is loading.\n     */\n    CanvasVectorLayerRenderer.prototype.renderFeature = function renderFeature$1 (feature, resolution, pixelRatio, styles, replayGroup) {\n      if (!styles) {\n        return false;\n      }\n      var loading = false;\n      if (Array.isArray(styles)) {\n        for (var i = 0, ii = styles.length; i < ii; ++i) {\n          loading = renderFeature(\n            replayGroup, feature, styles[i],\n            getSquaredTolerance(resolution, pixelRatio),\n            this.handleStyleImageChange_, this) || loading;\n        }\n      } else {\n        loading = renderFeature(\n          replayGroup, feature, styles,\n          getSquaredTolerance(resolution, pixelRatio),\n          this.handleStyleImageChange_, this);\n      }\n      return loading;\n    };\n\n    return CanvasVectorLayerRenderer;\n  }(CanvasLayerRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  CanvasVectorLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.VECTOR;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {CanvasVectorLayerRenderer} The layer renderer.\n   */\n  CanvasVectorLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new CanvasVectorLayerRenderer(/** @type {import(\"../../layer/Vector.js\").default} */ (layer));\n  };\n\n  /**\n   * @module ol/layer/VectorTileRenderType\n   */\n\n  /**\n   * @enum {string}\n   * Render mode for vector tiles:\n   *  * `'image'`: Vector tiles are rendered as images. Great performance, but\n   *    point symbols and texts are always rotated with the view and pixels are\n   *    scaled during zoom animations.\n   *  * `'hybrid'`: Polygon and line elements are rendered as images, so pixels\n   *    are scaled during zoom animations. Point symbols and texts are accurately\n   *    rendered as vectors and can stay upright on rotated views.\n   *  * `'vector'`: Vector tiles are rendered as vectors. Most accurate rendering\n   *    even during animations, but slower performance than the other options.\n   * @api\n   */\n  var VectorTileRenderType = {\n    IMAGE: 'image',\n    HYBRID: 'hybrid',\n    VECTOR: 'vector'\n  };\n\n  /**\n   * @module ol/renderer/canvas/VectorTileLayer\n   */\n\n\n  /**\n   * @type {!Object<string, Array<import(\"../../render/ReplayType.js\").default>>}\n   */\n  var IMAGE_REPLAYS = {\n    'image': [ReplayType.POLYGON, ReplayType.CIRCLE,\n      ReplayType.LINE_STRING, ReplayType.IMAGE, ReplayType.TEXT],\n    'hybrid': [ReplayType.POLYGON, ReplayType.LINE_STRING]\n  };\n\n\n  /**\n   * @type {!Object<string, Array<import(\"../../render/ReplayType.js\").default>>}\n   */\n  var VECTOR_REPLAYS = {\n    'image': [ReplayType.DEFAULT],\n    'hybrid': [ReplayType.IMAGE, ReplayType.TEXT, ReplayType.DEFAULT],\n    'vector': ORDER\n  };\n\n\n  /**\n   * @classdesc\n   * Canvas renderer for vector tile layers.\n   * @api\n   */\n  var CanvasVectorTileLayerRenderer = /*@__PURE__*/(function (CanvasTileLayerRenderer$$1) {\n    function CanvasVectorTileLayerRenderer(layer) {\n\n      CanvasTileLayerRenderer$$1.call(this, layer, true);\n\n      /**\n       * Declutter tree.\n       * @private\n       */\n      this.declutterTree_ = layer.getDeclutter() ? rbush_1(9, undefined) : null;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.dirty_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedLayerRevision_;\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.tmpTransform_ = create();\n\n      var renderMode = layer.getRenderMode();\n\n      // Use lower resolution for pure vector rendering. Closest resolution otherwise.\n      this.zDirection = renderMode === VectorTileRenderType.VECTOR ? 1 : 0;\n\n      if (renderMode !== VectorTileRenderType.VECTOR) {\n        this.context = createCanvasContext2D();\n      }\n\n\n      listen(labelCache, EventType.CLEAR, this.handleFontsChanged_, this);\n\n    }\n\n    if ( CanvasTileLayerRenderer$$1 ) CanvasVectorTileLayerRenderer.__proto__ = CanvasTileLayerRenderer$$1;\n    CanvasVectorTileLayerRenderer.prototype = Object.create( CanvasTileLayerRenderer$$1 && CanvasTileLayerRenderer$$1.prototype );\n    CanvasVectorTileLayerRenderer.prototype.constructor = CanvasVectorTileLayerRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.disposeInternal = function disposeInternal () {\n      unlisten(labelCache, EventType.CLEAR, this.handleFontsChanged_, this);\n      CanvasTileLayerRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.getTile = function getTile (z, x, y, pixelRatio, projection) {\n      var tile = CanvasTileLayerRenderer$$1.prototype.getTile.call(this, z, x, y, pixelRatio, projection);\n      if (tile.getState() === TileState.LOADED) {\n        this.createReplayGroup_(/** @type {import(\"../../VectorImageTile.js\").default} */ (tile), pixelRatio, projection);\n        if (this.context) {\n          this.renderTileImage_(/** @type {import(\"../../VectorImageTile.js\").default} */ (tile), pixelRatio, projection);\n        }\n      }\n      return tile;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.getTileImage = function getTileImage (tile) {\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      return /** @type {import(\"../../VectorImageTile.js\").default} */ (tile).getImage(tileLayer);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState) {\n      var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var layerRevision = layer.getRevision();\n      if (this.renderedLayerRevision_ != layerRevision) {\n        this.renderedTiles.length = 0;\n      }\n      this.renderedLayerRevision_ = layerRevision;\n      return CanvasTileLayerRenderer$$1.prototype.prepareFrame.call(this, frameState, layerState);\n    };\n\n    /**\n     * @param {import(\"../../VectorImageTile.js\").default} tile Tile.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.createReplayGroup_ = function createReplayGroup_ (tile, pixelRatio, projection) {\n      var this$1 = this;\n\n      var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var revision = layer.getRevision();\n      var renderOrder = /** @type {import(\"../../render.js\").OrderFunction} */ (layer.getRenderOrder()) || null;\n\n      var replayState = tile.getReplayState(layer);\n      if (!replayState.dirty && replayState.renderedRevision == revision &&\n          replayState.renderedRenderOrder == renderOrder) {\n        return;\n      }\n\n      var source = /** @type {import(\"../../source/VectorTile.js\").default} */ (layer.getSource());\n      var sourceTileGrid = source.getTileGrid();\n      var tileGrid = source.getTileGridForProjection(projection);\n      var resolution = tileGrid.getResolution(tile.tileCoord[0]);\n      var tileExtent = tile.extent;\n\n      var loop = function ( t, tt ) {\n        var sourceTile = tile.getTile(tile.tileKeys[t]);\n        if (sourceTile.getState() != TileState.LOADED) {\n          return;\n        }\n\n        var sourceTileCoord = sourceTile.tileCoord;\n        var sourceTileExtent = sourceTileGrid.getTileCoordExtent(sourceTileCoord);\n        var sharedExtent = getIntersection(tileExtent, sourceTileExtent);\n        var bufferedExtent = equals$2(sourceTileExtent, sharedExtent) ? null :\n          buffer(sharedExtent, layer.getRenderBuffer() * resolution, this$1.tmpExtent);\n        var tileProjection = sourceTile.getProjection();\n        var reproject = false;\n        if (!equivalent(projection, tileProjection)) {\n          reproject = true;\n          sourceTile.setProjection(projection);\n        }\n        replayState.dirty = false;\n        var replayGroup = new CanvasReplayGroup(0, sharedExtent, resolution,\n          pixelRatio, source.getOverlaps(), this$1.declutterTree_, layer.getRenderBuffer());\n        var squaredTolerance = getSquaredTolerance(resolution, pixelRatio);\n\n        /**\n         * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n         * @this {CanvasVectorTileLayerRenderer}\n         */\n        var render = function(feature) {\n          var styles;\n          var styleFunction = feature.getStyleFunction() || layer.getStyleFunction();\n          if (styleFunction) {\n            styles = styleFunction(feature, resolution);\n          }\n          if (styles) {\n            var dirty = this.renderFeature(feature, squaredTolerance, styles, replayGroup);\n            this.dirty_ = this.dirty_ || dirty;\n            replayState.dirty = replayState.dirty || dirty;\n          }\n        };\n\n        var features = sourceTile.getFeatures();\n        if (renderOrder && renderOrder !== replayState.renderedRenderOrder) {\n          features.sort(renderOrder);\n        }\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n          var feature = features[i];\n          if (reproject) {\n            if (tileProjection.getUnits() == Units.TILE_PIXELS) {\n              // projected tile extent\n              tileProjection.setWorldExtent(sourceTileExtent);\n              // tile extent in tile pixel space\n              tileProjection.setExtent(sourceTile.getExtent());\n            }\n            feature.getGeometry().transform(tileProjection, projection);\n          }\n          if (!bufferedExtent || intersects(bufferedExtent, feature.getGeometry().getExtent())) {\n            render.call(this$1, feature);\n          }\n        }\n        replayGroup.finish();\n        sourceTile.setReplayGroup(layer, tile.tileCoord.toString(), replayGroup);\n      };\n\n      for (var t = 0, tt = tile.tileKeys.length; t < tt; ++t) loop( t, tt );\n      replayState.renderedRevision = revision;\n      replayState.renderedRenderOrder = renderOrder;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (coordinate, frameState, hitTolerance, callback, thisArg) {\n      var resolution = frameState.viewState.resolution;\n      var rotation = frameState.viewState.rotation;\n      hitTolerance = hitTolerance == undefined ? 0 : hitTolerance;\n      var layer = this.getLayer();\n      /** @type {!Object<string, boolean>} */\n      var features = {};\n\n      var renderedTiles = /** @type {Array<import(\"../../VectorImageTile.js\").default>} */ (this.renderedTiles);\n\n      var bufferedExtent, found;\n      var i, ii;\n      for (i = 0, ii = renderedTiles.length; i < ii; ++i) {\n        var tile = renderedTiles[i];\n        bufferedExtent = buffer(tile.extent, hitTolerance * resolution, bufferedExtent);\n        if (!containsCoordinate(bufferedExtent, coordinate)) {\n          continue;\n        }\n        for (var t = 0, tt = tile.tileKeys.length; t < tt; ++t) {\n          var sourceTile = tile.getTile(tile.tileKeys[t]);\n          if (sourceTile.getState() != TileState.LOADED) {\n            continue;\n          }\n          var replayGroup = /** @type {CanvasReplayGroup} */ (sourceTile.getReplayGroup(layer,\n            tile.tileCoord.toString()));\n          found = found || replayGroup.forEachFeatureAtCoordinate(coordinate, resolution, rotation, hitTolerance, {},\n            /**\n             * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n             * @return {?} Callback result.\n             */\n            function(feature) {\n              var key = getUid(feature);\n              if (!(key in features)) {\n                features[key] = true;\n                return callback.call(thisArg, feature, layer);\n              }\n            }, null);\n        }\n      }\n      return found;\n    };\n\n    /**\n     * @param {import(\"../../VectorTile.js\").default} tile Tile.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {import(\"../../transform.js\").Transform} transform Transform.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.getReplayTransform_ = function getReplayTransform_ (tile, frameState) {\n      var layer = this.getLayer();\n      var source = /** @type {import(\"../../source/VectorTile.js\").default} */ (layer.getSource());\n      var tileGrid = source.getTileGrid();\n      var tileCoord = tile.tileCoord;\n      var tileResolution = tileGrid.getResolution(tileCoord[0]);\n      var viewState = frameState.viewState;\n      var pixelRatio = frameState.pixelRatio;\n      var renderResolution = viewState.resolution / pixelRatio;\n      var tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent);\n      var center = viewState.center;\n      var origin = getTopLeft(tileExtent);\n      var size = frameState.size;\n      var offsetX = Math.round(pixelRatio * size[0] / 2);\n      var offsetY = Math.round(pixelRatio * size[1] / 2);\n      return compose(this.tmpTransform_,\n        offsetX, offsetY,\n        tileResolution / renderResolution, tileResolution / renderResolution,\n        viewState.rotation,\n        (origin[0] - center[0]) / tileResolution,\n        (center[1] - origin[1]) / tileResolution);\n    };\n\n    /**\n     * @param {import(\"../../events/Event.js\").default} event Event.\n     */\n    CanvasVectorTileLayerRenderer.prototype.handleFontsChanged_ = function handleFontsChanged_ (event) {\n      var layer = this.getLayer();\n      if (layer.getVisible() && this.renderedLayerRevision_ !== undefined) {\n        layer.changed();\n      }\n    };\n\n    /**\n     * Handle changes in image style state.\n     * @param {import(\"../../events/Event.js\").default} event Image style change event.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.handleStyleImageChange_ = function handleStyleImageChange_ (event) {\n      this.renderIfReadyAndVisible();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.postCompose = function postCompose (context, frameState, layerState) {\n      var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var renderMode = layer.getRenderMode();\n      if (renderMode != VectorTileRenderType.IMAGE) {\n        var declutterReplays = layer.getDeclutter() ? {} : null;\n        var source = /** @type {import(\"../../source/VectorTile.js\").default} */ (layer.getSource());\n        var replayTypes = VECTOR_REPLAYS[renderMode];\n        var pixelRatio = frameState.pixelRatio;\n        var rotation = frameState.viewState.rotation;\n        var size = frameState.size;\n        var offsetX, offsetY;\n        if (rotation) {\n          offsetX = Math.round(pixelRatio * size[0] / 2);\n          offsetY = Math.round(pixelRatio * size[1] / 2);\n          rotateAtOffset(context, -rotation, offsetX, offsetY);\n        }\n        if (declutterReplays) {\n          this.declutterTree_.clear();\n        }\n        var viewHints = frameState.viewHints;\n        var snapToPixel = !(viewHints[ViewHint.ANIMATING] || viewHints[ViewHint.INTERACTING]);\n        var tiles = this.renderedTiles;\n        var tileGrid = source.getTileGridForProjection(frameState.viewState.projection);\n        var clips = [];\n        var zs = [];\n        for (var i = tiles.length - 1; i >= 0; --i) {\n          var tile = /** @type {import(\"../../VectorImageTile.js\").default} */ (tiles[i]);\n          if (tile.getState() == TileState.ABORT) {\n            continue;\n          }\n          var tileCoord = tile.tileCoord;\n          var worldOffset = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent)[0] - tile.extent[0];\n          var transform$$1 = undefined;\n          for (var t = 0, tt = tile.tileKeys.length; t < tt; ++t) {\n            var sourceTile = tile.getTile(tile.tileKeys[t]);\n            if (sourceTile.getState() != TileState.LOADED) {\n              continue;\n            }\n            var replayGroup = /** @type {CanvasReplayGroup} */ (sourceTile.getReplayGroup(layer, tileCoord.toString()));\n            if (!replayGroup || !replayGroup.hasReplays(replayTypes)) {\n              // sourceTile was not yet loaded when this.createReplayGroup_() was\n              // called, or it has no replays of the types we want to render\n              continue;\n            }\n            if (!transform$$1) {\n              transform$$1 = this.getTransform(frameState, worldOffset);\n            }\n            var currentZ = sourceTile.tileCoord[0];\n            var currentClip = replayGroup.getClipCoords(transform$$1);\n            context.save();\n            context.globalAlpha = layerState.opacity;\n            // Create a clip mask for regions in this low resolution tile that are\n            // already filled by a higher resolution tile\n            for (var j = 0, jj = clips.length; j < jj; ++j) {\n              var clip = clips[j];\n              if (currentZ < zs[j]) {\n                context.beginPath();\n                // counter-clockwise (outer ring) for current tile\n                context.moveTo(currentClip[0], currentClip[1]);\n                context.lineTo(currentClip[2], currentClip[3]);\n                context.lineTo(currentClip[4], currentClip[5]);\n                context.lineTo(currentClip[6], currentClip[7]);\n                // clockwise (inner ring) for higher resolution tile\n                context.moveTo(clip[6], clip[7]);\n                context.lineTo(clip[4], clip[5]);\n                context.lineTo(clip[2], clip[3]);\n                context.lineTo(clip[0], clip[1]);\n                context.clip();\n              }\n            }\n            replayGroup.replay(context, transform$$1, rotation, {}, snapToPixel, replayTypes, declutterReplays);\n            context.restore();\n            clips.push(currentClip);\n            zs.push(currentZ);\n          }\n        }\n        if (declutterReplays) {\n          replayDeclutter(declutterReplays, context, rotation, snapToPixel);\n        }\n        if (rotation) {\n          rotateAtOffset(context, rotation,\n            /** @type {number} */ (offsetX), /** @type {number} */ (offsetY));\n        }\n      }\n      CanvasTileLayerRenderer$$1.prototype.postCompose.call(this, context, frameState, layerState);\n    };\n\n    /**\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @param {import(\"../../style/Style.js\").default|Array<import(\"../../style/Style.js\").default>} styles The style or array of styles.\n     * @param {import(\"../../render/canvas/ReplayGroup.js\").default} replayGroup Replay group.\n     * @return {boolean} `true` if an image is loading.\n     */\n    CanvasVectorTileLayerRenderer.prototype.renderFeature = function renderFeature$1 (feature, squaredTolerance, styles, replayGroup) {\n      if (!styles) {\n        return false;\n      }\n      var loading = false;\n      if (Array.isArray(styles)) {\n        for (var i = 0, ii = styles.length; i < ii; ++i) {\n          loading = renderFeature(\n            replayGroup, feature, styles[i], squaredTolerance,\n            this.handleStyleImageChange_, this) || loading;\n        }\n      } else {\n        loading = renderFeature(\n          replayGroup, feature, styles, squaredTolerance,\n          this.handleStyleImageChange_, this);\n      }\n      return loading;\n    };\n\n    /**\n     * @param {import(\"../../VectorImageTile.js\").default} tile Tile.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.renderTileImage_ = function renderTileImage_ (tile, pixelRatio, projection) {\n      var layer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var replayState = tile.getReplayState(layer);\n      var revision = layer.getRevision();\n      var replays = IMAGE_REPLAYS[layer.getRenderMode()];\n      if (replays && replayState.renderedTileRevision !== revision) {\n        replayState.renderedTileRevision = revision;\n        var tileCoord = tile.wrappedTileCoord;\n        var z = tileCoord[0];\n        var source = /** @type {import(\"../../source/VectorTile.js\").default} */ (layer.getSource());\n        var tileGrid = source.getTileGridForProjection(projection);\n        var resolution = tileGrid.getResolution(z);\n        var context = tile.getContext(layer);\n        var size = source.getTilePixelSize(z, pixelRatio, projection);\n        context.canvas.width = size[0];\n        context.canvas.height = size[1];\n        var tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent);\n        for (var i = 0, ii = tile.tileKeys.length; i < ii; ++i) {\n          var sourceTile = tile.getTile(tile.tileKeys[i]);\n          if (sourceTile.getState() != TileState.LOADED) {\n            continue;\n          }\n          var pixelScale = pixelRatio / resolution;\n          var transform$$1 = reset(this.tmpTransform_);\n          scale$2(transform$$1, pixelScale, -pixelScale);\n          translate$1(transform$$1, -tileExtent[0], -tileExtent[3]);\n          var replayGroup = /** @type {CanvasReplayGroup} */ (sourceTile.getReplayGroup(layer,\n            tile.tileCoord.toString()));\n          replayGroup.replay(context, transform$$1, 0, {}, true, replays);\n        }\n      }\n    };\n\n    return CanvasVectorTileLayerRenderer;\n  }(CanvasTileLayerRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  CanvasVectorTileLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.VECTOR_TILE;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {CanvasVectorTileLayerRenderer} The layer renderer.\n   */\n  CanvasVectorTileLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new CanvasVectorTileLayerRenderer(/** @type {import(\"../../layer/VectorTile.js\").default} */ (layer));\n  };\n\n  /**\n   * @module ol/Map\n   */\n\n  /**\n   * @classdesc\n   * The map is the core component of OpenLayers. For a map to render, a view,\n   * one or more layers, and a target container are needed:\n   *\n   *     import Map from 'ol/Map';\n   *     import View from 'ol/View';\n   *     import TileLayer from 'ol/layer/Tile';\n   *     import OSM from 'ol/source/OSM';\n   *\n   *     var map = new Map({\n   *       view: new View({\n   *         center: [0, 0],\n   *         zoom: 1\n   *       }),\n   *       layers: [\n   *         new TileLayer({\n   *           source: new OSM()\n   *         })\n   *       ],\n   *       target: 'map'\n   *     });\n   *\n   * The above snippet creates a map using a {@link module:ol/layer/Tile} to\n   * display {@link module:ol/source/OSM~OSM} OSM data and render it to a DOM\n   * element with the id `map`.\n   *\n   * The constructor places a viewport container (with CSS class name\n   * `ol-viewport`) in the target element (see `getViewport()`), and then two\n   * further elements within the viewport: one with CSS class name\n   * `ol-overlaycontainer-stopevent` for controls and some overlays, and one with\n   * CSS class name `ol-overlaycontainer` for other overlays (see the `stopEvent`\n   * option of {@link module:ol/Overlay~Overlay} for the difference). The map\n   * itself is placed in a further element within the viewport.\n   *\n   * Layers are stored as a {@link module:ol/Collection~Collection} in\n   * layerGroups. A top-level group is provided by the library. This is what is\n   * accessed by `getLayerGroup` and `setLayerGroup`. Layers entered in the\n   * options are added to this group, and `addLayer` and `removeLayer` change the\n   * layer collection in the group. `getLayers` is a convenience function for\n   * `getLayerGroup().getLayers()`. Note that {@link module:ol/layer/Group~Group}\n   * is a subclass of {@link module:ol/layer/Base}, so layers entered in the\n   * options or added with `addLayer` can be groups, which can contain further\n   * groups, and so on.\n   *\n   * @fires import(\"./MapBrowserEvent.js\").MapBrowserEvent\n   * @fires import(\"./MapEvent.js\").MapEvent\n   * @fires module:ol/render/Event~RenderEvent#postcompose\n   * @fires module:ol/render/Event~RenderEvent#precompose\n   * @api\n   */\n  var Map = /*@__PURE__*/(function (PluggableMap$$1) {\n    function Map(options) {\n      options = assign({}, options);\n      if (!options.controls) {\n        options.controls = defaults();\n      }\n      if (!options.interactions) {\n        options.interactions = defaults$1();\n      }\n\n      PluggableMap$$1.call(this, options);\n    }\n\n    if ( PluggableMap$$1 ) Map.__proto__ = PluggableMap$$1;\n    Map.prototype = Object.create( PluggableMap$$1 && PluggableMap$$1.prototype );\n    Map.prototype.constructor = Map;\n\n    Map.prototype.createRenderer = function createRenderer () {\n      var renderer = new CanvasMapRenderer(this);\n      renderer.registerLayerRenderers([\n        CanvasImageLayerRenderer,\n        CanvasTileLayerRenderer,\n        CanvasVectorLayerRenderer,\n        CanvasVectorTileLayerRenderer\n      ]);\n      return renderer;\n    };\n\n    return Map;\n  }(PluggableMap));\n\n  /**\n   * @module ol/OverlayPositioning\n   */\n\n  /**\n   * Overlay position: `'bottom-left'`, `'bottom-center'`,  `'bottom-right'`,\n   * `'center-left'`, `'center-center'`, `'center-right'`, `'top-left'`,\n   * `'top-center'`, `'top-right'`\n   * @enum {string}\n   */\n  var OverlayPositioning = {\n    BOTTOM_LEFT: 'bottom-left',\n    BOTTOM_CENTER: 'bottom-center',\n    BOTTOM_RIGHT: 'bottom-right',\n    CENTER_LEFT: 'center-left',\n    CENTER_CENTER: 'center-center',\n    CENTER_RIGHT: 'center-right',\n    TOP_LEFT: 'top-left',\n    TOP_CENTER: 'top-center',\n    TOP_RIGHT: 'top-right'\n  };\n\n  /**\n   * @module ol/Overlay\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number|string} [id] Set the overlay id. The overlay id can be used\n   * with the {@link module:ol/Map~Map#getOverlayById} method.\n   * @property {HTMLElement} [element] The overlay element.\n   * @property {Array<number>} [offset=[0, 0]] Offsets in pixels used when positioning\n   * the overlay. The first element in the\n   * array is the horizontal offset. A positive value shifts the overlay right.\n   * The second element in the array is the vertical offset. A positive value\n   * shifts the overlay down.\n   * @property {import(\"./coordinate.js\").Coordinate} [position] The overlay position\n   * in map projection.\n   * @property {OverlayPositioning} [positioning='top-left'] Defines how\n   * the overlay is actually positioned with respect to its `position` property.\n   * Possible values are `'bottom-left'`, `'bottom-center'`, `'bottom-right'`,\n   * `'center-left'`, `'center-center'`, `'center-right'`, `'top-left'`,\n   * `'top-center'`, and `'top-right'`.\n   * @property {boolean} [stopEvent=true] Whether event propagation to the map\n   * viewport should be stopped. If `true` the overlay is placed in the same\n   * container as that of the controls (CSS class name\n   * `ol-overlaycontainer-stopevent`); if `false` it is placed in the container\n   * with CSS class name specified by the `className` property.\n   * @property {boolean} [insertFirst=true] Whether the overlay is inserted first\n   * in the overlay container, or appended. If the overlay is placed in the same\n   * container as that of the controls (see the `stopEvent` option) you will\n   * probably set `insertFirst` to `true` so the overlay is displayed below the\n   * controls.\n   * @property {boolean} [autoPan=false] If set to `true` the map is panned when\n   * calling `setPosition`, so that the overlay is entirely visible in the current\n   * viewport.\n   * @property {PanOptions} [autoPanAnimation] The\n   * animation options used to pan the overlay into view. This animation is only\n   * used when `autoPan` is enabled. A `duration` and `easing` may be provided to\n   * customize the animation.\n   * @property {number} [autoPanMargin=20] The margin (in pixels) between the\n   * overlay and the borders of the map when autopanning.\n   * @property {string} [className='ol-overlay-container ol-selectable'] CSS class\n   * name.\n   */\n\n\n  /**\n   * @typedef {Object} PanOptions\n   * @property {number} [duration=1000] The duration of the animation in\n   * milliseconds.\n   * @property {function(number):number} [easing] The easing function to use. Can\n   * be one from {@link module:ol/easing} or a custom function.\n   * Default is {@link module:ol/easing~inAndOut}.\n   */\n\n\n  /**\n   * @enum {string}\n   * @protected\n   */\n  var Property$3 = {\n    ELEMENT: 'element',\n    MAP: 'map',\n    OFFSET: 'offset',\n    POSITION: 'position',\n    POSITIONING: 'positioning'\n  };\n\n\n  /**\n   * @classdesc\n   * An element to be displayed over the map and attached to a single map\n   * location.  Like {@link module:ol/control/Control~Control}, Overlays are\n   * visible widgets. Unlike Controls, they are not in a fixed position on the\n   * screen, but are tied to a geographical coordinate, so panning the map will\n   * move an Overlay but not a Control.\n   *\n   * Example:\n   *\n   *     import Overlay from 'ol/Overlay';\n   *\n   *     var popup = new Overlay({\n   *       element: document.getElementById('popup')\n   *     });\n   *     popup.setPosition(coordinate);\n   *     map.addOverlay(popup);\n   *\n   * @api\n   */\n  var Overlay = /*@__PURE__*/(function (BaseObject$$1) {\n    function Overlay(options) {\n\n      BaseObject$$1.call(this);\n\n      /**\n       * @protected\n       * @type {Options}\n       */\n      this.options = options;\n\n      /**\n       * @protected\n       * @type {number|string|undefined}\n       */\n      this.id = options.id;\n\n      /**\n       * @protected\n       * @type {boolean}\n       */\n      this.insertFirst = options.insertFirst !== undefined ?\n        options.insertFirst : true;\n\n      /**\n       * @protected\n       * @type {boolean}\n       */\n      this.stopEvent = options.stopEvent !== undefined ? options.stopEvent : true;\n\n      /**\n       * @protected\n       * @type {HTMLElement}\n       */\n      this.element = document.createElement('div');\n      this.element.className = options.className !== undefined ?\n        options.className : 'ol-overlay-container ' + CLASS_SELECTABLE;\n      this.element.style.position = 'absolute';\n\n      /**\n       * @protected\n       * @type {boolean}\n       */\n      this.autoPan = options.autoPan !== undefined ? options.autoPan : false;\n\n      /**\n       * @protected\n       * @type {PanOptions}\n       */\n      this.autoPanAnimation = options.autoPanAnimation || /** @type {PanOptions} */ ({});\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.autoPanMargin = options.autoPanMargin !== undefined ?\n        options.autoPanMargin : 20;\n\n      /**\n       * @protected\n       * @type {{bottom_: string,\n       *         left_: string,\n       *         right_: string,\n       *         top_: string,\n       *         visible: boolean}}\n       */\n      this.rendered = {\n        bottom_: '',\n        left_: '',\n        right_: '',\n        top_: '',\n        visible: true\n      };\n\n      /**\n       * @protected\n       * @type {?import(\"./events.js\").EventsKey}\n       */\n      this.mapPostrenderListenerKey = null;\n\n      listen(\n        this, getChangeEventType(Property$3.ELEMENT),\n        this.handleElementChanged, this);\n\n      listen(\n        this, getChangeEventType(Property$3.MAP),\n        this.handleMapChanged, this);\n\n      listen(\n        this, getChangeEventType(Property$3.OFFSET),\n        this.handleOffsetChanged, this);\n\n      listen(\n        this, getChangeEventType(Property$3.POSITION),\n        this.handlePositionChanged, this);\n\n      listen(\n        this, getChangeEventType(Property$3.POSITIONING),\n        this.handlePositioningChanged, this);\n\n      if (options.element !== undefined) {\n        this.setElement(options.element);\n      }\n\n      this.setOffset(options.offset !== undefined ? options.offset : [0, 0]);\n\n      this.setPositioning(options.positioning !== undefined ?\n        /** @type {OverlayPositioning} */ (options.positioning) :\n        OverlayPositioning.TOP_LEFT);\n\n      if (options.position !== undefined) {\n        this.setPosition(options.position);\n      }\n\n    }\n\n    if ( BaseObject$$1 ) Overlay.__proto__ = BaseObject$$1;\n    Overlay.prototype = Object.create( BaseObject$$1 && BaseObject$$1.prototype );\n    Overlay.prototype.constructor = Overlay;\n\n    /**\n     * Get the DOM element of this overlay.\n     * @return {HTMLElement|undefined} The Element containing the overlay.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getElement = function getElement () {\n      return /** @type {HTMLElement|undefined} */ (this.get(Property$3.ELEMENT));\n    };\n\n    /**\n     * Get the overlay identifier which is set on constructor.\n     * @return {number|string|undefined} Id.\n     * @api\n     */\n    Overlay.prototype.getId = function getId () {\n      return this.id;\n    };\n\n    /**\n     * Get the map associated with this overlay.\n     * @return {import(\"./PluggableMap.js\").default|undefined} The map that the\n     * overlay is part of.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getMap = function getMap () {\n      return (\n        /** @type {import(\"./PluggableMap.js\").default|undefined} */ (this.get(Property$3.MAP))\n      );\n    };\n\n    /**\n     * Get the offset of this overlay.\n     * @return {Array<number>} The offset.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getOffset = function getOffset () {\n      return /** @type {Array<number>} */ (this.get(Property$3.OFFSET));\n    };\n\n    /**\n     * Get the current position of this overlay.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} The spatial point that the overlay is\n     *     anchored at.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getPosition = function getPosition () {\n      return (\n        /** @type {import(\"./coordinate.js\").Coordinate|undefined} */ (this.get(Property$3.POSITION))\n      );\n    };\n\n    /**\n     * Get the current positioning of this overlay.\n     * @return {OverlayPositioning} How the overlay is positioned\n     *     relative to its point on the map.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.getPositioning = function getPositioning () {\n      return (\n        /** @type {OverlayPositioning} */ (this.get(Property$3.POSITIONING))\n      );\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleElementChanged = function handleElementChanged () {\n      removeChildren(this.element);\n      var element = this.getElement();\n      if (element) {\n        this.element.appendChild(element);\n      }\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleMapChanged = function handleMapChanged () {\n      if (this.mapPostrenderListenerKey) {\n        removeNode(this.element);\n        unlistenByKey(this.mapPostrenderListenerKey);\n        this.mapPostrenderListenerKey = null;\n      }\n      var map = this.getMap();\n      if (map) {\n        this.mapPostrenderListenerKey = listen(map,\n          MapEventType.POSTRENDER, this.render, this);\n        this.updatePixelPosition();\n        var container = this.stopEvent ?\n          map.getOverlayContainerStopEvent() : map.getOverlayContainer();\n        if (this.insertFirst) {\n          container.insertBefore(this.element, container.childNodes[0] || null);\n        } else {\n          container.appendChild(this.element);\n        }\n      }\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.render = function render () {\n      this.updatePixelPosition();\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.handleOffsetChanged = function handleOffsetChanged () {\n      this.updatePixelPosition();\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.handlePositionChanged = function handlePositionChanged () {\n      this.updatePixelPosition();\n      if (this.get(Property$3.POSITION) && this.autoPan) {\n        this.panIntoView();\n      }\n    };\n\n    /**\n     * @protected\n     */\n    Overlay.prototype.handlePositioningChanged = function handlePositioningChanged () {\n      this.updatePixelPosition();\n    };\n\n    /**\n     * Set the DOM element to be associated with this overlay.\n     * @param {HTMLElement|undefined} element The Element containing the overlay.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setElement = function setElement (element) {\n      this.set(Property$3.ELEMENT, element);\n    };\n\n    /**\n     * Set the map to be associated with this overlay.\n     * @param {import(\"./PluggableMap.js\").default|undefined} map The map that the\n     * overlay is part of.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setMap = function setMap (map) {\n      this.set(Property$3.MAP, map);\n    };\n\n    /**\n     * Set the offset for this overlay.\n     * @param {Array<number>} offset Offset.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setOffset = function setOffset (offset) {\n      this.set(Property$3.OFFSET, offset);\n    };\n\n    /**\n     * Set the position for this overlay. If the position is `undefined` the\n     * overlay is hidden.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} position The spatial point that the overlay\n     *     is anchored at.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setPosition = function setPosition (position) {\n      this.set(Property$3.POSITION, position);\n    };\n\n    /**\n     * Pan the map so that the overlay is entirely visible in the current viewport\n     * (if necessary).\n     * @protected\n     */\n    Overlay.prototype.panIntoView = function panIntoView () {\n      var map = this.getMap();\n\n      if (!map || !map.getTargetElement()) {\n        return;\n      }\n\n      var mapRect = this.getRect(map.getTargetElement(), map.getSize());\n      var element = this.getElement();\n      var overlayRect = this.getRect(element, [outerWidth(element), outerHeight(element)]);\n\n      var margin = this.autoPanMargin;\n      if (!containsExtent(mapRect, overlayRect)) {\n        // the overlay is not completely inside the viewport, so pan the map\n        var offsetLeft = overlayRect[0] - mapRect[0];\n        var offsetRight = mapRect[2] - overlayRect[2];\n        var offsetTop = overlayRect[1] - mapRect[1];\n        var offsetBottom = mapRect[3] - overlayRect[3];\n\n        var delta = [0, 0];\n        if (offsetLeft < 0) {\n          // move map to the left\n          delta[0] = offsetLeft - margin;\n        } else if (offsetRight < 0) {\n          // move map to the right\n          delta[0] = Math.abs(offsetRight) + margin;\n        }\n        if (offsetTop < 0) {\n          // move map up\n          delta[1] = offsetTop - margin;\n        } else if (offsetBottom < 0) {\n          // move map down\n          delta[1] = Math.abs(offsetBottom) + margin;\n        }\n\n        if (delta[0] !== 0 || delta[1] !== 0) {\n          var center = /** @type {import(\"./coordinate.js\").Coordinate} */ (map.getView().getCenter());\n          var centerPx = map.getPixelFromCoordinate(center);\n          var newCenterPx = [\n            centerPx[0] + delta[0],\n            centerPx[1] + delta[1]\n          ];\n\n          map.getView().animate({\n            center: map.getCoordinateFromPixel(newCenterPx),\n            duration: this.autoPanAnimation.duration,\n            easing: this.autoPanAnimation.easing\n          });\n        }\n      }\n    };\n\n    /**\n     * Get the extent of an element relative to the document\n     * @param {HTMLElement|undefined} element The element.\n     * @param {import(\"./size.js\").Size|undefined} size The size of the element.\n     * @return {import(\"./extent.js\").Extent} The extent.\n     * @protected\n     */\n    Overlay.prototype.getRect = function getRect (element, size) {\n      var box = element.getBoundingClientRect();\n      var offsetX = box.left + window.pageXOffset;\n      var offsetY = box.top + window.pageYOffset;\n      return [\n        offsetX,\n        offsetY,\n        offsetX + size[0],\n        offsetY + size[1]\n      ];\n    };\n\n    /**\n     * Set the positioning for this overlay.\n     * @param {OverlayPositioning} positioning how the overlay is\n     *     positioned relative to its point on the map.\n     * @observable\n     * @api\n     */\n    Overlay.prototype.setPositioning = function setPositioning (positioning) {\n      this.set(Property$3.POSITIONING, positioning);\n    };\n\n    /**\n     * Modify the visibility of the element.\n     * @param {boolean} visible Element visibility.\n     * @protected\n     */\n    Overlay.prototype.setVisible = function setVisible (visible) {\n      if (this.rendered.visible !== visible) {\n        this.element.style.display = visible ? '' : 'none';\n        this.rendered.visible = visible;\n      }\n    };\n\n    /**\n     * Update pixel position.\n     * @protected\n     */\n    Overlay.prototype.updatePixelPosition = function updatePixelPosition () {\n      var map = this.getMap();\n      var position = this.getPosition();\n      if (!map || !map.isRendered() || !position) {\n        this.setVisible(false);\n        return;\n      }\n\n      var pixel = map.getPixelFromCoordinate(position);\n      var mapSize = map.getSize();\n      this.updateRenderedPosition(pixel, mapSize);\n    };\n\n    /**\n     * @param {import(\"./pixel.js\").Pixel} pixel The pixel location.\n     * @param {import(\"./size.js\").Size|undefined} mapSize The map size.\n     * @protected\n     */\n    Overlay.prototype.updateRenderedPosition = function updateRenderedPosition (pixel, mapSize) {\n      var style = this.element.style;\n      var offset = this.getOffset();\n\n      var positioning = this.getPositioning();\n\n      this.setVisible(true);\n\n      var offsetX = offset[0];\n      var offsetY = offset[1];\n      if (positioning == OverlayPositioning.BOTTOM_RIGHT ||\n          positioning == OverlayPositioning.CENTER_RIGHT ||\n          positioning == OverlayPositioning.TOP_RIGHT) {\n        if (this.rendered.left_ !== '') {\n          this.rendered.left_ = style.left = '';\n        }\n        var right = Math.round(mapSize[0] - pixel[0] - offsetX) + 'px';\n        if (this.rendered.right_ != right) {\n          this.rendered.right_ = style.right = right;\n        }\n      } else {\n        if (this.rendered.right_ !== '') {\n          this.rendered.right_ = style.right = '';\n        }\n        if (positioning == OverlayPositioning.BOTTOM_CENTER ||\n            positioning == OverlayPositioning.CENTER_CENTER ||\n            positioning == OverlayPositioning.TOP_CENTER) {\n          offsetX -= this.element.offsetWidth / 2;\n        }\n        var left = Math.round(pixel[0] + offsetX) + 'px';\n        if (this.rendered.left_ != left) {\n          this.rendered.left_ = style.left = left;\n        }\n      }\n      if (positioning == OverlayPositioning.BOTTOM_LEFT ||\n          positioning == OverlayPositioning.BOTTOM_CENTER ||\n          positioning == OverlayPositioning.BOTTOM_RIGHT) {\n        if (this.rendered.top_ !== '') {\n          this.rendered.top_ = style.top = '';\n        }\n        var bottom = Math.round(mapSize[1] - pixel[1] - offsetY) + 'px';\n        if (this.rendered.bottom_ != bottom) {\n          this.rendered.bottom_ = style.bottom = bottom;\n        }\n      } else {\n        if (this.rendered.bottom_ !== '') {\n          this.rendered.bottom_ = style.bottom = '';\n        }\n        if (positioning == OverlayPositioning.CENTER_LEFT ||\n            positioning == OverlayPositioning.CENTER_CENTER ||\n            positioning == OverlayPositioning.CENTER_RIGHT) {\n          offsetY -= this.element.offsetHeight / 2;\n        }\n        var top = Math.round(pixel[1] + offsetY) + 'px';\n        if (this.rendered.top_ != top) {\n          this.rendered.top_ = style.top = top;\n        }\n      }\n    };\n\n    /**\n     * returns the options this Overlay has been created with\n     * @return {Options} overlay options\n     */\n    Overlay.prototype.getOptions = function getOptions () {\n      return this.options;\n    };\n\n    return Overlay;\n  }(BaseObject));\n\n  /**\n   * @module ol/control/OverviewMap\n   */\n\n\n  /**\n   * Maximum width and/or height extent ratio that determines when the overview\n   * map should be zoomed out.\n   * @type {number}\n   */\n  var MAX_RATIO = 0.75;\n\n\n  /**\n   * Minimum width and/or height extent ratio that determines when the overview\n   * map should be zoomed in.\n   * @type {number}\n   */\n  var MIN_RATIO = 0.1;\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-overviewmap'] CSS class name.\n   * @property {boolean} [collapsed=true] Whether the control should start collapsed or not (expanded).\n   * @property {string|HTMLElement} [collapseLabel='«'] Text label to use for the\n   * expanded overviewmap button. Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {boolean} [collapsible=true] Whether the control can be collapsed or not.\n   * @property {string|HTMLElement} [label='»'] Text label to use for the collapsed\n   * overviewmap button. Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {Array<import(\"../layer/Layer.js\").default>|import(\"../Collection.js\").default<import(\"../layer/Layer.js\").default>} [layers]\n   * Layers for the overview map. If not set, then all main map layers are used\n   * instead.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control\n   * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n   * @property {HTMLElement|string} [target] Specify a target if you want the control\n   * to be rendered outside of the map's viewport.\n   * @property {string} [tipLabel='Overview map'] Text label to use for the button tip.\n   * @property {import(\"../View.js\").default} [view] Custom view for the overview map. If not provided,\n   * a default view with an EPSG:3857 projection will be used.\n   */\n\n\n  /**\n   * Create a new control with a map acting as an overview map for an other\n   * defined map.\n   *\n   * @api\n   */\n  var OverviewMap = /*@__PURE__*/(function (Control$$1) {\n    function OverviewMap(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        render: options.render || render$3,\n        target: options.target\n      });\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.collapsed_ = options.collapsed !== undefined ? options.collapsed : true;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.collapsible_ = options.collapsible !== undefined ?\n        options.collapsible : true;\n\n      if (!this.collapsible_) {\n        this.collapsed_ = false;\n      }\n\n      var className = options.className !== undefined ? options.className : 'ol-overviewmap';\n\n      var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Overview map';\n\n      var collapseLabel = options.collapseLabel !== undefined ? options.collapseLabel : '\\u00AB';\n\n      if (typeof collapseLabel === 'string') {\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        this.collapseLabel_ = document.createElement('span');\n        this.collapseLabel_.textContent = collapseLabel;\n      } else {\n        this.collapseLabel_ = collapseLabel;\n      }\n\n      var label = options.label !== undefined ? options.label : '\\u00BB';\n\n\n      if (typeof label === 'string') {\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        this.label_ = document.createElement('span');\n        this.label_.textContent = label;\n      } else {\n        this.label_ = label;\n      }\n\n      var activeLabel = (this.collapsible_ && !this.collapsed_) ?\n        this.collapseLabel_ : this.label_;\n      var button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.title = tipLabel;\n      button.appendChild(activeLabel);\n\n      listen(button, EventType.CLICK,\n        this.handleClick_, this);\n\n      /**\n       * @type {HTMLElement}\n       * @private\n       */\n      this.ovmapDiv_ = document.createElement('div');\n      this.ovmapDiv_.className = 'ol-overviewmap-map';\n\n      /**\n       * @type {import(\"../Map.js\").default}\n       * @private\n       */\n      this.ovmap_ = new Map({\n        controls: new Collection(),\n        interactions: new Collection(),\n        view: options.view\n      });\n      var ovmap = this.ovmap_;\n\n      if (options.layers) {\n        /** @type {Array<import(\"../layer/Layer.js\").default>} */ (options.layers).forEach(\n          /**\n           * @param {import(\"../layer/Layer.js\").default} layer Layer.\n           */\n          (function(layer) {\n            ovmap.addLayer(layer);\n          }).bind(this));\n      }\n\n      var box = document.createElement('div');\n      box.className = 'ol-overviewmap-box';\n      box.style.boxSizing = 'border-box';\n\n      /**\n       * @type {import(\"../Overlay.js\").default}\n       * @private\n       */\n      this.boxOverlay_ = new Overlay({\n        position: [0, 0],\n        positioning: OverlayPositioning.BOTTOM_LEFT,\n        element: box\n      });\n      this.ovmap_.addOverlay(this.boxOverlay_);\n\n      var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL +\n          (this.collapsed_ && this.collapsible_ ? ' ' + CLASS_COLLAPSED : '') +\n          (this.collapsible_ ? '' : ' ol-uncollapsible');\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(this.ovmapDiv_);\n      element.appendChild(button);\n\n      /* Interactive map */\n\n      var scope = this;\n\n      var overlay = this.boxOverlay_;\n      var overlayBox = this.boxOverlay_.getElement();\n\n      /* Functions definition */\n\n      var computeDesiredMousePosition = function(mousePosition) {\n        return {\n          clientX: mousePosition.clientX - (overlayBox.offsetWidth / 2),\n          clientY: mousePosition.clientY + (overlayBox.offsetHeight / 2)\n        };\n      };\n\n      var move = function(event) {\n        var position = /** @type {?} */ (computeDesiredMousePosition(event));\n        var coordinates = ovmap.getEventCoordinate(/** @type {Event} */ (position));\n\n        overlay.setPosition(coordinates);\n      };\n\n      var endMoving = function(event) {\n        var coordinates = ovmap.getEventCoordinate(event);\n\n        scope.getMap().getView().setCenter(coordinates);\n\n        window.removeEventListener('mousemove', move);\n        window.removeEventListener('mouseup', endMoving);\n      };\n\n      /* Binding */\n\n      overlayBox.addEventListener('mousedown', function() {\n        window.addEventListener('mousemove', move);\n        window.addEventListener('mouseup', endMoving);\n      });\n    }\n\n    if ( Control$$1 ) OverviewMap.__proto__ = Control$$1;\n    OverviewMap.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    OverviewMap.prototype.constructor = OverviewMap;\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    OverviewMap.prototype.setMap = function setMap (map) {\n      var oldMap = this.getMap();\n      if (map === oldMap) {\n        return;\n      }\n      if (oldMap) {\n        var oldView = oldMap.getView();\n        if (oldView) {\n          this.unbindView_(oldView);\n        }\n        this.ovmap_.setTarget(null);\n      }\n      Control$$1.prototype.setMap.call(this, map);\n\n      if (map) {\n        this.ovmap_.setTarget(this.ovmapDiv_);\n        this.listenerKeys.push(listen(\n          map, ObjectEventType.PROPERTYCHANGE,\n          this.handleMapPropertyChange_, this));\n\n        // TODO: to really support map switching, this would need to be reworked\n        if (this.ovmap_.getLayers().getLength() === 0) {\n          this.ovmap_.setLayerGroup(map.getLayerGroup());\n        }\n\n        var view = map.getView();\n        if (view) {\n          this.bindView_(view);\n          if (view.isDef()) {\n            this.ovmap_.updateSize();\n            this.resetExtent_();\n          }\n        }\n      }\n    };\n\n    /**\n     * Handle map property changes.  This only deals with changes to the map's view.\n     * @param {import(\"../Object.js\").ObjectEvent} event The propertychange event.\n     * @private\n     */\n    OverviewMap.prototype.handleMapPropertyChange_ = function handleMapPropertyChange_ (event) {\n      if (event.key === MapProperty.VIEW) {\n        var oldView = /** @type {import(\"../View.js\").default} */ (event.oldValue);\n        if (oldView) {\n          this.unbindView_(oldView);\n        }\n        var newView = this.getMap().getView();\n        this.bindView_(newView);\n      }\n    };\n\n    /**\n     * Register listeners for view property changes.\n     * @param {import(\"../View.js\").default} view The view.\n     * @private\n     */\n    OverviewMap.prototype.bindView_ = function bindView_ (view) {\n      listen(view,\n        getChangeEventType(ViewProperty.ROTATION),\n        this.handleRotationChanged_, this);\n    };\n\n    /**\n     * Unregister listeners for view property changes.\n     * @param {import(\"../View.js\").default} view The view.\n     * @private\n     */\n    OverviewMap.prototype.unbindView_ = function unbindView_ (view) {\n      unlisten(view,\n        getChangeEventType(ViewProperty.ROTATION),\n        this.handleRotationChanged_, this);\n    };\n\n    /**\n     * Handle rotation changes to the main map.\n     * TODO: This should rotate the extent rectrangle instead of the\n     * overview map's view.\n     * @private\n     */\n    OverviewMap.prototype.handleRotationChanged_ = function handleRotationChanged_ () {\n      this.ovmap_.getView().setRotation(this.getMap().getView().getRotation());\n    };\n\n    /**\n     * Reset the overview map extent if the box size (width or\n     * height) is less than the size of the overview map size times minRatio\n     * or is greater than the size of the overview size times maxRatio.\n     *\n     * If the map extent was not reset, the box size can fits in the defined\n     * ratio sizes. This method then checks if is contained inside the overview\n     * map current extent. If not, recenter the overview map to the current\n     * main map center location.\n     * @private\n     */\n    OverviewMap.prototype.validateExtent_ = function validateExtent_ () {\n      var map = this.getMap();\n      var ovmap = this.ovmap_;\n\n      if (!map.isRendered() || !ovmap.isRendered()) {\n        return;\n      }\n\n      var mapSize = /** @type {import(\"../size.js\").Size} */ (map.getSize());\n\n      var view = map.getView();\n      var extent = view.calculateExtent(mapSize);\n\n      var ovmapSize = /** @type {import(\"../size.js\").Size} */ (ovmap.getSize());\n\n      var ovview = ovmap.getView();\n      var ovextent = ovview.calculateExtent(ovmapSize);\n\n      var topLeftPixel =\n          ovmap.getPixelFromCoordinate(getTopLeft(extent));\n      var bottomRightPixel =\n          ovmap.getPixelFromCoordinate(getBottomRight(extent));\n\n      var boxWidth = Math.abs(topLeftPixel[0] - bottomRightPixel[0]);\n      var boxHeight = Math.abs(topLeftPixel[1] - bottomRightPixel[1]);\n\n      var ovmapWidth = ovmapSize[0];\n      var ovmapHeight = ovmapSize[1];\n\n      if (boxWidth < ovmapWidth * MIN_RATIO ||\n          boxHeight < ovmapHeight * MIN_RATIO ||\n          boxWidth > ovmapWidth * MAX_RATIO ||\n          boxHeight > ovmapHeight * MAX_RATIO) {\n        this.resetExtent_();\n      } else if (!containsExtent(ovextent, extent)) {\n        this.recenter_();\n      }\n    };\n\n    /**\n     * Reset the overview map extent to half calculated min and max ratio times\n     * the extent of the main map.\n     * @private\n     */\n    OverviewMap.prototype.resetExtent_ = function resetExtent_ () {\n\n      var map = this.getMap();\n      var ovmap = this.ovmap_;\n\n      var mapSize = /** @type {import(\"../size.js\").Size} */ (map.getSize());\n\n      var view = map.getView();\n      var extent = view.calculateExtent(mapSize);\n\n      var ovview = ovmap.getView();\n\n      // get how many times the current map overview could hold different\n      // box sizes using the min and max ratio, pick the step in the middle used\n      // to calculate the extent from the main map to set it to the overview map,\n      var steps = Math.log(\n        MAX_RATIO / MIN_RATIO) / Math.LN2;\n      var ratio = 1 / (Math.pow(2, steps / 2) * MIN_RATIO);\n      scaleFromCenter(extent, ratio);\n      ovview.fit(extent);\n    };\n\n    /**\n     * Set the center of the overview map to the map center without changing its\n     * resolution.\n     * @private\n     */\n    OverviewMap.prototype.recenter_ = function recenter_ () {\n      var map = this.getMap();\n      var ovmap = this.ovmap_;\n\n      var view = map.getView();\n\n      var ovview = ovmap.getView();\n\n      ovview.setCenter(view.getCenter());\n    };\n\n    /**\n     * Update the box using the main map extent\n     * @private\n     */\n    OverviewMap.prototype.updateBox_ = function updateBox_ () {\n      var map = this.getMap();\n      var ovmap = this.ovmap_;\n\n      if (!map.isRendered() || !ovmap.isRendered()) {\n        return;\n      }\n\n      var mapSize = /** @type {import(\"../size.js\").Size} */ (map.getSize());\n\n      var view = map.getView();\n\n      var ovview = ovmap.getView();\n\n      var rotation = view.getRotation();\n\n      var overlay = this.boxOverlay_;\n      var box = this.boxOverlay_.getElement();\n      var extent = view.calculateExtent(mapSize);\n      var ovresolution = ovview.getResolution();\n      var bottomLeft = getBottomLeft(extent);\n      var topRight = getTopRight(extent);\n\n      // set position using bottom left coordinates\n      var rotateBottomLeft = this.calculateCoordinateRotate_(rotation, bottomLeft);\n      overlay.setPosition(rotateBottomLeft);\n\n      // set box size calculated from map extent size and overview map resolution\n      if (box) {\n        box.style.width = Math.abs((bottomLeft[0] - topRight[0]) / ovresolution) + 'px';\n        box.style.height = Math.abs((topRight[1] - bottomLeft[1]) / ovresolution) + 'px';\n      }\n    };\n\n    /**\n     * @param {number} rotation Target rotation.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {import(\"../coordinate.js\").Coordinate|undefined} Coordinate for rotation and center anchor.\n     * @private\n     */\n    OverviewMap.prototype.calculateCoordinateRotate_ = function calculateCoordinateRotate_ (rotation, coordinate) {\n      var coordinateRotate;\n\n      var map = this.getMap();\n      var view = map.getView();\n\n      var currentCenter = view.getCenter();\n\n      if (currentCenter) {\n        coordinateRotate = [\n          coordinate[0] - currentCenter[0],\n          coordinate[1] - currentCenter[1]\n        ];\n        rotate(coordinateRotate, rotation);\n        add(coordinateRotate, currentCenter);\n      }\n      return coordinateRotate;\n    };\n\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    OverviewMap.prototype.handleClick_ = function handleClick_ (event) {\n      event.preventDefault();\n      this.handleToggle_();\n    };\n\n    /**\n     * @private\n     */\n    OverviewMap.prototype.handleToggle_ = function handleToggle_ () {\n      this.element.classList.toggle(CLASS_COLLAPSED);\n      if (this.collapsed_) {\n        replaceNode(this.collapseLabel_, this.label_);\n      } else {\n        replaceNode(this.label_, this.collapseLabel_);\n      }\n      this.collapsed_ = !this.collapsed_;\n\n      // manage overview map if it had not been rendered before and control\n      // is expanded\n      var ovmap = this.ovmap_;\n      if (!this.collapsed_ && !ovmap.isRendered()) {\n        ovmap.updateSize();\n        this.resetExtent_();\n        listenOnce(ovmap, MapEventType.POSTRENDER,\n          function(event) {\n            this.updateBox_();\n          },\n          this);\n      }\n    };\n\n    /**\n     * Return `true` if the overview map is collapsible, `false` otherwise.\n     * @return {boolean} True if the widget is collapsible.\n     * @api\n     */\n    OverviewMap.prototype.getCollapsible = function getCollapsible () {\n      return this.collapsible_;\n    };\n\n    /**\n     * Set whether the overview map should be collapsible.\n     * @param {boolean} collapsible True if the widget is collapsible.\n     * @api\n     */\n    OverviewMap.prototype.setCollapsible = function setCollapsible (collapsible) {\n      if (this.collapsible_ === collapsible) {\n        return;\n      }\n      this.collapsible_ = collapsible;\n      this.element.classList.toggle('ol-uncollapsible');\n      if (!collapsible && this.collapsed_) {\n        this.handleToggle_();\n      }\n    };\n\n    /**\n     * Collapse or expand the overview map according to the passed parameter. Will\n     * not do anything if the overview map isn't collapsible or if the current\n     * collapsed state is already the one requested.\n     * @param {boolean} collapsed True if the widget is collapsed.\n     * @api\n     */\n    OverviewMap.prototype.setCollapsed = function setCollapsed (collapsed) {\n      if (!this.collapsible_ || this.collapsed_ === collapsed) {\n        return;\n      }\n      this.handleToggle_();\n    };\n\n    /**\n     * Determine if the overview map is collapsed.\n     * @return {boolean} The overview map is collapsed.\n     * @api\n     */\n    OverviewMap.prototype.getCollapsed = function getCollapsed () {\n      return this.collapsed_;\n    };\n\n    /**\n     * Return the overview map.\n     * @return {import(\"../PluggableMap.js\").default} Overview map.\n     * @api\n     */\n    OverviewMap.prototype.getOverviewMap = function getOverviewMap () {\n      return this.ovmap_;\n    };\n\n    return OverviewMap;\n  }(Control));\n\n\n  /**\n   * Update the overview map element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {OverviewMap}\n   * @api\n   */\n  function render$3(mapEvent) {\n    this.validateExtent_();\n    this.updateBox_();\n  }\n\n  /**\n   * @module ol/control/ScaleLine\n   */\n\n\n  /**\n   * @type {string}\n   */\n  var UNITS_PROP = 'units';\n\n  /**\n   * Units for the scale line. Supported values are `'degrees'`, `'imperial'`,\n   * `'nautical'`, `'metric'`, `'us'`.\n   * @enum {string}\n   */\n  var Units$1 = {\n    DEGREES: 'degrees',\n    IMPERIAL: 'imperial',\n    NAUTICAL: 'nautical',\n    METRIC: 'metric',\n    US: 'us'\n  };\n\n\n  /**\n   * @const\n   * @type {Array<number>}\n   */\n  var LEADING_DIGITS = [1, 2, 5];\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-scale-line'] CSS Class name.\n   * @property {number} [minWidth=64] Minimum width in pixels.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control\n   * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n   * @property {HTMLElement|string} [target] Specify a target if you want the control\n   * to be rendered outside of the map's viewport.\n   * @property {Units|string} [units='metric'] Units.\n   */\n\n\n  /**\n   * @classdesc\n   * A control displaying rough y-axis distances, calculated for the center of the\n   * viewport. For conformal projections (e.g. EPSG:3857, the default view\n   * projection in OpenLayers), the scale is valid for all directions.\n   * No scale line will be shown when the y-axis distance of a pixel at the\n   * viewport center cannot be calculated in the view projection.\n   * By default the scale line will show in the bottom left portion of the map,\n   * but this can be changed by using the css selector `.ol-scale-line`.\n   *\n   * @api\n   */\n  var ScaleLine = /*@__PURE__*/(function (Control$$1) {\n    function ScaleLine(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      var className = options.className !== undefined ? options.className : 'ol-scale-line';\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        render: options.render || render$4,\n        target: options.target\n      });\n\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.innerElement_ = document.createElement('div');\n      this.innerElement_.className = className + '-inner';\n\n      this.element.className = className + ' ' + CLASS_UNSELECTABLE;\n      this.element.appendChild(this.innerElement_);\n\n      /**\n       * @private\n       * @type {?import(\"../View.js\").State}\n       */\n      this.viewState_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.minWidth_ = options.minWidth !== undefined ? options.minWidth : 64;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderedVisible_ = false;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.renderedWidth_ = undefined;\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.renderedHTML_ = '';\n\n      listen(\n        this, getChangeEventType(UNITS_PROP),\n        this.handleUnitsChanged_, this);\n\n      this.setUnits(/** @type {Units} */ (options.units) || Units$1.METRIC);\n\n    }\n\n    if ( Control$$1 ) ScaleLine.__proto__ = Control$$1;\n    ScaleLine.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    ScaleLine.prototype.constructor = ScaleLine;\n\n    /**\n     * Return the units to use in the scale line.\n     * @return {Units} The units\n     * to use in the scale line.\n     * @observable\n     * @api\n     */\n    ScaleLine.prototype.getUnits = function getUnits () {\n      return this.get(UNITS_PROP);\n    };\n\n    /**\n     * @private\n     */\n    ScaleLine.prototype.handleUnitsChanged_ = function handleUnitsChanged_ () {\n      this.updateElement_();\n    };\n\n    /**\n     * Set the units to use in the scale line.\n     * @param {Units} units The units to use in the scale line.\n     * @observable\n     * @api\n     */\n    ScaleLine.prototype.setUnits = function setUnits (units) {\n      this.set(UNITS_PROP, units);\n    };\n\n    /**\n     * @private\n     */\n    ScaleLine.prototype.updateElement_ = function updateElement_ () {\n      var viewState = this.viewState_;\n\n      if (!viewState) {\n        if (this.renderedVisible_) {\n          this.element.style.display = 'none';\n          this.renderedVisible_ = false;\n        }\n        return;\n      }\n\n      var center = viewState.center;\n      var projection = viewState.projection;\n      var units = this.getUnits();\n      var pointResolutionUnits = units == Units$1.DEGREES ?\n        Units.DEGREES :\n        Units.METERS;\n      var pointResolution =\n          getPointResolution(projection, viewState.resolution, center, pointResolutionUnits);\n      if (projection.getUnits() != Units.DEGREES && projection.getMetersPerUnit()\n        && pointResolutionUnits == Units.METERS) {\n        pointResolution *= projection.getMetersPerUnit();\n      }\n\n      var nominalCount = this.minWidth_ * pointResolution;\n      var suffix = '';\n      if (units == Units$1.DEGREES) {\n        var metersPerDegree = METERS_PER_UNIT[Units.DEGREES];\n        if (projection.getUnits() == Units.DEGREES) {\n          nominalCount *= metersPerDegree;\n        } else {\n          pointResolution /= metersPerDegree;\n        }\n        if (nominalCount < metersPerDegree / 60) {\n          suffix = '\\u2033'; // seconds\n          pointResolution *= 3600;\n        } else if (nominalCount < metersPerDegree) {\n          suffix = '\\u2032'; // minutes\n          pointResolution *= 60;\n        } else {\n          suffix = '\\u00b0'; // degrees\n        }\n      } else if (units == Units$1.IMPERIAL) {\n        if (nominalCount < 0.9144) {\n          suffix = 'in';\n          pointResolution /= 0.0254;\n        } else if (nominalCount < 1609.344) {\n          suffix = 'ft';\n          pointResolution /= 0.3048;\n        } else {\n          suffix = 'mi';\n          pointResolution /= 1609.344;\n        }\n      } else if (units == Units$1.NAUTICAL) {\n        pointResolution /= 1852;\n        suffix = 'nm';\n      } else if (units == Units$1.METRIC) {\n        if (nominalCount < 0.001) {\n          suffix = 'μm';\n          pointResolution *= 1000000;\n        } else if (nominalCount < 1) {\n          suffix = 'mm';\n          pointResolution *= 1000;\n        } else if (nominalCount < 1000) {\n          suffix = 'm';\n        } else {\n          suffix = 'km';\n          pointResolution /= 1000;\n        }\n      } else if (units == Units$1.US) {\n        if (nominalCount < 0.9144) {\n          suffix = 'in';\n          pointResolution *= 39.37;\n        } else if (nominalCount < 1609.344) {\n          suffix = 'ft';\n          pointResolution /= 0.30480061;\n        } else {\n          suffix = 'mi';\n          pointResolution /= 1609.3472;\n        }\n      } else {\n        assert(false, 33); // Invalid units\n      }\n\n      var i = 3 * Math.floor(\n        Math.log(this.minWidth_ * pointResolution) / Math.log(10));\n      var count, width;\n      while (true) {\n        count = LEADING_DIGITS[((i % 3) + 3) % 3] *\n            Math.pow(10, Math.floor(i / 3));\n        width = Math.round(count / pointResolution);\n        if (isNaN(width)) {\n          this.element.style.display = 'none';\n          this.renderedVisible_ = false;\n          return;\n        } else if (width >= this.minWidth_) {\n          break;\n        }\n        ++i;\n      }\n\n      var html = count + ' ' + suffix;\n      if (this.renderedHTML_ != html) {\n        this.innerElement_.innerHTML = html;\n        this.renderedHTML_ = html;\n      }\n\n      if (this.renderedWidth_ != width) {\n        this.innerElement_.style.width = width + 'px';\n        this.renderedWidth_ = width;\n      }\n\n      if (!this.renderedVisible_) {\n        this.element.style.display = '';\n        this.renderedVisible_ = true;\n      }\n\n    };\n\n    return ScaleLine;\n  }(Control));\n\n\n  /**\n   * Update the scale line element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {ScaleLine}\n   * @api\n   */\n  function render$4(mapEvent) {\n    var frameState = mapEvent.frameState;\n    if (!frameState) {\n      this.viewState_ = null;\n    } else {\n      this.viewState_ = frameState.viewState;\n    }\n    this.updateElement_();\n  }\n\n  /**\n   * @module ol/control/ZoomSlider\n   */\n\n\n  /**\n   * The enum for available directions.\n   *\n   * @enum {number}\n   */\n  var Direction = {\n    VERTICAL: 0,\n    HORIZONTAL: 1\n  };\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-zoomslider'] CSS class name.\n   * @property {number} [duration=200] Animation duration in milliseconds.\n   * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control\n   * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n   */\n\n\n  /**\n   * @classdesc\n   * A slider type of control for zooming.\n   *\n   * Example:\n   *\n   *     map.addControl(new ZoomSlider());\n   *\n   * @api\n   */\n  var ZoomSlider = /*@__PURE__*/(function (Control$$1) {\n    function ZoomSlider(opt_options) {\n\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        render: options.render || render$5\n      });\n\n      /**\n        * @type {!Array.<import(\"../events.js\").EventsKey>}\n        * @private\n        */\n      this.dragListenerKeys_ = [];\n\n      /**\n       * Will hold the current resolution of the view.\n       *\n       * @type {number|undefined}\n       * @private\n       */\n      this.currentResolution_ = undefined;\n\n      /**\n       * The direction of the slider. Will be determined from actual display of the\n       * container and defaults to Direction.VERTICAL.\n       *\n       * @type {Direction}\n       * @private\n       */\n      this.direction_ = Direction.VERTICAL;\n\n      /**\n       * @type {boolean}\n       * @private\n       */\n      this.dragging_;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.heightLimit_ = 0;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.widthLimit_ = 0;\n\n      /**\n       * @type {number|undefined}\n       * @private\n       */\n      this.previousX_;\n\n      /**\n       * @type {number|undefined}\n       * @private\n       */\n      this.previousY_;\n\n      /**\n       * The calculated thumb size (border box plus margins).  Set when initSlider_\n       * is called.\n       * @type {import(\"../size.js\").Size}\n       * @private\n       */\n      this.thumbSize_ = null;\n\n      /**\n       * Whether the slider is initialized.\n       * @type {boolean}\n       * @private\n       */\n      this.sliderInitialized_ = false;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.duration_ = options.duration !== undefined ? options.duration : 200;\n\n      var className = options.className !== undefined ? options.className : 'ol-zoomslider';\n      var thumbElement = document.createElement('button');\n      thumbElement.setAttribute('type', 'button');\n      thumbElement.className = className + '-thumb ' + CLASS_UNSELECTABLE;\n      var containerElement = this.element;\n      containerElement.className = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n      containerElement.appendChild(thumbElement);\n      /**\n       * @type {PointerEventHandler}\n       * @private\n       */\n      this.dragger_ = new PointerEventHandler(containerElement);\n\n      listen(this.dragger_, PointerEventType.POINTERDOWN,\n        this.handleDraggerStart_, this);\n      listen(this.dragger_, PointerEventType.POINTERMOVE,\n        this.handleDraggerDrag_, this);\n      listen(this.dragger_, PointerEventType.POINTERUP,\n        this.handleDraggerEnd_, this);\n\n      listen(containerElement, EventType.CLICK, this.handleContainerClick_, this);\n      listen(thumbElement, EventType.CLICK, stopPropagation);\n    }\n\n    if ( Control$$1 ) ZoomSlider.__proto__ = Control$$1;\n    ZoomSlider.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    ZoomSlider.prototype.constructor = ZoomSlider;\n\n    /**\n     * @inheritDoc\n     */\n    ZoomSlider.prototype.disposeInternal = function disposeInternal () {\n      this.dragger_.dispose();\n      Control$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ZoomSlider.prototype.setMap = function setMap (map) {\n      Control$$1.prototype.setMap.call(this, map);\n      if (map) {\n        map.render();\n      }\n    };\n\n    /**\n     * Initializes the slider element. This will determine and set this controls\n     * direction_ and also constrain the dragging of the thumb to always be within\n     * the bounds of the container.\n     *\n     * @private\n     */\n    ZoomSlider.prototype.initSlider_ = function initSlider_ () {\n      var container = this.element;\n      var containerSize = {\n        width: container.offsetWidth, height: container.offsetHeight\n      };\n\n      var thumb = /** @type {HTMLElement} */ (container.firstElementChild);\n      var computedStyle = getComputedStyle(thumb);\n      var thumbWidth = thumb.offsetWidth +\n          parseFloat(computedStyle['marginRight']) +\n          parseFloat(computedStyle['marginLeft']);\n      var thumbHeight = thumb.offsetHeight +\n          parseFloat(computedStyle['marginTop']) +\n          parseFloat(computedStyle['marginBottom']);\n      this.thumbSize_ = [thumbWidth, thumbHeight];\n\n      if (containerSize.width > containerSize.height) {\n        this.direction_ = Direction.HORIZONTAL;\n        this.widthLimit_ = containerSize.width - thumbWidth;\n      } else {\n        this.direction_ = Direction.VERTICAL;\n        this.heightLimit_ = containerSize.height - thumbHeight;\n      }\n      this.sliderInitialized_ = true;\n    };\n\n    /**\n     * @param {MouseEvent} event The browser event to handle.\n     * @private\n     */\n    ZoomSlider.prototype.handleContainerClick_ = function handleContainerClick_ (event) {\n      var view = this.getMap().getView();\n\n      var relativePosition = this.getRelativePosition_(\n        event.offsetX - this.thumbSize_[0] / 2,\n        event.offsetY - this.thumbSize_[1] / 2);\n\n      var resolution = this.getResolutionForPosition_(relativePosition);\n\n      view.animate({\n        resolution: view.constrainResolution(resolution),\n        duration: this.duration_,\n        easing: easeOut\n      });\n    };\n\n    /**\n     * Handle dragger start events.\n     * @param {import(\"../pointer/PointerEvent.js\").default} event The drag event.\n     * @private\n     */\n    ZoomSlider.prototype.handleDraggerStart_ = function handleDraggerStart_ (event) {\n      if (!this.dragging_ && event.originalEvent.target === this.element.firstElementChild) {\n        this.getMap().getView().setHint(ViewHint.INTERACTING, 1);\n        this.previousX_ = event.clientX;\n        this.previousY_ = event.clientY;\n        this.dragging_ = true;\n\n        if (this.dragListenerKeys_.length === 0) {\n          var drag = this.handleDraggerDrag_;\n          var end = this.handleDraggerEnd_;\n          this.dragListenerKeys_.push(\n            listen(document, EventType.MOUSEMOVE, drag, this),\n            listen(document, PointerEventType.POINTERMOVE, drag, this),\n            listen(document, EventType.MOUSEUP, end, this),\n            listen(document, PointerEventType.POINTERUP, end, this)\n          );\n        }\n      }\n    };\n\n    /**\n     * Handle dragger drag events.\n     *\n     * @param {import(\"../pointer/PointerEvent.js\").default} event The drag event.\n     * @private\n     */\n    ZoomSlider.prototype.handleDraggerDrag_ = function handleDraggerDrag_ (event) {\n      if (this.dragging_) {\n        var element = /** @type {HTMLElement} */ (this.element.firstElementChild);\n        var deltaX = event.clientX - this.previousX_ + parseFloat(element.style.left);\n        var deltaY = event.clientY - this.previousY_ + parseFloat(element.style.top);\n        var relativePosition = this.getRelativePosition_(deltaX, deltaY);\n        this.currentResolution_ = this.getResolutionForPosition_(relativePosition);\n        this.getMap().getView().setResolution(this.currentResolution_);\n        this.setThumbPosition_(this.currentResolution_);\n        this.previousX_ = event.clientX;\n        this.previousY_ = event.clientY;\n      }\n    };\n\n    /**\n     * Handle dragger end events.\n     * @param {import(\"../pointer/PointerEvent.js\").default} event The drag event.\n     * @private\n     */\n    ZoomSlider.prototype.handleDraggerEnd_ = function handleDraggerEnd_ (event) {\n      if (this.dragging_) {\n        var view = this.getMap().getView();\n        view.setHint(ViewHint.INTERACTING, -1);\n\n        view.animate({\n          resolution: view.constrainResolution(this.currentResolution_),\n          duration: this.duration_,\n          easing: easeOut\n        });\n\n        this.dragging_ = false;\n        this.previousX_ = undefined;\n        this.previousY_ = undefined;\n        this.dragListenerKeys_.forEach(unlistenByKey);\n        this.dragListenerKeys_.length = 0;\n      }\n    };\n\n    /**\n     * Positions the thumb inside its container according to the given resolution.\n     *\n     * @param {number} res The res.\n     * @private\n     */\n    ZoomSlider.prototype.setThumbPosition_ = function setThumbPosition_ (res) {\n      var position = this.getPositionForResolution_(res);\n      var thumb = /** @type {HTMLElement} */ (this.element.firstElementChild);\n\n      if (this.direction_ == Direction.HORIZONTAL) {\n        thumb.style.left = this.widthLimit_ * position + 'px';\n      } else {\n        thumb.style.top = this.heightLimit_ * position + 'px';\n      }\n    };\n\n    /**\n     * Calculates the relative position of the thumb given x and y offsets.  The\n     * relative position scales from 0 to 1.  The x and y offsets are assumed to be\n     * in pixel units within the dragger limits.\n     *\n     * @param {number} x Pixel position relative to the left of the slider.\n     * @param {number} y Pixel position relative to the top of the slider.\n     * @return {number} The relative position of the thumb.\n     * @private\n     */\n    ZoomSlider.prototype.getRelativePosition_ = function getRelativePosition_ (x, y) {\n      var amount;\n      if (this.direction_ === Direction.HORIZONTAL) {\n        amount = x / this.widthLimit_;\n      } else {\n        amount = y / this.heightLimit_;\n      }\n      return clamp(amount, 0, 1);\n    };\n\n    /**\n     * Calculates the corresponding resolution of the thumb given its relative\n     * position (where 0 is the minimum and 1 is the maximum).\n     *\n     * @param {number} position The relative position of the thumb.\n     * @return {number} The corresponding resolution.\n     * @private\n     */\n    ZoomSlider.prototype.getResolutionForPosition_ = function getResolutionForPosition_ (position) {\n      var fn = this.getMap().getView().getResolutionForValueFunction();\n      return fn(1 - position);\n    };\n\n    /**\n     * Determines the relative position of the slider for the given resolution.  A\n     * relative position of 0 corresponds to the minimum view resolution.  A\n     * relative position of 1 corresponds to the maximum view resolution.\n     *\n     * @param {number} res The resolution.\n     * @return {number} The relative position value (between 0 and 1).\n     * @private\n     */\n    ZoomSlider.prototype.getPositionForResolution_ = function getPositionForResolution_ (res) {\n      var fn = this.getMap().getView().getValueForResolutionFunction();\n      return 1 - fn(res);\n    };\n\n    return ZoomSlider;\n  }(Control));\n\n\n  /**\n   * Update the zoomslider element.\n   * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n   * @this {ZoomSlider}\n   * @api\n   */\n  function render$5(mapEvent) {\n    if (!mapEvent.frameState) {\n      return;\n    }\n    if (!this.sliderInitialized_) {\n      this.initSlider_();\n    }\n    var res = mapEvent.frameState.viewState.resolution;\n    if (res !== this.currentResolution_) {\n      this.currentResolution_ = res;\n      this.setThumbPosition_(res);\n    }\n  }\n\n  /**\n   * @module ol/control/ZoomToExtent\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {string} [className='ol-zoom-extent'] Class name.\n   * @property {HTMLElement|string} [target] Specify a target if you want the control\n   * to be rendered outside of the map's viewport.\n   * @property {string|HTMLElement} [label='E'] Text label to use for the button.\n   * Instead of text, also an element (e.g. a `span` element) can be used.\n   * @property {string} [tipLabel='Fit to extent'] Text label to use for the button tip.\n   * @property {import(\"../extent.js\").Extent} [extent] The extent to zoom to. If undefined the validity\n   * extent of the view projection is used.\n   */\n\n\n  /**\n   * @classdesc\n   * A button control which, when pressed, changes the map view to a specific\n   * extent. To style this control use the css selector `.ol-zoom-extent`.\n   *\n   * @api\n   */\n  var ZoomToExtent = /*@__PURE__*/(function (Control$$1) {\n    function ZoomToExtent(opt_options) {\n      var options = opt_options ? opt_options : {};\n\n      Control$$1.call(this, {\n        element: document.createElement('div'),\n        target: options.target\n      });\n\n      /**\n       * @type {import(\"../extent.js\").Extent}\n       * @protected\n       */\n      this.extent = options.extent ? options.extent : null;\n\n      var className = options.className !== undefined ? options.className : 'ol-zoom-extent';\n\n      var label = options.label !== undefined ? options.label : 'E';\n      var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Fit to extent';\n      var button = document.createElement('button');\n      button.setAttribute('type', 'button');\n      button.title = tipLabel;\n      button.appendChild(\n        typeof label === 'string' ? document.createTextNode(label) : label\n      );\n\n      listen(button, EventType.CLICK, this.handleClick_, this);\n\n      var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n      var element = this.element;\n      element.className = cssClasses;\n      element.appendChild(button);\n    }\n\n    if ( Control$$1 ) ZoomToExtent.__proto__ = Control$$1;\n    ZoomToExtent.prototype = Object.create( Control$$1 && Control$$1.prototype );\n    ZoomToExtent.prototype.constructor = ZoomToExtent;\n\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    ZoomToExtent.prototype.handleClick_ = function handleClick_ (event) {\n      event.preventDefault();\n      this.handleZoomToExtent();\n    };\n\n    /**\n     * @protected\n     */\n    ZoomToExtent.prototype.handleZoomToExtent = function handleZoomToExtent () {\n      var map = this.getMap();\n      var view = map.getView();\n      var extent = !this.extent ? view.getProjection().getExtent() : this.extent;\n      view.fit(extent);\n    };\n\n    return ZoomToExtent;\n  }(Control));\n\n  /**\n   * @module ol/control\n   */\n\n  /**\n   * @module ol/webgl/Shader\n   */\n\n  /**\n   * @abstract\n   */\n  var WebGLShader = function WebGLShader(source) {\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.source_ = source;\n\n  };\n\n  /**\n   * @return {boolean} Is animated?\n   */\n  WebGLShader.prototype.isAnimated = function isAnimated () {\n    return false;\n  };\n\n  /**\n   * @abstract\n   * @return {number} Type.\n   */\n  WebGLShader.prototype.getType = function getType () {\n    return abstract();\n  };\n\n  /**\n   * @return {string} Source.\n   */\n  WebGLShader.prototype.getSource = function getSource () {\n    return this.source_;\n  };\n\n  /**\n   * @module ol/webgl/Fragment\n   */\n\n  var WebGLFragment = /*@__PURE__*/(function (WebGLShader$$1) {\n    function WebGLFragment(source) {\n      WebGLShader$$1.call(this, source);\n    }\n\n    if ( WebGLShader$$1 ) WebGLFragment.__proto__ = WebGLShader$$1;\n    WebGLFragment.prototype = Object.create( WebGLShader$$1 && WebGLShader$$1.prototype );\n    WebGLFragment.prototype.constructor = WebGLFragment;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLFragment.prototype.getType = function getType () {\n      return FRAGMENT_SHADER;\n    };\n\n    return WebGLFragment;\n  }(WebGLShader));\n\n  /**\n   * @module ol/webgl/Vertex\n   */\n\n  var WebGLVertex = /*@__PURE__*/(function (WebGLShader$$1) {\n    function WebGLVertex(source) {\n      WebGLShader$$1.call(this, source);\n    }\n\n    if ( WebGLShader$$1 ) WebGLVertex.__proto__ = WebGLShader$$1;\n    WebGLVertex.prototype = Object.create( WebGLShader$$1 && WebGLShader$$1.prototype );\n    WebGLVertex.prototype.constructor = WebGLVertex;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVertex.prototype.getType = function getType () {\n      return VERTEX_SHADER;\n    };\n\n    return WebGLVertex;\n  }(WebGLShader));\n\n  /**\n   * @module ol/render/webgl/circlereplay/defaultshader\n   */\n\n  var fragment = new WebGLFragment('precision mediump float;\\nvarying vec2 v_center;\\nvarying vec2 v_offset;\\nvarying float v_halfWidth;\\nvarying float v_pixelRatio;\\n\\n\\n\\nuniform float u_opacity;\\nuniform vec4 u_fillColor;\\nuniform vec4 u_strokeColor;\\nuniform vec2 u_size;\\n\\nvoid main(void) {\\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\\n  float radius = length(windowCenter - windowOffset);\\n  float dist = length(windowCenter - gl_FragCoord.xy);\\n  if (dist > radius + v_halfWidth) {\\n    if (u_strokeColor.a == 0.0) {\\n      gl_FragColor = u_fillColor;\\n    } else {\\n      gl_FragColor = u_strokeColor;\\n    }\\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\\n  } else if (u_fillColor.a == 0.0) {\\n    // Hooray, no fill, just stroke. We can use real antialiasing.\\n    gl_FragColor = u_strokeColor;\\n    if (dist < radius - v_halfWidth) {\\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\\n    }\\n  } else {\\n    gl_FragColor = u_fillColor;\\n    float strokeDist = radius - v_halfWidth;\\n    float antialias = 2.0 * v_pixelRatio;\\n    if (dist > strokeDist) {\\n      gl_FragColor = u_strokeColor;\\n    } else if (dist >= strokeDist - antialias) {\\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\\n    }\\n  }\\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\\n  if (gl_FragColor.a <= 0.0) {\\n    discard;\\n  }\\n}\\n');\n\n  var vertex = new WebGLVertex('varying vec2 v_center;\\nvarying vec2 v_offset;\\nvarying float v_halfWidth;\\nvarying float v_pixelRatio;\\n\\n\\nattribute vec2 a_position;\\nattribute float a_instruction;\\nattribute float a_radius;\\n\\nuniform mat4 u_projectionMatrix;\\nuniform mat4 u_offsetScaleMatrix;\\nuniform mat4 u_offsetRotateMatrix;\\nuniform float u_lineWidth;\\nuniform float u_pixelRatio;\\n\\nvoid main(void) {\\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\\n  v_pixelRatio = u_pixelRatio;\\n  float lineWidth = u_lineWidth * u_pixelRatio;\\n  v_halfWidth = lineWidth / 2.0;\\n  if (lineWidth == 0.0) {\\n    lineWidth = 2.0 * u_pixelRatio;\\n  }\\n  vec2 offset;\\n  // Radius with anitaliasing (roughly).\\n  float radius = a_radius + 3.0 * u_pixelRatio;\\n  // Until we get gl_VertexID in WebGL, we store an instruction.\\n  if (a_instruction == 0.0) {\\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\\n    offset = vec2(-1.0, 1.0);\\n  } else if (a_instruction == 1.0) {\\n    offset = vec2(-1.0, -1.0);\\n  } else if (a_instruction == 2.0) {\\n    offset = vec2(1.0, -1.0);\\n  } else {\\n    offset = vec2(1.0, 1.0);\\n  }\\n\\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\\n      0.0, 1.0)).xy;\\n\\n  if (distance(v_center, v_offset) > 20000.0) {\\n    gl_Position = vec4(v_center, 0.0, 1.0);\\n  }\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/render/webgl/circlereplay/defaultshader/Locations\n   */\n\n  var Locations = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_projectionMatrix = gl.getUniformLocation(\n      program, 'u_projectionMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetScaleMatrix = gl.getUniformLocation(\n      program, 'u_offsetScaleMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetRotateMatrix = gl.getUniformLocation(\n      program, 'u_offsetRotateMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_lineWidth = gl.getUniformLocation(\n      program, 'u_lineWidth');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_pixelRatio = gl.getUniformLocation(\n      program, 'u_pixelRatio');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_opacity = gl.getUniformLocation(\n      program, 'u_opacity');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_fillColor = gl.getUniformLocation(\n      program, 'u_fillColor');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_strokeColor = gl.getUniformLocation(\n      program, 'u_strokeColor');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_size = gl.getUniformLocation(\n      program, 'u_size');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n    /**\n     * @type {number}\n     */\n    this.a_instruction = gl.getAttribLocation(\n      program, 'a_instruction');\n\n    /**\n     * @type {number}\n     */\n    this.a_radius = gl.getAttribLocation(\n      program, 'a_radius');\n\n  };\n\n  /**\n   * @module ol/vec/mat4\n   */\n\n\n  /**\n   * @return {Array<number>} 4x4 matrix representing a 3D identity transform.\n   */\n  function create$1() {\n    return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n  }\n\n\n  /**\n   * @param {Array<number>} mat4 Flattened 4x4 matrix receiving the result.\n   * @param {import(\"../transform.js\").Transform} transform Transformation matrix.\n   * @return {Array<number>} 2D transformation matrix as flattened 4x4 matrix.\n   */\n  function fromTransform(mat4, transform) {\n    mat4[0] = transform[0];\n    mat4[1] = transform[1];\n    mat4[4] = transform[2];\n    mat4[5] = transform[3];\n    mat4[12] = transform[4];\n    mat4[13] = transform[5];\n    return mat4;\n  }\n\n  /**\n   * @module ol/render/webgl/Replay\n   */\n\n  var WebGLReplay = /*@__PURE__*/(function (VectorContext$$1) {\n    function WebGLReplay(tolerance, maxExtent) {\n      VectorContext$$1.call(this);\n\n      /**\n       * @protected\n       * @type {number}\n       */\n      this.tolerance = tolerance;\n\n      /**\n       * @protected\n       * @const\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.maxExtent = maxExtent;\n\n      /**\n       * The origin of the coordinate system for the point coordinates sent to\n       * the GPU. To eliminate jitter caused by precision problems in the GPU\n       * we use the \"Rendering Relative to Eye\" technique described in the \"3D\n       * Engine Design for Virtual Globes\" book.\n       * @protected\n       * @type {import(\"../../coordinate.js\").Coordinate}\n       */\n      this.origin = getCenter(maxExtent);\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.projectionMatrix_ = create();\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.offsetRotateMatrix_ = create();\n\n      /**\n       * @private\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.offsetScaleMatrix_ = create();\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.tmpMat4_ = create$1();\n\n      /**\n       * @protected\n       * @type {Array<number>}\n       */\n      this.indices = [];\n\n      /**\n       * @protected\n       * @type {?import(\"../../webgl/Buffer.js\").default}\n       */\n      this.indicesBuffer = null;\n\n      /**\n       * Start index per feature (the index).\n       * @protected\n       * @type {Array<number>}\n       */\n      this.startIndices = [];\n\n      /**\n       * Start index per feature (the feature).\n       * @protected\n       * @type {Array<import(\"../../Feature.js\").default|import(\"../Feature.js\").default>}\n       */\n      this.startIndicesFeature = [];\n\n      /**\n       * @protected\n       * @type {Array<number>}\n       */\n      this.vertices = [];\n\n      /**\n       * @protected\n       * @type {?import(\"../../webgl/Buffer.js\").default}\n       */\n      this.verticesBuffer = null;\n\n      /**\n       * Optional parameter for PolygonReplay instances.\n       * @protected\n       * @type {import(\"./LineStringReplay.js\").default|undefined}\n       */\n      this.lineStringReplay = undefined;\n\n    }\n\n    if ( VectorContext$$1 ) WebGLReplay.__proto__ = VectorContext$$1;\n    WebGLReplay.prototype = Object.create( VectorContext$$1 && VectorContext$$1.prototype );\n    WebGLReplay.prototype.constructor = WebGLReplay;\n\n    /**\n     * @abstract\n     * @param {import(\"../../webgl/Context.js\").default} context WebGL context.\n     * @return {function()} Delete resources function.\n     */\n    WebGLReplay.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     */\n    WebGLReplay.prototype.finish = function finish (context) {\n      abstract();\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {import(\"./circlereplay/defaultshader/Locations.js\").default|\n       import(\"./linestringreplay/defaultshader/Locations.js\").default|\n       import(\"./polygonreplay/defaultshader/Locations.js\").default|\n       import(\"./texturereplay/defaultshader/Locations.js\").default} Locations.\n     */\n    WebGLReplay.prototype.setUpProgram = function setUpProgram (gl, context, size, pixelRatio) {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"./circlereplay/defaultshader/Locations.js\").default|\n       import(\"./linestringreplay/defaultshader/Locations.js\").default|\n       import(\"./polygonreplay/defaultshader/Locations.js\").default|\n       import(\"./texturereplay/defaultshader/Locations.js\").default} locations Locations.\n     */\n    WebGLReplay.prototype.shutDownProgram = function shutDownProgram (gl, locations) {\n      abstract();\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {boolean} hitDetection Hit detection mode.\n     */\n    WebGLReplay.prototype.drawReplay = function drawReplay (gl, context, skippedFeaturesHash, hitDetection) {\n      abstract();\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Hit extent: Only features intersecting this extent are checked.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplay.prototype.drawHitDetectionReplayOneByOne = function drawHitDetectionReplayOneByOne (gl, context, skippedFeaturesHash, featureCallback, opt_hitExtent) {\n      return abstract();\n    };\n\n    /**\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @param {boolean} oneByOne Draw features one-by-one for the hit-detecion.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Hit extent: Only features intersecting this extent are checked.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplay.prototype.drawHitDetectionReplay = function drawHitDetectionReplay (gl, context, skippedFeaturesHash, featureCallback, oneByOne, opt_hitExtent) {\n      if (!oneByOne) {\n        // draw all hit-detection features in \"once\" (by texture group)\n        return this.drawHitDetectionReplayAll(gl, context,\n          skippedFeaturesHash, featureCallback);\n      } else {\n        // draw hit-detection features one by one\n        return this.drawHitDetectionReplayOneByOne(gl, context,\n          skippedFeaturesHash, featureCallback, opt_hitExtent);\n      }\n    };\n\n    /**\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplay.prototype.drawHitDetectionReplayAll = function drawHitDetectionReplayAll (gl, context, skippedFeaturesHash, featureCallback) {\n      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n      this.drawReplay(gl, context, skippedFeaturesHash, true);\n\n      var result = featureCallback(null);\n      if (result) {\n        return result;\n      } else {\n        return undefined;\n      }\n    };\n\n    /**\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} opacity Global opacity.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @param {boolean} oneByOne Draw features one-by-one for the hit-detecion.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Hit extent: Only features intersecting this extent are checked.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplay.prototype.replay = function replay (\n      context,\n      center,\n      resolution,\n      rotation,\n      size,\n      pixelRatio,\n      opacity,\n      skippedFeaturesHash,\n      featureCallback,\n      oneByOne,\n      opt_hitExtent\n    ) {\n      var gl = context.getGL();\n      var tmpStencil, tmpStencilFunc, tmpStencilMaskVal, tmpStencilRef, tmpStencilMask,\n          tmpStencilOpFail, tmpStencilOpPass, tmpStencilOpZFail;\n\n      if (this.lineStringReplay) {\n        tmpStencil = gl.isEnabled(gl.STENCIL_TEST);\n        tmpStencilFunc = gl.getParameter(gl.STENCIL_FUNC);\n        tmpStencilMaskVal = gl.getParameter(gl.STENCIL_VALUE_MASK);\n        tmpStencilRef = gl.getParameter(gl.STENCIL_REF);\n        tmpStencilMask = gl.getParameter(gl.STENCIL_WRITEMASK);\n        tmpStencilOpFail = gl.getParameter(gl.STENCIL_FAIL);\n        tmpStencilOpPass = gl.getParameter(gl.STENCIL_PASS_DEPTH_PASS);\n        tmpStencilOpZFail = gl.getParameter(gl.STENCIL_PASS_DEPTH_FAIL);\n\n        gl.enable(gl.STENCIL_TEST);\n        gl.clear(gl.STENCIL_BUFFER_BIT);\n        gl.stencilMask(255);\n        gl.stencilFunc(gl.ALWAYS, 1, 255);\n        gl.stencilOp(gl.KEEP, gl.KEEP, gl.REPLACE);\n\n        this.lineStringReplay.replay(context,\n          center, resolution, rotation, size, pixelRatio,\n          opacity, skippedFeaturesHash,\n          featureCallback, oneByOne, opt_hitExtent);\n\n        gl.stencilMask(0);\n        gl.stencilFunc(gl.NOTEQUAL, 1, 255);\n      }\n\n      context.bindBuffer(ARRAY_BUFFER, this.verticesBuffer);\n\n      context.bindBuffer(ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n\n      var locations = this.setUpProgram(gl, context, size, pixelRatio);\n\n      // set the \"uniform\" values\n      var projectionMatrix = reset(this.projectionMatrix_);\n      scale$2(projectionMatrix, 2 / (resolution * size[0]), 2 / (resolution * size[1]));\n      rotate$2(projectionMatrix, -rotation);\n      translate$1(projectionMatrix, -(center[0] - this.origin[0]), -(center[1] - this.origin[1]));\n\n      var offsetScaleMatrix = reset(this.offsetScaleMatrix_);\n      scale$2(offsetScaleMatrix, 2 / size[0], 2 / size[1]);\n\n      var offsetRotateMatrix = reset(this.offsetRotateMatrix_);\n      if (rotation !== 0) {\n        rotate$2(offsetRotateMatrix, -rotation);\n      }\n\n      gl.uniformMatrix4fv(locations.u_projectionMatrix, false,\n        fromTransform(this.tmpMat4_, projectionMatrix));\n      gl.uniformMatrix4fv(locations.u_offsetScaleMatrix, false,\n        fromTransform(this.tmpMat4_, offsetScaleMatrix));\n      gl.uniformMatrix4fv(locations.u_offsetRotateMatrix, false,\n        fromTransform(this.tmpMat4_, offsetRotateMatrix));\n      gl.uniform1f(locations.u_opacity, opacity);\n\n      // draw!\n      var result;\n      if (featureCallback === undefined) {\n        this.drawReplay(gl, context, skippedFeaturesHash, false);\n      } else {\n        // draw feature by feature for the hit-detection\n        result = this.drawHitDetectionReplay(gl, context, skippedFeaturesHash,\n          featureCallback, oneByOne, opt_hitExtent);\n      }\n\n      // disable the vertex attrib arrays\n      this.shutDownProgram(gl, locations);\n\n      if (this.lineStringReplay) {\n        if (!tmpStencil) {\n          gl.disable(gl.STENCIL_TEST);\n        }\n        gl.clear(gl.STENCIL_BUFFER_BIT);\n        gl.stencilFunc(/** @type {number} */ (tmpStencilFunc),\n          /** @type {number} */ (tmpStencilRef), /** @type {number} */ (tmpStencilMaskVal));\n        gl.stencilMask(/** @type {number} */ (tmpStencilMask));\n        gl.stencilOp(/** @type {number} */ (tmpStencilOpFail),\n          /** @type {number} */ (tmpStencilOpZFail), /** @type {number} */ (tmpStencilOpPass));\n      }\n\n      return result;\n    };\n\n    /**\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {number} start Start index.\n     * @param {number} end End index.\n     */\n    WebGLReplay.prototype.drawElements = function drawElements (gl, context, start, end) {\n      var elementType = context.hasOESElementIndexUint ?\n        UNSIGNED_INT : UNSIGNED_SHORT;\n      var elementSize = context.hasOESElementIndexUint ? 4 : 2;\n\n      var numItems = end - start;\n      var offsetInBytes = start * elementSize;\n      gl.drawElements(TRIANGLES, numItems, elementType, offsetInBytes);\n    };\n\n    return WebGLReplay;\n  }(VectorContext));\n\n  /**\n   * @module ol/render/webgl\n   */\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var DEFAULT_FONT = '10px sans-serif';\n\n\n  /**\n   * @const\n   * @type {import(\"../color.js\").Color}\n   */\n  var DEFAULT_FILLSTYLE = [0.0, 0.0, 0.0, 1.0];\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var DEFAULT_LINECAP = 'round';\n\n\n  /**\n   * @const\n   * @type {Array<number>}\n   */\n  var DEFAULT_LINEDASH = [];\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEFAULT_LINEDASHOFFSET = 0;\n\n\n  /**\n   * @const\n   * @type {string}\n   */\n  var DEFAULT_LINEJOIN = 'round';\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEFAULT_MITERLIMIT = 10;\n\n  /**\n   * @const\n   * @type {import(\"../color.js\").Color}\n   */\n  var DEFAULT_STROKESTYLE = [0.0, 0.0, 0.0, 1.0];\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEFAULT_TEXTALIGN = 0.5;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEFAULT_TEXTBASELINE = 0.5;\n\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var DEFAULT_LINEWIDTH = 1;\n\n  /**\n   * @const\n   * @type {number}\n   */\n  var EPSILON = Number.EPSILON || 2.220446049250313e-16;\n\n  /**\n   * Calculates the orientation of a triangle based on the determinant method.\n   * @param {number} x1 First X coordinate.\n   * @param {number} y1 First Y coordinate.\n   * @param {number} x2 Second X coordinate.\n   * @param {number} y2 Second Y coordinate.\n   * @param {number} x3 Third X coordinate.\n   * @param {number} y3 Third Y coordinate.\n   * @return {boolean|undefined} Triangle is clockwise.\n   */\n  var triangleIsCounterClockwise = function(x1, y1, x2, y2, x3, y3) {\n    var area = (x2 - x1) * (y3 - y1) - (x3 - x1) * (y2 - y1);\n    return (area <= EPSILON && area >= -EPSILON) ?\n      undefined : area > 0;\n  };\n\n  /**\n   * @module ol/webgl/Buffer\n   */\n\n  /**\n   * @enum {number}\n   */\n  var BufferUsage = {\n    STATIC_DRAW: STATIC_DRAW,\n    STREAM_DRAW: STREAM_DRAW,\n    DYNAMIC_DRAW: DYNAMIC_DRAW\n  };\n\n\n  var WebGLBuffer = function WebGLBuffer(opt_arr, opt_usage) {\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.arr_ = opt_arr !== undefined ? opt_arr : [];\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.usage_ = opt_usage !== undefined ? opt_usage : BufferUsage.STATIC_DRAW;\n\n  };\n\n  /**\n   * @return {Array<number>} Array.\n   */\n  WebGLBuffer.prototype.getArray = function getArray () {\n    return this.arr_;\n  };\n\n  /**\n   * @return {number} Usage.\n   */\n  WebGLBuffer.prototype.getUsage = function getUsage () {\n    return this.usage_;\n  };\n\n  /**\n   * @module ol/render/webgl/CircleReplay\n   */\n\n  var WebGLCircleReplay = /*@__PURE__*/(function (WebGLReplay$$1) {\n    function WebGLCircleReplay(tolerance, maxExtent) {\n      WebGLReplay$$1.call(this, tolerance, maxExtent);\n\n      /**\n       * @private\n       * @type {import(\"./circlereplay/defaultshader/Locations.js\").default}\n       */\n      this.defaultLocations_ = null;\n\n      /**\n       * @private\n       * @type {Array<Array<Array<number>|number>>}\n       */\n      this.styles_ = [];\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.styleIndices_ = [];\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.radius_ = 0;\n\n      /**\n       * @private\n       * @type {{fillColor: (Array<number>|null),\n       *         strokeColor: (Array<number>|null),\n       *         lineDash: Array<number>,\n       *         lineDashOffset: (number|undefined),\n       *         lineWidth: (number|undefined),\n       *         changed: boolean}|null}\n       */\n      this.state_ = {\n        fillColor: null,\n        strokeColor: null,\n        lineDash: null,\n        lineDashOffset: undefined,\n        lineWidth: undefined,\n        changed: false\n      };\n\n    }\n\n    if ( WebGLReplay$$1 ) WebGLCircleReplay.__proto__ = WebGLReplay$$1;\n    WebGLCircleReplay.prototype = Object.create( WebGLReplay$$1 && WebGLReplay$$1.prototype );\n    WebGLCircleReplay.prototype.constructor = WebGLCircleReplay;\n\n    /**\n     * @private\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     */\n    WebGLCircleReplay.prototype.drawCoordinates_ = function drawCoordinates_ (flatCoordinates, offset, end, stride) {\n      var numVertices = this.vertices.length;\n      var numIndices = this.indices.length;\n      var n = numVertices / 4;\n      var i, ii;\n      for (i = offset, ii = end; i < ii; i += stride) {\n        this.vertices[numVertices++] = flatCoordinates[i];\n        this.vertices[numVertices++] = flatCoordinates[i + 1];\n        this.vertices[numVertices++] = 0;\n        this.vertices[numVertices++] = this.radius_;\n\n        this.vertices[numVertices++] = flatCoordinates[i];\n        this.vertices[numVertices++] = flatCoordinates[i + 1];\n        this.vertices[numVertices++] = 1;\n        this.vertices[numVertices++] = this.radius_;\n\n        this.vertices[numVertices++] = flatCoordinates[i];\n        this.vertices[numVertices++] = flatCoordinates[i + 1];\n        this.vertices[numVertices++] = 2;\n        this.vertices[numVertices++] = this.radius_;\n\n        this.vertices[numVertices++] = flatCoordinates[i];\n        this.vertices[numVertices++] = flatCoordinates[i + 1];\n        this.vertices[numVertices++] = 3;\n        this.vertices[numVertices++] = this.radius_;\n\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = n + 1;\n        this.indices[numIndices++] = n + 2;\n\n        this.indices[numIndices++] = n + 2;\n        this.indices[numIndices++] = n + 3;\n        this.indices[numIndices++] = n;\n\n        n += 4;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.drawCircle = function drawCircle (circleGeometry, feature) {\n      var radius = circleGeometry.getRadius();\n      var stride = circleGeometry.getStride();\n      if (radius) {\n        this.startIndices.push(this.indices.length);\n        this.startIndicesFeature.push(feature);\n        if (this.state_.changed) {\n          this.styleIndices_.push(this.indices.length);\n          this.state_.changed = false;\n        }\n\n        this.radius_ = radius;\n        var flatCoordinates = circleGeometry.getFlatCoordinates();\n        flatCoordinates = translate(flatCoordinates, 0, 2,\n          stride, -this.origin[0], -this.origin[1]);\n        this.drawCoordinates_(flatCoordinates, 0, 2, stride);\n      } else {\n        if (this.state_.changed) {\n          this.styles_.pop();\n          if (this.styles_.length) {\n            var lastState = this.styles_[this.styles_.length - 1];\n            this.state_.fillColor = /** @type {Array<number>} */ (lastState[0]);\n            this.state_.strokeColor = /** @type {Array<number>} */ (lastState[1]);\n            this.state_.lineWidth = /** @type {number} */ (lastState[2]);\n            this.state_.changed = false;\n          }\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     **/\n    WebGLCircleReplay.prototype.finish = function finish (context) {\n      // create, bind, and populate the vertices buffer\n      this.verticesBuffer = new WebGLBuffer(this.vertices);\n\n      // create, bind, and populate the indices buffer\n      this.indicesBuffer = new WebGLBuffer(this.indices);\n\n      this.startIndices.push(this.indices.length);\n\n      //Clean up, if there is nothing to draw\n      if (this.styleIndices_.length === 0 && this.styles_.length > 0) {\n        this.styles_ = [];\n      }\n\n      this.vertices = null;\n      this.indices = null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      // We only delete our stuff here. The shaders and the program may\n      // be used by other CircleReplay instances (for other layers). And\n      // they will be deleted when disposing of the import(\"../../webgl/Context.js\").WebGLContext\n      // object.\n      var verticesBuffer = this.verticesBuffer;\n      var indicesBuffer = this.indicesBuffer;\n      return function() {\n        context.deleteBuffer(verticesBuffer);\n        context.deleteBuffer(indicesBuffer);\n      };\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.setUpProgram = function setUpProgram (gl, context, size, pixelRatio) {\n      // get the program\n      var program = context.getProgram(fragment, vertex);\n\n      // get the locations\n      var locations;\n      if (!this.defaultLocations_) {\n        locations = new Locations(gl, program);\n        this.defaultLocations_ = locations;\n      } else {\n        locations = this.defaultLocations_;\n      }\n\n      context.useProgram(program);\n\n      // enable the vertex attrib arrays\n      gl.enableVertexAttribArray(locations.a_position);\n      gl.vertexAttribPointer(locations.a_position, 2, FLOAT,\n        false, 16, 0);\n\n      gl.enableVertexAttribArray(locations.a_instruction);\n      gl.vertexAttribPointer(locations.a_instruction, 1, FLOAT,\n        false, 16, 8);\n\n      gl.enableVertexAttribArray(locations.a_radius);\n      gl.vertexAttribPointer(locations.a_radius, 1, FLOAT,\n        false, 16, 12);\n\n      // Enable renderer specific uniforms.\n      gl.uniform2fv(locations.u_size, size);\n      gl.uniform1f(locations.u_pixelRatio, pixelRatio);\n\n      return locations;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.shutDownProgram = function shutDownProgram (gl, locations) {\n      gl.disableVertexAttribArray(locations.a_position);\n      gl.disableVertexAttribArray(locations.a_instruction);\n      gl.disableVertexAttribArray(locations.a_radius);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.drawReplay = function drawReplay (gl, context, skippedFeaturesHash, hitDetection) {\n      if (!isEmpty(skippedFeaturesHash)) {\n        this.drawReplaySkipping_(gl, context, skippedFeaturesHash);\n      } else {\n        //Draw by style groups to minimize drawElements() calls.\n        var i, start, end, nextStyle;\n        end = this.startIndices[this.startIndices.length - 1];\n        for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n          start = this.styleIndices_[i];\n          nextStyle = this.styles_[i];\n          this.setFillStyle_(gl, /** @type {Array<number>} */ (nextStyle[0]));\n          this.setStrokeStyle_(gl, /** @type {Array<number>} */ (nextStyle[1]),\n            /** @type {number} */ (nextStyle[2]));\n          this.drawElements(gl, context, start, end);\n          end = start;\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.drawHitDetectionReplayOneByOne = function drawHitDetectionReplayOneByOne (gl, context, skippedFeaturesHash, featureCallback, opt_hitExtent) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex;\n      featureIndex = this.startIndices.length - 2;\n      end = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setFillStyle_(gl, /** @type {Array<number>} */ (nextStyle[0]));\n        this.setStrokeStyle_(gl, /** @type {Array<number>} */ (nextStyle[1]),\n          /** @type {number} */ (nextStyle[2]));\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          start = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)] === undefined &&\n              feature.getGeometry() &&\n              (opt_hitExtent === undefined || intersects(\n                /** @type {Array<number>} */ (opt_hitExtent),\n                feature.getGeometry().getExtent()))) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n            this.drawElements(gl, context, start, end);\n\n            var result = featureCallback(feature);\n\n            if (result) {\n              return result;\n            }\n\n          }\n          featureIndex--;\n          end = start;\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object} skippedFeaturesHash Ids of features to skip.\n     */\n    WebGLCircleReplay.prototype.drawReplaySkipping_ = function drawReplaySkipping_ (gl, context, skippedFeaturesHash) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex, featureStart;\n      featureIndex = this.startIndices.length - 2;\n      end = start = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setFillStyle_(gl, /** @type {Array<number>} */ (nextStyle[0]));\n        this.setStrokeStyle_(gl, /** @type {Array<number>} */ (nextStyle[1]),\n          /** @type {number} */ (nextStyle[2]));\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          featureStart = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)]) {\n            if (start !== end) {\n              this.drawElements(gl, context, start, end);\n            }\n            end = featureStart;\n          }\n          featureIndex--;\n          start = featureStart;\n        }\n        if (start !== end) {\n          this.drawElements(gl, context, start, end);\n        }\n        start = end = groupStart;\n      }\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {Array<number>} color Color.\n     */\n    WebGLCircleReplay.prototype.setFillStyle_ = function setFillStyle_ (gl, color) {\n      gl.uniform4fv(this.defaultLocations_.u_fillColor, color);\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {Array<number>} color Color.\n     * @param {number} lineWidth Line width.\n     */\n    WebGLCircleReplay.prototype.setStrokeStyle_ = function setStrokeStyle_ (gl, color, lineWidth) {\n      gl.uniform4fv(this.defaultLocations_.u_strokeColor, color);\n      gl.uniform1f(this.defaultLocations_.u_lineWidth, lineWidth);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLCircleReplay.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      var strokeStyleColor, strokeStyleWidth;\n      if (strokeStyle) {\n        var strokeStyleLineDash = strokeStyle.getLineDash();\n        this.state_.lineDash = strokeStyleLineDash ?\n          strokeStyleLineDash : DEFAULT_LINEDASH;\n        var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n        this.state_.lineDashOffset = strokeStyleLineDashOffset ?\n          strokeStyleLineDashOffset : DEFAULT_LINEDASHOFFSET;\n        strokeStyleColor = strokeStyle.getColor();\n        if (!(strokeStyleColor instanceof CanvasGradient) &&\n            !(strokeStyleColor instanceof CanvasPattern)) {\n          strokeStyleColor = asArray(strokeStyleColor).map(function(c, i) {\n            return i != 3 ? c / 255 : c;\n          }) || DEFAULT_STROKESTYLE;\n        } else {\n          strokeStyleColor = DEFAULT_STROKESTYLE;\n        }\n        strokeStyleWidth = strokeStyle.getWidth();\n        strokeStyleWidth = strokeStyleWidth !== undefined ?\n          strokeStyleWidth : DEFAULT_LINEWIDTH;\n      } else {\n        strokeStyleColor = [0, 0, 0, 0];\n        strokeStyleWidth = 0;\n      }\n      var fillStyleColor = fillStyle ? fillStyle.getColor() : [0, 0, 0, 0];\n      if (!(fillStyleColor instanceof CanvasGradient) &&\n          !(fillStyleColor instanceof CanvasPattern)) {\n        fillStyleColor = asArray(fillStyleColor).map(function(c, i) {\n          return i != 3 ? c / 255 : c;\n        }) || DEFAULT_FILLSTYLE;\n      } else {\n        fillStyleColor = DEFAULT_FILLSTYLE;\n      }\n      if (!this.state_.strokeColor || !equals(this.state_.strokeColor, strokeStyleColor) ||\n          !this.state_.fillColor || !equals(this.state_.fillColor, fillStyleColor) ||\n          this.state_.lineWidth !== strokeStyleWidth) {\n        this.state_.changed = true;\n        this.state_.fillColor = fillStyleColor;\n        this.state_.strokeColor = strokeStyleColor;\n        this.state_.lineWidth = strokeStyleWidth;\n        this.styles_.push([fillStyleColor, strokeStyleColor, strokeStyleWidth]);\n      }\n    };\n\n    return WebGLCircleReplay;\n  }(WebGLReplay));\n\n  /**\n   * @module ol/render/webgl/texturereplay/defaultshader\n   */\n\n  var fragment$1 = new WebGLFragment('precision mediump float;\\nvarying vec2 v_texCoord;\\nvarying float v_opacity;\\n\\nuniform float u_opacity;\\nuniform sampler2D u_image;\\n\\nvoid main(void) {\\n  vec4 texColor = texture2D(u_image, v_texCoord);\\n  gl_FragColor.rgb = texColor.rgb;\\n  float alpha = texColor.a * v_opacity * u_opacity;\\n  if (alpha == 0.0) {\\n    discard;\\n  }\\n  gl_FragColor.a = alpha;\\n}\\n');\n\n  var vertex$1 = new WebGLVertex('varying vec2 v_texCoord;\\nvarying float v_opacity;\\n\\nattribute vec2 a_position;\\nattribute vec2 a_texCoord;\\nattribute vec2 a_offsets;\\nattribute float a_opacity;\\nattribute float a_rotateWithView;\\n\\nuniform mat4 u_projectionMatrix;\\nuniform mat4 u_offsetScaleMatrix;\\nuniform mat4 u_offsetRotateMatrix;\\n\\nvoid main(void) {\\n  mat4 offsetMatrix = u_offsetScaleMatrix;\\n  if (a_rotateWithView == 1.0) {\\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\\n  }\\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\\n  v_texCoord = a_texCoord;\\n  v_opacity = a_opacity;\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/render/webgl/texturereplay/defaultshader/Locations\n   */\n\n  var Locations$1 = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_projectionMatrix = gl.getUniformLocation(\n      program, 'u_projectionMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetScaleMatrix = gl.getUniformLocation(\n      program, 'u_offsetScaleMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetRotateMatrix = gl.getUniformLocation(\n      program, 'u_offsetRotateMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_opacity = gl.getUniformLocation(\n      program, 'u_opacity');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_image = gl.getUniformLocation(\n      program, 'u_image');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n    /**\n     * @type {number}\n     */\n    this.a_texCoord = gl.getAttribLocation(\n      program, 'a_texCoord');\n\n    /**\n     * @type {number}\n     */\n    this.a_offsets = gl.getAttribLocation(\n      program, 'a_offsets');\n\n    /**\n     * @type {number}\n     */\n    this.a_opacity = gl.getAttribLocation(\n      program, 'a_opacity');\n\n    /**\n     * @type {number}\n     */\n    this.a_rotateWithView = gl.getAttribLocation(\n      program, 'a_rotateWithView');\n\n  };\n\n  /**\n   * @module ol/webgl/ContextEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var ContextEventType = {\n    LOST: 'webglcontextlost',\n    RESTORED: 'webglcontextrestored'\n  };\n\n  /**\n   * @module ol/webgl/Context\n   */\n\n\n  /**\n   * @typedef {Object} BufferCacheEntry\n   * @property {import(\"./Buffer.js\").default} buf\n   * @property {WebGLBuffer} buffer\n   */\n\n\n  /**\n   * @classdesc\n   * A WebGL context for accessing low-level WebGL capabilities.\n   */\n  var WebGLContext = /*@__PURE__*/(function (Disposable$$1) {\n    function WebGLContext(canvas, gl) {\n      Disposable$$1.call(this);\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = canvas;\n\n      /**\n       * @private\n       * @type {WebGLRenderingContext}\n       */\n      this.gl_ = gl;\n\n      /**\n       * @private\n       * @type {!Object<string, BufferCacheEntry>}\n       */\n      this.bufferCache_ = {};\n\n      /**\n       * @private\n       * @type {!Object<string, WebGLShader>}\n       */\n      this.shaderCache_ = {};\n\n      /**\n       * @private\n       * @type {!Object<string, WebGLProgram>}\n       */\n      this.programCache_ = {};\n\n      /**\n       * @private\n       * @type {WebGLProgram}\n       */\n      this.currentProgram_ = null;\n\n      /**\n       * @private\n       * @type {WebGLFramebuffer}\n       */\n      this.hitDetectionFramebuffer_ = null;\n\n      /**\n       * @private\n       * @type {WebGLTexture}\n       */\n      this.hitDetectionTexture_ = null;\n\n      /**\n       * @private\n       * @type {WebGLRenderbuffer}\n       */\n      this.hitDetectionRenderbuffer_ = null;\n\n      /**\n       * @type {boolean}\n       */\n      this.hasOESElementIndexUint = includes(EXTENSIONS, 'OES_element_index_uint');\n\n      // use the OES_element_index_uint extension if available\n      if (this.hasOESElementIndexUint) {\n        gl.getExtension('OES_element_index_uint');\n      }\n\n      listen(this.canvas_, ContextEventType.LOST,\n        this.handleWebGLContextLost, this);\n      listen(this.canvas_, ContextEventType.RESTORED,\n        this.handleWebGLContextRestored, this);\n\n    }\n\n    if ( Disposable$$1 ) WebGLContext.__proto__ = Disposable$$1;\n    WebGLContext.prototype = Object.create( Disposable$$1 && Disposable$$1.prototype );\n    WebGLContext.prototype.constructor = WebGLContext;\n\n    /**\n     * Just bind the buffer if it's in the cache. Otherwise create\n     * the WebGL buffer, bind it, populate it, and add an entry to\n     * the cache.\n     * @param {number} target Target.\n     * @param {import(\"./Buffer.js\").default} buf Buffer.\n     */\n    WebGLContext.prototype.bindBuffer = function bindBuffer (target, buf) {\n      var gl = this.getGL();\n      var arr = buf.getArray();\n      var bufferKey = getUid(buf);\n      if (bufferKey in this.bufferCache_) {\n        var bufferCacheEntry = this.bufferCache_[bufferKey];\n        gl.bindBuffer(target, bufferCacheEntry.buffer);\n      } else {\n        var buffer = gl.createBuffer();\n        gl.bindBuffer(target, buffer);\n        var /** @type {ArrayBufferView} */ arrayBuffer;\n        if (target == ARRAY_BUFFER) {\n          arrayBuffer = new Float32Array(arr);\n        } else if (target == ELEMENT_ARRAY_BUFFER) {\n          arrayBuffer = this.hasOESElementIndexUint ?\n            new Uint32Array(arr) : new Uint16Array(arr);\n        }\n        gl.bufferData(target, arrayBuffer, buf.getUsage());\n        this.bufferCache_[bufferKey] = {\n          buf: buf,\n          buffer: buffer\n        };\n      }\n    };\n\n    /**\n     * @param {import(\"./Buffer.js\").default} buf Buffer.\n     */\n    WebGLContext.prototype.deleteBuffer = function deleteBuffer (buf) {\n      var gl = this.getGL();\n      var bufferKey = getUid(buf);\n      var bufferCacheEntry = this.bufferCache_[bufferKey];\n      if (!gl.isContextLost()) {\n        gl.deleteBuffer(bufferCacheEntry.buffer);\n      }\n      delete this.bufferCache_[bufferKey];\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLContext.prototype.disposeInternal = function disposeInternal () {\n      unlistenAll(this.canvas_);\n      var gl = this.getGL();\n      if (!gl.isContextLost()) {\n        for (var key in this.bufferCache_) {\n          gl.deleteBuffer(this.bufferCache_[key].buffer);\n        }\n        for (var key$1 in this.programCache_) {\n          gl.deleteProgram(this.programCache_[key$1]);\n        }\n        for (var key$2 in this.shaderCache_) {\n          gl.deleteShader(this.shaderCache_[key$2]);\n        }\n        // delete objects for hit-detection\n        gl.deleteFramebuffer(this.hitDetectionFramebuffer_);\n        gl.deleteRenderbuffer(this.hitDetectionRenderbuffer_);\n        gl.deleteTexture(this.hitDetectionTexture_);\n      }\n    };\n\n    /**\n     * @return {HTMLCanvasElement} Canvas.\n     */\n    WebGLContext.prototype.getCanvas = function getCanvas () {\n      return this.canvas_;\n    };\n\n    /**\n     * Get the WebGL rendering context\n     * @return {WebGLRenderingContext} The rendering context.\n     * @api\n     */\n    WebGLContext.prototype.getGL = function getGL () {\n      return this.gl_;\n    };\n\n    /**\n     * Get the frame buffer for hit detection.\n     * @return {WebGLFramebuffer} The hit detection frame buffer.\n     */\n    WebGLContext.prototype.getHitDetectionFramebuffer = function getHitDetectionFramebuffer () {\n      if (!this.hitDetectionFramebuffer_) {\n        this.initHitDetectionFramebuffer_();\n      }\n      return this.hitDetectionFramebuffer_;\n    };\n\n    /**\n     * Get shader from the cache if it's in the cache. Otherwise, create\n     * the WebGL shader, compile it, and add entry to cache.\n     * @param {import(\"./Shader.js\").default} shaderObject Shader object.\n     * @return {WebGLShader} Shader.\n     */\n    WebGLContext.prototype.getShader = function getShader (shaderObject) {\n      var shaderKey = getUid(shaderObject);\n      if (shaderKey in this.shaderCache_) {\n        return this.shaderCache_[shaderKey];\n      } else {\n        var gl = this.getGL();\n        var shader = gl.createShader(shaderObject.getType());\n        gl.shaderSource(shader, shaderObject.getSource());\n        gl.compileShader(shader);\n        this.shaderCache_[shaderKey] = shader;\n        return shader;\n      }\n    };\n\n    /**\n     * Get the program from the cache if it's in the cache. Otherwise create\n     * the WebGL program, attach the shaders to it, and add an entry to the\n     * cache.\n     * @param {import(\"./Fragment.js\").default} fragmentShaderObject Fragment shader.\n     * @param {import(\"./Vertex.js\").default} vertexShaderObject Vertex shader.\n     * @return {WebGLProgram} Program.\n     */\n    WebGLContext.prototype.getProgram = function getProgram (fragmentShaderObject, vertexShaderObject) {\n      var programKey = getUid(fragmentShaderObject) + '/' + getUid(vertexShaderObject);\n      if (programKey in this.programCache_) {\n        return this.programCache_[programKey];\n      } else {\n        var gl = this.getGL();\n        var program = gl.createProgram();\n        gl.attachShader(program, this.getShader(fragmentShaderObject));\n        gl.attachShader(program, this.getShader(vertexShaderObject));\n        gl.linkProgram(program);\n        this.programCache_[programKey] = program;\n        return program;\n      }\n    };\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n    WebGLContext.prototype.handleWebGLContextLost = function handleWebGLContextLost () {\n      clear(this.bufferCache_);\n      clear(this.shaderCache_);\n      clear(this.programCache_);\n      this.currentProgram_ = null;\n      this.hitDetectionFramebuffer_ = null;\n      this.hitDetectionTexture_ = null;\n      this.hitDetectionRenderbuffer_ = null;\n    };\n\n    /**\n     * FIXME empty description for jsdoc\n     */\n    WebGLContext.prototype.handleWebGLContextRestored = function handleWebGLContextRestored () {\n    };\n\n    /**\n     * Creates a 1x1 pixel framebuffer for the hit-detection.\n     * @private\n     */\n    WebGLContext.prototype.initHitDetectionFramebuffer_ = function initHitDetectionFramebuffer_ () {\n      var gl = this.gl_;\n      var framebuffer = gl.createFramebuffer();\n      gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\n      var texture = createEmptyTexture(gl, 1, 1);\n      var renderbuffer = gl.createRenderbuffer();\n      gl.bindRenderbuffer(gl.RENDERBUFFER, renderbuffer);\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, 1, 1);\n      gl.framebufferTexture2D(\n        gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT,\n        gl.RENDERBUFFER, renderbuffer);\n\n      gl.bindTexture(gl.TEXTURE_2D, null);\n      gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n      this.hitDetectionFramebuffer_ = framebuffer;\n      this.hitDetectionTexture_ = texture;\n      this.hitDetectionRenderbuffer_ = renderbuffer;\n    };\n\n    /**\n     * Use a program.  If the program is already in use, this will return `false`.\n     * @param {WebGLProgram} program Program.\n     * @return {boolean} Changed.\n     * @api\n     */\n    WebGLContext.prototype.useProgram = function useProgram (program) {\n      if (program == this.currentProgram_) {\n        return false;\n      } else {\n        var gl = this.getGL();\n        gl.useProgram(program);\n        this.currentProgram_ = program;\n        return true;\n      }\n    };\n\n    return WebGLContext;\n  }(Disposable));\n\n\n  /**\n   * @param {WebGLRenderingContext} gl WebGL rendering context.\n   * @param {number=} opt_wrapS wrapS.\n   * @param {number=} opt_wrapT wrapT.\n   * @return {WebGLTexture} The texture.\n   */\n  function createTextureInternal(gl, opt_wrapS, opt_wrapT) {\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\n    if (opt_wrapS !== undefined) {\n      gl.texParameteri(\n        TEXTURE_2D, TEXTURE_WRAP_S, opt_wrapS);\n    }\n    if (opt_wrapT !== undefined) {\n      gl.texParameteri(\n        TEXTURE_2D, TEXTURE_WRAP_T, opt_wrapT);\n    }\n\n    return texture;\n  }\n\n\n  /**\n   * @param {WebGLRenderingContext} gl WebGL rendering context.\n   * @param {number} width Width.\n   * @param {number} height Height.\n   * @param {number=} opt_wrapS wrapS.\n   * @param {number=} opt_wrapT wrapT.\n   * @return {WebGLTexture} The texture.\n   */\n  function createEmptyTexture(gl, width, height, opt_wrapS, opt_wrapT) {\n    var texture = createTextureInternal(gl, opt_wrapS, opt_wrapT);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n    return texture;\n  }\n\n\n  /**\n   * @param {WebGLRenderingContext} gl WebGL rendering context.\n   * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image.\n   * @param {number=} opt_wrapS wrapS.\n   * @param {number=} opt_wrapT wrapT.\n   * @return {WebGLTexture} The texture.\n   */\n  function createTexture(gl, image, opt_wrapS, opt_wrapT) {\n    var texture = createTextureInternal(gl, opt_wrapS, opt_wrapT);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n    return texture;\n  }\n\n  /**\n   * @module ol/render/webgl/TextureReplay\n   */\n\n  var WebGLTextureReplay = /*@__PURE__*/(function (WebGLReplay$$1) {\n    function WebGLTextureReplay(tolerance, maxExtent) {\n      WebGLReplay$$1.call(this, tolerance, maxExtent);\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.anchorX = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.anchorY = undefined;\n\n      /**\n       * @type {Array<number>}\n       * @protected\n       */\n      this.groupIndices = [];\n\n      /**\n       * @type {Array<number>}\n       * @protected\n       */\n      this.hitDetectionGroupIndices = [];\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.height = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.imageHeight = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.imageWidth = undefined;\n\n      /**\n       * @protected\n       * @type {import(\"./texturereplay/defaultshader/Locations.js\").default}\n       */\n      this.defaultLocations = null;\n\n      /**\n       * @protected\n       * @type {number|undefined}\n       */\n      this.opacity = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.originX = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.originY = undefined;\n\n      /**\n       * @protected\n       * @type {boolean|undefined}\n       */\n      this.rotateWithView = undefined;\n\n      /**\n       * @protected\n       * @type {number|undefined}\n       */\n      this.rotation = undefined;\n\n      /**\n       * @protected\n       * @type {number|undefined}\n       */\n      this.scale = undefined;\n\n      /**\n       * @type {number|undefined}\n       * @protected\n       */\n      this.width = undefined;\n    }\n\n    if ( WebGLReplay$$1 ) WebGLTextureReplay.__proto__ = WebGLReplay$$1;\n    WebGLTextureReplay.prototype = Object.create( WebGLReplay$$1 && WebGLReplay$$1.prototype );\n    WebGLTextureReplay.prototype.constructor = WebGLTextureReplay;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      var verticesBuffer = this.verticesBuffer;\n      var indicesBuffer = this.indicesBuffer;\n      var textures = this.getTextures(true);\n      var gl = context.getGL();\n      return function() {\n        if (!gl.isContextLost()) {\n          var i, ii;\n          for (i = 0, ii = textures.length; i < ii; ++i) {\n            gl.deleteTexture(textures[i]);\n          }\n        }\n        context.deleteBuffer(verticesBuffer);\n        context.deleteBuffer(indicesBuffer);\n      };\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @return {number} My end.\n     * @protected\n     */\n    WebGLTextureReplay.prototype.drawCoordinates = function drawCoordinates (flatCoordinates, offset, end, stride) {\n      var anchorX = /** @type {number} */ (this.anchorX);\n      var anchorY = /** @type {number} */ (this.anchorY);\n      var height = /** @type {number} */ (this.height);\n      var imageHeight = /** @type {number} */ (this.imageHeight);\n      var imageWidth = /** @type {number} */ (this.imageWidth);\n      var opacity = /** @type {number} */ (this.opacity);\n      var originX = /** @type {number} */ (this.originX);\n      var originY = /** @type {number} */ (this.originY);\n      var rotateWithView = this.rotateWithView ? 1.0 : 0.0;\n      // this.rotation_ is anti-clockwise, but rotation is clockwise\n      var rotation = /** @type {number} */ (-this.rotation);\n      var scale = /** @type {number} */ (this.scale);\n      var width = /** @type {number} */ (this.width);\n      var cos = Math.cos(rotation);\n      var sin = Math.sin(rotation);\n      var numIndices = this.indices.length;\n      var numVertices = this.vertices.length;\n      var i, n, offsetX, offsetY, x, y;\n      for (i = offset; i < end; i += stride) {\n        x = flatCoordinates[i] - this.origin[0];\n        y = flatCoordinates[i + 1] - this.origin[1];\n\n        // There are 4 vertices per [x, y] point, one for each corner of the\n        // rectangle we're going to draw. We'd use 1 vertex per [x, y] point if\n        // WebGL supported Geometry Shaders (which can emit new vertices), but that\n        // is not currently the case.\n        //\n        // And each vertex includes 8 values: the x and y coordinates, the x and\n        // y offsets used to calculate the position of the corner, the u and\n        // v texture coordinates for the corner, the opacity, and whether the\n        // the image should be rotated with the view (rotateWithView).\n\n        n = numVertices / 8;\n\n        // bottom-left corner\n        offsetX = -scale * anchorX;\n        offsetY = -scale * (height - anchorY);\n        this.vertices[numVertices++] = x;\n        this.vertices[numVertices++] = y;\n        this.vertices[numVertices++] = offsetX * cos - offsetY * sin;\n        this.vertices[numVertices++] = offsetX * sin + offsetY * cos;\n        this.vertices[numVertices++] = originX / imageWidth;\n        this.vertices[numVertices++] = (originY + height) / imageHeight;\n        this.vertices[numVertices++] = opacity;\n        this.vertices[numVertices++] = rotateWithView;\n\n        // bottom-right corner\n        offsetX = scale * (width - anchorX);\n        offsetY = -scale * (height - anchorY);\n        this.vertices[numVertices++] = x;\n        this.vertices[numVertices++] = y;\n        this.vertices[numVertices++] = offsetX * cos - offsetY * sin;\n        this.vertices[numVertices++] = offsetX * sin + offsetY * cos;\n        this.vertices[numVertices++] = (originX + width) / imageWidth;\n        this.vertices[numVertices++] = (originY + height) / imageHeight;\n        this.vertices[numVertices++] = opacity;\n        this.vertices[numVertices++] = rotateWithView;\n\n        // top-right corner\n        offsetX = scale * (width - anchorX);\n        offsetY = scale * anchorY;\n        this.vertices[numVertices++] = x;\n        this.vertices[numVertices++] = y;\n        this.vertices[numVertices++] = offsetX * cos - offsetY * sin;\n        this.vertices[numVertices++] = offsetX * sin + offsetY * cos;\n        this.vertices[numVertices++] = (originX + width) / imageWidth;\n        this.vertices[numVertices++] = originY / imageHeight;\n        this.vertices[numVertices++] = opacity;\n        this.vertices[numVertices++] = rotateWithView;\n\n        // top-left corner\n        offsetX = -scale * anchorX;\n        offsetY = scale * anchorY;\n        this.vertices[numVertices++] = x;\n        this.vertices[numVertices++] = y;\n        this.vertices[numVertices++] = offsetX * cos - offsetY * sin;\n        this.vertices[numVertices++] = offsetX * sin + offsetY * cos;\n        this.vertices[numVertices++] = originX / imageWidth;\n        this.vertices[numVertices++] = originY / imageHeight;\n        this.vertices[numVertices++] = opacity;\n        this.vertices[numVertices++] = rotateWithView;\n\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = n + 1;\n        this.indices[numIndices++] = n + 2;\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = n + 2;\n        this.indices[numIndices++] = n + 3;\n      }\n\n      return numVertices;\n    };\n\n    /**\n     * @protected\n     * @param {Array<WebGLTexture>} textures Textures.\n     * @param {Array<HTMLCanvasElement|HTMLImageElement|HTMLVideoElement>} images Images.\n     * @param {!Object<string, WebGLTexture>} texturePerImage Texture cache.\n     * @param {WebGLRenderingContext} gl Gl.\n     */\n    WebGLTextureReplay.prototype.createTextures = function createTextures (textures, images, texturePerImage, gl) {\n      var texture, image, uid, i;\n      var ii = images.length;\n      for (i = 0; i < ii; ++i) {\n        image = images[i];\n\n        uid = getUid(image);\n        if (uid in texturePerImage) {\n          texture = texturePerImage[uid];\n        } else {\n          texture = createTexture(\n            gl, image, CLAMP_TO_EDGE, CLAMP_TO_EDGE);\n          texturePerImage[uid] = texture;\n        }\n        textures[i] = texture;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.setUpProgram = function setUpProgram (gl, context, size, pixelRatio) {\n      // get the program\n      var program = context.getProgram(fragment$1, vertex$1);\n\n      // get the locations\n      var locations;\n      if (!this.defaultLocations) {\n        locations = new Locations$1(gl, program);\n        this.defaultLocations = locations;\n      } else {\n        locations = this.defaultLocations;\n      }\n\n      // use the program (FIXME: use the return value)\n      context.useProgram(program);\n\n      // enable the vertex attrib arrays\n      gl.enableVertexAttribArray(locations.a_position);\n      gl.vertexAttribPointer(locations.a_position, 2, FLOAT,\n        false, 32, 0);\n\n      gl.enableVertexAttribArray(locations.a_offsets);\n      gl.vertexAttribPointer(locations.a_offsets, 2, FLOAT,\n        false, 32, 8);\n\n      gl.enableVertexAttribArray(locations.a_texCoord);\n      gl.vertexAttribPointer(locations.a_texCoord, 2, FLOAT,\n        false, 32, 16);\n\n      gl.enableVertexAttribArray(locations.a_opacity);\n      gl.vertexAttribPointer(locations.a_opacity, 1, FLOAT,\n        false, 32, 24);\n\n      gl.enableVertexAttribArray(locations.a_rotateWithView);\n      gl.vertexAttribPointer(locations.a_rotateWithView, 1, FLOAT,\n        false, 32, 28);\n\n      return locations;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.shutDownProgram = function shutDownProgram (gl, locations) {\n      gl.disableVertexAttribArray(locations.a_position);\n      gl.disableVertexAttribArray(locations.a_offsets);\n      gl.disableVertexAttribArray(locations.a_texCoord);\n      gl.disableVertexAttribArray(locations.a_opacity);\n      gl.disableVertexAttribArray(locations.a_rotateWithView);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.drawReplay = function drawReplay (gl, context, skippedFeaturesHash, hitDetection) {\n      var textures = hitDetection ? this.getHitDetectionTextures() : this.getTextures();\n      var groupIndices = hitDetection ? this.hitDetectionGroupIndices : this.groupIndices;\n\n      if (!isEmpty(skippedFeaturesHash)) {\n        this.drawReplaySkipping(gl, context, skippedFeaturesHash, textures, groupIndices);\n      } else {\n        var i, ii, start;\n        for (i = 0, ii = textures.length, start = 0; i < ii; ++i) {\n          gl.bindTexture(TEXTURE_2D, textures[i]);\n          var end = groupIndices[i];\n          this.drawElements(gl, context, start, end);\n          start = end;\n        }\n      }\n    };\n\n    /**\n     * Draw the replay while paying attention to skipped features.\n     *\n     * This functions creates groups of features that can be drawn to together,\n     * so that the number of `drawElements` calls is minimized.\n     *\n     * For example given the following texture groups:\n     *\n     *    Group 1: A B C\n     *    Group 2: D [E] F G\n     *\n     * If feature E should be skipped, the following `drawElements` calls will be\n     * made:\n     *\n     *    drawElements with feature A, B and C\n     *    drawElements with feature D\n     *    drawElements with feature F and G\n     *\n     * @protected\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features\n     *  to skip.\n     * @param {Array<WebGLTexture>} textures Textures.\n     * @param {Array<number>} groupIndices Texture group indices.\n     */\n    WebGLTextureReplay.prototype.drawReplaySkipping = function drawReplaySkipping (gl, context, skippedFeaturesHash, textures, groupIndices) {\n      var featureIndex = 0;\n\n      var i, ii;\n      for (i = 0, ii = textures.length; i < ii; ++i) {\n        gl.bindTexture(TEXTURE_2D, textures[i]);\n        var groupStart = (i > 0) ? groupIndices[i - 1] : 0;\n        var groupEnd = groupIndices[i];\n\n        var start = groupStart;\n        var end = groupStart;\n        while (featureIndex < this.startIndices.length &&\n            this.startIndices[featureIndex] <= groupEnd) {\n          var feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)] !== undefined) {\n            // feature should be skipped\n            if (start !== end) {\n              // draw the features so far\n              this.drawElements(gl, context, start, end);\n            }\n            // continue with the next feature\n            start = (featureIndex === this.startIndices.length - 1) ?\n              groupEnd : this.startIndices[featureIndex + 1];\n            end = start;\n          } else {\n            // the feature is not skipped, augment the end index\n            end = (featureIndex === this.startIndices.length - 1) ?\n              groupEnd : this.startIndices[featureIndex + 1];\n          }\n          featureIndex++;\n        }\n\n        if (start !== end) {\n          // draw the remaining features (in case there was no skipped feature\n          // in this texture group, all features of a group are drawn together)\n          this.drawElements(gl, context, start, end);\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.drawHitDetectionReplayOneByOne = function drawHitDetectionReplayOneByOne (gl, context, skippedFeaturesHash, featureCallback, opt_hitExtent) {\n      var i, groupStart, start, end, feature;\n      var featureIndex = this.startIndices.length - 1;\n      var hitDetectionTextures = this.getHitDetectionTextures();\n      for (i = hitDetectionTextures.length - 1; i >= 0; --i) {\n        gl.bindTexture(TEXTURE_2D, hitDetectionTextures[i]);\n        groupStart = (i > 0) ? this.hitDetectionGroupIndices[i - 1] : 0;\n        end = this.hitDetectionGroupIndices[i];\n\n        // draw all features for this texture group\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          start = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)] === undefined &&\n              feature.getGeometry() &&\n              (opt_hitExtent === undefined || intersects(\n                /** @type {Array<number>} */ (opt_hitExtent),\n                feature.getGeometry().getExtent()))) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n            this.drawElements(gl, context, start, end);\n\n            var result = featureCallback(feature);\n            if (result) {\n              return result;\n            }\n          }\n\n          end = start;\n          featureIndex--;\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextureReplay.prototype.finish = function finish (context) {\n      this.anchorX = undefined;\n      this.anchorY = undefined;\n      this.height = undefined;\n      this.imageHeight = undefined;\n      this.imageWidth = undefined;\n      this.indices = null;\n      this.opacity = undefined;\n      this.originX = undefined;\n      this.originY = undefined;\n      this.rotateWithView = undefined;\n      this.rotation = undefined;\n      this.scale = undefined;\n      this.vertices = null;\n      this.width = undefined;\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @param {boolean=} opt_all Return hit detection textures with regular ones.\n     * @return {Array<WebGLTexture>} Textures.\n     */\n    WebGLTextureReplay.prototype.getTextures = function getTextures (opt_all) {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @protected\n     * @return {Array<WebGLTexture>} Textures.\n     */\n    WebGLTextureReplay.prototype.getHitDetectionTextures = function getHitDetectionTextures () {\n      return abstract();\n    };\n\n    return WebGLTextureReplay;\n  }(WebGLReplay));\n\n  /**\n   * @module ol/render/webgl/ImageReplay\n   */\n\n  var WebGLImageReplay = /*@__PURE__*/(function (WebGLTextureReplay$$1) {\n    function WebGLImageReplay(tolerance, maxExtent) {\n      WebGLTextureReplay$$1.call(this, tolerance, maxExtent);\n\n      /**\n       * @type {Array<HTMLCanvasElement|HTMLImageElement|HTMLVideoElement>}\n       * @protected\n       */\n      this.images_ = [];\n\n      /**\n       * @type {Array<HTMLCanvasElement|HTMLImageElement|HTMLVideoElement>}\n       * @protected\n       */\n      this.hitDetectionImages_ = [];\n\n      /**\n       * @type {Array<WebGLTexture>}\n       * @private\n       */\n      this.textures_ = [];\n\n      /**\n       * @type {Array<WebGLTexture>}\n       * @private\n       */\n      this.hitDetectionTextures_ = [];\n\n    }\n\n    if ( WebGLTextureReplay$$1 ) WebGLImageReplay.__proto__ = WebGLTextureReplay$$1;\n    WebGLImageReplay.prototype = Object.create( WebGLTextureReplay$$1 && WebGLTextureReplay$$1.prototype );\n    WebGLImageReplay.prototype.constructor = WebGLImageReplay;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.drawMultiPoint = function drawMultiPoint (multiPointGeometry, feature) {\n      this.startIndices.push(this.indices.length);\n      this.startIndicesFeature.push(feature);\n      var flatCoordinates = multiPointGeometry.getFlatCoordinates();\n      var stride = multiPointGeometry.getStride();\n      this.drawCoordinates(\n        flatCoordinates, 0, flatCoordinates.length, stride);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.drawPoint = function drawPoint (pointGeometry, feature) {\n      this.startIndices.push(this.indices.length);\n      this.startIndicesFeature.push(feature);\n      var flatCoordinates = pointGeometry.getFlatCoordinates();\n      var stride = pointGeometry.getStride();\n      this.drawCoordinates(\n        flatCoordinates, 0, flatCoordinates.length, stride);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.finish = function finish (context) {\n      var gl = context.getGL();\n\n      this.groupIndices.push(this.indices.length);\n      this.hitDetectionGroupIndices.push(this.indices.length);\n\n      // create, bind, and populate the vertices buffer\n      this.verticesBuffer = new WebGLBuffer(this.vertices);\n\n      var indices = this.indices;\n\n      // create, bind, and populate the indices buffer\n      this.indicesBuffer = new WebGLBuffer(indices);\n\n      // create textures\n      /** @type {Object<string, WebGLTexture>} */\n      var texturePerImage = {};\n\n      this.createTextures(this.textures_, this.images_, texturePerImage, gl);\n\n      this.createTextures(this.hitDetectionTextures_, this.hitDetectionImages_,\n        texturePerImage, gl);\n\n      this.images_ = null;\n      this.hitDetectionImages_ = null;\n      WebGLTextureReplay$$1.prototype.finish.call(this, context);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.setImageStyle = function setImageStyle (imageStyle) {\n      var anchor = imageStyle.getAnchor();\n      var image = imageStyle.getImage(1);\n      var imageSize = imageStyle.getImageSize();\n      var hitDetectionImage = imageStyle.getHitDetectionImage(1);\n      var opacity = imageStyle.getOpacity();\n      var origin = imageStyle.getOrigin();\n      var rotateWithView = imageStyle.getRotateWithView();\n      var rotation = imageStyle.getRotation();\n      var size = imageStyle.getSize();\n      var scale = imageStyle.getScale();\n\n      var currentImage;\n      if (this.images_.length === 0) {\n        this.images_.push(image);\n      } else {\n        currentImage = this.images_[this.images_.length - 1];\n        if (getUid(currentImage) != getUid(image)) {\n          this.groupIndices.push(this.indices.length);\n          this.images_.push(image);\n        }\n      }\n\n      if (this.hitDetectionImages_.length === 0) {\n        this.hitDetectionImages_.push(hitDetectionImage);\n      } else {\n        currentImage =\n            this.hitDetectionImages_[this.hitDetectionImages_.length - 1];\n        if (getUid(currentImage) != getUid(hitDetectionImage)) {\n          this.hitDetectionGroupIndices.push(this.indices.length);\n          this.hitDetectionImages_.push(hitDetectionImage);\n        }\n      }\n\n      this.anchorX = anchor[0];\n      this.anchorY = anchor[1];\n      this.height = size[1];\n      this.imageHeight = imageSize[1];\n      this.imageWidth = imageSize[0];\n      this.opacity = opacity;\n      this.originX = origin[0];\n      this.originY = origin[1];\n      this.rotation = rotation;\n      this.rotateWithView = rotateWithView;\n      this.scale = scale;\n      this.width = size[0];\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.getTextures = function getTextures (opt_all) {\n      return opt_all ? this.textures_.concat(this.hitDetectionTextures_) : this.textures_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageReplay.prototype.getHitDetectionTextures = function getHitDetectionTextures () {\n      return this.hitDetectionTextures_;\n    };\n\n    return WebGLImageReplay;\n  }(WebGLTextureReplay));\n\n  /**\n   * @module ol/geom/flat/topology\n   */\n\n  /**\n   * Check if the linestring is a boundary.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @return {boolean} The linestring is a boundary.\n   */\n  function lineStringIsClosed(flatCoordinates, offset, end, stride) {\n    var lastCoord = end - stride;\n    if (flatCoordinates[offset] === flatCoordinates[lastCoord] &&\n        flatCoordinates[offset + 1] === flatCoordinates[lastCoord + 1] && (end - offset) / stride > 3) {\n      return !!linearRing(flatCoordinates, offset, end, stride);\n    }\n    return false;\n  }\n\n  /**\n   * @module ol/render/webgl/linestringreplay/defaultshader\n   */\n\n  var fragment$2 = new WebGLFragment('precision mediump float;\\nvarying float v_round;\\nvarying vec2 v_roundVertex;\\nvarying float v_halfWidth;\\n\\n\\n\\nuniform float u_opacity;\\nuniform vec4 u_color;\\nuniform vec2 u_size;\\nuniform float u_pixelRatio;\\n\\nvoid main(void) {\\n  if (v_round > 0.0) {\\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\\n      discard;\\n    }\\n  }\\n  gl_FragColor = u_color;\\n  float alpha = u_color.a * u_opacity;\\n  if (alpha == 0.0) {\\n    discard;\\n  }\\n  gl_FragColor.a = alpha;\\n}\\n');\n\n  var vertex$2 = new WebGLVertex('varying float v_round;\\nvarying vec2 v_roundVertex;\\nvarying float v_halfWidth;\\n\\n\\nattribute vec2 a_lastPos;\\nattribute vec2 a_position;\\nattribute vec2 a_nextPos;\\nattribute float a_direction;\\n\\nuniform mat4 u_projectionMatrix;\\nuniform mat4 u_offsetScaleMatrix;\\nuniform mat4 u_offsetRotateMatrix;\\nuniform float u_lineWidth;\\nuniform float u_miterLimit;\\n\\nbool nearlyEquals(in float value, in float ref) {\\n  float epsilon = 0.000000000001;\\n  return value >= ref - epsilon && value <= ref + epsilon;\\n}\\n\\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\\n  vec2 dirVect = nextP - a_position;\\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\\n  offset = u_lineWidth / 2.0 * normal * direction;\\n}\\n\\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\\n  float halfWidth = u_lineWidth / 2.0;\\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\\n  vec2 normal = vec2(-tangent.y, tangent.x);\\n  vec2 dirVect = a_nextPos - a_position;\\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\\n  offset = normal * direction * miterLength;\\n  round = 0.0;\\n  if (isRound) {\\n    round = 1.0;\\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\\n    offset = halfWidth * tmpNormal * direction;\\n  }\\n}\\n\\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\\n  bool degenerate = false;\\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\\n  vec2 normal = vec2(-tangent.y, tangent.x);\\n  vec2 dirVect = a_lastPos - a_position;\\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\\n  vec2 longOffset, shortOffset, longVertex;\\n  vec4 shortProjVertex;\\n  float halfWidth = u_lineWidth / 2.0;\\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\\n    longOffset = tmpNormal * direction * halfWidth;\\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\\n    longVertex = a_nextPos;\\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\\n  } else {\\n    shortOffset = tmpNormal * direction * halfWidth;\\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\\n    longVertex = a_lastPos;\\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\\n  }\\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\\n  float epsilon = 0.000000000001;\\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\\n    offset = shortProjVertex.xy;\\n    degenerate = true;\\n  } else {\\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\\n    offset = normal * direction * miterLength;\\n  }\\n  return degenerate;\\n}\\n\\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\\n    in float turnDir, in float direction) {\\n  round = 0.0;\\n  vec2 dirVect = a_position - nextP;\\n  vec2 firstNormal = normalize(dirVect);\\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\\n  offset = normal * length;\\n  if (isRound) {\\n    round = 1.0;\\n  }\\n}\\n\\nvoid main(void) {\\n  bool degenerate = false;\\n  float direction = float(sign(a_direction));\\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\\n  vec2 offset;\\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\\n\\n  v_round = 0.0;\\n  v_halfWidth = u_lineWidth / 2.0;\\n  v_roundVertex = projPos.xy;\\n\\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\\n    alongNormal(offset, a_nextPos, 1.0, direction);\\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\\n    alongNormal(offset, a_lastPos, -1.0, direction);\\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\\n    miterUp(offset, v_round, round, direction);\\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\\n  }\\n  if (!degenerate) {\\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\\n    gl_Position = projPos + offsets;\\n  } else {\\n    gl_Position = vec4(offset, 0.0, 1.0);\\n  }\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/render/webgl/linestringreplay/defaultshader/Locations\n   */\n\n  var Locations$2 = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_projectionMatrix = gl.getUniformLocation(\n      program, 'u_projectionMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetScaleMatrix = gl.getUniformLocation(\n      program, 'u_offsetScaleMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetRotateMatrix = gl.getUniformLocation(\n      program, 'u_offsetRotateMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_lineWidth = gl.getUniformLocation(\n      program, 'u_lineWidth');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_miterLimit = gl.getUniformLocation(\n      program, 'u_miterLimit');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_opacity = gl.getUniformLocation(\n      program, 'u_opacity');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_color = gl.getUniformLocation(\n      program, 'u_color');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_size = gl.getUniformLocation(\n      program, 'u_size');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_pixelRatio = gl.getUniformLocation(\n      program, 'u_pixelRatio');\n\n    /**\n     * @type {number}\n     */\n    this.a_lastPos = gl.getAttribLocation(\n      program, 'a_lastPos');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n    /**\n     * @type {number}\n     */\n    this.a_nextPos = gl.getAttribLocation(\n      program, 'a_nextPos');\n\n    /**\n     * @type {number}\n     */\n    this.a_direction = gl.getAttribLocation(\n      program, 'a_direction');\n\n  };\n\n  /**\n   * @module ol/render/webgl/LineStringReplay\n   */\n\n\n  /**\n   * @enum {number}\n   */\n  var Instruction$1 = {\n    ROUND: 2,\n    BEGIN_LINE: 3,\n    END_LINE: 5,\n    BEGIN_LINE_CAP: 7,\n    END_LINE_CAP: 11,\n    BEVEL_FIRST: 13,\n    BEVEL_SECOND: 17,\n    MITER_BOTTOM: 19,\n    MITER_TOP: 23\n  };\n\n\n  var WebGLLineStringReplay = /*@__PURE__*/(function (WebGLReplay$$1) {\n    function WebGLLineStringReplay(tolerance, maxExtent) {\n      WebGLReplay$$1.call(this, tolerance, maxExtent);\n\n      /**\n       * @private\n       * @type {import(\"./linestringreplay/defaultshader/Locations.js\").default}\n       */\n      this.defaultLocations_ = null;\n\n      /**\n       * @private\n       * @type {Array<Array<?>>}\n       */\n      this.styles_ = [];\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.styleIndices_ = [];\n\n      /**\n       * @private\n       * @type {{strokeColor: (Array<number>|null),\n       *         lineCap: (string|undefined),\n       *         lineDash: Array<number>,\n       *         lineDashOffset: (number|undefined),\n       *         lineJoin: (string|undefined),\n       *         lineWidth: (number|undefined),\n       *         miterLimit: (number|undefined),\n       *         changed: boolean}|null}\n       */\n      this.state_ = {\n        strokeColor: null,\n        lineCap: undefined,\n        lineDash: null,\n        lineDashOffset: undefined,\n        lineJoin: undefined,\n        lineWidth: undefined,\n        miterLimit: undefined,\n        changed: false\n      };\n\n    }\n\n    if ( WebGLReplay$$1 ) WebGLLineStringReplay.__proto__ = WebGLReplay$$1;\n    WebGLLineStringReplay.prototype = Object.create( WebGLReplay$$1 && WebGLReplay$$1.prototype );\n    WebGLLineStringReplay.prototype.constructor = WebGLLineStringReplay;\n\n    /**\n     * Draw one segment.\n     * @private\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     */\n    WebGLLineStringReplay.prototype.drawCoordinates_ = function drawCoordinates_ (flatCoordinates, offset, end, stride) {\n\n      var i, ii;\n      var numVertices = this.vertices.length;\n      var numIndices = this.indices.length;\n      //To save a vertex, the direction of a point is a product of the sign (1 or -1), a prime from\n      //Instruction, and a rounding factor (1 or 2). If the product is even,\n      //we round it. If it is odd, we don't.\n      var lineJoin = this.state_.lineJoin === 'bevel' ? 0 :\n        this.state_.lineJoin === 'miter' ? 1 : 2;\n      var lineCap = this.state_.lineCap === 'butt' ? 0 :\n        this.state_.lineCap === 'square' ? 1 : 2;\n      var closed = lineStringIsClosed(flatCoordinates, offset, end, stride);\n      var startCoords, sign, n;\n      var lastIndex = numIndices;\n      var lastSign = 1;\n      //We need the adjacent vertices to define normals in joins. p0 = last, p1 = current, p2 = next.\n      var p0, p1, p2;\n\n      for (i = offset, ii = end; i < ii; i += stride) {\n\n        n = numVertices / 7;\n\n        p0 = p1;\n        p1 = p2 || [flatCoordinates[i], flatCoordinates[i + 1]];\n        //First vertex.\n        if (i === offset) {\n          p2 = [flatCoordinates[i + stride], flatCoordinates[i + stride + 1]];\n          if (end - offset === stride * 2 && equals(p1, p2)) {\n            break;\n          }\n          if (closed) {\n            //A closed line! Complete the circle.\n            p0 = [flatCoordinates[end - stride * 2],\n              flatCoordinates[end - stride * 2 + 1]];\n\n            startCoords = p2;\n          } else {\n            //Add the first two/four vertices.\n\n            if (lineCap) {\n              numVertices = this.addVertices_([0, 0], p1, p2,\n                lastSign * Instruction$1.BEGIN_LINE_CAP * lineCap, numVertices);\n\n              numVertices = this.addVertices_([0, 0], p1, p2,\n                -lastSign * Instruction$1.BEGIN_LINE_CAP * lineCap, numVertices);\n\n              this.indices[numIndices++] = n + 2;\n              this.indices[numIndices++] = n;\n              this.indices[numIndices++] = n + 1;\n\n              this.indices[numIndices++] = n + 1;\n              this.indices[numIndices++] = n + 3;\n              this.indices[numIndices++] = n + 2;\n\n            }\n\n            numVertices = this.addVertices_([0, 0], p1, p2,\n              lastSign * Instruction$1.BEGIN_LINE * (lineCap || 1), numVertices);\n\n            numVertices = this.addVertices_([0, 0], p1, p2,\n              -lastSign * Instruction$1.BEGIN_LINE * (lineCap || 1), numVertices);\n\n            lastIndex = numVertices / 7 - 1;\n\n            continue;\n          }\n        } else if (i === end - stride) {\n          //Last vertex.\n          if (closed) {\n            //Same as the first vertex.\n            p2 = startCoords;\n            break;\n          } else {\n            p0 = p0 || [0, 0];\n\n            numVertices = this.addVertices_(p0, p1, [0, 0],\n              lastSign * Instruction$1.END_LINE * (lineCap || 1), numVertices);\n\n            numVertices = this.addVertices_(p0, p1, [0, 0],\n              -lastSign * Instruction$1.END_LINE * (lineCap || 1), numVertices);\n\n            this.indices[numIndices++] = n;\n            this.indices[numIndices++] = lastIndex - 1;\n            this.indices[numIndices++] = lastIndex;\n\n            this.indices[numIndices++] = lastIndex;\n            this.indices[numIndices++] = n + 1;\n            this.indices[numIndices++] = n;\n\n            if (lineCap) {\n              numVertices = this.addVertices_(p0, p1, [0, 0],\n                lastSign * Instruction$1.END_LINE_CAP * lineCap, numVertices);\n\n              numVertices = this.addVertices_(p0, p1, [0, 0],\n                -lastSign * Instruction$1.END_LINE_CAP * lineCap, numVertices);\n\n              this.indices[numIndices++] = n + 2;\n              this.indices[numIndices++] = n;\n              this.indices[numIndices++] = n + 1;\n\n              this.indices[numIndices++] = n + 1;\n              this.indices[numIndices++] = n + 3;\n              this.indices[numIndices++] = n + 2;\n\n            }\n\n            break;\n          }\n        } else {\n          p2 = [flatCoordinates[i + stride], flatCoordinates[i + stride + 1]];\n        }\n\n        // We group CW and straight lines, thus the not so inituitive CCW checking function.\n        sign = triangleIsCounterClockwise(p0[0], p0[1], p1[0], p1[1], p2[0], p2[1])\n          ? -1 : 1;\n\n        numVertices = this.addVertices_(p0, p1, p2,\n          sign * Instruction$1.BEVEL_FIRST * (lineJoin || 1), numVertices);\n\n        numVertices = this.addVertices_(p0, p1, p2,\n          sign * Instruction$1.BEVEL_SECOND * (lineJoin || 1), numVertices);\n\n        numVertices = this.addVertices_(p0, p1, p2,\n          -sign * Instruction$1.MITER_BOTTOM * (lineJoin || 1), numVertices);\n\n        if (i > offset) {\n          this.indices[numIndices++] = n;\n          this.indices[numIndices++] = lastIndex - 1;\n          this.indices[numIndices++] = lastIndex;\n\n          this.indices[numIndices++] = n + 2;\n          this.indices[numIndices++] = n;\n          this.indices[numIndices++] = lastSign * sign > 0 ? lastIndex : lastIndex - 1;\n        }\n\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = n + 2;\n        this.indices[numIndices++] = n + 1;\n\n        lastIndex = n + 2;\n        lastSign = sign;\n\n        //Add miter\n        if (lineJoin) {\n          numVertices = this.addVertices_(p0, p1, p2,\n            sign * Instruction$1.MITER_TOP * lineJoin, numVertices);\n\n          this.indices[numIndices++] = n + 1;\n          this.indices[numIndices++] = n + 3;\n          this.indices[numIndices++] = n;\n        }\n      }\n\n      if (closed) {\n        n = n || numVertices / 7;\n        sign = linearRingIsClockwise([p0[0], p0[1], p1[0], p1[1], p2[0], p2[1]], 0, 6, 2)\n          ? 1 : -1;\n\n        numVertices = this.addVertices_(p0, p1, p2,\n          sign * Instruction$1.BEVEL_FIRST * (lineJoin || 1), numVertices);\n\n        numVertices = this.addVertices_(p0, p1, p2,\n          -sign * Instruction$1.MITER_BOTTOM * (lineJoin || 1), numVertices);\n\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = lastIndex - 1;\n        this.indices[numIndices++] = lastIndex;\n\n        this.indices[numIndices++] = n + 1;\n        this.indices[numIndices++] = n;\n        this.indices[numIndices++] = lastSign * sign > 0 ? lastIndex : lastIndex - 1;\n      }\n    };\n\n    /**\n     * @param {Array<number>} p0 Last coordinates.\n     * @param {Array<number>} p1 Current coordinates.\n     * @param {Array<number>} p2 Next coordinates.\n     * @param {number} product Sign, instruction, and rounding product.\n     * @param {number} numVertices Vertex counter.\n     * @return {number} Vertex counter.\n     * @private\n     */\n    WebGLLineStringReplay.prototype.addVertices_ = function addVertices_ (p0, p1, p2, product, numVertices) {\n      this.vertices[numVertices++] = p0[0];\n      this.vertices[numVertices++] = p0[1];\n      this.vertices[numVertices++] = p1[0];\n      this.vertices[numVertices++] = p1[1];\n      this.vertices[numVertices++] = p2[0];\n      this.vertices[numVertices++] = p2[1];\n      this.vertices[numVertices++] = product;\n\n      return numVertices;\n    };\n\n    /**\n     * Check if the linestring can be drawn (i. e. valid).\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @return {boolean} The linestring can be drawn.\n     * @private\n     */\n    WebGLLineStringReplay.prototype.isValid_ = function isValid_ (flatCoordinates, offset, end, stride) {\n      var range = end - offset;\n      if (range < stride * 2) {\n        return false;\n      } else if (range === stride * 2) {\n        var firstP = [flatCoordinates[offset], flatCoordinates[offset + 1]];\n        var lastP = [flatCoordinates[offset + stride], flatCoordinates[offset + stride + 1]];\n        return !equals(firstP, lastP);\n      }\n\n      return true;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.drawLineString = function drawLineString (lineStringGeometry, feature) {\n      var flatCoordinates = lineStringGeometry.getFlatCoordinates();\n      var stride = lineStringGeometry.getStride();\n      if (this.isValid_(flatCoordinates, 0, flatCoordinates.length, stride)) {\n        flatCoordinates = translate(flatCoordinates, 0, flatCoordinates.length,\n          stride, -this.origin[0], -this.origin[1]);\n        if (this.state_.changed) {\n          this.styleIndices_.push(this.indices.length);\n          this.state_.changed = false;\n        }\n        this.startIndices.push(this.indices.length);\n        this.startIndicesFeature.push(feature);\n        this.drawCoordinates_(\n          flatCoordinates, 0, flatCoordinates.length, stride);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.drawMultiLineString = function drawMultiLineString (multiLineStringGeometry, feature) {\n      var indexCount = this.indices.length;\n      var ends = multiLineStringGeometry.getEnds();\n      ends.unshift(0);\n      var flatCoordinates = multiLineStringGeometry.getFlatCoordinates();\n      var stride = multiLineStringGeometry.getStride();\n      var i, ii;\n      if (ends.length > 1) {\n        for (i = 1, ii = ends.length; i < ii; ++i) {\n          if (this.isValid_(flatCoordinates, ends[i - 1], ends[i], stride)) {\n            var lineString = translate(flatCoordinates, ends[i - 1], ends[i],\n              stride, -this.origin[0], -this.origin[1]);\n            this.drawCoordinates_(\n              lineString, 0, lineString.length, stride);\n          }\n        }\n      }\n      if (this.indices.length > indexCount) {\n        this.startIndices.push(indexCount);\n        this.startIndicesFeature.push(feature);\n        if (this.state_.changed) {\n          this.styleIndices_.push(indexCount);\n          this.state_.changed = false;\n        }\n      }\n    };\n\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {Array<Array<number>>} holeFlatCoordinates Hole flat coordinates.\n     * @param {number} stride Stride.\n     */\n    WebGLLineStringReplay.prototype.drawPolygonCoordinates = function drawPolygonCoordinates (flatCoordinates, holeFlatCoordinates, stride) {\n      if (!lineStringIsClosed(flatCoordinates, 0, flatCoordinates.length, stride)) {\n        flatCoordinates.push(flatCoordinates[0]);\n        flatCoordinates.push(flatCoordinates[1]);\n      }\n      this.drawCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n      if (holeFlatCoordinates.length) {\n        var i, ii;\n        for (i = 0, ii = holeFlatCoordinates.length; i < ii; ++i) {\n          if (!lineStringIsClosed(holeFlatCoordinates[i], 0, holeFlatCoordinates[i].length, stride)) {\n            holeFlatCoordinates[i].push(holeFlatCoordinates[i][0]);\n            holeFlatCoordinates[i].push(holeFlatCoordinates[i][1]);\n          }\n          this.drawCoordinates_(holeFlatCoordinates[i], 0,\n            holeFlatCoordinates[i].length, stride);\n        }\n      }\n    };\n\n    /**\n     * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n     * @param {number=} opt_index Index count.\n     */\n    WebGLLineStringReplay.prototype.setPolygonStyle = function setPolygonStyle (feature, opt_index) {\n      var index = opt_index === undefined ? this.indices.length : opt_index;\n      this.startIndices.push(index);\n      this.startIndicesFeature.push(feature);\n      if (this.state_.changed) {\n        this.styleIndices_.push(index);\n        this.state_.changed = false;\n      }\n    };\n\n    /**\n     * @return {number} Current index.\n     */\n    WebGLLineStringReplay.prototype.getCurrentIndex = function getCurrentIndex () {\n      return this.indices.length;\n    };\n\n    /**\n     * @inheritDoc\n     **/\n    WebGLLineStringReplay.prototype.finish = function finish (context) {\n      // create, bind, and populate the vertices buffer\n      this.verticesBuffer = new WebGLBuffer(this.vertices);\n\n      // create, bind, and populate the indices buffer\n      this.indicesBuffer = new WebGLBuffer(this.indices);\n\n      this.startIndices.push(this.indices.length);\n\n      //Clean up, if there is nothing to draw\n      if (this.styleIndices_.length === 0 && this.styles_.length > 0) {\n        this.styles_ = [];\n      }\n\n      this.vertices = null;\n      this.indices = null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      var verticesBuffer = this.verticesBuffer;\n      var indicesBuffer = this.indicesBuffer;\n      return function() {\n        context.deleteBuffer(verticesBuffer);\n        context.deleteBuffer(indicesBuffer);\n      };\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.setUpProgram = function setUpProgram (gl, context, size, pixelRatio) {\n      // get the program\n      var program = context.getProgram(fragment$2, vertex$2);\n\n      // get the locations\n      var locations;\n      if (!this.defaultLocations_) {\n        locations = new Locations$2(gl, program);\n        this.defaultLocations_ = locations;\n      } else {\n        locations = this.defaultLocations_;\n      }\n\n      context.useProgram(program);\n\n      // enable the vertex attrib arrays\n      gl.enableVertexAttribArray(locations.a_lastPos);\n      gl.vertexAttribPointer(locations.a_lastPos, 2, FLOAT,\n        false, 28, 0);\n\n      gl.enableVertexAttribArray(locations.a_position);\n      gl.vertexAttribPointer(locations.a_position, 2, FLOAT,\n        false, 28, 8);\n\n      gl.enableVertexAttribArray(locations.a_nextPos);\n      gl.vertexAttribPointer(locations.a_nextPos, 2, FLOAT,\n        false, 28, 16);\n\n      gl.enableVertexAttribArray(locations.a_direction);\n      gl.vertexAttribPointer(locations.a_direction, 1, FLOAT,\n        false, 28, 24);\n\n      // Enable renderer specific uniforms.\n      gl.uniform2fv(locations.u_size, size);\n      gl.uniform1f(locations.u_pixelRatio, pixelRatio);\n\n      return locations;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.shutDownProgram = function shutDownProgram (gl, locations) {\n      gl.disableVertexAttribArray(locations.a_lastPos);\n      gl.disableVertexAttribArray(locations.a_position);\n      gl.disableVertexAttribArray(locations.a_nextPos);\n      gl.disableVertexAttribArray(locations.a_direction);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.drawReplay = function drawReplay (gl, context, skippedFeaturesHash, hitDetection) {\n      //Save GL parameters.\n      var tmpDepthFunc = /** @type {number} */ (gl.getParameter(gl.DEPTH_FUNC));\n      var tmpDepthMask = /** @type {boolean} */ (gl.getParameter(gl.DEPTH_WRITEMASK));\n\n      if (!hitDetection) {\n        gl.enable(gl.DEPTH_TEST);\n        gl.depthMask(true);\n        gl.depthFunc(gl.NOTEQUAL);\n      }\n\n      if (!isEmpty(skippedFeaturesHash)) {\n        this.drawReplaySkipping_(gl, context, skippedFeaturesHash);\n      } else {\n        //Draw by style groups to minimize drawElements() calls.\n        var i, start, end, nextStyle;\n        end = this.startIndices[this.startIndices.length - 1];\n        for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n          start = this.styleIndices_[i];\n          nextStyle = this.styles_[i];\n          this.setStrokeStyle_(gl, nextStyle[0], nextStyle[1], nextStyle[2]);\n          this.drawElements(gl, context, start, end);\n          gl.clear(gl.DEPTH_BUFFER_BIT);\n          end = start;\n        }\n      }\n      if (!hitDetection) {\n        gl.disable(gl.DEPTH_TEST);\n        gl.clear(gl.DEPTH_BUFFER_BIT);\n        //Restore GL parameters.\n        gl.depthMask(tmpDepthMask);\n        gl.depthFunc(tmpDepthFunc);\n      }\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object} skippedFeaturesHash Ids of features to skip.\n     */\n    WebGLLineStringReplay.prototype.drawReplaySkipping_ = function drawReplaySkipping_ (gl, context, skippedFeaturesHash) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex, featureStart;\n      featureIndex = this.startIndices.length - 2;\n      end = start = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setStrokeStyle_(gl, nextStyle[0], nextStyle[1], nextStyle[2]);\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          featureStart = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)]) {\n            if (start !== end) {\n              this.drawElements(gl, context, start, end);\n              gl.clear(gl.DEPTH_BUFFER_BIT);\n            }\n            end = featureStart;\n          }\n          featureIndex--;\n          start = featureStart;\n        }\n        if (start !== end) {\n          this.drawElements(gl, context, start, end);\n          gl.clear(gl.DEPTH_BUFFER_BIT);\n        }\n        start = end = groupStart;\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.drawHitDetectionReplayOneByOne = function drawHitDetectionReplayOneByOne (gl, context, skippedFeaturesHash, featureCallback, opt_hitExtent) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex;\n      featureIndex = this.startIndices.length - 2;\n      end = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setStrokeStyle_(gl, nextStyle[0], nextStyle[1], nextStyle[2]);\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          start = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)] === undefined &&\n              feature.getGeometry() &&\n              (opt_hitExtent === undefined || intersects(\n                /** @type {Array<number>} */ (opt_hitExtent),\n                feature.getGeometry().getExtent()))) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n            this.drawElements(gl, context, start, end);\n\n            var result = featureCallback(feature);\n\n            if (result) {\n              return result;\n            }\n\n          }\n          featureIndex--;\n          end = start;\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {Array<number>} color Color.\n     * @param {number} lineWidth Line width.\n     * @param {number} miterLimit Miter limit.\n     */\n    WebGLLineStringReplay.prototype.setStrokeStyle_ = function setStrokeStyle_ (gl, color, lineWidth, miterLimit) {\n      gl.uniform4fv(this.defaultLocations_.u_color, color);\n      gl.uniform1f(this.defaultLocations_.u_lineWidth, lineWidth);\n      gl.uniform1f(this.defaultLocations_.u_miterLimit, miterLimit);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLLineStringReplay.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      var strokeStyleLineCap = strokeStyle.getLineCap();\n      this.state_.lineCap = strokeStyleLineCap !== undefined ?\n        strokeStyleLineCap : DEFAULT_LINECAP;\n      var strokeStyleLineDash = strokeStyle.getLineDash();\n      this.state_.lineDash = strokeStyleLineDash ?\n        strokeStyleLineDash : DEFAULT_LINEDASH;\n      var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n      this.state_.lineDashOffset = strokeStyleLineDashOffset ?\n        strokeStyleLineDashOffset : DEFAULT_LINEDASHOFFSET;\n      var strokeStyleLineJoin = strokeStyle.getLineJoin();\n      this.state_.lineJoin = strokeStyleLineJoin !== undefined ?\n        strokeStyleLineJoin : DEFAULT_LINEJOIN;\n      var strokeStyleColor = strokeStyle.getColor();\n      if (!(strokeStyleColor instanceof CanvasGradient) &&\n          !(strokeStyleColor instanceof CanvasPattern)) {\n        strokeStyleColor = asArray(strokeStyleColor).map(function(c, i) {\n          return i != 3 ? c / 255 : c;\n        }) || DEFAULT_STROKESTYLE;\n      } else {\n        strokeStyleColor = DEFAULT_STROKESTYLE;\n      }\n      var strokeStyleWidth = strokeStyle.getWidth();\n      strokeStyleWidth = strokeStyleWidth !== undefined ?\n        strokeStyleWidth : DEFAULT_LINEWIDTH;\n      var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n      strokeStyleMiterLimit = strokeStyleMiterLimit !== undefined ?\n        strokeStyleMiterLimit : DEFAULT_MITERLIMIT;\n      if (!this.state_.strokeColor || !equals(this.state_.strokeColor, strokeStyleColor) ||\n          this.state_.lineWidth !== strokeStyleWidth || this.state_.miterLimit !== strokeStyleMiterLimit) {\n        this.state_.changed = true;\n        this.state_.strokeColor = strokeStyleColor;\n        this.state_.lineWidth = strokeStyleWidth;\n        this.state_.miterLimit = strokeStyleMiterLimit;\n        this.styles_.push([strokeStyleColor, strokeStyleWidth, strokeStyleMiterLimit]);\n      }\n    };\n\n    return WebGLLineStringReplay;\n  }(WebGLReplay));\n\n  /**\n   * @module ol/render/webgl/polygonreplay/defaultshader\n   */\n\n  var fragment$3 = new WebGLFragment('precision mediump float;\\n\\n\\n\\nuniform vec4 u_color;\\nuniform float u_opacity;\\n\\nvoid main(void) {\\n  gl_FragColor = u_color;\\n  float alpha = u_color.a * u_opacity;\\n  if (alpha == 0.0) {\\n    discard;\\n  }\\n  gl_FragColor.a = alpha;\\n}\\n');\n\n  var vertex$3 = new WebGLVertex('\\n\\nattribute vec2 a_position;\\n\\nuniform mat4 u_projectionMatrix;\\nuniform mat4 u_offsetScaleMatrix;\\nuniform mat4 u_offsetRotateMatrix;\\n\\nvoid main(void) {\\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/render/webgl/polygonreplay/defaultshader/Locations\n   */\n\n  var Locations$3 = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_projectionMatrix = gl.getUniformLocation(\n      program, 'u_projectionMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetScaleMatrix = gl.getUniformLocation(\n      program, 'u_offsetScaleMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_offsetRotateMatrix = gl.getUniformLocation(\n      program, 'u_offsetRotateMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_color = gl.getUniformLocation(\n      program, 'u_color');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_opacity = gl.getUniformLocation(\n      program, 'u_opacity');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n  };\n\n  /**\n   * @module ol/structs/LinkedList\n   */\n\n\n  /**\n   * @typedef {Object} Item\n   * @property {Item} [prev]\n   * @property {Item} [next]\n   * @property {?} data\n   */\n\n  /**\n   * @classdesc\n   * Creates an empty linked list structure.\n   */\n  var LinkedList = function LinkedList(opt_circular) {\n\n    /**\n     * @private\n     * @type {Item|undefined}\n     */\n    this.first_;\n\n    /**\n     * @private\n     * @type {Item|undefined}\n     */\n    this.last_;\n\n    /**\n     * @private\n     * @type {Item|undefined}\n     */\n    this.head_;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.circular_ = opt_circular === undefined ? true : opt_circular;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.length_ = 0;\n\n  };\n\n  /**\n   * Inserts an item into the linked list right after the current one.\n   *\n   * @param {?} data Item data.\n   */\n  LinkedList.prototype.insertItem = function insertItem (data) {\n\n    /** @type {Item} */\n    var item = {\n      prev: undefined,\n      next: undefined,\n      data: data\n    };\n\n    var head = this.head_;\n\n    //Initialize the list.\n    if (!head) {\n      this.first_ = item;\n      this.last_ = item;\n      if (this.circular_) {\n        item.next = item;\n        item.prev = item;\n      }\n    } else {\n      //Link the new item to the adjacent ones.\n      var next = head.next;\n      item.prev = head;\n      item.next = next;\n      head.next = item;\n      if (next) {\n        next.prev = item;\n      }\n\n      if (head === this.last_) {\n        this.last_ = item;\n      }\n    }\n    this.head_ = item;\n    this.length_++;\n  };\n\n  /**\n   * Removes the current item from the list. Sets the cursor to the next item,\n   * if possible.\n   */\n  LinkedList.prototype.removeItem = function removeItem () {\n    var head = this.head_;\n    if (head) {\n      var next = head.next;\n      var prev = head.prev;\n      if (next) {\n        next.prev = prev;\n      }\n      if (prev) {\n        prev.next = next;\n      }\n      this.head_ = next || prev;\n\n      if (this.first_ === this.last_) {\n        this.head_ = undefined;\n        this.first_ = undefined;\n        this.last_ = undefined;\n      } else if (this.first_ === head) {\n        this.first_ = this.head_;\n      } else if (this.last_ === head) {\n        this.last_ = prev ? this.head_.prev : this.head_;\n      }\n      this.length_--;\n    }\n  };\n\n  /**\n   * Sets the cursor to the first item, and returns the associated data.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.firstItem = function firstItem () {\n    this.head_ = this.first_;\n    if (this.head_) {\n      return this.head_.data;\n    }\n    return undefined;\n  };\n\n  /**\n  * Sets the cursor to the last item, and returns the associated data.\n  *\n  * @return {?} Item data.\n  */\n  LinkedList.prototype.lastItem = function lastItem () {\n    this.head_ = this.last_;\n    if (this.head_) {\n      return this.head_.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Sets the cursor to the next item, and returns the associated data.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.nextItem = function nextItem () {\n    if (this.head_ && this.head_.next) {\n      this.head_ = this.head_.next;\n      return this.head_.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Returns the next item's data without moving the cursor.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.getNextItem = function getNextItem () {\n    if (this.head_ && this.head_.next) {\n      return this.head_.next.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Sets the cursor to the previous item, and returns the associated data.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.prevItem = function prevItem () {\n    if (this.head_ && this.head_.prev) {\n      this.head_ = this.head_.prev;\n      return this.head_.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Returns the previous item's data without moving the cursor.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.getPrevItem = function getPrevItem () {\n    if (this.head_ && this.head_.prev) {\n      return this.head_.prev.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Returns the current item's data.\n   *\n   * @return {?} Item data.\n   */\n  LinkedList.prototype.getCurrItem = function getCurrItem () {\n    if (this.head_) {\n      return this.head_.data;\n    }\n    return undefined;\n  };\n\n  /**\n   * Sets the first item of the list. This only works for circular lists, and sets\n   * the last item accordingly.\n   */\n  LinkedList.prototype.setFirstItem = function setFirstItem () {\n    if (this.circular_ && this.head_) {\n      this.first_ = this.head_;\n      this.last_ = this.head_.prev;\n    }\n  };\n\n  /**\n   * Concatenates two lists.\n   * @param {LinkedList} list List to merge into the current list.\n   */\n  LinkedList.prototype.concat = function concat (list) {\n    if (list.head_) {\n      if (this.head_) {\n        var end = this.head_.next;\n        this.head_.next = list.first_;\n        list.first_.prev = this.head_;\n        end.prev = list.last_;\n        list.last_.next = end;\n        this.length_ += list.length_;\n      } else {\n        this.head_ = list.head_;\n        this.first_ = list.first_;\n        this.last_ = list.last_;\n        this.length_ = list.length_;\n      }\n      list.head_ = undefined;\n      list.first_ = undefined;\n      list.last_ = undefined;\n      list.length_ = 0;\n    }\n  };\n\n  /**\n   * Returns the current length of the list.\n   *\n   * @return {number} Length.\n   */\n  LinkedList.prototype.getLength = function getLength () {\n    return this.length_;\n  };\n\n  /**\n   * @module ol/render/webgl/PolygonReplay\n   */\n\n\n  /**\n   * @typedef {Object} PolygonVertex\n   * @property {number} x\n   * @property {number} y\n   * @property {number} i\n   * @property {boolean} [reflex]\n   */\n\n  /**\n   * @typedef {Object} PolygonSegment\n   * @property {PolygonVertex} p0\n   * @property {PolygonVertex} p1\n   */\n\n\n  var WebGLPolygonReplay = /*@__PURE__*/(function (WebGLReplay$$1) {\n    function WebGLPolygonReplay(tolerance, maxExtent) {\n      WebGLReplay$$1.call(this, tolerance, maxExtent);\n\n      this.lineStringReplay = new WebGLLineStringReplay(\n        tolerance, maxExtent);\n\n      /**\n       * @private\n       * @type {import(\"./polygonreplay/defaultshader/Locations.js\").default}\n       */\n      this.defaultLocations_ = null;\n\n      /**\n       * @private\n       * @type {Array<Array<number>>}\n       */\n      this.styles_ = [];\n\n      /**\n       * @private\n       * @type {Array<number>}\n       */\n      this.styleIndices_ = [];\n\n      /**\n       * @private\n       * @type {{fillColor: (Array<number>|null),\n       *         changed: boolean}|null}\n       */\n      this.state_ = {\n        fillColor: null,\n        changed: false\n      };\n\n    }\n\n    if ( WebGLReplay$$1 ) WebGLPolygonReplay.__proto__ = WebGLReplay$$1;\n    WebGLPolygonReplay.prototype = Object.create( WebGLReplay$$1 && WebGLReplay$$1.prototype );\n    WebGLPolygonReplay.prototype.constructor = WebGLPolygonReplay;\n\n    /**\n     * Draw one polygon.\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {Array<Array<number>>} holeFlatCoordinates Hole flat coordinates.\n     * @param {number} stride Stride.\n     * @private\n     */\n    WebGLPolygonReplay.prototype.drawCoordinates_ = function drawCoordinates_ (flatCoordinates, holeFlatCoordinates, stride) {\n      // Triangulate the polygon\n      var outerRing = new LinkedList();\n      var rtree = new RBush();\n      // Initialize the outer ring\n      this.processFlatCoordinates_(flatCoordinates, stride, outerRing, rtree, true);\n      var maxCoords = this.getMaxCoords_(outerRing);\n\n      // Eliminate holes, if there are any\n      if (holeFlatCoordinates.length) {\n        var i, ii;\n        var holeLists = [];\n        for (i = 0, ii = holeFlatCoordinates.length; i < ii; ++i) {\n          var holeList = {\n            list: new LinkedList(),\n            maxCoords: undefined,\n            rtree: new RBush()\n          };\n          holeLists.push(holeList);\n          this.processFlatCoordinates_(holeFlatCoordinates[i],\n            stride, holeList.list, holeList.rtree, false);\n          this.classifyPoints_(holeList.list, holeList.rtree, true);\n          holeList.maxCoords = this.getMaxCoords_(holeList.list);\n        }\n        holeLists.sort(function(a, b) {\n          return b.maxCoords[0] === a.maxCoords[0] ?\n            a.maxCoords[1] - b.maxCoords[1] : b.maxCoords[0] - a.maxCoords[0];\n        });\n        for (i = 0; i < holeLists.length; ++i) {\n          var currList = holeLists[i].list;\n          var start = currList.firstItem();\n          var currItem = start;\n          var intersection = (void 0);\n          do {\n            //TODO: Triangulate holes when they intersect the outer ring.\n            if (this.getIntersections_(currItem, rtree).length) {\n              intersection = true;\n              break;\n            }\n            currItem = currList.nextItem();\n          } while (start !== currItem);\n          if (!intersection) {\n            if (this.bridgeHole_(currList, holeLists[i].maxCoords[0], outerRing, maxCoords[0], rtree)) {\n              rtree.concat(holeLists[i].rtree);\n              this.classifyPoints_(outerRing, rtree, false);\n            }\n          }\n        }\n      } else {\n        this.classifyPoints_(outerRing, rtree, false);\n      }\n      this.triangulate_(outerRing, rtree);\n    };\n\n    /**\n     * Inserts flat coordinates in a linked list and adds them to the vertex buffer.\n     * @private\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} stride Stride.\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean} clockwise Coordinate order should be clockwise.\n     */\n    WebGLPolygonReplay.prototype.processFlatCoordinates_ = function processFlatCoordinates_ (flatCoordinates, stride, list, rtree, clockwise) {\n      var isClockwise = linearRingIsClockwise(flatCoordinates,\n        0, flatCoordinates.length, stride);\n      var i, ii;\n      var n = this.vertices.length / 2;\n      /** @type {PolygonVertex} */\n      var start;\n      /** @type {PolygonVertex} */\n      var p0;\n      /** @type {PolygonVertex} */\n      var p1;\n      var extents = [];\n      var segments = [];\n      if (clockwise === isClockwise) {\n        start = this.createPoint_(flatCoordinates[0], flatCoordinates[1], n++);\n        p0 = start;\n        for (i = stride, ii = flatCoordinates.length; i < ii; i += stride) {\n          p1 = this.createPoint_(flatCoordinates[i], flatCoordinates[i + 1], n++);\n          segments.push(this.insertItem_(p0, p1, list));\n          extents.push([Math.min(p0.x, p1.x), Math.min(p0.y, p1.y), Math.max(p0.x, p1.x),\n            Math.max(p0.y, p1.y)]);\n          p0 = p1;\n        }\n        segments.push(this.insertItem_(p1, start, list));\n        extents.push([Math.min(p0.x, p1.x), Math.min(p0.y, p1.y), Math.max(p0.x, p1.x),\n          Math.max(p0.y, p1.y)]);\n      } else {\n        var end = flatCoordinates.length - stride;\n        start = this.createPoint_(flatCoordinates[end], flatCoordinates[end + 1], n++);\n        p0 = start;\n        for (i = end - stride, ii = 0; i >= ii; i -= stride) {\n          p1 = this.createPoint_(flatCoordinates[i], flatCoordinates[i + 1], n++);\n          segments.push(this.insertItem_(p0, p1, list));\n          extents.push([Math.min(p0.x, p1.x), Math.min(p0.y, p1.y), Math.max(p0.x, p1.x),\n            Math.max(p0.y, p1.y)]);\n          p0 = p1;\n        }\n        segments.push(this.insertItem_(p1, start, list));\n        extents.push([Math.min(p0.x, p1.x), Math.min(p0.y, p1.y), Math.max(p0.x, p1.x),\n          Math.max(p0.y, p1.y)]);\n      }\n      rtree.load(extents, segments);\n    };\n\n    /**\n     * Returns the rightmost coordinates of a polygon on the X axis.\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Polygons ring.\n     * @return {Array<number>} Max X coordinates.\n     */\n    WebGLPolygonReplay.prototype.getMaxCoords_ = function getMaxCoords_ (list) {\n      var start = list.firstItem();\n      var seg = start;\n      var maxCoords = [seg.p0.x, seg.p0.y];\n\n      do {\n        seg = list.nextItem();\n        if (seg.p0.x > maxCoords[0]) {\n          maxCoords = [seg.p0.x, seg.p0.y];\n        }\n      } while (seg !== start);\n\n      return maxCoords;\n    };\n\n    /**\n     * Classifies the points of a polygon list as convex, reflex. Removes collinear vertices.\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Polygon ring.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean} ccw The orientation of the polygon is counter-clockwise.\n     * @return {boolean} There were reclassified points.\n     */\n    WebGLPolygonReplay.prototype.classifyPoints_ = function classifyPoints_ (list, rtree, ccw) {\n      var start = list.firstItem();\n      var s0 = start;\n      var s1 = list.nextItem();\n      var pointsReclassified = false;\n      do {\n        var reflex = ccw ? triangleIsCounterClockwise(s1.p1.x,\n          s1.p1.y, s0.p1.x, s0.p1.y, s0.p0.x, s0.p0.y) :\n          triangleIsCounterClockwise(s0.p0.x, s0.p0.y, s0.p1.x,\n            s0.p1.y, s1.p1.x, s1.p1.y);\n        if (reflex === undefined) {\n          this.removeItem_(s0, s1, list, rtree);\n          pointsReclassified = true;\n          if (s1 === start) {\n            start = list.getNextItem();\n          }\n          s1 = s0;\n          list.prevItem();\n        } else if (s0.p1.reflex !== reflex) {\n          s0.p1.reflex = reflex;\n          pointsReclassified = true;\n        }\n        s0 = s1;\n        s1 = list.nextItem();\n      } while (s0 !== start);\n      return pointsReclassified;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} hole Linked list of the hole.\n     * @param {number} holeMaxX Maximum X value of the hole.\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {number} listMaxX Maximum X value of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @return {boolean} Bridging was successful.\n     */\n    WebGLPolygonReplay.prototype.bridgeHole_ = function bridgeHole_ (hole, holeMaxX, list, listMaxX, rtree) {\n      var seg = hole.firstItem();\n      while (seg.p1.x !== holeMaxX) {\n        seg = hole.nextItem();\n      }\n\n      var p1 = seg.p1;\n      /** @type {PolygonVertex} */\n      var p2 = {x: listMaxX, y: p1.y, i: -1};\n      var minDist = Infinity;\n      var i, ii, bestPoint;\n      /** @type {PolygonVertex} */\n      var p5;\n\n      var intersectingSegments = this.getIntersections_({p0: p1, p1: p2}, rtree, true);\n      for (i = 0, ii = intersectingSegments.length; i < ii; ++i) {\n        var currSeg = intersectingSegments[i];\n        var intersection = this.calculateIntersection_(p1, p2, currSeg.p0,\n          currSeg.p1, true);\n        var dist = Math.abs(p1.x - intersection[0]);\n        if (dist < minDist && triangleIsCounterClockwise(p1.x, p1.y,\n          currSeg.p0.x, currSeg.p0.y, currSeg.p1.x, currSeg.p1.y) !== undefined) {\n          minDist = dist;\n          p5 = {x: intersection[0], y: intersection[1], i: -1};\n          seg = currSeg;\n        }\n      }\n      if (minDist === Infinity) {\n        return false;\n      }\n      bestPoint = seg.p1;\n\n      if (minDist > 0) {\n        var pointsInTriangle = this.getPointsInTriangle_(p1, p5, seg.p1, rtree);\n        if (pointsInTriangle.length) {\n          var theta = Infinity;\n          for (i = 0, ii = pointsInTriangle.length; i < ii; ++i) {\n            var currPoint = pointsInTriangle[i];\n            var currTheta = Math.atan2(p1.y - currPoint.y, p2.x - currPoint.x);\n            if (currTheta < theta || (currTheta === theta && currPoint.x < bestPoint.x)) {\n              theta = currTheta;\n              bestPoint = currPoint;\n            }\n          }\n        }\n      }\n\n      seg = list.firstItem();\n      while (seg.p1.x !== bestPoint.x || seg.p1.y !== bestPoint.y) {\n        seg = list.nextItem();\n      }\n\n      //We clone the bridge points as they can have different convexity.\n      var p0Bridge = {x: p1.x, y: p1.y, i: p1.i, reflex: undefined};\n      var p1Bridge = {x: seg.p1.x, y: seg.p1.y, i: seg.p1.i, reflex: undefined};\n\n      hole.getNextItem().p0 = p0Bridge;\n      this.insertItem_(p1, seg.p1, hole, rtree);\n      this.insertItem_(p1Bridge, p0Bridge, hole, rtree);\n      seg.p1 = p1Bridge;\n      hole.setFirstItem();\n      list.concat(hole);\n\n      return true;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     */\n    WebGLPolygonReplay.prototype.triangulate_ = function triangulate_ (list, rtree) {\n      var ccw = false;\n      var simple = this.isSimple_(list, rtree);\n\n      // Start clipping ears\n      while (list.getLength() > 3) {\n        if (simple) {\n          if (!this.clipEars_(list, rtree, simple, ccw)) {\n            if (!this.classifyPoints_(list, rtree, ccw)) {\n              // Due to the behavior of OL's PIP algorithm, the ear clipping cannot\n              // introduce touching segments. However, the original data may have some.\n              if (!this.resolveSelfIntersections_(list, rtree, true)) {\n                break;\n              }\n            }\n          }\n        } else {\n          if (!this.clipEars_(list, rtree, simple, ccw)) {\n            // We ran out of ears, try to reclassify.\n            if (!this.classifyPoints_(list, rtree, ccw)) {\n              // We have a bad polygon, try to resolve local self-intersections.\n              if (!this.resolveSelfIntersections_(list, rtree)) {\n                simple = this.isSimple_(list, rtree);\n                if (!simple) {\n                  // We have a really bad polygon, try more time consuming methods.\n                  this.splitPolygon_(list, rtree);\n                  break;\n                } else {\n                  ccw = !this.isClockwise_(list);\n                  this.classifyPoints_(list, rtree, ccw);\n                }\n              }\n            }\n          }\n        }\n      }\n      if (list.getLength() === 3) {\n        var numIndices = this.indices.length;\n        this.indices[numIndices++] = list.getPrevItem().p0.i;\n        this.indices[numIndices++] = list.getCurrItem().p0.i;\n        this.indices[numIndices++] = list.getNextItem().p0.i;\n      }\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean} simple The polygon is simple.\n     * @param {boolean} ccw Orientation of the polygon is counter-clockwise.\n     * @return {boolean} There were processed ears.\n     */\n    WebGLPolygonReplay.prototype.clipEars_ = function clipEars_ (list, rtree, simple, ccw) {\n      var numIndices = this.indices.length;\n      var start = list.firstItem();\n      var s0 = list.getPrevItem();\n      var s1 = start;\n      var s2 = list.nextItem();\n      var s3 = list.getNextItem();\n      var p0, p1, p2;\n      var processedEars = false;\n      do {\n        p0 = s1.p0;\n        p1 = s1.p1;\n        p2 = s2.p1;\n        if (p1.reflex === false) {\n          // We might have a valid ear\n          var variableCriterion = (void 0);\n          if (simple) {\n            variableCriterion = this.getPointsInTriangle_(p0, p1, p2, rtree, true).length === 0;\n          } else {\n            variableCriterion = ccw ? this.diagonalIsInside_(s3.p1, p2, p1, p0,\n              s0.p0) : this.diagonalIsInside_(s0.p0, p0, p1, p2, s3.p1);\n          }\n          if ((simple || this.getIntersections_({p0: p0, p1: p2}, rtree).length === 0) &&\n              variableCriterion) {\n            //The diagonal is completely inside the polygon\n            if (simple || p0.reflex === false || p2.reflex === false ||\n                linearRingIsClockwise([s0.p0.x, s0.p0.y, p0.x,\n                  p0.y, p1.x, p1.y, p2.x, p2.y, s3.p1.x, s3.p1.y], 0, 10, 2) === !ccw) {\n              //The diagonal is persumably valid, we have an ear\n              this.indices[numIndices++] = p0.i;\n              this.indices[numIndices++] = p1.i;\n              this.indices[numIndices++] = p2.i;\n              this.removeItem_(s1, s2, list, rtree);\n              if (s2 === start) {\n                start = s3;\n              }\n              processedEars = true;\n            }\n          }\n        }\n        // Else we have a reflex point.\n        s0 = list.getPrevItem();\n        s1 = list.getCurrItem();\n        s2 = list.nextItem();\n        s3 = list.getNextItem();\n      } while (s1 !== start && list.getLength() > 3);\n\n      return processedEars;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean=} opt_touch Resolve touching segments.\n     * @return {boolean} There were resolved intersections.\n    */\n    WebGLPolygonReplay.prototype.resolveSelfIntersections_ = function resolveSelfIntersections_ (list, rtree, opt_touch) {\n      var start = list.firstItem();\n      list.nextItem();\n      var s0 = start;\n      var s1 = list.nextItem();\n      var resolvedIntersections = false;\n\n      do {\n        var intersection = this.calculateIntersection_(s0.p0, s0.p1, s1.p0, s1.p1,\n          opt_touch);\n        if (intersection) {\n          var breakCond = false;\n          var numVertices = this.vertices.length;\n          var numIndices = this.indices.length;\n          var n = numVertices / 2;\n          var seg = list.prevItem();\n          list.removeItem();\n          rtree.remove(seg);\n          breakCond = (seg === start);\n          var p = (void 0);\n          if (opt_touch) {\n            if (intersection[0] === s0.p0.x && intersection[1] === s0.p0.y) {\n              list.prevItem();\n              p = s0.p0;\n              s1.p0 = p;\n              rtree.remove(s0);\n              breakCond = breakCond || (s0 === start);\n            } else {\n              p = s1.p1;\n              s0.p1 = p;\n              rtree.remove(s1);\n              breakCond = breakCond || (s1 === start);\n            }\n            list.removeItem();\n          } else {\n            p = this.createPoint_(intersection[0], intersection[1], n);\n            s0.p1 = p;\n            s1.p0 = p;\n            rtree.update([Math.min(s0.p0.x, s0.p1.x), Math.min(s0.p0.y, s0.p1.y),\n              Math.max(s0.p0.x, s0.p1.x), Math.max(s0.p0.y, s0.p1.y)], s0);\n            rtree.update([Math.min(s1.p0.x, s1.p1.x), Math.min(s1.p0.y, s1.p1.y),\n              Math.max(s1.p0.x, s1.p1.x), Math.max(s1.p0.y, s1.p1.y)], s1);\n          }\n\n          this.indices[numIndices++] = seg.p0.i;\n          this.indices[numIndices++] = seg.p1.i;\n          this.indices[numIndices++] = p.i;\n\n          resolvedIntersections = true;\n          if (breakCond) {\n            break;\n          }\n        }\n\n        s0 = list.getPrevItem();\n        s1 = list.nextItem();\n      } while (s0 !== start);\n      return resolvedIntersections;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @return {boolean} The polygon is simple.\n     */\n    WebGLPolygonReplay.prototype.isSimple_ = function isSimple_ (list, rtree) {\n      var start = list.firstItem();\n      var seg = start;\n      do {\n        if (this.getIntersections_(seg, rtree).length) {\n          return false;\n        }\n        seg = list.nextItem();\n      } while (seg !== start);\n      return true;\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @return {boolean} Orientation is clockwise.\n     */\n    WebGLPolygonReplay.prototype.isClockwise_ = function isClockwise_ (list) {\n      var length = list.getLength() * 2;\n      var flatCoordinates = new Array(length);\n      var start = list.firstItem();\n      var seg = start;\n      var i = 0;\n      do {\n        flatCoordinates[i++] = seg.p0.x;\n        flatCoordinates[i++] = seg.p0.y;\n        seg = list.nextItem();\n      } while (seg !== start);\n      return linearRingIsClockwise(flatCoordinates, 0, length, 2);\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../structs/LinkedList.js\").default} list Linked list of the polygon.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     */\n    WebGLPolygonReplay.prototype.splitPolygon_ = function splitPolygon_ (list, rtree) {\n      var start = list.firstItem();\n      var s0 = start;\n      do {\n        var intersections = this.getIntersections_(s0, rtree);\n        if (intersections.length) {\n          var s1 = intersections[0];\n          var n = this.vertices.length / 2;\n          var intersection = this.calculateIntersection_(s0.p0,\n            s0.p1, s1.p0, s1.p1);\n          var p = this.createPoint_(intersection[0], intersection[1], n);\n          var newPolygon = new LinkedList();\n          var newRtree = new RBush();\n          this.insertItem_(p, s0.p1, newPolygon, newRtree);\n          s0.p1 = p;\n          rtree.update([Math.min(s0.p0.x, p.x), Math.min(s0.p0.y, p.y),\n            Math.max(s0.p0.x, p.x), Math.max(s0.p0.y, p.y)], s0);\n          var currItem = list.nextItem();\n          while (currItem !== s1) {\n            this.insertItem_(currItem.p0, currItem.p1, newPolygon, newRtree);\n            rtree.remove(currItem);\n            list.removeItem();\n            currItem = list.getCurrItem();\n          }\n          this.insertItem_(s1.p0, p, newPolygon, newRtree);\n          s1.p0 = p;\n          rtree.update([Math.min(s1.p1.x, p.x), Math.min(s1.p1.y, p.y),\n            Math.max(s1.p1.x, p.x), Math.max(s1.p1.y, p.y)], s1);\n          this.classifyPoints_(list, rtree, false);\n          this.triangulate_(list, rtree);\n          this.classifyPoints_(newPolygon, newRtree, false);\n          this.triangulate_(newPolygon, newRtree);\n          break;\n        }\n        s0 = list.nextItem();\n      } while (s0 !== start);\n    };\n\n    /**\n     * @private\n     * @param {number} x X coordinate.\n     * @param {number} y Y coordinate.\n     * @param {number} i Index.\n     * @return {PolygonVertex} List item.\n     */\n    WebGLPolygonReplay.prototype.createPoint_ = function createPoint_ (x, y, i) {\n      var numVertices = this.vertices.length;\n      this.vertices[numVertices++] = x;\n      this.vertices[numVertices++] = y;\n      /** @type {PolygonVertex} */\n      var p = {\n        x: x,\n        y: y,\n        i: i,\n        reflex: undefined\n      };\n      return p;\n    };\n\n    /**\n     * @private\n     * @param {PolygonVertex} p0 First point of segment.\n     * @param {PolygonVertex} p1 Second point of segment.\n     * @param {import(\"../../structs/LinkedList.js\").default} list Polygon ring.\n     * @param {import(\"../../structs/RBush.js\").default=} opt_rtree Insert the segment into the R-Tree.\n     * @return {PolygonSegment} segment.\n     */\n    WebGLPolygonReplay.prototype.insertItem_ = function insertItem_ (p0, p1, list, opt_rtree) {\n      var seg = {\n        p0: p0,\n        p1: p1\n      };\n      list.insertItem(seg);\n      if (opt_rtree) {\n        opt_rtree.insert([Math.min(p0.x, p1.x), Math.min(p0.y, p1.y),\n          Math.max(p0.x, p1.x), Math.max(p0.y, p1.y)], seg);\n      }\n      return seg;\n    };\n\n    /**\n      * @private\n      * @param {PolygonSegment} s0 Segment before the remove candidate.\n      * @param {PolygonSegment} s1 Remove candidate segment.\n      * @param {import(\"../../structs/LinkedList.js\").default} list Polygon ring.\n      * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n      */\n    WebGLPolygonReplay.prototype.removeItem_ = function removeItem_ (s0, s1, list, rtree) {\n      if (list.getCurrItem() === s1) {\n        list.removeItem();\n        s0.p1 = s1.p1;\n        rtree.remove(s1);\n        rtree.update([Math.min(s0.p0.x, s0.p1.x), Math.min(s0.p0.y, s0.p1.y),\n          Math.max(s0.p0.x, s0.p1.x), Math.max(s0.p0.y, s0.p1.y)], s0);\n      }\n    };\n\n    /**\n     * @private\n     * @param {PolygonVertex} p0 First point.\n     * @param {PolygonVertex} p1 Second point.\n     * @param {PolygonVertex} p2 Third point.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean=} opt_reflex Only include reflex points.\n     * @return {Array<PolygonVertex>} Points in the triangle.\n     */\n    WebGLPolygonReplay.prototype.getPointsInTriangle_ = function getPointsInTriangle_ (p0, p1, p2, rtree, opt_reflex) {\n      var result = [];\n      var segmentsInExtent = rtree.getInExtent([Math.min(p0.x, p1.x, p2.x),\n        Math.min(p0.y, p1.y, p2.y), Math.max(p0.x, p1.x, p2.x), Math.max(p0.y,\n          p1.y, p2.y)]);\n      for (var i = 0, ii = segmentsInExtent.length; i < ii; ++i) {\n        for (var j in segmentsInExtent[i]) {\n          var p = segmentsInExtent[i][j];\n          if (typeof p === 'object' && (!opt_reflex || p.reflex)) {\n            if ((p.x !== p0.x || p.y !== p0.y) && (p.x !== p1.x || p.y !== p1.y) &&\n                (p.x !== p2.x || p.y !== p2.y) && result.indexOf(p) === -1 &&\n                linearRingContainsXY([p0.x, p0.y, p1.x, p1.y, p2.x, p2.y], 0, 6, 2, p.x, p.y)) {\n              result.push(p);\n            }\n          }\n        }\n      }\n      return result;\n    };\n\n    /**\n     * @private\n     * @param {PolygonSegment} segment Segment.\n     * @param {import(\"../../structs/RBush.js\").default} rtree R-Tree of the polygon.\n     * @param {boolean=} opt_touch Touching segments should be considered an intersection.\n     * @return {Array<PolygonSegment>} Intersecting segments.\n     */\n    WebGLPolygonReplay.prototype.getIntersections_ = function getIntersections_ (segment, rtree, opt_touch) {\n      var p0 = segment.p0;\n      var p1 = segment.p1;\n      var segmentsInExtent = rtree.getInExtent([Math.min(p0.x, p1.x),\n        Math.min(p0.y, p1.y), Math.max(p0.x, p1.x), Math.max(p0.y, p1.y)]);\n      var result = [];\n      for (var i = 0, ii = segmentsInExtent.length; i < ii; ++i) {\n        var currSeg = segmentsInExtent[i];\n        if (segment !== currSeg && (opt_touch || currSeg.p0 !== p1 || currSeg.p1 !== p0) &&\n            this.calculateIntersection_(p0, p1, currSeg.p0, currSeg.p1, opt_touch)) {\n          result.push(currSeg);\n        }\n      }\n      return result;\n    };\n\n    /**\n     * Line intersection algorithm by Paul Bourke.\n     * See http://paulbourke.net/geometry/pointlineplane/.\n     *\n     * @private\n     * @param {PolygonVertex} p0 First point.\n     * @param {PolygonVertex} p1 Second point.\n     * @param {PolygonVertex} p2 Third point.\n     * @param {PolygonVertex} p3 Fourth point.\n     * @param {boolean=} opt_touch Touching segments should be considered an intersection.\n     * @return {Array<number>|undefined} Intersection coordinates.\n     */\n    WebGLPolygonReplay.prototype.calculateIntersection_ = function calculateIntersection_ (p0, p1, p2, p3, opt_touch) {\n      var denom = (p3.y - p2.y) * (p1.x - p0.x) - (p3.x - p2.x) * (p1.y - p0.y);\n      if (denom !== 0) {\n        var ua = ((p3.x - p2.x) * (p0.y - p2.y) - (p3.y - p2.y) * (p0.x - p2.x)) / denom;\n        var ub = ((p1.x - p0.x) * (p0.y - p2.y) - (p1.y - p0.y) * (p0.x - p2.x)) / denom;\n        if ((!opt_touch && ua > EPSILON && ua < 1 - EPSILON &&\n            ub > EPSILON && ub < 1 - EPSILON) || (opt_touch &&\n            ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1)) {\n          return [p0.x + ua * (p1.x - p0.x), p0.y + ua * (p1.y - p0.y)];\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @private\n     * @param {PolygonVertex} p0 Point before the start of the diagonal.\n     * @param {PolygonVertex} p1 Start point of the diagonal.\n     * @param {PolygonVertex} p2 Ear candidate.\n     * @param {PolygonVertex} p3 End point of the diagonal.\n     * @param {PolygonVertex} p4 Point after the end of the diagonal.\n     * @return {boolean} Diagonal is inside the polygon.\n     */\n    WebGLPolygonReplay.prototype.diagonalIsInside_ = function diagonalIsInside_ (p0, p1, p2, p3, p4) {\n      if (p1.reflex === undefined || p3.reflex === undefined) {\n        return false;\n      }\n      var p1IsLeftOf = (p2.x - p3.x) * (p1.y - p3.y) > (p2.y - p3.y) * (p1.x - p3.x);\n      var p1IsRightOf = (p4.x - p3.x) * (p1.y - p3.y) < (p4.y - p3.y) * (p1.x - p3.x);\n      var p3IsLeftOf = (p0.x - p1.x) * (p3.y - p1.y) > (p0.y - p1.y) * (p3.x - p1.x);\n      var p3IsRightOf = (p2.x - p1.x) * (p3.y - p1.y) < (p2.y - p1.y) * (p3.x - p1.x);\n      var p1InCone = p3.reflex ? p1IsRightOf || p1IsLeftOf : p1IsRightOf && p1IsLeftOf;\n      var p3InCone = p1.reflex ? p3IsRightOf || p3IsLeftOf : p3IsRightOf && p3IsLeftOf;\n      return p1InCone && p3InCone;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.drawMultiPolygon = function drawMultiPolygon (multiPolygonGeometry, feature) {\n      var endss = multiPolygonGeometry.getEndss();\n      var stride = multiPolygonGeometry.getStride();\n      var currIndex = this.indices.length;\n      var currLineIndex = this.lineStringReplay.getCurrentIndex();\n      var flatCoordinates = multiPolygonGeometry.getFlatCoordinates();\n      var i, ii, j, jj;\n      var start = 0;\n      for (i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        if (ends.length > 0) {\n          var outerRing = translate(flatCoordinates, start, ends[0],\n            stride, -this.origin[0], -this.origin[1]);\n          if (outerRing.length) {\n            var holes = [];\n            var holeFlatCoords = (void 0);\n            for (j = 1, jj = ends.length; j < jj; ++j) {\n              if (ends[j] !== ends[j - 1]) {\n                holeFlatCoords = translate(flatCoordinates, ends[j - 1],\n                  ends[j], stride, -this.origin[0], -this.origin[1]);\n                holes.push(holeFlatCoords);\n              }\n            }\n            this.lineStringReplay.drawPolygonCoordinates(outerRing, holes, stride);\n            this.drawCoordinates_(outerRing, holes, stride);\n          }\n        }\n        start = ends[ends.length - 1];\n      }\n      if (this.indices.length > currIndex) {\n        this.startIndices.push(currIndex);\n        this.startIndicesFeature.push(feature);\n        if (this.state_.changed) {\n          this.styleIndices_.push(currIndex);\n          this.state_.changed = false;\n        }\n      }\n      if (this.lineStringReplay.getCurrentIndex() > currLineIndex) {\n        this.lineStringReplay.setPolygonStyle(feature, currLineIndex);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.drawPolygon = function drawPolygon (polygonGeometry, feature) {\n      var ends = polygonGeometry.getEnds();\n      var stride = polygonGeometry.getStride();\n      if (ends.length > 0) {\n        var flatCoordinates = polygonGeometry.getFlatCoordinates().map(Number);\n        var outerRing = translate(flatCoordinates, 0, ends[0],\n          stride, -this.origin[0], -this.origin[1]);\n        if (outerRing.length) {\n          var holes = [];\n          var i, ii, holeFlatCoords;\n          for (i = 1, ii = ends.length; i < ii; ++i) {\n            if (ends[i] !== ends[i - 1]) {\n              holeFlatCoords = translate(flatCoordinates, ends[i - 1],\n                ends[i], stride, -this.origin[0], -this.origin[1]);\n              holes.push(holeFlatCoords);\n            }\n          }\n\n          this.startIndices.push(this.indices.length);\n          this.startIndicesFeature.push(feature);\n          if (this.state_.changed) {\n            this.styleIndices_.push(this.indices.length);\n            this.state_.changed = false;\n          }\n          this.lineStringReplay.setPolygonStyle(feature);\n\n          this.lineStringReplay.drawPolygonCoordinates(outerRing, holes, stride);\n          this.drawCoordinates_(outerRing, holes, stride);\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     **/\n    WebGLPolygonReplay.prototype.finish = function finish (context) {\n      // create, bind, and populate the vertices buffer\n      this.verticesBuffer = new WebGLBuffer(this.vertices);\n\n      // create, bind, and populate the indices buffer\n      this.indicesBuffer = new WebGLBuffer(this.indices);\n\n      this.startIndices.push(this.indices.length);\n\n      this.lineStringReplay.finish(context);\n\n      //Clean up, if there is nothing to draw\n      if (this.styleIndices_.length === 0 && this.styles_.length > 0) {\n        this.styles_ = [];\n      }\n\n      this.vertices = null;\n      this.indices = null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      var verticesBuffer = this.verticesBuffer;\n      var indicesBuffer = this.indicesBuffer;\n      var lineDeleter = this.lineStringReplay.getDeleteResourcesFunction(context);\n      return function() {\n        context.deleteBuffer(verticesBuffer);\n        context.deleteBuffer(indicesBuffer);\n        lineDeleter();\n      };\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.setUpProgram = function setUpProgram (gl, context, size, pixelRatio) {\n      // get the program\n      var program = context.getProgram(fragment$3, vertex$3);\n\n      // get the locations\n      var locations;\n      if (!this.defaultLocations_) {\n        locations = new Locations$3(gl, program);\n        this.defaultLocations_ = locations;\n      } else {\n        locations = this.defaultLocations_;\n      }\n\n      context.useProgram(program);\n\n      // enable the vertex attrib arrays\n      gl.enableVertexAttribArray(locations.a_position);\n      gl.vertexAttribPointer(locations.a_position, 2, FLOAT,\n        false, 8, 0);\n\n      return locations;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.shutDownProgram = function shutDownProgram (gl, locations) {\n      gl.disableVertexAttribArray(locations.a_position);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.drawReplay = function drawReplay (gl, context, skippedFeaturesHash, hitDetection) {\n      //Save GL parameters.\n      var tmpDepthFunc = /** @type {number} */ (gl.getParameter(gl.DEPTH_FUNC));\n      var tmpDepthMask = /** @type {boolean} */ (gl.getParameter(gl.DEPTH_WRITEMASK));\n\n      if (!hitDetection) {\n        gl.enable(gl.DEPTH_TEST);\n        gl.depthMask(true);\n        gl.depthFunc(gl.NOTEQUAL);\n      }\n\n      if (!isEmpty(skippedFeaturesHash)) {\n        this.drawReplaySkipping_(gl, context, skippedFeaturesHash);\n      } else {\n        //Draw by style groups to minimize drawElements() calls.\n        var i, start, end, nextStyle;\n        end = this.startIndices[this.startIndices.length - 1];\n        for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n          start = this.styleIndices_[i];\n          nextStyle = this.styles_[i];\n          this.setFillStyle_(gl, nextStyle);\n          this.drawElements(gl, context, start, end);\n          end = start;\n        }\n      }\n      if (!hitDetection) {\n        gl.disable(gl.DEPTH_TEST);\n        gl.clear(gl.DEPTH_BUFFER_BIT);\n        //Restore GL parameters.\n        gl.depthMask(tmpDepthMask);\n        gl.depthFunc(tmpDepthFunc);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.drawHitDetectionReplayOneByOne = function drawHitDetectionReplayOneByOne (gl, context, skippedFeaturesHash, featureCallback, opt_hitExtent) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex;\n      featureIndex = this.startIndices.length - 2;\n      end = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setFillStyle_(gl, nextStyle);\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          start = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)] === undefined &&\n              feature.getGeometry() &&\n              (opt_hitExtent === undefined || intersects(\n                /** @type {Array<number>} */ (opt_hitExtent),\n                feature.getGeometry().getExtent()))) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n            this.drawElements(gl, context, start, end);\n\n            var result = featureCallback(feature);\n\n            if (result) {\n              return result;\n            }\n\n          }\n          featureIndex--;\n          end = start;\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {Object} skippedFeaturesHash Ids of features to skip.\n     */\n    WebGLPolygonReplay.prototype.drawReplaySkipping_ = function drawReplaySkipping_ (gl, context, skippedFeaturesHash) {\n      var i, start, end, nextStyle, groupStart, feature, featureIndex, featureStart;\n      featureIndex = this.startIndices.length - 2;\n      end = start = this.startIndices[featureIndex + 1];\n      for (i = this.styleIndices_.length - 1; i >= 0; --i) {\n        nextStyle = this.styles_[i];\n        this.setFillStyle_(gl, nextStyle);\n        groupStart = this.styleIndices_[i];\n\n        while (featureIndex >= 0 &&\n            this.startIndices[featureIndex] >= groupStart) {\n          featureStart = this.startIndices[featureIndex];\n          feature = this.startIndicesFeature[featureIndex];\n\n          if (skippedFeaturesHash[getUid(feature)]) {\n            if (start !== end) {\n              this.drawElements(gl, context, start, end);\n              gl.clear(gl.DEPTH_BUFFER_BIT);\n            }\n            end = featureStart;\n          }\n          featureIndex--;\n          start = featureStart;\n        }\n        if (start !== end) {\n          this.drawElements(gl, context, start, end);\n          gl.clear(gl.DEPTH_BUFFER_BIT);\n        }\n        start = end = groupStart;\n      }\n    };\n\n    /**\n     * @private\n     * @param {WebGLRenderingContext} gl gl.\n     * @param {Array<number>} color Color.\n     */\n    WebGLPolygonReplay.prototype.setFillStyle_ = function setFillStyle_ (gl, color) {\n      gl.uniform4fv(this.defaultLocations_.u_color, color);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLPolygonReplay.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      var fillStyleColor = fillStyle ? fillStyle.getColor() : [0, 0, 0, 0];\n      if (!(fillStyleColor instanceof CanvasGradient) &&\n          !(fillStyleColor instanceof CanvasPattern)) {\n        fillStyleColor = asArray(fillStyleColor).map(function(c, i) {\n          return i != 3 ? c / 255 : c;\n        }) || DEFAULT_FILLSTYLE;\n      } else {\n        fillStyleColor = DEFAULT_FILLSTYLE;\n      }\n      if (!this.state_.fillColor || !equals(fillStyleColor, this.state_.fillColor)) {\n        this.state_.fillColor = fillStyleColor;\n        this.state_.changed = true;\n        this.styles_.push(fillStyleColor);\n      }\n      //Provide a null stroke style, if no strokeStyle is provided. Required for the draw interaction to work.\n      if (strokeStyle) {\n        this.lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n      } else {\n        var nullStrokeStyle = new Stroke({\n          color: [0, 0, 0, 0],\n          width: 0\n        });\n        this.lineStringReplay.setFillStrokeStyle(null, nullStrokeStyle);\n      }\n    };\n\n    return WebGLPolygonReplay;\n  }(WebGLReplay));\n\n  /**\n   * @module ol/style/Atlas\n   */\n\n\n  /**\n   * @typedef {Object} AtlasBlock\n   * @property {number} x\n   * @property {number} y\n   * @property {number} width\n   * @property {number} height\n   */\n\n  /**\n   * Provides information for an image inside an atlas.\n   * `offsetX` and `offsetY` are the position of the image inside the atlas image `image`.\n   * @typedef {Object} AtlasInfo\n   * @property {number} offsetX\n   * @property {number} offsetY\n   * @property {HTMLCanvasElement} image\n   */\n\n\n  /**\n   * @classesc\n   * This class facilitates the creation of image atlases.\n   *\n   * Images added to an atlas will be rendered onto a single\n   * atlas canvas. The distribution of images on the canvas is\n   * managed with the bin packing algorithm described in:\n   * http://www.blackpawn.com/texts/lightmaps/\n   *\n   * @param {number} size The size in pixels of the sprite image.\n   * @param {number} space The space in pixels between images.\n   *    Because texture coordinates are float values, the edges of\n   *    images might not be completely correct (in a way that the\n   *    edges overlap when being rendered). To avoid this we add a\n   *    padding around each image.\n   */\n  var Atlas = function Atlas(size, space) {\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.space_ = space;\n\n    /**\n     * @private\n     * @type {Array<AtlasBlock>}\n     */\n    this.emptyBlocks_ = [{x: 0, y: 0, width: size, height: size}];\n\n    /**\n     * @private\n     * @type {Object<string, AtlasInfo>}\n     */\n    this.entries_ = {};\n\n    /**\n     * @private\n     * @type {CanvasRenderingContext2D}\n     */\n    this.context_ = createCanvasContext2D(size, size);\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement}\n     */\n    this.canvas_ = this.context_.canvas;\n  };\n\n  /**\n   * @param {string} id The identifier of the entry to check.\n   * @return {?AtlasInfo} The atlas info.\n   */\n  Atlas.prototype.get = function get (id) {\n    return this.entries_[id] || null;\n  };\n\n  /**\n   * @param {string} id The identifier of the entry to add.\n   * @param {number} width The width.\n   * @param {number} height The height.\n   * @param {function(CanvasRenderingContext2D, number, number)} renderCallback\n   *  Called to render the new image onto an atlas image.\n   * @param {Object=} opt_this Value to use as `this` when executing\n   *  `renderCallback`.\n   * @return {?AtlasInfo} The position and atlas image for the entry.\n   */\n  Atlas.prototype.add = function add (id, width, height, renderCallback, opt_this) {\n    for (var i = 0, ii = this.emptyBlocks_.length; i < ii; ++i) {\n      var block = this.emptyBlocks_[i];\n      if (block.width >= width + this.space_ &&\n          block.height >= height + this.space_) {\n        // we found a block that is big enough for our entry\n        var entry = {\n          offsetX: block.x + this.space_,\n          offsetY: block.y + this.space_,\n          image: this.canvas_\n        };\n        this.entries_[id] = entry;\n\n        // render the image on the atlas image\n        renderCallback.call(opt_this, this.context_,\n          block.x + this.space_, block.y + this.space_);\n\n        // split the block after the insertion, either horizontally or vertically\n        this.split_(i, block, width + this.space_, height + this.space_);\n\n        return entry;\n      }\n    }\n\n    // there is no space for the new entry in this atlas\n    return null;\n  };\n\n  /**\n   * @private\n   * @param {number} index The index of the block.\n   * @param {AtlasBlock} block The block to split.\n   * @param {number} width The width of the entry to insert.\n   * @param {number} height The height of the entry to insert.\n   */\n  Atlas.prototype.split_ = function split_ (index, block, width, height) {\n    var deltaWidth = block.width - width;\n    var deltaHeight = block.height - height;\n\n    /** @type {AtlasBlock} */\n    var newBlock1;\n    /** @type {AtlasBlock} */\n    var newBlock2;\n\n    if (deltaWidth > deltaHeight) {\n      // split vertically\n      // block right of the inserted entry\n      newBlock1 = {\n        x: block.x + width,\n        y: block.y,\n        width: block.width - width,\n        height: block.height\n      };\n\n      // block below the inserted entry\n      newBlock2 = {\n        x: block.x,\n        y: block.y + height,\n        width: width,\n        height: block.height - height\n      };\n      this.updateBlocks_(index, newBlock1, newBlock2);\n    } else {\n      // split horizontally\n      // block right of the inserted entry\n      newBlock1 = {\n        x: block.x + width,\n        y: block.y,\n        width: block.width - width,\n        height: height\n      };\n\n      // block below the inserted entry\n      newBlock2 = {\n        x: block.x,\n        y: block.y + height,\n        width: block.width,\n        height: block.height - height\n      };\n      this.updateBlocks_(index, newBlock1, newBlock2);\n    }\n  };\n\n  /**\n   * Remove the old block and insert new blocks at the same array position.\n   * The new blocks are inserted at the same position, so that splitted\n   * blocks (that are potentially smaller) are filled first.\n   * @private\n   * @param {number} index The index of the block to remove.\n   * @param {AtlasBlock} newBlock1 The 1st block to add.\n   * @param {AtlasBlock} newBlock2 The 2nd block to add.\n   */\n  Atlas.prototype.updateBlocks_ = function updateBlocks_ (index, newBlock1, newBlock2) {\n    var args = /** @type {Array<*>} */ ([index, 1]);\n    if (newBlock1.width > 0 && newBlock1.height > 0) {\n      args.push(newBlock1);\n    }\n    if (newBlock2.width > 0 && newBlock2.height > 0) {\n      args.push(newBlock2);\n    }\n    this.emptyBlocks_.splice.apply(this.emptyBlocks_, args);\n  };\n\n  /**\n   * @module ol/style/AtlasManager\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [initialSize=256] The size in pixels of the first atlas image.\n   * @property {number} [maxSize] The maximum size in pixels of atlas images. Default is\n   * `webgl/MAX_TEXTURE_SIZE` or 2048 if WebGL is not supported.\n   * @property {number} [space=1] The space in pixels between images.\n   */\n\n\n  /**\n   * Provides information for an image inside an atlas manager.\n   * `offsetX` and `offsetY` is the position of the image inside\n   * the atlas image `image` and the position of the hit-detection image\n   * inside the hit-detection atlas image `hitImage`.\n   * @typedef {Object} AtlasManagerInfo\n   * @property {number} offsetX\n   * @property {number} offsetY\n   * @property {HTMLCanvasElement} image\n   * @property {HTMLCanvasElement} hitImage\n   */\n\n\n  /**\n   * The size in pixels of the first atlas image.\n   * @type {number}\n   */\n  var INITIAL_ATLAS_SIZE = 256;\n\n\n  /**\n   * @classdesc\n   * Manages the creation of image atlases.\n   *\n   * Images added to this manager will be inserted into an atlas, which\n   * will be used for rendering.\n   * The `size` given in the constructor is the size for the first\n   * atlas. After that, when new atlases are created, they will have\n   * twice the size as the latest atlas (until `maxSize` is reached).\n   *\n   * If an application uses many images or very large images, it is recommended\n   * to set a higher `size` value to avoid the creation of too many atlases.\n   * @api\n   */\n  var AtlasManager = function AtlasManager(opt_options) {\n\n    var options = opt_options || {};\n\n    /**\n     * The size in pixels of the latest atlas image.\n     * @private\n     * @type {number}\n     */\n    this.currentSize_ = options.initialSize !== undefined ?\n      options.initialSize : INITIAL_ATLAS_SIZE;\n\n    /**\n     * The maximum size in pixels of atlas images.\n     * @private\n     * @type {number}\n     */\n    this.maxSize_ = options.maxSize !== undefined ?\n      options.maxSize : MAX_TEXTURE_SIZE !== undefined ?\n          MAX_TEXTURE_SIZE : 2048;\n\n    /**\n     * The size in pixels between images.\n     * @private\n     * @type {number}\n     */\n    this.space_ = options.space !== undefined ? options.space : 1;\n\n    /**\n     * @private\n     * @type {Array<import(\"./Atlas.js\").default>}\n     */\n    this.atlases_ = [new Atlas(this.currentSize_, this.space_)];\n\n    /**\n     * The size in pixels of the latest atlas image for hit-detection images.\n     * @private\n     * @type {number}\n     */\n    this.currentHitSize_ = this.currentSize_;\n\n    /**\n     * @private\n     * @type {Array<import(\"./Atlas.js\").default>}\n     */\n    this.hitAtlases_ = [new Atlas(this.currentHitSize_, this.space_)];\n  };\n\n  /**\n   * @param {string} id The identifier of the entry to check.\n   * @return {?AtlasManagerInfo} The position and atlas image for the\n   *  entry, or `null` if the entry is not part of the atlas manager.\n   */\n  AtlasManager.prototype.getInfo = function getInfo (id) {\n    /** @type {?import(\"./Atlas.js\").AtlasInfo} */\n    var info = this.getInfo_(this.atlases_, id);\n\n    if (!info) {\n      return null;\n    }\n    var hitInfo = /** @type {import(\"./Atlas.js\").AtlasInfo} */ (this.getInfo_(this.hitAtlases_, id));\n\n    return this.mergeInfos_(info, hitInfo);\n  };\n\n  /**\n   * @private\n   * @param {Array<import(\"./Atlas.js\").default>} atlases The atlases to search.\n   * @param {string} id The identifier of the entry to check.\n   * @return {?import(\"./Atlas.js\").AtlasInfo} The position and atlas image for the entry,\n   *  or `null` if the entry is not part of the atlases.\n   */\n  AtlasManager.prototype.getInfo_ = function getInfo_ (atlases, id) {\n    for (var i = 0, ii = atlases.length; i < ii; ++i) {\n      var atlas = atlases[i];\n      var info = atlas.get(id);\n      if (info) {\n        return info;\n      }\n    }\n    return null;\n  };\n\n  /**\n   * @private\n   * @param {import(\"./Atlas.js\").AtlasInfo} info The info for the real image.\n   * @param {import(\"./Atlas.js\").AtlasInfo} hitInfo The info for the hit-detection\n   *  image.\n   * @return {?AtlasManagerInfo} The position and atlas image for the\n   *  entry, or `null` if the entry is not part of the atlases.\n   */\n  AtlasManager.prototype.mergeInfos_ = function mergeInfos_ (info, hitInfo) {\n    return (\n      /** @type {AtlasManagerInfo} */ ({\n        offsetX: info.offsetX,\n        offsetY: info.offsetY,\n        image: info.image,\n        hitImage: hitInfo.image\n      })\n    );\n  };\n\n  /**\n   * Add an image to the atlas manager.\n   *\n   * If an entry for the given id already exists, the entry will\n   * be overridden (but the space on the atlas graphic will not be freed).\n   *\n   * If `renderHitCallback` is provided, the image (or the hit-detection version\n   * of the image) will be rendered into a separate hit-detection atlas image.\n   *\n   * @param {string} id The identifier of the entry to add.\n   * @param {number} width The width.\n   * @param {number} height The height.\n   * @param {function(CanvasRenderingContext2D, number, number)} renderCallback\n   *  Called to render the new image onto an atlas image.\n   * @param {function(CanvasRenderingContext2D, number, number)=} opt_renderHitCallback Called to render a hit-detection image onto a hit\n   *  detection atlas image.\n   * @param {Object=} opt_this Value to use as `this` when executing\n   *  `renderCallback` and `renderHitCallback`.\n   * @return {?AtlasManagerInfo}The position and atlas image for the\n   *  entry, or `null` if the image is too big.\n   */\n  AtlasManager.prototype.add = function add (id, width, height, renderCallback, opt_renderHitCallback, opt_this) {\n    if (width + this.space_ > this.maxSize_ ||\n        height + this.space_ > this.maxSize_) {\n      return null;\n    }\n\n    /** @type {?import(\"./Atlas.js\").AtlasInfo} */\n    var info = this.add_(false, id, width, height, renderCallback, opt_this);\n    if (!info) {\n      return null;\n    }\n\n    // even if no hit-detection entry is requested, we insert a fake entry into\n    // the hit-detection atlas, to make sure that the offset is the same for\n    // the original image and the hit-detection image.\n    var renderHitCallback = opt_renderHitCallback !== undefined ?\n      opt_renderHitCallback : VOID;\n\n    var hitInfo = /** @type {import(\"./Atlas.js\").AtlasInfo} */ (this.add_(true,\n      id, width, height, renderHitCallback, opt_this));\n\n    return this.mergeInfos_(info, hitInfo);\n  };\n\n  /**\n   * @private\n   * @param {boolean} isHitAtlas If the hit-detection atlases are used.\n   * @param {string} id The identifier of the entry to add.\n   * @param {number} width The width.\n   * @param {number} height The height.\n   * @param {function(CanvasRenderingContext2D, number, number)} renderCallback\n   *  Called to render the new image onto an atlas image.\n   * @param {Object=} opt_this Value to use as `this` when executing\n   *  `renderCallback` and `renderHitCallback`.\n   * @return {?import(\"./Atlas.js\").AtlasInfo}The position and atlas image for the entry,\n   *  or `null` if the image is too big.\n   */\n  AtlasManager.prototype.add_ = function add_ (isHitAtlas, id, width, height, renderCallback, opt_this) {\n    var atlases = (isHitAtlas) ? this.hitAtlases_ : this.atlases_;\n    var atlas, info, i, ii;\n    for (i = 0, ii = atlases.length; i < ii; ++i) {\n      atlas = atlases[i];\n      info = atlas.add(id, width, height, renderCallback, opt_this);\n      if (info) {\n        return info;\n      } else if (!info && i === ii - 1) {\n        // the entry could not be added to one of the existing atlases,\n        // create a new atlas that is twice as big and try to add to this one.\n        var size = (void 0);\n        if (isHitAtlas) {\n          size = Math.min(this.currentHitSize_ * 2, this.maxSize_);\n          this.currentHitSize_ = size;\n        } else {\n          size = Math.min(this.currentSize_ * 2, this.maxSize_);\n          this.currentSize_ = size;\n        }\n        atlas = new Atlas(size, this.space_);\n        atlases.push(atlas);\n        // run the loop another time\n        ++ii;\n      }\n    }\n    return null;\n  };\n\n  /**\n   * @module ol/render/webgl/TextReplay\n   */\n\n  /**\n   * @typedef {Object} GlyphAtlas\n   * @property {import(\"../../style/AtlasManager.js\").default} atlas\n   * @property {Object<string, number>} width\n   * @property {number} height\n   */\n\n\n  var WebGLTextReplay = /*@__PURE__*/(function (WebGLTextureReplay$$1) {\n    function WebGLTextReplay(tolerance, maxExtent) {\n      WebGLTextureReplay$$1.call(this, tolerance, maxExtent);\n\n      /**\n       * @private\n       * @type {Array<HTMLCanvasElement>}\n       */\n      this.images_ = [];\n\n      /**\n       * @private\n       * @type {Array<WebGLTexture>}\n       */\n      this.textures_ = [];\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.measureCanvas_ = createCanvasContext2D(0, 0).canvas;\n\n      /**\n       * @private\n       * @type {{strokeColor: (import(\"../../colorlike.js\").ColorLike|null),\n       *         lineCap: (string|undefined),\n       *         lineDash: Array<number>,\n       *         lineDashOffset: (number|undefined),\n       *         lineJoin: (string|undefined),\n       *         lineWidth: number,\n       *         miterLimit: (number|undefined),\n       *         fillColor: (import(\"../../colorlike.js\").ColorLike|null),\n       *         font: (string|undefined),\n       *         scale: (number|undefined)}}\n       */\n      this.state_ = {\n        strokeColor: null,\n        lineCap: undefined,\n        lineDash: null,\n        lineDashOffset: undefined,\n        lineJoin: undefined,\n        lineWidth: 0,\n        miterLimit: undefined,\n        fillColor: null,\n        font: undefined,\n        scale: undefined\n      };\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.text_ = '';\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.textAlign_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.textBaseline_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.offsetX_ = undefined;\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.offsetY_ = undefined;\n\n      /**\n       * @private\n       * @type {Object<string, GlyphAtlas>}\n       */\n      this.atlases_ = {};\n\n      /**\n       * @private\n       * @type {GlyphAtlas|undefined}\n       */\n      this.currAtlas_ = undefined;\n\n      this.scale = 1;\n\n      this.opacity = 1;\n\n    }\n\n    if ( WebGLTextureReplay$$1 ) WebGLTextReplay.__proto__ = WebGLTextureReplay$$1;\n    WebGLTextReplay.prototype = Object.create( WebGLTextureReplay$$1 && WebGLTextureReplay$$1.prototype );\n    WebGLTextReplay.prototype.constructor = WebGLTextReplay;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextReplay.prototype.drawText = function drawText (geometry, feature) {\n      if (this.text_) {\n        var flatCoordinates = null;\n        var offset = 0;\n        var end = 2;\n        var stride = 2;\n        switch (geometry.getType()) {\n          case GeometryType.POINT:\n          case GeometryType.MULTI_POINT:\n            flatCoordinates = geometry.getFlatCoordinates();\n            end = flatCoordinates.length;\n            stride = geometry.getStride();\n            break;\n          case GeometryType.CIRCLE:\n            flatCoordinates = /** @type {import(\"../../geom/Circle.js\").default} */ (geometry).getCenter();\n            break;\n          case GeometryType.LINE_STRING:\n            flatCoordinates = /** @type {import(\"../../geom/LineString.js\").default} */ (geometry).getFlatMidpoint();\n            break;\n          case GeometryType.MULTI_LINE_STRING:\n            flatCoordinates = /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry).getFlatMidpoints();\n            end = flatCoordinates.length;\n            break;\n          case GeometryType.POLYGON:\n            flatCoordinates = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getFlatInteriorPoint();\n            break;\n          case GeometryType.MULTI_POLYGON:\n            flatCoordinates = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getFlatInteriorPoints();\n            end = flatCoordinates.length;\n            break;\n          default:\n        }\n        this.startIndices.push(this.indices.length);\n        this.startIndicesFeature.push(feature);\n\n        var glyphAtlas = this.currAtlas_;\n        var lines = this.text_.split('\\n');\n        var textSize = this.getTextSize_(lines);\n        var i, ii, j, jj, currX, currY, charArr, charInfo;\n        var anchorX = Math.round(textSize[0] * this.textAlign_ - this.offsetX_);\n        var anchorY = Math.round(textSize[1] * this.textBaseline_ - this.offsetY_);\n        var lineWidth = (this.state_.lineWidth / 2) * this.state_.scale;\n\n        for (i = 0, ii = lines.length; i < ii; ++i) {\n          currX = 0;\n          currY = glyphAtlas.height * i;\n          charArr = lines[i].split('');\n\n          for (j = 0, jj = charArr.length; j < jj; ++j) {\n            charInfo = glyphAtlas.atlas.getInfo(charArr[j]);\n\n            if (charInfo) {\n              var image = charInfo.image;\n\n              this.anchorX = anchorX - currX;\n              this.anchorY = anchorY - currY;\n              this.originX = j === 0 ? charInfo.offsetX - lineWidth : charInfo.offsetX;\n              this.originY = charInfo.offsetY;\n              this.height = glyphAtlas.height;\n              this.width = j === 0 || j === charArr.length - 1 ?\n                glyphAtlas.width[charArr[j]] + lineWidth : glyphAtlas.width[charArr[j]];\n              this.imageHeight = image.height;\n              this.imageWidth = image.width;\n\n              if (this.images_.length === 0) {\n                this.images_.push(image);\n              } else {\n                var currentImage = this.images_[this.images_.length - 1];\n                if (getUid(currentImage) != getUid(image)) {\n                  this.groupIndices.push(this.indices.length);\n                  this.images_.push(image);\n                }\n              }\n\n              this.drawText_(flatCoordinates, offset, end, stride);\n            }\n            currX += this.width;\n          }\n        }\n      }\n    };\n\n    /**\n     * @private\n     * @param {Array<string>} lines Label to draw split to lines.\n     * @return {Array<number>} Size of the label in pixels.\n     */\n    WebGLTextReplay.prototype.getTextSize_ = function getTextSize_ (lines) {\n      var self = this;\n      var glyphAtlas = this.currAtlas_;\n      var textHeight = lines.length * glyphAtlas.height;\n      //Split every line to an array of chars, sum up their width, and select the longest.\n      var textWidth = lines.map(function(str) {\n        var sum = 0;\n        for (var i = 0, ii = str.length; i < ii; ++i) {\n          var curr = str[i];\n          if (!glyphAtlas.width[curr]) {\n            self.addCharToAtlas_(curr);\n          }\n          sum += glyphAtlas.width[curr] ? glyphAtlas.width[curr] : 0;\n        }\n        return sum;\n      }).reduce(function(max, curr) {\n        return Math.max(max, curr);\n      });\n\n      return [textWidth, textHeight];\n    };\n\n    /**\n     * @private\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     */\n    WebGLTextReplay.prototype.drawText_ = function drawText_ (flatCoordinates, offset, end, stride) {\n      for (var i = offset, ii = end; i < ii; i += stride) {\n        this.drawCoordinates(flatCoordinates, offset, end, stride);\n      }\n    };\n\n    /**\n     * @private\n     * @param {string} char Character.\n     */\n    WebGLTextReplay.prototype.addCharToAtlas_ = function addCharToAtlas_ (char) {\n      if (char.length === 1) {\n        var glyphAtlas = this.currAtlas_;\n        var state = this.state_;\n        var mCtx = this.measureCanvas_.getContext('2d');\n        mCtx.font = state.font;\n        var width = Math.ceil(mCtx.measureText(char).width * state.scale);\n\n        var info = glyphAtlas.atlas.add(char, width, glyphAtlas.height,\n          function(ctx, x, y) {\n            //Parameterize the canvas\n            ctx.font = /** @type {string} */ (state.font);\n            ctx.fillStyle = state.fillColor;\n            ctx.strokeStyle = state.strokeColor;\n            ctx.lineWidth = state.lineWidth;\n            ctx.lineCap = /** @type {CanvasLineCap} */ (state.lineCap);\n            ctx.lineJoin = /** @type {CanvasLineJoin} */ (state.lineJoin);\n            ctx.miterLimit = /** @type {number} */ (state.miterLimit);\n            ctx.textAlign = 'left';\n            ctx.textBaseline = 'top';\n            if (CANVAS_LINE_DASH && state.lineDash) {\n              //FIXME: use pixelRatio\n              ctx.setLineDash(state.lineDash);\n              ctx.lineDashOffset = /** @type {number} */ (state.lineDashOffset);\n            }\n            if (state.scale !== 1) {\n              //FIXME: use pixelRatio\n              ctx.setTransform(/** @type {number} */ (state.scale), 0, 0,\n                /** @type {number} */ (state.scale), 0, 0);\n            }\n\n            //Draw the character on the canvas\n            if (state.strokeColor) {\n              ctx.strokeText(char, x, y);\n            }\n            if (state.fillColor) {\n              ctx.fillText(char, x, y);\n            }\n          });\n\n        if (info) {\n          glyphAtlas.width[char] = width;\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextReplay.prototype.finish = function finish (context) {\n      var gl = context.getGL();\n\n      this.groupIndices.push(this.indices.length);\n      this.hitDetectionGroupIndices = this.groupIndices;\n\n      // create, bind, and populate the vertices buffer\n      this.verticesBuffer = new WebGLBuffer(this.vertices);\n\n      // create, bind, and populate the indices buffer\n      this.indicesBuffer = new WebGLBuffer(this.indices);\n\n      // create textures\n      /** @type {Object<string, WebGLTexture>} */\n      var texturePerImage = {};\n\n      this.createTextures(this.textures_, this.images_, texturePerImage, gl);\n\n      this.state_ = {\n        strokeColor: null,\n        lineCap: undefined,\n        lineDash: null,\n        lineDashOffset: undefined,\n        lineJoin: undefined,\n        lineWidth: 0,\n        miterLimit: undefined,\n        fillColor: null,\n        font: undefined,\n        scale: undefined\n      };\n      this.text_ = '';\n      this.textAlign_ = undefined;\n      this.textBaseline_ = undefined;\n      this.offsetX_ = undefined;\n      this.offsetY_ = undefined;\n      this.images_ = null;\n      this.atlases_ = {};\n      this.currAtlas_ = undefined;\n      WebGLTextureReplay$$1.prototype.finish.call(this, context);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextReplay.prototype.setTextStyle = function setTextStyle (textStyle) {\n      var state = this.state_;\n      var textFillStyle = textStyle.getFill();\n      var textStrokeStyle = textStyle.getStroke();\n      if (!textStyle || !textStyle.getText() || (!textFillStyle && !textStrokeStyle)) {\n        this.text_ = '';\n      } else {\n        if (!textFillStyle) {\n          state.fillColor = null;\n        } else {\n          var textFillStyleColor = textFillStyle.getColor();\n          state.fillColor = asColorLike(textFillStyleColor ?\n            textFillStyleColor : DEFAULT_FILLSTYLE);\n        }\n        if (!textStrokeStyle) {\n          state.strokeColor = null;\n          state.lineWidth = 0;\n        } else {\n          var textStrokeStyleColor = textStrokeStyle.getColor();\n          state.strokeColor = asColorLike(textStrokeStyleColor ?\n            textStrokeStyleColor : DEFAULT_STROKESTYLE);\n          state.lineWidth = textStrokeStyle.getWidth() || DEFAULT_LINEWIDTH;\n          state.lineCap = textStrokeStyle.getLineCap() || DEFAULT_LINECAP;\n          state.lineDashOffset = textStrokeStyle.getLineDashOffset() || DEFAULT_LINEDASHOFFSET;\n          state.lineJoin = textStrokeStyle.getLineJoin() || DEFAULT_LINEJOIN;\n          state.miterLimit = textStrokeStyle.getMiterLimit() || DEFAULT_MITERLIMIT;\n          var lineDash = textStrokeStyle.getLineDash();\n          state.lineDash = lineDash ? lineDash.slice() : DEFAULT_LINEDASH;\n        }\n        state.font = textStyle.getFont() || DEFAULT_FONT;\n        state.scale = textStyle.getScale() || 1;\n        this.text_ = /** @type {string} */ (textStyle.getText());\n        var textAlign = TEXT_ALIGN[textStyle.getTextAlign()];\n        var textBaseline = TEXT_ALIGN[textStyle.getTextBaseline()];\n        this.textAlign_ = textAlign === undefined ?\n          DEFAULT_TEXTALIGN : textAlign;\n        this.textBaseline_ = textBaseline === undefined ?\n          DEFAULT_TEXTBASELINE : textBaseline;\n        this.offsetX_ = textStyle.getOffsetX() || 0;\n        this.offsetY_ = textStyle.getOffsetY() || 0;\n        this.rotateWithView = !!textStyle.getRotateWithView();\n        this.rotation = textStyle.getRotation() || 0;\n\n        this.currAtlas_ = this.getAtlas_(state);\n      }\n    };\n\n    /**\n     * @private\n     * @param {Object} state Font attributes.\n     * @return {GlyphAtlas} Glyph atlas.\n     */\n    WebGLTextReplay.prototype.getAtlas_ = function getAtlas_ (state) {\n      var params = [];\n      for (var i in state) {\n        if (state[i] || state[i] === 0) {\n          if (Array.isArray(state[i])) {\n            params = params.concat(state[i]);\n          } else {\n            params.push(state[i]);\n          }\n        }\n      }\n      var hash = this.calculateHash_(params);\n      if (!this.atlases_[hash]) {\n        var mCtx = this.measureCanvas_.getContext('2d');\n        mCtx.font = state.font;\n        var height = Math.ceil((mCtx.measureText('M').width * 1.5 +\n            state.lineWidth / 2) * state.scale);\n\n        this.atlases_[hash] = {\n          atlas: new AtlasManager({\n            space: state.lineWidth + 1\n          }),\n          width: {},\n          height: height\n        };\n      }\n      return this.atlases_[hash];\n    };\n\n    /**\n     * @private\n     * @param {Array<string|number>} params Array of parameters.\n     * @return {string} Hash string.\n     */\n    WebGLTextReplay.prototype.calculateHash_ = function calculateHash_ (params) {\n      //TODO: Create a more performant, reliable, general hash function.\n      var hash = '';\n      for (var i = 0, ii = params.length; i < ii; ++i) {\n        hash += params[i];\n      }\n      return hash;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextReplay.prototype.getTextures = function getTextures (opt_all) {\n      return this.textures_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTextReplay.prototype.getHitDetectionTextures = function getHitDetectionTextures () {\n      return this.textures_;\n    };\n\n    return WebGLTextReplay;\n  }(WebGLTextureReplay));\n\n  /**\n   * @module ol/render/webgl/ReplayGroup\n   */\n\n  /**\n   * @type {Array<number>}\n   */\n  var HIT_DETECTION_SIZE = [1, 1];\n\n  /**\n   * @type {Object<import(\"../ReplayType.js\").default, typeof import(\"./Replay.js\").default>}\n   */\n  var BATCH_CONSTRUCTORS$1 = {\n    'Circle': WebGLCircleReplay,\n    'Image': WebGLImageReplay,\n    'LineString': WebGLLineStringReplay,\n    'Polygon': WebGLPolygonReplay,\n    'Text': WebGLTextReplay\n  };\n\n\n  var WebGLReplayGroup = /*@__PURE__*/(function (ReplayGroup$$1) {\n    function WebGLReplayGroup(tolerance, maxExtent, opt_renderBuffer) {\n      ReplayGroup$$1.call(this);\n\n      /**\n       * @type {import(\"../../extent.js\").Extent}\n       * @private\n       */\n      this.maxExtent_ = maxExtent;\n\n      /**\n       * @type {number}\n       * @private\n       */\n      this.tolerance_ = tolerance;\n\n      /**\n       * @type {number|undefined}\n       * @private\n       */\n      this.renderBuffer_ = opt_renderBuffer;\n\n      /**\n       * @private\n       * @type {!Object<string,\n       *        Object<import(\"../ReplayType.js\").default, import(\"./Replay.js\").default>>}\n       */\n      this.replaysByZIndex_ = {};\n\n    }\n\n    if ( ReplayGroup$$1 ) WebGLReplayGroup.__proto__ = ReplayGroup$$1;\n    WebGLReplayGroup.prototype = Object.create( ReplayGroup$$1 && ReplayGroup$$1.prototype );\n    WebGLReplayGroup.prototype.constructor = WebGLReplayGroup;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLReplayGroup.prototype.addDeclutter = function addDeclutter (group) {\n      return [];\n    };\n\n    /**\n     * @param {import(\"../../webgl/Context.js\").default} context WebGL context.\n     * @return {function()} Delete resources function.\n     */\n    WebGLReplayGroup.prototype.getDeleteResourcesFunction = function getDeleteResourcesFunction (context) {\n      var functions = [];\n      var zKey;\n      for (zKey in this.replaysByZIndex_) {\n        var replays = this.replaysByZIndex_[zKey];\n        for (var replayKey in replays) {\n          functions.push(\n            replays[replayKey].getDeleteResourcesFunction(context));\n        }\n      }\n      return function() {\n        var arguments$1 = arguments;\n\n        var length = functions.length;\n        var result;\n        for (var i = 0; i < length; i++) {\n          result = functions[i].apply(this, arguments$1);\n        }\n        return result;\n      };\n    };\n\n    /**\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     */\n    WebGLReplayGroup.prototype.finish = function finish (context) {\n      var zKey;\n      for (zKey in this.replaysByZIndex_) {\n        var replays = this.replaysByZIndex_[zKey];\n        for (var replayKey in replays) {\n          replays[replayKey].finish(context);\n        }\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLReplayGroup.prototype.getReplay = function getReplay (zIndex, replayType) {\n      var zIndexKey = zIndex !== undefined ? zIndex.toString() : '0';\n      var replays = this.replaysByZIndex_[zIndexKey];\n      if (replays === undefined) {\n        replays = {};\n        this.replaysByZIndex_[zIndexKey] = replays;\n      }\n      var replay = replays[replayType];\n      if (replay === undefined) {\n        var Constructor = BATCH_CONSTRUCTORS$1[replayType];\n        replay = new Constructor(this.tolerance_, this.maxExtent_);\n        replays[replayType] = replay;\n      }\n      return replay;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLReplayGroup.prototype.isEmpty = function isEmpty$1$$1 () {\n      return isEmpty(this.replaysByZIndex_);\n    };\n\n    /**\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} opacity Global opacity.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     */\n    WebGLReplayGroup.prototype.replay = function replay (\n      context,\n      center,\n      resolution,\n      rotation,\n      size,\n      pixelRatio,\n      opacity,\n      skippedFeaturesHash\n    ) {\n      /** @type {Array<number>} */\n      var zs = Object.keys(this.replaysByZIndex_).map(Number);\n      zs.sort(numberSafeCompareFunction);\n\n      var i, ii, j, jj, replays, replay;\n      for (i = 0, ii = zs.length; i < ii; ++i) {\n        replays = this.replaysByZIndex_[zs[i].toString()];\n        for (j = 0, jj = ORDER.length; j < jj; ++j) {\n          replay = replays[ORDER[j]];\n          if (replay !== undefined) {\n            replay.replay(context,\n              center, resolution, rotation, size, pixelRatio,\n              opacity, skippedFeaturesHash,\n              undefined, false);\n          }\n        }\n      }\n    };\n\n    /**\n     * @private\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} opacity Global opacity.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} featureCallback Feature callback.\n     * @param {boolean} oneByOne Draw features one-by-one for the hit-detecion.\n     * @param {import(\"../../extent.js\").Extent=} opt_hitExtent Hit extent: Only features intersecting\n     *  this extent are checked.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplayGroup.prototype.replayHitDetection_ = function replayHitDetection_ (\n      context,\n      center,\n      resolution,\n      rotation,\n      size,\n      pixelRatio,\n      opacity,\n      skippedFeaturesHash,\n      featureCallback,\n      oneByOne,\n      opt_hitExtent\n    ) {\n      /** @type {Array<number>} */\n      var zs = Object.keys(this.replaysByZIndex_).map(Number);\n      zs.sort(function(a, b) {\n        return b - a;\n      });\n\n      var i, ii, j, replays, replay, result;\n      for (i = 0, ii = zs.length; i < ii; ++i) {\n        replays = this.replaysByZIndex_[zs[i].toString()];\n        for (j = ORDER.length - 1; j >= 0; --j) {\n          replay = replays[ORDER[j]];\n          if (replay !== undefined) {\n            result = replay.replay(context,\n              center, resolution, rotation, size, pixelRatio, opacity,\n              skippedFeaturesHash, featureCallback, oneByOne, opt_hitExtent);\n            if (result) {\n              return result;\n            }\n          }\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} opacity Global opacity.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @param {function((import(\"../../Feature.js\").default|import(\"../Feature.js\").default)): T|undefined} callback Feature callback.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLReplayGroup.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (\n      coordinate,\n      context,\n      center,\n      resolution,\n      rotation,\n      size,\n      pixelRatio,\n      opacity,\n      skippedFeaturesHash,\n      callback\n    ) {\n      var gl = context.getGL();\n      gl.bindFramebuffer(\n        gl.FRAMEBUFFER, context.getHitDetectionFramebuffer());\n\n\n      /**\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      var hitExtent;\n      if (this.renderBuffer_ !== undefined) {\n        // build an extent around the coordinate, so that only features that\n        // intersect this extent are checked\n        hitExtent = buffer(createOrUpdateFromCoordinate(coordinate), resolution * this.renderBuffer_);\n      }\n\n      return this.replayHitDetection_(context,\n        coordinate, resolution, rotation, HIT_DETECTION_SIZE,\n        pixelRatio, opacity, skippedFeaturesHash,\n        /**\n         * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n         * @return {?} Callback result.\n         */\n        function(feature) {\n          var imageData = new Uint8Array(4);\n          gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, imageData);\n\n          if (imageData[3] > 0) {\n            var result = callback(feature);\n            if (result) {\n              return result;\n            }\n          }\n        }, true, hitExtent);\n    };\n\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} size Size.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} opacity Global opacity.\n     * @param {Object<string, boolean>} skippedFeaturesHash Ids of features to skip.\n     * @return {boolean} Is there a feature at the given coordinate?\n     */\n    WebGLReplayGroup.prototype.hasFeatureAtCoordinate = function hasFeatureAtCoordinate (\n      coordinate,\n      context,\n      center,\n      resolution,\n      rotation,\n      size,\n      pixelRatio,\n      opacity,\n      skippedFeaturesHash\n    ) {\n      var gl = context.getGL();\n      gl.bindFramebuffer(\n        gl.FRAMEBUFFER, context.getHitDetectionFramebuffer());\n\n      var hasFeature = this.replayHitDetection_(context,\n        coordinate, resolution, rotation, HIT_DETECTION_SIZE,\n        pixelRatio, opacity, skippedFeaturesHash,\n        /**\n         * @param {import(\"../../Feature.js\").default|import(\"../Feature.js\").default} feature Feature.\n         * @return {boolean} Is there a feature?\n         */\n        function(feature) {\n          var imageData = new Uint8Array(4);\n          gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, imageData);\n          return imageData[3] > 0;\n        }, false);\n\n      return hasFeature !== undefined;\n    };\n\n    return WebGLReplayGroup;\n  }(ReplayGroup));\n\n  /**\n   * @module ol/render/webgl/Immediate\n   */\n\n  var WebGLImmediateRenderer = /*@__PURE__*/(function (VectorContext$$1) {\n    function WebGLImmediateRenderer(context, center, resolution, rotation, size, extent, pixelRatio) {\n      VectorContext$$1.call(this);\n\n      /**\n       * @private\n       */\n      this.context_ = context;\n\n      /**\n       * @private\n       */\n      this.center_ = center;\n\n      /**\n       * @private\n       */\n      this.extent_ = extent;\n\n      /**\n       * @private\n       */\n      this.pixelRatio_ = pixelRatio;\n\n      /**\n       * @private\n       */\n      this.size_ = size;\n\n      /**\n       * @private\n       */\n      this.rotation_ = rotation;\n\n      /**\n       * @private\n       */\n      this.resolution_ = resolution;\n\n      /**\n       * @private\n       * @type {import(\"../../style/Image.js\").default}\n       */\n      this.imageStyle_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../style/Fill.js\").default}\n       */\n      this.fillStyle_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../style/Stroke.js\").default}\n       */\n      this.strokeStyle_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../style/Text.js\").default}\n       */\n      this.textStyle_ = null;\n\n    }\n\n    if ( VectorContext$$1 ) WebGLImmediateRenderer.__proto__ = VectorContext$$1;\n    WebGLImmediateRenderer.prototype = Object.create( VectorContext$$1 && VectorContext$$1.prototype );\n    WebGLImmediateRenderer.prototype.constructor = WebGLImmediateRenderer;\n\n    /**\n     * @param {import(\"./ReplayGroup.js\").default} replayGroup Replay group.\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @private\n     */\n    WebGLImmediateRenderer.prototype.drawText_ = function drawText_ (replayGroup, geometry) {\n      var context = this.context_;\n      var replay = /** @type {import(\"./TextReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.TEXT));\n      replay.setTextStyle(this.textStyle_);\n      replay.drawText(geometry, null);\n      replay.finish(context);\n      // default colors\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n    };\n\n    /**\n     * Set the rendering style.  Note that since this is an immediate rendering API,\n     * any `zIndex` on the provided style will be ignored.\n     *\n     * @param {import(\"../../style/Style.js\").default} style The rendering style.\n     * @override\n     * @api\n     */\n    WebGLImmediateRenderer.prototype.setStyle = function setStyle (style) {\n      this.setFillStrokeStyle(style.getFill(), style.getStroke());\n      this.setImageStyle(style.getImage());\n      this.setTextStyle(style.getText());\n    };\n\n    /**\n     * Render a geometry into the canvas.  Call\n     * {@link ol/render/webgl/Immediate#setStyle} first to set the rendering style.\n     *\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry The geometry to render.\n     * @override\n     * @api\n     */\n    WebGLImmediateRenderer.prototype.drawGeometry = function drawGeometry (geometry) {\n      var type = geometry.getType();\n      switch (type) {\n        case GeometryType.POINT:\n          this.drawPoint(/** @type {import(\"../../geom/Point.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.LINE_STRING:\n          this.drawLineString(/** @type {import(\"../../geom/LineString.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.POLYGON:\n          this.drawPolygon(/** @type {import(\"../../geom/Polygon.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.MULTI_POINT:\n          this.drawMultiPoint(/** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.MULTI_LINE_STRING:\n          this.drawMultiLineString(/** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.MULTI_POLYGON:\n          this.drawMultiPolygon(/** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.GEOMETRY_COLLECTION:\n          this.drawGeometryCollection(/** @type {import(\"../../geom/GeometryCollection.js\").default} */ (geometry), null);\n          break;\n        case GeometryType.CIRCLE:\n          this.drawCircle(/** @type {import(\"../../geom/Circle.js\").default} */ (geometry), null);\n          break;\n        default:\n          // pass\n      }\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    WebGLImmediateRenderer.prototype.drawFeature = function drawFeature (feature, style) {\n      var geometry = style.getGeometryFunction()(feature);\n      if (!geometry || !intersects(this.extent_, geometry.getExtent())) {\n        return;\n      }\n      this.setStyle(style);\n      this.drawGeometry(geometry);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawGeometryCollection = function drawGeometryCollection (geometry, data) {\n      var geometries = geometry.getGeometriesArray();\n      var i, ii;\n      for (i = 0, ii = geometries.length; i < ii; ++i) {\n        this.drawGeometry(geometries[i]);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawPoint = function drawPoint (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./ImageReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.IMAGE));\n      replay.setImageStyle(this.imageStyle_);\n      replay.drawPoint(geometry, data);\n      replay.finish(context);\n      // default colors\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawMultiPoint = function drawMultiPoint (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./ImageReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.IMAGE));\n      replay.setImageStyle(this.imageStyle_);\n      replay.drawMultiPoint(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawLineString = function drawLineString (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./LineStringReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.LINE_STRING));\n      replay.setFillStrokeStyle(null, this.strokeStyle_);\n      replay.drawLineString(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawMultiLineString = function drawMultiLineString (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./LineStringReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.LINE_STRING));\n      replay.setFillStrokeStyle(null, this.strokeStyle_);\n      replay.drawMultiLineString(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawPolygon = function drawPolygon (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./PolygonReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.POLYGON));\n      replay.setFillStrokeStyle(this.fillStyle_, this.strokeStyle_);\n      replay.drawPolygon(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawMultiPolygon = function drawMultiPolygon (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./PolygonReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.POLYGON));\n      replay.setFillStrokeStyle(this.fillStyle_, this.strokeStyle_);\n      replay.drawMultiPolygon(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.drawCircle = function drawCircle (geometry, data) {\n      var context = this.context_;\n      var replayGroup = new WebGLReplayGroup(1, this.extent_);\n      var replay = /** @type {import(\"./CircleReplay.js\").default} */ (\n        replayGroup.getReplay(0, ReplayType.CIRCLE));\n      replay.setFillStrokeStyle(this.fillStyle_, this.strokeStyle_);\n      replay.drawCircle(geometry, data);\n      replay.finish(context);\n      var opacity = 1;\n      /** @type {Object<string, boolean>} */\n      var skippedFeatures = {};\n      var featureCallback;\n      var oneByOne = false;\n      replay.replay(this.context_, this.center_, this.resolution_, this.rotation_,\n        this.size_, this.pixelRatio_, opacity, skippedFeatures, featureCallback,\n        oneByOne);\n      replay.getDeleteResourcesFunction(context)();\n\n      if (this.textStyle_) {\n        this.drawText_(replayGroup, geometry);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.setImageStyle = function setImageStyle (imageStyle) {\n      this.imageStyle_ = imageStyle;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.setFillStrokeStyle = function setFillStrokeStyle (fillStyle, strokeStyle) {\n      this.fillStyle_ = fillStyle;\n      this.strokeStyle_ = strokeStyle;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImmediateRenderer.prototype.setTextStyle = function setTextStyle (textStyle) {\n      this.textStyle_ = textStyle;\n    };\n\n    return WebGLImmediateRenderer;\n  }(VectorContext));\n\n  /**\n   * @module ol/renderer/webgl/defaultmapshader\n   */\n\n  var fragment$4 = new WebGLFragment('precision mediump float;\\nvarying vec2 v_texCoord;\\n\\n\\nuniform float u_opacity;\\nuniform sampler2D u_texture;\\n\\nvoid main(void) {\\n  vec4 texColor = texture2D(u_texture, v_texCoord);\\n  gl_FragColor.rgb = texColor.rgb;\\n  gl_FragColor.a = texColor.a * u_opacity;\\n}\\n');\n\n  var vertex$4 = new WebGLVertex('varying vec2 v_texCoord;\\n\\n\\nattribute vec2 a_position;\\nattribute vec2 a_texCoord;\\n\\nuniform mat4 u_texCoordMatrix;\\nuniform mat4 u_projectionMatrix;\\n\\nvoid main(void) {\\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/renderer/webgl/defaultmapshader/Locations\n   */\n\n  var Locations$4 = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_texCoordMatrix = gl.getUniformLocation(\n      program, 'u_texCoordMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_projectionMatrix = gl.getUniformLocation(\n      program, 'u_projectionMatrix');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_opacity = gl.getUniformLocation(\n      program, 'u_opacity');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_texture = gl.getUniformLocation(\n      program, 'u_texture');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n    /**\n     * @type {number}\n     */\n    this.a_texCoord = gl.getAttribLocation(\n      program, 'a_texCoord');\n\n  };\n\n  /**\n   * @module ol/renderer/webgl/Layer\n   */\n\n  /**\n   * @abstract\n   */\n  var WebGLLayerRenderer = /*@__PURE__*/(function (LayerRenderer$$1) {\n    function WebGLLayerRenderer(mapRenderer, layer) {\n\n      LayerRenderer$$1.call(this, layer);\n\n      /**\n       * @protected\n       * @type {import(\"./Map.js\").default}\n       */\n      this.mapRenderer = mapRenderer;\n\n      /**\n       * @private\n       * @type {import(\"../../webgl/Buffer.js\").default}\n       */\n      this.arrayBuffer_ = new WebGLBuffer([\n        -1, -1, 0, 0,\n        1, -1, 1, 0,\n        -1, 1, 0, 1,\n        1, 1, 1, 1\n      ]);\n\n      /**\n       * @protected\n       * @type {WebGLTexture}\n       */\n      this.texture = null;\n\n      /**\n       * @protected\n       * @type {WebGLFramebuffer}\n       */\n      this.framebuffer = null;\n\n      /**\n       * @protected\n       * @type {number|undefined}\n       */\n      this.framebufferDimension = undefined;\n\n      /**\n       * @protected\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.texCoordMatrix = create();\n\n      /**\n       * @protected\n       * @type {import(\"../../transform.js\").Transform}\n       */\n      this.projectionMatrix = create();\n\n      /**\n       * @type {Array<number>}\n       * @private\n       */\n      this.tmpMat4_ = create$1();\n\n      /**\n       * @private\n       * @type {import(\"./defaultmapshader/Locations.js\").default}\n       */\n      this.defaultLocations_ = null;\n\n    }\n\n    if ( LayerRenderer$$1 ) WebGLLayerRenderer.__proto__ = LayerRenderer$$1;\n    WebGLLayerRenderer.prototype = Object.create( LayerRenderer$$1 && LayerRenderer$$1.prototype );\n    WebGLLayerRenderer.prototype.constructor = WebGLLayerRenderer;\n\n    /**\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} framebufferDimension Framebuffer dimension.\n     * @protected\n     */\n    WebGLLayerRenderer.prototype.bindFramebuffer = function bindFramebuffer (frameState, framebufferDimension) {\n\n      var gl = this.mapRenderer.getGL();\n\n      if (this.framebufferDimension === undefined ||\n          this.framebufferDimension != framebufferDimension) {\n        /**\n         * @param {WebGLRenderingContext} gl GL.\n         * @param {WebGLFramebuffer} framebuffer Framebuffer.\n         * @param {WebGLTexture} texture Texture.\n         */\n        var postRenderFunction = function(gl, framebuffer, texture) {\n          if (!gl.isContextLost()) {\n            gl.deleteFramebuffer(framebuffer);\n            gl.deleteTexture(texture);\n          }\n        }.bind(null, gl, this.framebuffer, this.texture);\n\n        frameState.postRenderFunctions.push(\n          /** @type {import(\"../../PluggableMap.js\").PostRenderFunction} */ (postRenderFunction)\n        );\n\n        var texture = createEmptyTexture(\n          gl, framebufferDimension, framebufferDimension);\n\n        var framebuffer = gl.createFramebuffer();\n        gl.bindFramebuffer(FRAMEBUFFER, framebuffer);\n        gl.framebufferTexture2D(FRAMEBUFFER,\n          COLOR_ATTACHMENT0, TEXTURE_2D, texture, 0);\n\n        this.texture = texture;\n        this.framebuffer = framebuffer;\n        this.framebufferDimension = framebufferDimension;\n\n      } else {\n        gl.bindFramebuffer(FRAMEBUFFER, this.framebuffer);\n      }\n\n    };\n\n    /**\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     */\n    WebGLLayerRenderer.prototype.composeFrame = function composeFrame (frameState, layerState, context) {\n\n      this.dispatchComposeEvent_(RenderEventType.PRECOMPOSE, context, frameState);\n\n      context.bindBuffer(ARRAY_BUFFER, this.arrayBuffer_);\n\n      var gl = context.getGL();\n\n      var program = context.getProgram(fragment$4, vertex$4);\n\n      var locations;\n      if (!this.defaultLocations_) {\n        locations = new Locations$4(gl, program);\n        this.defaultLocations_ = locations;\n      } else {\n        locations = this.defaultLocations_;\n      }\n\n      if (context.useProgram(program)) {\n        gl.enableVertexAttribArray(locations.a_position);\n        gl.vertexAttribPointer(\n          locations.a_position, 2, FLOAT, false, 16, 0);\n        gl.enableVertexAttribArray(locations.a_texCoord);\n        gl.vertexAttribPointer(\n          locations.a_texCoord, 2, FLOAT, false, 16, 8);\n        gl.uniform1i(locations.u_texture, 0);\n      }\n\n      gl.uniformMatrix4fv(locations.u_texCoordMatrix, false,\n        fromTransform(this.tmpMat4_, this.getTexCoordMatrix()));\n      gl.uniformMatrix4fv(locations.u_projectionMatrix, false,\n        fromTransform(this.tmpMat4_, this.getProjectionMatrix()));\n      gl.uniform1f(locations.u_opacity, layerState.opacity);\n      gl.bindTexture(TEXTURE_2D, this.getTexture());\n      gl.drawArrays(TRIANGLE_STRIP, 0, 4);\n\n      this.dispatchComposeEvent_(RenderEventType.POSTCOMPOSE, context, frameState);\n    };\n\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {import(\"../../webgl/Context.js\").default} context WebGL context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @private\n     */\n    WebGLLayerRenderer.prototype.dispatchComposeEvent_ = function dispatchComposeEvent_ (type, context, frameState) {\n      var layer = this.getLayer();\n      if (layer.hasListener(type)) {\n        var viewState = frameState.viewState;\n        var resolution = viewState.resolution;\n        var pixelRatio = frameState.pixelRatio;\n        var extent = frameState.extent;\n        var center = viewState.center;\n        var rotation = viewState.rotation;\n        var size = frameState.size;\n\n        var render = new WebGLImmediateRenderer(\n          context, center, resolution, rotation, size, extent, pixelRatio);\n        var composeEvent = new RenderEvent(\n          type, render, frameState, null, context);\n        layer.dispatchEvent(composeEvent);\n      }\n    };\n\n    /**\n     * @return {!import(\"../../transform.js\").Transform} Matrix.\n     */\n    WebGLLayerRenderer.prototype.getTexCoordMatrix = function getTexCoordMatrix () {\n      return this.texCoordMatrix;\n    };\n\n    /**\n     * @return {WebGLTexture} Texture.\n     */\n    WebGLLayerRenderer.prototype.getTexture = function getTexture () {\n      return this.texture;\n    };\n\n    /**\n     * @return {!import(\"../../transform.js\").Transform} Matrix.\n     */\n    WebGLLayerRenderer.prototype.getProjectionMatrix = function getProjectionMatrix () {\n      return this.projectionMatrix;\n    };\n\n    /**\n     * Handle webglcontextlost.\n     */\n    WebGLLayerRenderer.prototype.handleWebGLContextLost = function handleWebGLContextLost () {\n      this.texture = null;\n      this.framebuffer = null;\n      this.framebufferDimension = undefined;\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../layer/Layer.js\").State} layerState Layer state.\n     * @param {import(\"../../webgl/Context.js\").default} context Context.\n     * @return {boolean} whether composeFrame should be called.\n     */\n    WebGLLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState, context) {\n      return abstract();\n    };\n\n    /**\n     * @abstract\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {function(this: S, import(\"../../layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback Layer\n     *     callback.\n     * @param {S} thisArg Value to use as `this` when executing `callback`.\n     * @return {T|undefined} Callback result.\n     * @template S,T,U\n     */\n    WebGLLayerRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, callback, thisArg) {\n      return abstract();\n    };\n\n    return WebGLLayerRenderer;\n  }(LayerRenderer));\n\n  /**\n   * @module ol/renderer/webgl/ImageLayer\n   */\n\n  /**\n   * @classdesc\n   * WebGL renderer for image layers.\n   * @api\n   */\n  var WebGLImageLayerRenderer = /*@__PURE__*/(function (WebGLLayerRenderer$$1) {\n    function WebGLImageLayerRenderer(mapRenderer, imageLayer) {\n\n      WebGLLayerRenderer$$1.call(this, mapRenderer, imageLayer);\n\n      /**\n       * The last rendered image.\n       * @private\n       * @type {?import(\"../../ImageBase.js\").default}\n       */\n      this.image_ = null;\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.hitCanvasContext_ = null;\n\n      /**\n       * @private\n       * @type {?import(\"../../transform.js\").Transform}\n       */\n      this.hitTransformationMatrix_ = null;\n\n    }\n\n    if ( WebGLLayerRenderer$$1 ) WebGLImageLayerRenderer.__proto__ = WebGLLayerRenderer$$1;\n    WebGLImageLayerRenderer.prototype = Object.create( WebGLLayerRenderer$$1 && WebGLLayerRenderer$$1.prototype );\n    WebGLImageLayerRenderer.prototype.constructor = WebGLImageLayerRenderer;\n\n    /**\n     * @param {import(\"../../ImageBase.js\").default} image Image.\n     * @private\n     * @return {WebGLTexture} Texture.\n     */\n    WebGLImageLayerRenderer.prototype.createTexture_ = function createTexture_ (image) {\n\n      // We meet the conditions to work with non-power of two textures.\n      // http://www.khronos.org/webgl/wiki/WebGL_and_OpenGL_Differences#Non-Power_of_Two_Texture_Support\n      // http://learningwebgl.com/blog/?p=2101\n\n      var imageElement = image.getImage();\n      var gl = this.mapRenderer.getGL();\n\n      return createTexture(\n        gl, imageElement, CLAMP_TO_EDGE, CLAMP_TO_EDGE);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState, context) {\n\n      var gl = this.mapRenderer.getGL();\n\n      var pixelRatio = frameState.pixelRatio;\n      var viewState = frameState.viewState;\n      var viewCenter = viewState.center;\n      var viewResolution = viewState.resolution;\n      var viewRotation = viewState.rotation;\n\n      var image = this.image_;\n      var texture = this.texture;\n      var imageLayer = /** @type {import(\"../../layer/Image.js\").default} */ (this.getLayer());\n      var imageSource = /** @type {import(\"../../source/Image.js\").default} */ (imageLayer.getSource());\n\n      var hints = frameState.viewHints;\n\n      var renderedExtent = frameState.extent;\n      if (layerState.extent !== undefined) {\n        renderedExtent = getIntersection(renderedExtent, layerState.extent);\n      }\n      if (!hints[ViewHint.ANIMATING] && !hints[ViewHint.INTERACTING] &&\n          !isEmpty$1(renderedExtent)) {\n        var projection = viewState.projection;\n        var image_ = imageSource.getImage(renderedExtent, viewResolution,\n          pixelRatio, projection);\n        if (image_) {\n          var loaded = this.loadImage(image_);\n          if (loaded) {\n            image = image_;\n            texture = this.createTexture_(image_);\n            if (this.texture) {\n              /**\n               * @param {WebGLRenderingContext} gl GL.\n               * @param {WebGLTexture} texture Texture.\n               */\n              var postRenderFunction = function(gl, texture) {\n                if (!gl.isContextLost()) {\n                  gl.deleteTexture(texture);\n                }\n              }.bind(null, gl, this.texture);\n              frameState.postRenderFunctions.push(\n                /** @type {import(\"../../PluggableMap.js\").PostRenderFunction} */ (postRenderFunction)\n              );\n            }\n          }\n        }\n      }\n\n      if (image) {\n        var canvas = this.mapRenderer.getContext().getCanvas();\n\n        this.updateProjectionMatrix_(canvas.width, canvas.height,\n          pixelRatio, viewCenter, viewResolution, viewRotation,\n          image.getExtent());\n        this.hitTransformationMatrix_ = null;\n\n        // Translate and scale to flip the Y coord.\n        var texCoordMatrix = this.texCoordMatrix;\n        reset(texCoordMatrix);\n        scale$2(texCoordMatrix, 1, -1);\n        translate$1(texCoordMatrix, 0, -1);\n\n        this.image_ = image;\n        this.texture = texture;\n      }\n\n      return !!image;\n    };\n\n    /**\n     * @param {number} canvasWidth Canvas width.\n     * @param {number} canvasHeight Canvas height.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../coordinate.js\").Coordinate} viewCenter View center.\n     * @param {number} viewResolution View resolution.\n     * @param {number} viewRotation View rotation.\n     * @param {import(\"../../extent.js\").Extent} imageExtent Image extent.\n     * @private\n     */\n    WebGLImageLayerRenderer.prototype.updateProjectionMatrix_ = function updateProjectionMatrix_ (\n      canvasWidth,\n      canvasHeight,\n      pixelRatio,\n      viewCenter,\n      viewResolution,\n      viewRotation,\n      imageExtent\n    ) {\n\n      var canvasExtentWidth = canvasWidth * viewResolution;\n      var canvasExtentHeight = canvasHeight * viewResolution;\n\n      var projectionMatrix = this.projectionMatrix;\n      reset(projectionMatrix);\n      scale$2(projectionMatrix,\n        pixelRatio * 2 / canvasExtentWidth,\n        pixelRatio * 2 / canvasExtentHeight);\n      rotate$2(projectionMatrix, -viewRotation);\n      translate$1(projectionMatrix,\n        imageExtent[0] - viewCenter[0],\n        imageExtent[1] - viewCenter[1]);\n      scale$2(projectionMatrix,\n        (imageExtent[2] - imageExtent[0]) / 2,\n        (imageExtent[3] - imageExtent[1]) / 2);\n      translate$1(projectionMatrix, 1, 1);\n\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLImageLayerRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, callback, thisArg) {\n      if (!this.image_ || !this.image_.getImage()) {\n        return undefined;\n      }\n\n      var imageSize =\n          [this.image_.getImage().width, this.image_.getImage().height];\n\n      if (!this.hitTransformationMatrix_) {\n        this.hitTransformationMatrix_ = this.getHitTransformationMatrix_(\n          frameState.size, imageSize);\n      }\n\n      var pixelOnFrameBuffer = apply(\n        this.hitTransformationMatrix_, pixel.slice());\n\n      if (pixelOnFrameBuffer[0] < 0 || pixelOnFrameBuffer[0] > imageSize[0] ||\n          pixelOnFrameBuffer[1] < 0 || pixelOnFrameBuffer[1] > imageSize[1]) {\n        // outside the image, no need to check\n        return undefined;\n      }\n\n      if (!this.hitCanvasContext_) {\n        this.hitCanvasContext_ = createCanvasContext2D(1, 1);\n      }\n\n      this.hitCanvasContext_.clearRect(0, 0, 1, 1);\n      this.hitCanvasContext_.drawImage(this.image_.getImage(),\n        pixelOnFrameBuffer[0], pixelOnFrameBuffer[1], 1, 1, 0, 0, 1, 1);\n\n      var imageData = this.hitCanvasContext_.getImageData(0, 0, 1, 1).data;\n      if (imageData[3] > 0) {\n        return callback.call(thisArg, this.getLayer(), imageData);\n      } else {\n        return undefined;\n      }\n    };\n\n    /**\n     * The transformation matrix to get the pixel on the image for a\n     * pixel on the map.\n     * @param {import(\"../../size.js\").Size} mapSize The map size.\n     * @param {import(\"../../size.js\").Size} imageSize The image size.\n     * @return {import(\"../../transform.js\").Transform} The transformation matrix.\n     * @private\n     */\n    WebGLImageLayerRenderer.prototype.getHitTransformationMatrix_ = function getHitTransformationMatrix_ (mapSize, imageSize) {\n      // the first matrix takes a map pixel, flips the y-axis and scales to\n      // a range between -1 ... 1\n      var mapCoordTransform = create();\n      translate$1(mapCoordTransform, -1, -1);\n      scale$2(mapCoordTransform, 2 / mapSize[0], 2 / mapSize[1]);\n      translate$1(mapCoordTransform, 0, mapSize[1]);\n      scale$2(mapCoordTransform, 1, -1);\n\n      // the second matrix is the inverse of the projection matrix used in the\n      // shader for drawing\n      var projectionMatrixInv = invert(this.projectionMatrix.slice());\n\n      // the third matrix scales to the image dimensions and flips the y-axis again\n      var transform = create();\n      translate$1(transform, 0, imageSize[1]);\n      scale$2(transform, 1, -1);\n      scale$2(transform, imageSize[0] / 2, imageSize[1] / 2);\n      translate$1(transform, 1, 1);\n\n      multiply(transform, projectionMatrixInv);\n      multiply(transform, mapCoordTransform);\n\n      return transform;\n    };\n\n    return WebGLImageLayerRenderer;\n  }(WebGLLayerRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  WebGLImageLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.IMAGE;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {WebGLImageLayerRenderer} The layer renderer.\n   */\n  WebGLImageLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new WebGLImageLayerRenderer(\n      /** @type {import(\"./Map.js\").default} */ (mapRenderer),\n      /** @type {import(\"../../layer/Image.js\").default} */ (layer)\n    );\n  };\n\n  /**\n   * @module ol/renderer/webgl/Map\n   */\n\n\n  /**\n   * @typedef {Object} TextureCacheEntry\n   * @property {number} magFilter\n   * @property {number} minFilter\n   * @property {WebGLTexture} texture\n   */\n\n\n  /**\n   * Texture cache high water mark.\n   * @type {number}\n   */\n  var WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK = 1024;\n\n\n  /**\n   * @classdesc\n   * WebGL map renderer.\n   * @api\n   */\n  var WebGLMapRenderer = /*@__PURE__*/(function (MapRenderer$$1) {\n    function WebGLMapRenderer(map) {\n      MapRenderer$$1.call(this, map);\n\n      var container = map.getViewport();\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = /** @type {HTMLCanvasElement} */\n        (document.createElement('canvas'));\n      this.canvas_.style.width = '100%';\n      this.canvas_.style.height = '100%';\n      this.canvas_.style.display = 'block';\n      this.canvas_.className = CLASS_UNSELECTABLE;\n      container.insertBefore(this.canvas_, container.childNodes[0] || null);\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.clipTileCanvasWidth_ = 0;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.clipTileCanvasHeight_ = 0;\n\n      /**\n       * @private\n       * @type {CanvasRenderingContext2D}\n       */\n      this.clipTileContext_ = createCanvasContext2D();\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderedVisible_ = true;\n\n      /**\n       * @private\n       * @type {WebGLRenderingContext}\n       */\n      this.gl_ = getContext(this.canvas_, {\n        antialias: true,\n        depth: true,\n        failIfMajorPerformanceCaveat: true,\n        preserveDrawingBuffer: false,\n        stencil: true\n      });\n\n      /**\n       * @private\n       * @type {import(\"../../webgl/Context.js\").default}\n       */\n      this.context_ = new WebGLContext(this.canvas_, this.gl_);\n\n      listen(this.canvas_, ContextEventType.LOST,\n        this.handleWebGLContextLost, this);\n      listen(this.canvas_, ContextEventType.RESTORED,\n        this.handleWebGLContextRestored, this);\n\n      /**\n       * @private\n       * @type {import(\"../../structs/LRUCache.js\").default<TextureCacheEntry|null>}\n       */\n      this.textureCache_ = new LRUCache();\n\n      /**\n       * @private\n       * @type {import(\"../../coordinate.js\").Coordinate}\n       */\n      this.focus_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../structs/PriorityQueue.js\").default<Array>}\n       */\n      this.tileTextureQueue_ = new PriorityQueue(\n        /**\n         * @param {Array<*>} element Element.\n         * @return {number} Priority.\n         * @this {WebGLMapRenderer}\n         */\n        (function(element) {\n          var tileCenter = /** @type {import(\"../../coordinate.js\").Coordinate} */ (element[1]);\n          var tileResolution = /** @type {number} */ (element[2]);\n          var deltaX = tileCenter[0] - this.focus_[0];\n          var deltaY = tileCenter[1] - this.focus_[1];\n          return 65536 * Math.log(tileResolution) +\n                Math.sqrt(deltaX * deltaX + deltaY * deltaY) / tileResolution;\n        }).bind(this),\n        /**\n         * @param {Array<*>} element Element.\n         * @return {string} Key.\n         */\n        function(element) {\n          return (\n            /** @type {import(\"../../Tile.js\").default} */ (element[0]).getKey()\n          );\n        });\n\n\n      /**\n       * @param {import(\"../../PluggableMap.js\").default} map Map.\n       * @param {?import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n       * @return {boolean} false.\n       * @this {WebGLMapRenderer}\n       */\n      this.loadNextTileTexture_ =\n          function(map, frameState) {\n            if (!this.tileTextureQueue_.isEmpty()) {\n              this.tileTextureQueue_.reprioritize();\n              var element = this.tileTextureQueue_.dequeue();\n              var tile = /** @type {import(\"../../Tile.js\").default} */ (element[0]);\n              var tileSize = /** @type {import(\"../../size.js\").Size} */ (element[3]);\n              var tileGutter = /** @type {number} */ (element[4]);\n              this.bindTileTexture(\n                tile, tileSize, tileGutter, LINEAR, LINEAR);\n            }\n            return false;\n          }.bind(this);\n\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.textureCacheFrameMarkerCount_ = 0;\n\n      this.initializeGL_();\n    }\n\n    if ( MapRenderer$$1 ) WebGLMapRenderer.__proto__ = MapRenderer$$1;\n    WebGLMapRenderer.prototype = Object.create( MapRenderer$$1 && MapRenderer$$1.prototype );\n    WebGLMapRenderer.prototype.constructor = WebGLMapRenderer;\n\n    /**\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @param {import(\"../../size.js\").Size} tileSize Tile size.\n     * @param {number} tileGutter Tile gutter.\n     * @param {number} magFilter Mag filter.\n     * @param {number} minFilter Min filter.\n     */\n    WebGLMapRenderer.prototype.bindTileTexture = function bindTileTexture (tile, tileSize, tileGutter, magFilter, minFilter) {\n      var gl = this.getGL();\n      var tileKey = tile.getKey();\n      if (this.textureCache_.containsKey(tileKey)) {\n        var textureCacheEntry = this.textureCache_.get(tileKey);\n        gl.bindTexture(TEXTURE_2D, textureCacheEntry.texture);\n        if (textureCacheEntry.magFilter != magFilter) {\n          gl.texParameteri(\n            TEXTURE_2D, TEXTURE_MAG_FILTER, magFilter);\n          textureCacheEntry.magFilter = magFilter;\n        }\n        if (textureCacheEntry.minFilter != minFilter) {\n          gl.texParameteri(\n            TEXTURE_2D, TEXTURE_MIN_FILTER, minFilter);\n          textureCacheEntry.minFilter = minFilter;\n        }\n      } else {\n        var texture = gl.createTexture();\n        var imageTile = /** @type {import(\"../../ImageTile.js\").default} */ (tile);\n        gl.bindTexture(TEXTURE_2D, texture);\n        if (tileGutter > 0) {\n          var clipTileCanvas = this.clipTileContext_.canvas;\n          var clipTileContext = this.clipTileContext_;\n          if (this.clipTileCanvasWidth_ !== tileSize[0] ||\n              this.clipTileCanvasHeight_ !== tileSize[1]) {\n            clipTileCanvas.width = tileSize[0];\n            clipTileCanvas.height = tileSize[1];\n            this.clipTileCanvasWidth_ = tileSize[0];\n            this.clipTileCanvasHeight_ = tileSize[1];\n          } else {\n            clipTileContext.clearRect(0, 0, tileSize[0], tileSize[1]);\n          }\n          clipTileContext.drawImage(imageTile.getImage(), tileGutter, tileGutter,\n            tileSize[0], tileSize[1], 0, 0, tileSize[0], tileSize[1]);\n          gl.texImage2D(TEXTURE_2D, 0,\n            RGBA, RGBA,\n            UNSIGNED_BYTE, clipTileCanvas);\n        } else {\n          gl.texImage2D(TEXTURE_2D, 0,\n            RGBA, RGBA,\n            UNSIGNED_BYTE, imageTile.getImage());\n        }\n        gl.texParameteri(\n          TEXTURE_2D, TEXTURE_MAG_FILTER, magFilter);\n        gl.texParameteri(\n          TEXTURE_2D, TEXTURE_MIN_FILTER, minFilter);\n        gl.texParameteri(TEXTURE_2D, TEXTURE_WRAP_S,\n          CLAMP_TO_EDGE);\n        gl.texParameteri(TEXTURE_2D, TEXTURE_WRAP_T,\n          CLAMP_TO_EDGE);\n        this.textureCache_.set(tileKey, {\n          texture: texture,\n          magFilter: magFilter,\n          minFilter: minFilter\n        });\n      }\n    };\n\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    WebGLMapRenderer.prototype.dispatchRenderEvent = function dispatchRenderEvent (type, frameState) {\n      var map = this.getMap();\n      if (map.hasListener(type)) {\n        var context = this.context_;\n\n        var extent = frameState.extent;\n        var size = frameState.size;\n        var viewState = frameState.viewState;\n        var pixelRatio = frameState.pixelRatio;\n\n        var resolution = viewState.resolution;\n        var center = viewState.center;\n        var rotation = viewState.rotation;\n\n        var vectorContext = new WebGLImmediateRenderer(context,\n          center, resolution, rotation, size, extent, pixelRatio);\n        var composeEvent = new RenderEvent(type, vectorContext,\n          frameState, null, context);\n        map.dispatchEvent(composeEvent);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLMapRenderer.prototype.disposeInternal = function disposeInternal () {\n      var gl = this.getGL();\n      if (!gl.isContextLost()) {\n        this.textureCache_.forEach(\n          /**\n           * @param {?TextureCacheEntry} textureCacheEntry\n           *     Texture cache entry.\n           */\n          function(textureCacheEntry) {\n            if (textureCacheEntry) {\n              gl.deleteTexture(textureCacheEntry.texture);\n            }\n          });\n      }\n      this.context_.dispose();\n      MapRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @param {import(\"../../PluggableMap.js\").default} map Map.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @private\n     */\n    WebGLMapRenderer.prototype.expireCache_ = function expireCache_ (map, frameState) {\n      var gl = this.getGL();\n      var textureCacheEntry;\n      while (this.textureCache_.getCount() - this.textureCacheFrameMarkerCount_ >\n          WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK) {\n        textureCacheEntry = this.textureCache_.peekLast();\n        if (!textureCacheEntry) {\n          if (+this.textureCache_.peekLastKey() == frameState.index) {\n            break;\n          } else {\n            --this.textureCacheFrameMarkerCount_;\n          }\n        } else {\n          gl.deleteTexture(textureCacheEntry.texture);\n        }\n        this.textureCache_.pop();\n      }\n    };\n\n    /**\n     * @return {import(\"../../webgl/Context.js\").default} The context.\n     */\n    WebGLMapRenderer.prototype.getContext = function getContext$$1 () {\n      return this.context_;\n    };\n\n    /**\n     * @return {WebGLRenderingContext} GL.\n     */\n    WebGLMapRenderer.prototype.getGL = function getGL () {\n      return this.gl_;\n    };\n\n    /**\n     * @return {import(\"../../structs/PriorityQueue.js\").default<Array>} Tile texture queue.\n     */\n    WebGLMapRenderer.prototype.getTileTextureQueue = function getTileTextureQueue () {\n      return this.tileTextureQueue_;\n    };\n\n    /**\n     * @param {import(\"../../events/Event.js\").default} event Event.\n     * @protected\n     */\n    WebGLMapRenderer.prototype.handleWebGLContextLost = function handleWebGLContextLost (event) {\n      event.preventDefault();\n      this.textureCache_.clear();\n      this.textureCacheFrameMarkerCount_ = 0;\n\n      var renderers = this.getLayerRenderers();\n      for (var id in renderers) {\n        var renderer = /** @type {import(\"./Layer.js\").default} */ (renderers[id]);\n        renderer.handleWebGLContextLost();\n      }\n    };\n\n    /**\n     * @protected\n     */\n    WebGLMapRenderer.prototype.handleWebGLContextRestored = function handleWebGLContextRestored () {\n      this.initializeGL_();\n      this.getMap().render();\n    };\n\n    /**\n     * @private\n     */\n    WebGLMapRenderer.prototype.initializeGL_ = function initializeGL_ () {\n      var gl = this.gl_;\n      gl.activeTexture(TEXTURE0);\n      gl.blendFuncSeparate(\n        SRC_ALPHA, ONE_MINUS_SRC_ALPHA,\n        ONE, ONE_MINUS_SRC_ALPHA);\n      gl.disable(CULL_FACE);\n      gl.disable(DEPTH_TEST);\n      gl.disable(SCISSOR_TEST);\n      gl.disable(STENCIL_TEST);\n    };\n\n    /**\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @return {boolean} Is tile texture loaded.\n     */\n    WebGLMapRenderer.prototype.isTileTextureLoaded = function isTileTextureLoaded (tile) {\n      return this.textureCache_.containsKey(tile.getKey());\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLMapRenderer.prototype.renderFrame = function renderFrame (frameState) {\n\n      var context = this.getContext();\n      var gl = this.getGL();\n\n      if (gl.isContextLost()) {\n        return false;\n      }\n\n      if (!frameState) {\n        if (this.renderedVisible_) {\n          this.canvas_.style.display = 'none';\n          this.renderedVisible_ = false;\n        }\n        return false;\n      }\n\n      this.focus_ = frameState.focus;\n\n      this.textureCache_.set((-frameState.index).toString(), null);\n      ++this.textureCacheFrameMarkerCount_;\n\n      this.dispatchRenderEvent(RenderEventType.PRECOMPOSE, frameState);\n\n      /** @type {Array<import(\"../../layer/Layer.js\").State>} */\n      var layerStatesToDraw = [];\n      var layerStatesArray = frameState.layerStatesArray;\n      stableSort(layerStatesArray, sortByZIndex);\n\n      var viewResolution = frameState.viewState.resolution;\n      var i, ii;\n      for (i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n        var layerState = layerStatesArray[i];\n        if (visibleAtResolution(layerState, viewResolution) &&\n            layerState.sourceState == SourceState.READY) {\n          var layerRenderer = /** @type {import(\"./Layer.js\").default} */ (this.getLayerRenderer(layerState.layer));\n          if (layerRenderer.prepareFrame(frameState, layerState, context)) {\n            layerStatesToDraw.push(layerState);\n          }\n        }\n      }\n\n      var width = frameState.size[0] * frameState.pixelRatio;\n      var height = frameState.size[1] * frameState.pixelRatio;\n      if (this.canvas_.width != width || this.canvas_.height != height) {\n        this.canvas_.width = width;\n        this.canvas_.height = height;\n      }\n\n      gl.bindFramebuffer(FRAMEBUFFER, null);\n\n      gl.clearColor(0, 0, 0, 0);\n      gl.clear(COLOR_BUFFER_BIT);\n      gl.enable(BLEND);\n      gl.viewport(0, 0, this.canvas_.width, this.canvas_.height);\n\n      for (i = 0, ii = layerStatesToDraw.length; i < ii; ++i) {\n        var layerState$1 = layerStatesToDraw[i];\n        var layerRenderer$1 = /** @type {import(\"./Layer.js\").default} */ (this.getLayerRenderer(layerState$1.layer));\n        layerRenderer$1.composeFrame(frameState, layerState$1, context);\n      }\n\n      if (!this.renderedVisible_) {\n        this.canvas_.style.display = '';\n        this.renderedVisible_ = true;\n      }\n\n      this.calculateMatrices2D(frameState);\n\n      if (this.textureCache_.getCount() - this.textureCacheFrameMarkerCount_ >\n          WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK) {\n        frameState.postRenderFunctions.push(\n          /** @type {import(\"../../PluggableMap.js\").PostRenderFunction} */ (this.expireCache_.bind(this))\n        );\n      }\n\n      if (!this.tileTextureQueue_.isEmpty()) {\n        frameState.postRenderFunctions.push(this.loadNextTileTexture_);\n        frameState.animate = true;\n      }\n\n      this.dispatchRenderEvent(RenderEventType.POSTCOMPOSE, frameState);\n\n      this.scheduleRemoveUnusedLayerRenderers(frameState);\n      this.scheduleExpireIconCache(frameState);\n\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLMapRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (\n      coordinate,\n      frameState,\n      hitTolerance,\n      callback,\n      thisArg,\n      layerFilter,\n      thisArg2\n    ) {\n      var result;\n\n      if (this.getGL().isContextLost()) {\n        return false;\n      }\n\n      var viewState = frameState.viewState;\n\n      var layerStates = frameState.layerStatesArray;\n      var numLayers = layerStates.length;\n      var i;\n      for (i = numLayers - 1; i >= 0; --i) {\n        var layerState = layerStates[i];\n        var layer = layerState.layer;\n        if (visibleAtResolution(layerState, viewState.resolution) &&\n            layerFilter.call(thisArg2, layer)) {\n          var layerRenderer = this.getLayerRenderer(layer);\n          result = layerRenderer.forEachFeatureAtCoordinate(\n            coordinate, frameState, hitTolerance, callback);\n          if (result) {\n            return result;\n          }\n        }\n      }\n      return undefined;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLMapRenderer.prototype.hasFeatureAtCoordinate = function hasFeatureAtCoordinate (coordinate, frameState, hitTolerance, layerFilter, thisArg) {\n      var hasFeature = false;\n\n      if (this.getGL().isContextLost()) {\n        return false;\n      }\n\n      var viewState = frameState.viewState;\n\n      var layerStates = frameState.layerStatesArray;\n      var numLayers = layerStates.length;\n      var i;\n      for (i = numLayers - 1; i >= 0; --i) {\n        var layerState = layerStates[i];\n        var layer = layerState.layer;\n        if (visibleAtResolution(layerState, viewState.resolution) &&\n            layerFilter.call(thisArg, layer)) {\n          var layerRenderer = this.getLayerRenderer(layer);\n          hasFeature =\n              layerRenderer.hasFeatureAtCoordinate(coordinate, frameState);\n          if (hasFeature) {\n            return true;\n          }\n        }\n      }\n      return hasFeature;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLMapRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, hitTolerance, callback, thisArg, layerFilter, thisArg2) {\n      if (this.getGL().isContextLost()) {\n        return false;\n      }\n\n      var viewState = frameState.viewState;\n      var result;\n\n      var layerStates = frameState.layerStatesArray;\n      var numLayers = layerStates.length;\n      var i;\n      for (i = numLayers - 1; i >= 0; --i) {\n        var layerState = layerStates[i];\n        var layer = layerState.layer;\n        if (visibleAtResolution(layerState, viewState.resolution) &&\n            layerFilter.call(thisArg, layer)) {\n          var layerRenderer = /** @type {import(\"./Layer.js\").default} */ (this.getLayerRenderer(layer));\n          result = layerRenderer.forEachLayerAtPixel(\n            pixel, frameState, callback, thisArg);\n          if (result) {\n            return result;\n          }\n        }\n      }\n      return undefined;\n    };\n\n    return WebGLMapRenderer;\n  }(MapRenderer));\n\n  /**\n   * @module ol/Tile\n   */\n\n\n  /**\n   * A function that takes an {@link module:ol/Tile} for the tile and a\n   * `{string}` for the url as arguments. The default is\n   * ```js\n   * source.setTileLoadFunction(function(tile, src) {\n   *   tile.getImage().src = src;\n   * });\n   * ```\n   * For more fine grained control, the load function can use fetch or XMLHttpRequest and involve\n   * error handling:\n   *\n   * ```js\n   * import TileState from 'ol/TileState';\n   *\n   * source.setTileLoadFunction(function(tile, src) {\n   *   var xhr = new XMLHttpRequest();\n   *   xhr.responseType = 'blob';\n   *   xhr.addEventListener('loadend', function (evt) {\n   *     var data = this.response;\n   *     if (data !== undefined) {\n   *       tile.getImage().src = URL.createObjectURL(data);\n   *     } else {\n   *       tile.setState(TileState.ERROR);\n   *     }\n   *   });\n   *   xhr.addEventListener('error', function () {\n   *     tile.setState(TileState.ERROR);\n   *   });\n   *   xhr.open('GET', src);\n   *   xhr.send();\n   * });\n   * ```\n   *\n   * @typedef {function(Tile, string)} LoadFunction\n   * @api\n   */\n\n  /**\n   * {@link module:ol/source/Tile~Tile} sources use a function of this type to get\n   * the url that provides a tile for a given tile coordinate.\n   *\n   * This function takes an {@link module:ol/tilecoord~TileCoord} for the tile\n   * coordinate, a `{number}` representing the pixel ratio and a\n   * {@link module:ol/proj/Projection} for the projection  as arguments\n   * and returns a `{string}` representing the tile URL, or undefined if no tile\n   * should be requested for the passed tile coordinate.\n   *\n   * @typedef {function(import(\"./tilecoord.js\").TileCoord, number,\n   *           import(\"./proj/Projection.js\").default): (string|undefined)} UrlFunction\n   * @api\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [transition=250] A duration for tile opacity\n   * transitions in milliseconds. A duration of 0 disables the opacity transition.\n   * @api\n   */\n\n\n  /**\n   * @classdesc\n   * Base class for tiles.\n   *\n   * @abstract\n   */\n  var Tile = /*@__PURE__*/(function (EventTarget) {\n    function Tile(tileCoord, state, opt_options) {\n      EventTarget.call(this);\n\n      var options = opt_options ? opt_options : {};\n\n      /**\n       * @type {import(\"./tilecoord.js\").TileCoord}\n       */\n      this.tileCoord = tileCoord;\n\n      /**\n       * @protected\n       * @type {TileState}\n       */\n      this.state = state;\n\n      /**\n       * An \"interim\" tile for this tile. The interim tile may be used while this\n       * one is loading, for \"smooth\" transitions when changing params/dimensions\n       * on the source.\n       * @type {Tile}\n       */\n      this.interimTile = null;\n\n      /**\n       * A key assigned to the tile. This is used by the tile source to determine\n       * if this tile can effectively be used, or if a new tile should be created\n       * and this one be used as an interim tile for this new tile.\n       * @type {string}\n       */\n      this.key = '';\n\n      /**\n       * The duration for the opacity transition.\n       * @type {number}\n       */\n      this.transition_ = options.transition === undefined ? 250 : options.transition;\n\n      /**\n       * Lookup of start times for rendering transitions.  If the start time is\n       * equal to -1, the transition is complete.\n       * @type {Object<string, number>}\n       */\n      this.transitionStarts_ = {};\n\n    }\n\n    if ( EventTarget ) Tile.__proto__ = EventTarget;\n    Tile.prototype = Object.create( EventTarget && EventTarget.prototype );\n    Tile.prototype.constructor = Tile;\n\n    /**\n     * @protected\n     */\n    Tile.prototype.changed = function changed () {\n      this.dispatchEvent(EventType.CHANGE);\n    };\n\n    /**\n     * @return {string} Key.\n     */\n    Tile.prototype.getKey = function getKey () {\n      return this.key + '/' + this.tileCoord;\n    };\n\n    /**\n     * Get the interim tile most suitable for rendering using the chain of interim\n     * tiles. This corresponds to the  most recent tile that has been loaded, if no\n     * such tile exists, the original tile is returned.\n     * @return {!Tile} Best tile for rendering.\n     */\n    Tile.prototype.getInterimTile = function getInterimTile () {\n      if (!this.interimTile) {\n        //empty chain\n        return this;\n      }\n      var tile = this.interimTile;\n\n      // find the first loaded tile and return it. Since the chain is sorted in\n      // decreasing order of creation time, there is no need to search the remainder\n      // of the list (all those tiles correspond to older requests and will be\n      // cleaned up by refreshInterimChain)\n      do {\n        if (tile.getState() == TileState.LOADED) {\n          return tile;\n        }\n        tile = tile.interimTile;\n      } while (tile);\n\n      // we can not find a better tile\n      return this;\n    };\n\n    /**\n     * Goes through the chain of interim tiles and discards sections of the chain\n     * that are no longer relevant.\n     */\n    Tile.prototype.refreshInterimChain = function refreshInterimChain () {\n      if (!this.interimTile) {\n        return;\n      }\n\n      var tile = this.interimTile;\n      var prev = /** @type {Tile} */ (this);\n\n      do {\n        if (tile.getState() == TileState.LOADED) {\n          //we have a loaded tile, we can discard the rest of the list\n          //we would could abort any LOADING tile request\n          //older than this tile (i.e. any LOADING tile following this entry in the chain)\n          tile.interimTile = null;\n          break;\n        } else if (tile.getState() == TileState.LOADING) {\n          //keep this LOADING tile any loaded tiles later in the chain are\n          //older than this tile, so we're still interested in the request\n          prev = tile;\n        } else if (tile.getState() == TileState.IDLE) {\n          //the head of the list is the most current tile, we don't need\n          //to start any other requests for this chain\n          prev.interimTile = tile.interimTile;\n        } else {\n          prev = tile;\n        }\n        tile = prev.interimTile;\n      } while (tile);\n    };\n\n    /**\n     * Get the tile coordinate for this tile.\n     * @return {import(\"./tilecoord.js\").TileCoord} The tile coordinate.\n     * @api\n     */\n    Tile.prototype.getTileCoord = function getTileCoord () {\n      return this.tileCoord;\n    };\n\n    /**\n     * @return {TileState} State.\n     */\n    Tile.prototype.getState = function getState () {\n      return this.state;\n    };\n\n    /**\n     * Sets the state of this tile. If you write your own {@link module:ol/Tile~LoadFunction tileLoadFunction} ,\n     * it is important to set the state correctly to {@link module:ol/TileState~ERROR}\n     * when the tile cannot be loaded. Otherwise the tile cannot be removed from\n     * the tile queue and will block other requests.\n     * @param {TileState} state State.\n     * @api\n     */\n    Tile.prototype.setState = function setState (state) {\n      this.state = state;\n      this.changed();\n    };\n\n    /**\n     * Load the image or retry if loading previously failed.\n     * Loading is taken care of by the tile queue, and calling this method is\n     * only needed for preloading or for reloading in case of an error.\n     * @abstract\n     * @api\n     */\n    Tile.prototype.load = function load () {};\n\n    /**\n     * Get the alpha value for rendering.\n     * @param {string} id An id for the renderer.\n     * @param {number} time The render frame time.\n     * @return {number} A number between 0 and 1.\n     */\n    Tile.prototype.getAlpha = function getAlpha (id, time) {\n      if (!this.transition_) {\n        return 1;\n      }\n\n      var start = this.transitionStarts_[id];\n      if (!start) {\n        start = time;\n        this.transitionStarts_[id] = start;\n      } else if (start === -1) {\n        return 1;\n      }\n\n      var delta = time - start + (1000 / 60); // avoid rendering at 0\n      if (delta >= this.transition_) {\n        return 1;\n      }\n      return easeIn(delta / this.transition_);\n    };\n\n    /**\n     * Determine if a tile is in an alpha transition.  A tile is considered in\n     * transition if tile.getAlpha() has not yet been called or has been called\n     * and returned 1.\n     * @param {string} id An id for the renderer.\n     * @return {boolean} The tile is in transition.\n     */\n    Tile.prototype.inTransition = function inTransition (id) {\n      if (!this.transition_) {\n        return false;\n      }\n      return this.transitionStarts_[id] !== -1;\n    };\n\n    /**\n     * Mark a transition as complete.\n     * @param {string} id An id for the renderer.\n     */\n    Tile.prototype.endTransition = function endTransition (id) {\n      if (this.transition_) {\n        this.transitionStarts_[id] = -1;\n      }\n    };\n\n    return Tile;\n  }(Target));\n\n  /**\n   * @module ol/ImageTile\n   */\n\n\n  var ImageTile = /*@__PURE__*/(function (Tile$$1) {\n    function ImageTile(tileCoord, state, src, crossOrigin, tileLoadFunction, opt_options) {\n\n      Tile$$1.call(this, tileCoord, state, opt_options);\n\n      /**\n       * @private\n       * @type {?string}\n       */\n      this.crossOrigin_ = crossOrigin;\n\n      /**\n       * Image URI\n       *\n       * @private\n       * @type {string}\n       */\n      this.src_ = src;\n\n      /**\n       * @private\n       * @type {HTMLImageElement|HTMLCanvasElement}\n       */\n      this.image_ = new Image();\n      if (crossOrigin !== null) {\n        this.image_.crossOrigin = crossOrigin;\n      }\n\n      /**\n       * @private\n       * @type {Array<import(\"./events.js\").EventsKey>}\n       */\n      this.imageListenerKeys_ = null;\n\n      /**\n       * @private\n       * @type {import(\"./Tile.js\").LoadFunction}\n       */\n      this.tileLoadFunction_ = tileLoadFunction;\n\n    }\n\n    if ( Tile$$1 ) ImageTile.__proto__ = Tile$$1;\n    ImageTile.prototype = Object.create( Tile$$1 && Tile$$1.prototype );\n    ImageTile.prototype.constructor = ImageTile;\n\n    /**\n     * @inheritDoc\n     */\n    ImageTile.prototype.disposeInternal = function disposeInternal () {\n      if (this.state == TileState.LOADING) {\n        this.unlistenImage_();\n        this.image_ = getBlankImage();\n      }\n      if (this.interimTile) {\n        this.interimTile.dispose();\n      }\n      this.state = TileState.ABORT;\n      this.changed();\n      Tile$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * Get the HTML image element for this tile (may be a Canvas, Image, or Video).\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @api\n     */\n    ImageTile.prototype.getImage = function getImage () {\n      return this.image_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ImageTile.prototype.getKey = function getKey () {\n      return this.src_;\n    };\n\n    /**\n     * Tracks loading or read errors.\n     *\n     * @private\n     */\n    ImageTile.prototype.handleImageError_ = function handleImageError_ () {\n      this.state = TileState.ERROR;\n      this.unlistenImage_();\n      this.image_ = getBlankImage();\n      this.changed();\n    };\n\n    /**\n     * Tracks successful image load.\n     *\n     * @private\n     */\n    ImageTile.prototype.handleImageLoad_ = function handleImageLoad_ () {\n      var image = /** @type {HTMLImageElement} */ (this.image_);\n      if (image.naturalWidth && image.naturalHeight) {\n        this.state = TileState.LOADED;\n      } else {\n        this.state = TileState.EMPTY;\n      }\n      this.unlistenImage_();\n      this.changed();\n    };\n\n    /**\n     * @inheritDoc\n     * @api\n     */\n    ImageTile.prototype.load = function load () {\n      if (this.state == TileState.ERROR) {\n        this.state = TileState.IDLE;\n        this.image_ = new Image();\n        if (this.crossOrigin_ !== null) {\n          this.image_.crossOrigin = this.crossOrigin_;\n        }\n      }\n      if (this.state == TileState.IDLE) {\n        this.state = TileState.LOADING;\n        this.changed();\n        this.imageListenerKeys_ = [\n          listenOnce(this.image_, EventType.ERROR,\n            this.handleImageError_, this),\n          listenOnce(this.image_, EventType.LOAD,\n            this.handleImageLoad_, this)\n        ];\n        this.tileLoadFunction_(this, this.src_);\n      }\n    };\n\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    ImageTile.prototype.unlistenImage_ = function unlistenImage_ () {\n      this.imageListenerKeys_.forEach(unlistenByKey);\n      this.imageListenerKeys_ = null;\n    };\n\n    return ImageTile;\n  }(Tile));\n\n\n  /**\n   * Get a 1-pixel blank image.\n   * @return {HTMLCanvasElement} Blank image.\n   */\n  function getBlankImage() {\n    var ctx = createCanvasContext2D(1, 1);\n    ctx.fillStyle = 'rgba(0,0,0,0)';\n    ctx.fillRect(0, 0, 1, 1);\n    return ctx.canvas;\n  }\n\n  /**\n   * @module ol/tilecoord\n   */\n\n\n  /**\n   * An array of three numbers representing the location of a tile in a tile\n   * grid. The order is `z`, `x`, and `y`. `z` is the zoom level.\n   * @typedef {Array<number>} TileCoord\n   * @api\n   */\n\n\n  /**\n   * @param {number} z Z.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {TileCoord=} opt_tileCoord Tile coordinate.\n   * @return {TileCoord} Tile coordinate.\n   */\n  function createOrUpdate$2(z, x, y, opt_tileCoord) {\n    if (opt_tileCoord !== undefined) {\n      opt_tileCoord[0] = z;\n      opt_tileCoord[1] = x;\n      opt_tileCoord[2] = y;\n      return opt_tileCoord;\n    } else {\n      return [z, x, y];\n    }\n  }\n\n\n  /**\n   * @param {number} z Z.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {string} Key.\n   */\n  function getKeyZXY(z, x, y) {\n    return z + '/' + x + '/' + y;\n  }\n\n\n  /**\n   * Get the key for a tile coord.\n   * @param {TileCoord} tileCoord The tile coord.\n   * @return {string} Key.\n   */\n  function getKey$1(tileCoord) {\n    return getKeyZXY(tileCoord[0], tileCoord[1], tileCoord[2]);\n  }\n\n\n  /**\n   * Get a tile coord given a key.\n   * @param {string} key The tile coord key.\n   * @return {TileCoord} The tile coord.\n   */\n  function fromKey(key) {\n    return key.split('/').map(Number);\n  }\n\n\n  /**\n   * @param {TileCoord} tileCoord Tile coord.\n   * @return {number} Hash.\n   */\n  function hash(tileCoord) {\n    return (tileCoord[1] << tileCoord[0]) + tileCoord[2];\n  }\n\n\n  /**\n   * @param {TileCoord} tileCoord Tile coordinate.\n   * @param {!import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n   * @return {boolean} Tile coordinate is within extent and zoom level range.\n   */\n  function withinExtentAndZ(tileCoord, tileGrid) {\n    var z = tileCoord[0];\n    var x = tileCoord[1];\n    var y = tileCoord[2];\n\n    if (tileGrid.getMinZoom() > z || z > tileGrid.getMaxZoom()) {\n      return false;\n    }\n    var extent = tileGrid.getExtent();\n    var tileRange;\n    if (!extent) {\n      tileRange = tileGrid.getFullTileRange(z);\n    } else {\n      tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z);\n    }\n    if (!tileRange) {\n      return true;\n    } else {\n      return tileRange.containsXY(x, y);\n    }\n  }\n\n  /**\n   * @module ol/TileCache\n   */\n\n  var TileCache = /*@__PURE__*/(function (LRUCache$$1) {\n    function TileCache(opt_highWaterMark) {\n\n      LRUCache$$1.call(this, opt_highWaterMark);\n\n    }\n\n    if ( LRUCache$$1 ) TileCache.__proto__ = LRUCache$$1;\n    TileCache.prototype = Object.create( LRUCache$$1 && LRUCache$$1.prototype );\n    TileCache.prototype.constructor = TileCache;\n\n    /**\n     * @param {!Object<string, import(\"./TileRange.js\").default>} usedTiles Used tiles.\n     */\n    TileCache.prototype.expireCache = function expireCache (usedTiles) {\n      while (this.canExpireCache()) {\n        var tile = this.peekLast();\n        var zKey = tile.tileCoord[0].toString();\n        if (zKey in usedTiles && usedTiles[zKey].contains(tile.tileCoord)) {\n          break;\n        } else {\n          this.pop().dispose();\n        }\n      }\n    };\n\n    /**\n     * Prune all tiles from the cache that don't have the same z as the newest tile.\n     */\n    TileCache.prototype.pruneExceptNewestZ = function pruneExceptNewestZ () {\n      if (this.getCount() === 0) {\n        return;\n      }\n      var key = this.peekFirstKey();\n      var tileCoord = fromKey(key);\n      var z = tileCoord[0];\n      this.forEach(function(tile) {\n        if (tile.tileCoord[0] !== z) {\n          this.remove(getKey$1(tile.tileCoord));\n          tile.dispose();\n        }\n      }, this);\n    };\n\n    return TileCache;\n  }(LRUCache));\n\n  /**\n   * @module ol/tilegrid/TileGrid\n   */\n\n\n  /**\n   * @private\n   * @type {import(\"../tilecoord.js\").TileCoord}\n   */\n  var tmpTileCoord = [0, 0, 0];\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"../extent.js\").Extent} [extent] Extent for the tile grid. No tiles outside this\n   * extent will be requested by {@link module:ol/source/Tile} sources. When no `origin` or\n   * `origins` are configured, the `origin` will be set to the top-left corner of the extent.\n   * @property {number} [minZoom=0] Minimum zoom.\n   * @property {import(\"../coordinate.js\").Coordinate} [origin] The tile grid origin, i.e. where the `x`\n   * and `y` axes meet (`[z, 0, 0]`). Tile coordinates increase left to right and upwards. If not\n   * specified, `extent` or `origins` must be provided.\n   * @property {Array<import(\"../coordinate.js\").Coordinate>} [origins] Tile grid origins, i.e. where\n   * the `x` and `y` axes meet (`[z, 0, 0]`), for each zoom level. If given, the array length\n   * should match the length of the `resolutions` array, i.e. each resolution can have a different\n   * origin. Tile coordinates increase left to right and upwards. If not specified, `extent` or\n   * `origin` must be provided.\n   * @property {!Array<number>} resolutions Resolutions. The array index of each resolution needs\n   * to match the zoom level. This means that even if a `minZoom` is configured, the resolutions\n   * array will have a length of `maxZoom + 1`.\n   * @property {Array<import(\"../size.js\").Size>} [sizes] Sizes.\n   * @property {number|import(\"../size.js\").Size} [tileSize] Tile size.\n   * Default is `[256, 256]`.\n   * @property {Array<import(\"../size.js\").Size>} [tileSizes] Tile sizes. If given, the array length\n   * should match the length of the `resolutions` array, i.e. each resolution can have a different\n   * tile size.\n   */\n\n\n  /**\n   * @classdesc\n   * Base class for setting the grid pattern for sources accessing tiled-image\n   * servers.\n   * @api\n   */\n  var TileGrid = function TileGrid(options) {\n\n    /**\n     * @protected\n     * @type {number}\n     */\n    this.minZoom = options.minZoom !== undefined ? options.minZoom : 0;\n\n    /**\n     * @private\n     * @type {!Array<number>}\n     */\n    this.resolutions_ = options.resolutions;\n    assert(isSorted(this.resolutions_, function(a, b) {\n      return b - a;\n    }, true), 17); // `resolutions` must be sorted in descending order\n\n\n    // check if we've got a consistent zoom factor and origin\n    var zoomFactor;\n    if (!options.origins) {\n      for (var i = 0, ii = this.resolutions_.length - 1; i < ii; ++i) {\n        if (!zoomFactor) {\n          zoomFactor = this.resolutions_[i] / this.resolutions_[i + 1];\n        } else {\n          if (this.resolutions_[i] / this.resolutions_[i + 1] !== zoomFactor) {\n            zoomFactor = undefined;\n            break;\n          }\n        }\n      }\n    }\n\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.zoomFactor_ = zoomFactor;\n\n\n    /**\n     * @protected\n     * @type {number}\n     */\n    this.maxZoom = this.resolutions_.length - 1;\n\n    /**\n     * @private\n     * @type {import(\"../coordinate.js\").Coordinate}\n     */\n    this.origin_ = options.origin !== undefined ? options.origin : null;\n\n    /**\n     * @private\n     * @type {Array<import(\"../coordinate.js\").Coordinate>}\n     */\n    this.origins_ = null;\n    if (options.origins !== undefined) {\n      this.origins_ = options.origins;\n      assert(this.origins_.length == this.resolutions_.length,\n        20); // Number of `origins` and `resolutions` must be equal\n    }\n\n    var extent = options.extent;\n\n    if (extent !== undefined &&\n        !this.origin_ && !this.origins_) {\n      this.origin_ = getTopLeft(extent);\n    }\n\n    assert(\n      (!this.origin_ && this.origins_) || (this.origin_ && !this.origins_),\n      18); // Either `origin` or `origins` must be configured, never both\n\n    /**\n     * @private\n     * @type {Array<number|import(\"../size.js\").Size>}\n     */\n    this.tileSizes_ = null;\n    if (options.tileSizes !== undefined) {\n      this.tileSizes_ = options.tileSizes;\n      assert(this.tileSizes_.length == this.resolutions_.length,\n        19); // Number of `tileSizes` and `resolutions` must be equal\n    }\n\n    /**\n     * @private\n     * @type {number|import(\"../size.js\").Size}\n     */\n    this.tileSize_ = options.tileSize !== undefined ?\n      options.tileSize :\n      !this.tileSizes_ ? DEFAULT_TILE_SIZE : null;\n    assert(\n      (!this.tileSize_ && this.tileSizes_) ||\n        (this.tileSize_ && !this.tileSizes_),\n      22); // Either `tileSize` or `tileSizes` must be configured, never both\n\n    /**\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.extent_ = extent !== undefined ? extent : null;\n\n\n    /**\n     * @private\n     * @type {Array<import(\"../TileRange.js\").default>}\n     */\n    this.fullTileRanges_ = null;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size}\n     */\n    this.tmpSize_ = [0, 0];\n\n    if (options.sizes !== undefined) {\n      this.fullTileRanges_ = options.sizes.map(function(size, z) {\n        var tileRange = new TileRange(\n          Math.min(0, size[0]), Math.max(size[0] - 1, -1),\n          Math.min(0, size[1]), Math.max(size[1] - 1, -1));\n        return tileRange;\n      }, this);\n    } else if (extent) {\n      this.calculateTileRanges_(extent);\n    }\n\n  };\n\n  /**\n   * Call a function with each tile coordinate for a given extent and zoom level.\n   *\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {number} zoom Integer zoom level.\n   * @param {function(import(\"../tilecoord.js\").TileCoord)} callback Function called with each tile coordinate.\n   * @api\n   */\n  TileGrid.prototype.forEachTileCoord = function forEachTileCoord (extent, zoom, callback) {\n    var tileRange = this.getTileRangeForExtentAndZ(extent, zoom);\n    for (var i = tileRange.minX, ii = tileRange.maxX; i <= ii; ++i) {\n      for (var j = tileRange.minY, jj = tileRange.maxY; j <= jj; ++j) {\n        callback([zoom, i, j]);\n      }\n    }\n  };\n\n  /**\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {function(this: T, number, import(\"../TileRange.js\").default): boolean} callback Callback.\n   * @param {T=} opt_this The object to use as `this` in `callback`.\n   * @param {import(\"../TileRange.js\").default=} opt_tileRange Temporary import(\"../TileRange.js\").default object.\n   * @param {import(\"../extent.js\").Extent=} opt_extent Temporary import(\"../extent.js\").Extent object.\n   * @return {boolean} Callback succeeded.\n   * @template T\n   */\n  TileGrid.prototype.forEachTileCoordParentTileRange = function forEachTileCoordParentTileRange (tileCoord, callback, opt_this, opt_tileRange, opt_extent) {\n    var tileRange, x, y;\n    var tileCoordExtent = null;\n    var z = tileCoord[0] - 1;\n    if (this.zoomFactor_ === 2) {\n      x = tileCoord[1];\n      y = tileCoord[2];\n    } else {\n      tileCoordExtent = this.getTileCoordExtent(tileCoord, opt_extent);\n    }\n    while (z >= this.minZoom) {\n      if (this.zoomFactor_ === 2) {\n        x = Math.floor(x / 2);\n        y = Math.floor(y / 2);\n        tileRange = createOrUpdate$1(x, x, y, y, opt_tileRange);\n      } else {\n        tileRange = this.getTileRangeForExtentAndZ(tileCoordExtent, z, opt_tileRange);\n      }\n      if (callback.call(opt_this, z, tileRange)) {\n        return true;\n      }\n      --z;\n    }\n    return false;\n  };\n\n  /**\n   * Get the extent for this tile grid, if it was configured.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   */\n  TileGrid.prototype.getExtent = function getExtent () {\n    return this.extent_;\n  };\n\n  /**\n   * Get the maximum zoom level for the grid.\n   * @return {number} Max zoom.\n   * @api\n   */\n  TileGrid.prototype.getMaxZoom = function getMaxZoom () {\n    return this.maxZoom;\n  };\n\n  /**\n   * Get the minimum zoom level for the grid.\n   * @return {number} Min zoom.\n   * @api\n   */\n  TileGrid.prototype.getMinZoom = function getMinZoom () {\n    return this.minZoom;\n  };\n\n  /**\n   * Get the origin for the grid at the given zoom level.\n   * @param {number} z Integer zoom level.\n   * @return {import(\"../coordinate.js\").Coordinate} Origin.\n   * @api\n   */\n  TileGrid.prototype.getOrigin = function getOrigin (z) {\n    if (this.origin_) {\n      return this.origin_;\n    } else {\n      return this.origins_[z];\n    }\n  };\n\n  /**\n   * Get the resolution for the given zoom level.\n   * @param {number} z Integer zoom level.\n   * @return {number} Resolution.\n   * @api\n   */\n  TileGrid.prototype.getResolution = function getResolution (z) {\n    return this.resolutions_[z];\n  };\n\n  /**\n   * Get the list of resolutions for the tile grid.\n   * @return {Array<number>} Resolutions.\n   * @api\n   */\n  TileGrid.prototype.getResolutions = function getResolutions () {\n    return this.resolutions_;\n  };\n\n  /**\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {import(\"../TileRange.js\").default=} opt_tileRange Temporary import(\"../TileRange.js\").default object.\n   * @param {import(\"../extent.js\").Extent=} opt_extent Temporary import(\"../extent.js\").Extent object.\n   * @return {import(\"../TileRange.js\").default} Tile range.\n   */\n  TileGrid.prototype.getTileCoordChildTileRange = function getTileCoordChildTileRange (tileCoord, opt_tileRange, opt_extent) {\n    if (tileCoord[0] < this.maxZoom) {\n      if (this.zoomFactor_ === 2) {\n        var minX = tileCoord[1] * 2;\n        var minY = tileCoord[2] * 2;\n        return createOrUpdate$1(minX, minX + 1, minY, minY + 1, opt_tileRange);\n      }\n      var tileCoordExtent = this.getTileCoordExtent(tileCoord, opt_extent);\n      return this.getTileRangeForExtentAndZ(\n        tileCoordExtent, tileCoord[0] + 1, opt_tileRange);\n    }\n    return null;\n  };\n\n  /**\n   * Get the extent for a tile range.\n   * @param {number} z Integer zoom level.\n   * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n   * @param {import(\"../extent.js\").Extent=} opt_extent Temporary import(\"../extent.js\").Extent object.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   */\n  TileGrid.prototype.getTileRangeExtent = function getTileRangeExtent (z, tileRange, opt_extent) {\n    var origin = this.getOrigin(z);\n    var resolution = this.getResolution(z);\n    var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n    var minX = origin[0] + tileRange.minX * tileSize[0] * resolution;\n    var maxX = origin[0] + (tileRange.maxX + 1) * tileSize[0] * resolution;\n    var minY = origin[1] + tileRange.minY * tileSize[1] * resolution;\n    var maxY = origin[1] + (tileRange.maxY + 1) * tileSize[1] * resolution;\n    return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n  };\n\n  /**\n   * Get a tile range for the given extent and integer zoom level.\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @param {number} z Integer zoom level.\n   * @param {import(\"../TileRange.js\").default=} opt_tileRange Temporary tile range object.\n   * @return {import(\"../TileRange.js\").default} Tile range.\n   */\n  TileGrid.prototype.getTileRangeForExtentAndZ = function getTileRangeForExtentAndZ (extent, z, opt_tileRange) {\n    var tileCoord = tmpTileCoord;\n    this.getTileCoordForXYAndZ_(extent[0], extent[1], z, false, tileCoord);\n    var minX = tileCoord[1];\n    var minY = tileCoord[2];\n    this.getTileCoordForXYAndZ_(extent[2], extent[3], z, true, tileCoord);\n    return createOrUpdate$1(minX, tileCoord[1], minY, tileCoord[2], opt_tileRange);\n  };\n\n  /**\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @return {import(\"../coordinate.js\").Coordinate} Tile center.\n   */\n  TileGrid.prototype.getTileCoordCenter = function getTileCoordCenter (tileCoord) {\n    var origin = this.getOrigin(tileCoord[0]);\n    var resolution = this.getResolution(tileCoord[0]);\n    var tileSize = toSize(this.getTileSize(tileCoord[0]), this.tmpSize_);\n    return [\n      origin[0] + (tileCoord[1] + 0.5) * tileSize[0] * resolution,\n      origin[1] + (tileCoord[2] + 0.5) * tileSize[1] * resolution\n    ];\n  };\n\n  /**\n   * Get the extent of a tile coordinate.\n   *\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {import(\"../extent.js\").Extent=} opt_extent Temporary extent object.\n   * @return {import(\"../extent.js\").Extent} Extent.\n   * @api\n   */\n  TileGrid.prototype.getTileCoordExtent = function getTileCoordExtent (tileCoord, opt_extent) {\n    var origin = this.getOrigin(tileCoord[0]);\n    var resolution = this.getResolution(tileCoord[0]);\n    var tileSize = toSize(this.getTileSize(tileCoord[0]), this.tmpSize_);\n    var minX = origin[0] + tileCoord[1] * tileSize[0] * resolution;\n    var minY = origin[1] + tileCoord[2] * tileSize[1] * resolution;\n    var maxX = minX + tileSize[0] * resolution;\n    var maxY = minY + tileSize[1] * resolution;\n    return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n  };\n\n  /**\n   * Get the tile coordinate for the given map coordinate and resolution.This\n   * method considers that coordinates that intersect tile boundaries should be\n   * assigned the higher tile coordinate.\n   *\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {number} resolution Resolution.\n   * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Destination import(\"../tilecoord.js\").TileCoord object.\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n   * @api\n   */\n  TileGrid.prototype.getTileCoordForCoordAndResolution = function getTileCoordForCoordAndResolution (coordinate, resolution, opt_tileCoord) {\n    return this.getTileCoordForXYAndResolution_(\n      coordinate[0], coordinate[1], resolution, false, opt_tileCoord);\n  };\n\n  /**\n   * Note that this method should not be called for resolutions that correspond\n   * to an integer zoom level.Instead call the `getTileCoordForXYAndZ_` method.\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {number} resolution Resolution (for a non-integer zoom level).\n   * @param {boolean} reverseIntersectionPolicy Instead of letting edge\n   *   intersections go to the higher tile coordinate, let edge intersections\n   *   go to the lower tile coordinate.\n   * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Temporary import(\"../tilecoord.js\").TileCoord object.\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n   * @private\n   */\n  TileGrid.prototype.getTileCoordForXYAndResolution_ = function getTileCoordForXYAndResolution_ (x, y, resolution, reverseIntersectionPolicy, opt_tileCoord) {\n    var z = this.getZForResolution(resolution);\n    var scale = resolution / this.getResolution(z);\n    var origin = this.getOrigin(z);\n    var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n\n    var adjustX = reverseIntersectionPolicy ? 0.5 : 0;\n    var adjustY = reverseIntersectionPolicy ? 0 : 0.5;\n    var xFromOrigin = Math.floor((x - origin[0]) / resolution + adjustX);\n    var yFromOrigin = Math.floor((y - origin[1]) / resolution + adjustY);\n    var tileCoordX = scale * xFromOrigin / tileSize[0];\n    var tileCoordY = scale * yFromOrigin / tileSize[1];\n\n    if (reverseIntersectionPolicy) {\n      tileCoordX = Math.ceil(tileCoordX) - 1;\n      tileCoordY = Math.ceil(tileCoordY) - 1;\n    } else {\n      tileCoordX = Math.floor(tileCoordX);\n      tileCoordY = Math.floor(tileCoordY);\n    }\n\n    return createOrUpdate$2(z, tileCoordX, tileCoordY, opt_tileCoord);\n  };\n\n  /**\n   * Although there is repetition between this method and `getTileCoordForXYAndResolution_`,\n   * they should have separate implementations.This method is for integer zoom\n   * levels.The other method should only be called for resolutions corresponding\n   * to non-integer zoom levels.\n   * @param {number} x Map x coordinate.\n   * @param {number} y Map y coordinate.\n   * @param {number} z Integer zoom level.\n   * @param {boolean} reverseIntersectionPolicy Instead of letting edge\n   *   intersections go to the higher tile coordinate, let edge intersections\n   *   go to the lower tile coordinate.\n   * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Temporary import(\"../tilecoord.js\").TileCoord object.\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n   * @private\n   */\n  TileGrid.prototype.getTileCoordForXYAndZ_ = function getTileCoordForXYAndZ_ (x, y, z, reverseIntersectionPolicy, opt_tileCoord) {\n    var origin = this.getOrigin(z);\n    var resolution = this.getResolution(z);\n    var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n\n    var adjustX = reverseIntersectionPolicy ? 0.5 : 0;\n    var adjustY = reverseIntersectionPolicy ? 0 : 0.5;\n    var xFromOrigin = Math.floor((x - origin[0]) / resolution + adjustX);\n    var yFromOrigin = Math.floor((y - origin[1]) / resolution + adjustY);\n    var tileCoordX = xFromOrigin / tileSize[0];\n    var tileCoordY = yFromOrigin / tileSize[1];\n\n    if (reverseIntersectionPolicy) {\n      tileCoordX = Math.ceil(tileCoordX) - 1;\n      tileCoordY = Math.ceil(tileCoordY) - 1;\n    } else {\n      tileCoordX = Math.floor(tileCoordX);\n      tileCoordY = Math.floor(tileCoordY);\n    }\n\n    return createOrUpdate$2(z, tileCoordX, tileCoordY, opt_tileCoord);\n  };\n\n  /**\n   * Get a tile coordinate given a map coordinate and zoom level.\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {number} z Zoom level.\n   * @param {import(\"../tilecoord.js\").TileCoord=} opt_tileCoord Destination import(\"../tilecoord.js\").TileCoord object.\n   * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n   * @api\n   */\n  TileGrid.prototype.getTileCoordForCoordAndZ = function getTileCoordForCoordAndZ (coordinate, z, opt_tileCoord) {\n    return this.getTileCoordForXYAndZ_(\n      coordinate[0], coordinate[1], z, false, opt_tileCoord);\n  };\n\n  /**\n   * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @return {number} Tile resolution.\n   */\n  TileGrid.prototype.getTileCoordResolution = function getTileCoordResolution (tileCoord) {\n    return this.resolutions_[tileCoord[0]];\n  };\n\n  /**\n   * Get the tile size for a zoom level. The type of the return value matches the\n   * `tileSize` or `tileSizes` that the tile grid was configured with. To always\n   * get an `import(\"../size.js\").Size`, run the result through `import(\"../size.js\").Size.toSize()`.\n   * @param {number} z Z.\n   * @return {number|import(\"../size.js\").Size} Tile size.\n   * @api\n   */\n  TileGrid.prototype.getTileSize = function getTileSize (z) {\n    if (this.tileSize_) {\n      return this.tileSize_;\n    } else {\n      return this.tileSizes_[z];\n    }\n  };\n\n  /**\n   * @param {number} z Zoom level.\n   * @return {import(\"../TileRange.js\").default} Extent tile range for the specified zoom level.\n   */\n  TileGrid.prototype.getFullTileRange = function getFullTileRange (z) {\n    if (!this.fullTileRanges_) {\n      return null;\n    } else {\n      return this.fullTileRanges_[z];\n    }\n  };\n\n  /**\n   * @param {number} resolution Resolution.\n   * @param {number=} opt_direction If 0, the nearest resolution will be used.\n   *   If 1, the nearest lower resolution will be used. If -1, the nearest\n   *   higher resolution will be used. Default is 0.\n   * @return {number} Z.\n   * @api\n   */\n  TileGrid.prototype.getZForResolution = function getZForResolution (resolution, opt_direction) {\n    var z = linearFindNearest(this.resolutions_, resolution, opt_direction || 0);\n    return clamp(z, this.minZoom, this.maxZoom);\n  };\n\n  /**\n   * @param {!import(\"../extent.js\").Extent} extent Extent for this tile grid.\n   * @private\n   */\n  TileGrid.prototype.calculateTileRanges_ = function calculateTileRanges_ (extent) {\n    var length = this.resolutions_.length;\n    var fullTileRanges = new Array(length);\n    for (var z = this.minZoom; z < length; ++z) {\n      fullTileRanges[z] = this.getTileRangeForExtentAndZ(extent, z);\n    }\n    this.fullTileRanges_ = fullTileRanges;\n  };\n\n  /**\n   * @module ol/tilegrid\n   */\n\n\n  /**\n   * @param {import(\"./proj/Projection.js\").default} projection Projection.\n   * @return {!TileGrid} Default tile grid for the\n   * passed projection.\n   */\n  function getForProjection(projection) {\n    var tileGrid = projection.getDefaultTileGrid();\n    if (!tileGrid) {\n      tileGrid = createForProjection(projection);\n      projection.setDefaultTileGrid(tileGrid);\n    }\n    return tileGrid;\n  }\n\n\n  /**\n   * @param {TileGrid} tileGrid Tile grid.\n   * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {import(\"./proj/Projection.js\").default} projection Projection.\n   * @return {import(\"./tilecoord.js\").TileCoord} Tile coordinate.\n   */\n  function wrapX(tileGrid, tileCoord, projection) {\n    var z = tileCoord[0];\n    var center = tileGrid.getTileCoordCenter(tileCoord);\n    var projectionExtent = extentFromProjection(projection);\n    if (!containsCoordinate(projectionExtent, center)) {\n      var worldWidth = getWidth(projectionExtent);\n      var worldsAway = Math.ceil((projectionExtent[0] - center[0]) / worldWidth);\n      center[0] += worldWidth * worldsAway;\n      return tileGrid.getTileCoordForCoordAndZ(center, z);\n    } else {\n      return tileCoord;\n    }\n  }\n\n\n  /**\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {number=} opt_maxZoom Maximum zoom level (default is\n   *     DEFAULT_MAX_ZOOM).\n   * @param {number|import(\"./size.js\").Size=} opt_tileSize Tile size (default uses\n   *     DEFAULT_TILE_SIZE).\n   * @param {Corner=} opt_corner Extent corner (default is `'top-left'`).\n   * @return {!TileGrid} TileGrid instance.\n   */\n  function createForExtent(extent, opt_maxZoom, opt_tileSize, opt_corner) {\n    var corner = opt_corner !== undefined ? opt_corner : Corner.TOP_LEFT;\n\n    var resolutions = resolutionsFromExtent(extent, opt_maxZoom, opt_tileSize);\n\n    return new TileGrid({\n      extent: extent,\n      origin: getCorner(extent, corner),\n      resolutions: resolutions,\n      tileSize: opt_tileSize\n    });\n  }\n\n\n  /**\n   * @typedef {Object} XYZOptions\n   * @property {import(\"./extent.js\").Extent} [extent] Extent for the tile grid. The origin for an XYZ tile grid is the\n   * top-left corner of the extent. The zero level of the grid is defined by the resolution at which one tile fits in the\n   * provided extent. If not provided, the extent of the EPSG:3857 projection is used.\n   * @property {number} [maxZoom] Maximum zoom. The default is `42`. This determines the number of levels\n   * in the grid set. For example, a `maxZoom` of 21 means there are 22 levels in the grid set.\n   * @property {number} [minZoom=0] Minimum zoom.\n   * @property {number|import(\"./size.js\").Size} [tileSize=[256, 256]] Tile size in pixels.\n   */\n\n\n  /**\n   * Creates a tile grid with a standard XYZ tiling scheme.\n   * @param {XYZOptions=} opt_options Tile grid options.\n   * @return {!TileGrid} Tile grid instance.\n   * @api\n   */\n  function createXYZ(opt_options) {\n    /** @type {XYZOptions} */\n    var xyzOptions = opt_options || {};\n\n    var extent = xyzOptions.extent || get$2('EPSG:3857').getExtent();\n\n    /** @type {import(\"./tilegrid/TileGrid.js\").Options} */\n    var gridOptions = {\n      extent: extent,\n      minZoom: xyzOptions.minZoom,\n      tileSize: xyzOptions.tileSize,\n      resolutions: resolutionsFromExtent(\n        extent,\n        xyzOptions.maxZoom,\n        xyzOptions.tileSize\n      )\n    };\n    return new TileGrid(gridOptions);\n  }\n\n\n  /**\n   * Create a resolutions array from an extent.  A zoom factor of 2 is assumed.\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {number=} opt_maxZoom Maximum zoom level (default is\n   *     DEFAULT_MAX_ZOOM).\n   * @param {number|import(\"./size.js\").Size=} opt_tileSize Tile size (default uses\n   *     DEFAULT_TILE_SIZE).\n   * @return {!Array<number>} Resolutions array.\n   */\n  function resolutionsFromExtent(extent, opt_maxZoom, opt_tileSize) {\n    var maxZoom = opt_maxZoom !== undefined ?\n      opt_maxZoom : DEFAULT_MAX_ZOOM;\n\n    var height = getHeight(extent);\n    var width = getWidth(extent);\n\n    var tileSize = toSize(opt_tileSize !== undefined ?\n      opt_tileSize : DEFAULT_TILE_SIZE);\n    var maxResolution = Math.max(\n      width / tileSize[0], height / tileSize[1]);\n\n    var length = maxZoom + 1;\n    var resolutions = new Array(length);\n    for (var z = 0; z < length; ++z) {\n      resolutions[z] = maxResolution / Math.pow(2, z);\n    }\n    return resolutions;\n  }\n\n\n  /**\n   * @param {import(\"./proj.js\").ProjectionLike} projection Projection.\n   * @param {number=} opt_maxZoom Maximum zoom level (default is\n   *     DEFAULT_MAX_ZOOM).\n   * @param {number|import(\"./size.js\").Size=} opt_tileSize Tile size (default uses\n   *     DEFAULT_TILE_SIZE).\n   * @param {Corner=} opt_corner Extent corner (default is `'top-left'`).\n   * @return {!TileGrid} TileGrid instance.\n   */\n  function createForProjection(projection, opt_maxZoom, opt_tileSize, opt_corner) {\n    var extent = extentFromProjection(projection);\n    return createForExtent(extent, opt_maxZoom, opt_tileSize, opt_corner);\n  }\n\n\n  /**\n   * Generate a tile grid extent from a projection.  If the projection has an\n   * extent, it is used.  If not, a global extent is assumed.\n   * @param {import(\"./proj.js\").ProjectionLike} projection Projection.\n   * @return {import(\"./extent.js\").Extent} Extent.\n   */\n  function extentFromProjection(projection) {\n    projection = get$2(projection);\n    var extent = projection.getExtent();\n    if (!extent) {\n      var half = 180 * METERS_PER_UNIT[Units.DEGREES] / projection.getMetersPerUnit();\n      extent = createOrUpdate(-half, -half, half, half);\n    }\n    return extent;\n  }\n\n  /**\n   * @module ol/source/Tile\n   */\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Source.js\").AttributionLike} [attributions]\n   * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n   * @property {number} [cacheSize]\n   * @property {boolean} [opaque]\n   * @property {number} [tilePixelRatio]\n   * @property {import(\"../proj.js\").ProjectionLike} [projection]\n   * @property {import(\"./State.js\").default} [state]\n   * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid]\n   * @property {boolean} [wrapX=true]\n   * @property {number} [transition]\n   * @property {string} [key]\n   */\n\n\n  /**\n   * @classdesc\n   * Abstract base class; normally only used for creating subclasses and not\n   * instantiated in apps.\n   * Base class for sources providing images divided into a tile grid.\n   * @abstract\n   * @api\n   */\n  var TileSource = /*@__PURE__*/(function (Source$$1) {\n    function TileSource(options) {\n\n      Source$$1.call(this, {\n        attributions: options.attributions,\n        attributionsCollapsible: options.attributionsCollapsible,\n        projection: options.projection,\n        state: options.state,\n        wrapX: options.wrapX\n      });\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.opaque_ = options.opaque !== undefined ? options.opaque : false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.tilePixelRatio_ = options.tilePixelRatio !== undefined ?\n        options.tilePixelRatio : 1;\n\n      /**\n       * @protected\n       * @type {import(\"../tilegrid/TileGrid.js\").default}\n       */\n      this.tileGrid = options.tileGrid !== undefined ? options.tileGrid : null;\n\n      /**\n       * @protected\n       * @type {import(\"../TileCache.js\").default}\n       */\n      this.tileCache = new TileCache(options.cacheSize);\n\n      /**\n       * @protected\n       * @type {import(\"../size.js\").Size}\n       */\n      this.tmpSize = [0, 0];\n\n      /**\n       * @private\n       * @type {string}\n       */\n      this.key_ = options.key || '';\n\n      /**\n       * @protected\n       * @type {import(\"../Tile.js\").Options}\n       */\n      this.tileOptions = {transition: options.transition};\n\n    }\n\n    if ( Source$$1 ) TileSource.__proto__ = Source$$1;\n    TileSource.prototype = Object.create( Source$$1 && Source$$1.prototype );\n    TileSource.prototype.constructor = TileSource;\n\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    TileSource.prototype.canExpireCache = function canExpireCache () {\n      return this.tileCache.canExpireCache();\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {!Object<string, import(\"../TileRange.js\").default>} usedTiles Used tiles.\n     */\n    TileSource.prototype.expireCache = function expireCache (projection, usedTiles) {\n      var tileCache = this.getTileCacheForProjection(projection);\n      if (tileCache) {\n        tileCache.expireCache(usedTiles);\n      }\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {number} z Zoom level.\n     * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n     * @param {function(import(\"../Tile.js\").default):(boolean|void)} callback Called with each\n     *     loaded tile.  If the callback returns `false`, the tile will not be\n     *     considered loaded.\n     * @return {boolean} The tile range is fully covered with loaded tiles.\n     */\n    TileSource.prototype.forEachLoadedTile = function forEachLoadedTile (projection, z, tileRange, callback) {\n      var tileCache = this.getTileCacheForProjection(projection);\n      if (!tileCache) {\n        return false;\n      }\n\n      var covered = true;\n      var tile, tileCoordKey, loaded;\n      for (var x = tileRange.minX; x <= tileRange.maxX; ++x) {\n        for (var y = tileRange.minY; y <= tileRange.maxY; ++y) {\n          tileCoordKey = getKeyZXY(z, x, y);\n          loaded = false;\n          if (tileCache.containsKey(tileCoordKey)) {\n            tile = /** @type {!import(\"../Tile.js\").default} */ (tileCache.get(tileCoordKey));\n            loaded = tile.getState() === TileState.LOADED;\n            if (loaded) {\n              loaded = (callback(tile) !== false);\n            }\n          }\n          if (!loaded) {\n            covered = false;\n          }\n        }\n      }\n      return covered;\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {number} Gutter.\n     */\n    TileSource.prototype.getGutterForProjection = function getGutterForProjection (projection) {\n      return 0;\n    };\n\n    /**\n     * Return the key to be used for all tiles in the source.\n     * @return {string} The key for all tiles.\n     * @protected\n     */\n    TileSource.prototype.getKey = function getKey () {\n      return this.key_;\n    };\n\n    /**\n     * Set the value to be used as the key for all tiles in the source.\n     * @param {string} key The key for tiles.\n     * @protected\n     */\n    TileSource.prototype.setKey = function setKey (key) {\n      if (this.key_ !== key) {\n        this.key_ = key;\n        this.changed();\n      }\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {boolean} Opaque.\n     */\n    TileSource.prototype.getOpaque = function getOpaque (projection) {\n      return this.opaque_;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileSource.prototype.getResolutions = function getResolutions () {\n      return this.tileGrid.getResolutions();\n    };\n\n    /**\n     * @abstract\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     */\n    TileSource.prototype.getTile = function getTile (z, x, y, pixelRatio, projection) {\n      return abstract();\n    };\n\n    /**\n     * Return the tile grid of the tile source.\n     * @return {import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     * @api\n     */\n    TileSource.prototype.getTileGrid = function getTileGrid () {\n      return this.tileGrid;\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     */\n    TileSource.prototype.getTileGridForProjection = function getTileGridForProjection$1 (projection) {\n      if (!this.tileGrid) {\n        return getForProjection(projection);\n      } else {\n        return this.tileGrid;\n      }\n    };\n\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../TileCache.js\").default} Tile cache.\n     * @protected\n     */\n    TileSource.prototype.getTileCacheForProjection = function getTileCacheForProjection (projection) {\n      var thisProj = this.getProjection();\n      if (thisProj && !equivalent(thisProj, projection)) {\n        return null;\n      } else {\n        return this.tileCache;\n      }\n    };\n\n    /**\n     * Get the tile pixel ratio for this source. Subclasses may override this\n     * method, which is meant to return a supported pixel ratio that matches the\n     * provided `pixelRatio` as close as possible.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Tile pixel ratio.\n     */\n    TileSource.prototype.getTilePixelRatio = function getTilePixelRatio (pixelRatio) {\n      return this.tilePixelRatio_;\n    };\n\n    /**\n     * @param {number} z Z.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../size.js\").Size} Tile size.\n     */\n    TileSource.prototype.getTilePixelSize = function getTilePixelSize (z, pixelRatio, projection) {\n      var tileGrid = this.getTileGridForProjection(projection);\n      var tilePixelRatio = this.getTilePixelRatio(pixelRatio);\n      var tileSize = toSize(tileGrid.getTileSize(z), this.tmpSize);\n      if (tilePixelRatio == 1) {\n        return tileSize;\n      } else {\n        return scale$3(tileSize, tilePixelRatio, this.tmpSize);\n      }\n    };\n\n    /**\n     * Returns a tile coordinate wrapped around the x-axis. When the tile coordinate\n     * is outside the resolution and extent range of the tile grid, `null` will be\n     * returned.\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"../proj/Projection.js\").default=} opt_projection Projection.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate to be passed to the tileUrlFunction or\n     *     null if no tile URL should be created for the passed `tileCoord`.\n     */\n    TileSource.prototype.getTileCoordForTileUrlFunction = function getTileCoordForTileUrlFunction (tileCoord, opt_projection) {\n      var projection = opt_projection !== undefined ?\n        opt_projection : this.getProjection();\n      var tileGrid = this.getTileGridForProjection(projection);\n      if (this.getWrapX() && projection.isGlobal()) {\n        tileCoord = wrapX(tileGrid, tileCoord, projection);\n      }\n      return withinExtentAndZ(tileCoord, tileGrid) ? tileCoord : null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileSource.prototype.refresh = function refresh () {\n      this.tileCache.clear();\n      this.changed();\n    };\n\n    /**\n     * Marks a tile coord as being used, without triggering a load.\n     * @abstract\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    TileSource.prototype.useTile = function useTile (z, x, y, projection) {};\n\n    return TileSource;\n  }(Source));\n\n\n  /**\n   * @classdesc\n   * Events emitted by {@link module:ol/source/Tile~TileSource} instances are instances of this\n   * type.\n   */\n  var TileSourceEvent = /*@__PURE__*/(function (Event$$1) {\n    function TileSourceEvent(type, tile) {\n\n      Event$$1.call(this, type);\n\n      /**\n       * The tile related to the event.\n       * @type {import(\"../Tile.js\").default}\n       * @api\n       */\n      this.tile = tile;\n\n    }\n\n    if ( Event$$1 ) TileSourceEvent.__proto__ = Event$$1;\n    TileSourceEvent.prototype = Object.create( Event$$1 && Event$$1.prototype );\n    TileSourceEvent.prototype.constructor = TileSourceEvent;\n\n    return TileSourceEvent;\n  }(Event));\n\n  /**\n   * @module ol/renderer/webgl/tilelayershader\n   */\n\n  var fragment$5 = new WebGLFragment('precision mediump float;\\nvarying vec2 v_texCoord;\\n\\n\\nuniform sampler2D u_texture;\\n\\nvoid main(void) {\\n  gl_FragColor = texture2D(u_texture, v_texCoord);\\n}\\n');\n\n  var vertex$5 = new WebGLVertex('varying vec2 v_texCoord;\\n\\n\\nattribute vec2 a_position;\\nattribute vec2 a_texCoord;\\nuniform vec4 u_tileOffset;\\n\\nvoid main(void) {\\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\\n  v_texCoord = a_texCoord;\\n}\\n\\n\\n');\n\n  /**\n   * @module ol/renderer/webgl/tilelayershader/Locations\n   */\n\n  var Locations$5 = function Locations(gl, program) {\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_tileOffset = gl.getUniformLocation(\n      program, 'u_tileOffset');\n\n    /**\n     * @type {WebGLUniformLocation}\n     */\n    this.u_texture = gl.getUniformLocation(\n      program, 'u_texture');\n\n    /**\n     * @type {number}\n     */\n    this.a_position = gl.getAttribLocation(\n      program, 'a_position');\n\n    /**\n     * @type {number}\n     */\n    this.a_texCoord = gl.getAttribLocation(\n      program, 'a_texCoord');\n\n  };\n\n  /**\n   * @module ol/renderer/webgl/TileLayer\n   */\n\n  /**\n   * @classdesc\n   * WebGL renderer for tile layers.\n   * @api\n   */\n  var WebGLTileLayerRenderer = /*@__PURE__*/(function (WebGLLayerRenderer$$1) {\n    function WebGLTileLayerRenderer(mapRenderer, tileLayer) {\n\n      WebGLLayerRenderer$$1.call(this, mapRenderer, tileLayer);\n\n      /**\n       * @private\n       * @type {import(\"../../webgl/Fragment.js\").default}\n       */\n      this.fragmentShader_ = fragment$5;\n\n      /**\n       * @private\n       * @type {import(\"../../webgl/Vertex.js\").default}\n       */\n      this.vertexShader_ = vertex$5;\n\n      /**\n       * @private\n       * @type {import(\"./tilelayershader/Locations.js\").default}\n       */\n      this.locations_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../webgl/Buffer.js\").default}\n       */\n      this.renderArrayBuffer_ = new WebGLBuffer([\n        0, 0, 0, 1,\n        1, 0, 1, 1,\n        0, 1, 0, 0,\n        1, 1, 1, 0\n      ]);\n\n      /**\n       * @private\n       * @type {import(\"../../TileRange.js\").default}\n       */\n      this.renderedTileRange_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.renderedFramebufferExtent_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedRevision_ = -1;\n\n      /**\n       * @private\n       * @type {import(\"../../size.js\").Size}\n       */\n      this.tmpSize_ = [0, 0];\n\n    }\n\n    if ( WebGLLayerRenderer$$1 ) WebGLTileLayerRenderer.__proto__ = WebGLLayerRenderer$$1;\n    WebGLTileLayerRenderer.prototype = Object.create( WebGLLayerRenderer$$1 && WebGLLayerRenderer$$1.prototype );\n    WebGLTileLayerRenderer.prototype.constructor = WebGLTileLayerRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTileLayerRenderer.prototype.disposeInternal = function disposeInternal () {\n      var context = this.mapRenderer.getContext();\n      context.deleteBuffer(this.renderArrayBuffer_);\n      WebGLLayerRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTileLayerRenderer.prototype.createLoadedTileFinder = function createLoadedTileFinder (source, projection, tiles) {\n      var mapRenderer = this.mapRenderer;\n\n      return (\n        /**\n         * @param {number} zoom Zoom level.\n         * @param {import(\"../../TileRange.js\").default} tileRange Tile range.\n         * @return {boolean} The tile range is fully loaded.\n         */\n        function(zoom, tileRange) {\n          function callback(tile) {\n            var loaded = mapRenderer.isTileTextureLoaded(tile);\n            if (loaded) {\n              if (!tiles[zoom]) {\n                tiles[zoom] = {};\n              }\n              tiles[zoom][tile.tileCoord.toString()] = tile;\n            }\n            return loaded;\n          }\n          return source.forEachLoadedTile(projection, zoom, tileRange, callback);\n        }\n      );\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTileLayerRenderer.prototype.handleWebGLContextLost = function handleWebGLContextLost () {\n      WebGLLayerRenderer$$1.prototype.handleWebGLContextLost.call(this);\n      this.locations_ = null;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTileLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState, context) {\n\n      var mapRenderer = this.mapRenderer;\n      var gl = context.getGL();\n\n      var viewState = frameState.viewState;\n      var projection = viewState.projection;\n\n      var tileLayer = /** @type {import(\"../../layer/Tile.js\").default} */ (this.getLayer());\n      var tileSource = tileLayer.getSource();\n      if (!(tileSource instanceof TileSource)) {\n        return true;\n      }\n\n      var tileGrid = tileSource.getTileGridForProjection(projection);\n      var z = tileGrid.getZForResolution(viewState.resolution);\n      var tileResolution = tileGrid.getResolution(z);\n\n      var tilePixelSize =\n          tileSource.getTilePixelSize(z, frameState.pixelRatio, projection);\n      var pixelRatio = tilePixelSize[0] /\n          toSize(tileGrid.getTileSize(z), this.tmpSize_)[0];\n      var tilePixelResolution = tileResolution / pixelRatio;\n      var tileGutter = tileSource.getTilePixelRatio(pixelRatio) * tileSource.getGutterForProjection(projection);\n\n      var center = viewState.center;\n      var extent = frameState.extent;\n      var tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z);\n\n      var framebufferExtent;\n      if (this.renderedTileRange_ &&\n          this.renderedTileRange_.equals(tileRange) &&\n          this.renderedRevision_ == tileSource.getRevision()) {\n        framebufferExtent = this.renderedFramebufferExtent_;\n      } else {\n\n        var tileRangeSize = tileRange.getSize();\n\n        var maxDimension = Math.max(\n          tileRangeSize[0] * tilePixelSize[0],\n          tileRangeSize[1] * tilePixelSize[1]);\n        var framebufferDimension = roundUpToPowerOfTwo(maxDimension);\n        var framebufferExtentDimension = tilePixelResolution * framebufferDimension;\n        var origin = tileGrid.getOrigin(z);\n        var minX = origin[0] +\n            tileRange.minX * tilePixelSize[0] * tilePixelResolution;\n        var minY = origin[1] +\n            tileRange.minY * tilePixelSize[1] * tilePixelResolution;\n        framebufferExtent = [\n          minX, minY,\n          minX + framebufferExtentDimension, minY + framebufferExtentDimension\n        ];\n\n        this.bindFramebuffer(frameState, framebufferDimension);\n        gl.viewport(0, 0, framebufferDimension, framebufferDimension);\n\n        gl.clearColor(0, 0, 0, 0);\n        gl.clear(COLOR_BUFFER_BIT);\n        gl.disable(BLEND);\n\n        var program = context.getProgram(this.fragmentShader_, this.vertexShader_);\n        context.useProgram(program);\n        if (!this.locations_) {\n          this.locations_ = new Locations$5(gl, program);\n        }\n\n        context.bindBuffer(ARRAY_BUFFER, this.renderArrayBuffer_);\n        gl.enableVertexAttribArray(this.locations_.a_position);\n        gl.vertexAttribPointer(\n          this.locations_.a_position, 2, FLOAT, false, 16, 0);\n        gl.enableVertexAttribArray(this.locations_.a_texCoord);\n        gl.vertexAttribPointer(\n          this.locations_.a_texCoord, 2, FLOAT, false, 16, 8);\n        gl.uniform1i(this.locations_.u_texture, 0);\n\n        /**\n         * @type {Object<number, Object<string, import(\"../../Tile.js\").default>>}\n         */\n        var tilesToDrawByZ = {};\n        tilesToDrawByZ[z] = {};\n\n        var findLoadedTiles = this.createLoadedTileFinder(\n          tileSource, projection, tilesToDrawByZ);\n\n        var useInterimTilesOnError = tileLayer.getUseInterimTilesOnError();\n        var allTilesLoaded = true;\n        var tmpExtent = createEmpty();\n        var tmpTileRange = new TileRange(0, 0, 0, 0);\n        var childTileRange, drawable, fullyLoaded, tile, tileState;\n        var x, y, tileExtent;\n        for (x = tileRange.minX; x <= tileRange.maxX; ++x) {\n          for (y = tileRange.minY; y <= tileRange.maxY; ++y) {\n\n            tile = tileSource.getTile(z, x, y, pixelRatio, projection);\n            if (layerState.extent !== undefined) {\n              // ignore tiles outside layer extent\n              tileExtent = tileGrid.getTileCoordExtent(tile.tileCoord, tmpExtent);\n              if (!intersects(tileExtent, layerState.extent)) {\n                continue;\n              }\n            }\n            tileState = tile.getState();\n            drawable = tileState == TileState.LOADED ||\n                tileState == TileState.EMPTY ||\n                tileState == TileState.ERROR && !useInterimTilesOnError;\n            if (!drawable) {\n              tile = tile.getInterimTile();\n            }\n            tileState = tile.getState();\n            if (tileState == TileState.LOADED) {\n              if (mapRenderer.isTileTextureLoaded(tile)) {\n                tilesToDrawByZ[z][tile.tileCoord.toString()] = tile;\n                continue;\n              }\n            } else if (tileState == TileState.EMPTY ||\n                       (tileState == TileState.ERROR &&\n                        !useInterimTilesOnError)) {\n              continue;\n            }\n\n            allTilesLoaded = false;\n            fullyLoaded = tileGrid.forEachTileCoordParentTileRange(\n              tile.tileCoord, findLoadedTiles, null, tmpTileRange, tmpExtent);\n            if (!fullyLoaded) {\n              childTileRange = tileGrid.getTileCoordChildTileRange(\n                tile.tileCoord, tmpTileRange, tmpExtent);\n              if (childTileRange) {\n                findLoadedTiles(z + 1, childTileRange);\n              }\n            }\n\n          }\n\n        }\n\n        /** @type {Array<number>} */\n        var zs = Object.keys(tilesToDrawByZ).map(Number);\n        zs.sort(numberSafeCompareFunction);\n        var u_tileOffset = new Float32Array(4);\n        for (var i = 0, ii = zs.length; i < ii; ++i) {\n          var tilesToDraw = tilesToDrawByZ[zs[i]];\n          for (var tileKey in tilesToDraw) {\n            tile = tilesToDraw[tileKey];\n\n            if (!(tile instanceof ImageTile)) {\n              continue;\n            }\n\n            tileExtent = tileGrid.getTileCoordExtent(tile.tileCoord, tmpExtent);\n            u_tileOffset[0] = 2 * (tileExtent[2] - tileExtent[0]) /\n                framebufferExtentDimension;\n            u_tileOffset[1] = 2 * (tileExtent[3] - tileExtent[1]) /\n                framebufferExtentDimension;\n            u_tileOffset[2] = 2 * (tileExtent[0] - framebufferExtent[0]) /\n                framebufferExtentDimension - 1;\n            u_tileOffset[3] = 2 * (tileExtent[1] - framebufferExtent[1]) /\n                framebufferExtentDimension - 1;\n            gl.uniform4fv(this.locations_.u_tileOffset, u_tileOffset);\n            mapRenderer.bindTileTexture(tile, tilePixelSize,\n              tileGutter * pixelRatio, LINEAR, LINEAR);\n            gl.drawArrays(TRIANGLE_STRIP, 0, 4);\n          }\n        }\n\n        if (allTilesLoaded) {\n          this.renderedTileRange_ = tileRange;\n          this.renderedFramebufferExtent_ = framebufferExtent;\n          this.renderedRevision_ = tileSource.getRevision();\n        } else {\n          this.renderedTileRange_ = null;\n          this.renderedFramebufferExtent_ = null;\n          this.renderedRevision_ = -1;\n          frameState.animate = true;\n        }\n\n      }\n\n      this.updateUsedTiles(frameState.usedTiles, tileSource, z, tileRange);\n      var tileTextureQueue = mapRenderer.getTileTextureQueue();\n      this.manageTilePyramid(\n        frameState, tileSource, tileGrid, pixelRatio, projection, extent, z,\n        tileLayer.getPreload(),\n        /**\n         * @param {import(\"../../Tile.js\").default} tile Tile.\n         */\n        function(tile) {\n          if (tile.getState() == TileState.LOADED &&\n                !mapRenderer.isTileTextureLoaded(tile) &&\n                !tileTextureQueue.isKeyQueued(tile.getKey())) {\n            tileTextureQueue.enqueue([\n              tile,\n              tileGrid.getTileCoordCenter(tile.tileCoord),\n              tileGrid.getResolution(tile.tileCoord[0]),\n              tilePixelSize, tileGutter * pixelRatio\n            ]);\n          }\n        }, this);\n      this.scheduleExpireCache(frameState, tileSource);\n\n      var texCoordMatrix = this.texCoordMatrix;\n      reset(texCoordMatrix);\n      translate$1(texCoordMatrix,\n        (Math.round(center[0] / tileResolution) * tileResolution - framebufferExtent[0]) /\n              (framebufferExtent[2] - framebufferExtent[0]),\n        (Math.round(center[1] / tileResolution) * tileResolution - framebufferExtent[1]) /\n              (framebufferExtent[3] - framebufferExtent[1]));\n      if (viewState.rotation !== 0) {\n        rotate$2(texCoordMatrix, viewState.rotation);\n      }\n      scale$2(texCoordMatrix,\n        frameState.size[0] * viewState.resolution /\n              (framebufferExtent[2] - framebufferExtent[0]),\n        frameState.size[1] * viewState.resolution /\n              (framebufferExtent[3] - framebufferExtent[1]));\n      translate$1(texCoordMatrix, -0.5, -0.5);\n\n      return true;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLTileLayerRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, callback, thisArg) {\n      if (!this.framebuffer) {\n        return undefined;\n      }\n\n      var pixelOnMapScaled = [\n        pixel[0] / frameState.size[0],\n        (frameState.size[1] - pixel[1]) / frameState.size[1]];\n\n      var pixelOnFrameBufferScaled = apply(\n        this.texCoordMatrix, pixelOnMapScaled.slice());\n      var pixelOnFrameBuffer = [\n        pixelOnFrameBufferScaled[0] * this.framebufferDimension,\n        pixelOnFrameBufferScaled[1] * this.framebufferDimension];\n\n      var gl = this.mapRenderer.getContext().getGL();\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n      var imageData = new Uint8Array(4);\n      gl.readPixels(pixelOnFrameBuffer[0], pixelOnFrameBuffer[1], 1, 1,\n        gl.RGBA, gl.UNSIGNED_BYTE, imageData);\n\n      if (imageData[3] > 0) {\n        return callback.call(thisArg, this.getLayer(), imageData);\n      } else {\n        return undefined;\n      }\n    };\n\n    return WebGLTileLayerRenderer;\n  }(WebGLLayerRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  WebGLTileLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.TILE;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {WebGLTileLayerRenderer} The layer renderer.\n   */\n  WebGLTileLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new WebGLTileLayerRenderer(\n      /** @type {import(\"./Map.js\").default} */ (mapRenderer),\n      /** @type {import(\"../../layer/Tile.js\").default} */ (layer)\n    );\n  };\n\n  /**\n   * @module ol/renderer/webgl/VectorLayer\n   */\n\n\n  /**\n   * @classdesc\n   * WebGL renderer for vector layers.\n   * @api\n   */\n  var WebGLVectorLayerRenderer = /*@__PURE__*/(function (WebGLLayerRenderer$$1) {\n    function WebGLVectorLayerRenderer(mapRenderer, vectorLayer) {\n\n      WebGLLayerRenderer$$1.call(this, mapRenderer, vectorLayer);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.dirty_ = false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedRevision_ = -1;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.renderedResolution_ = NaN;\n\n      /**\n       * @private\n       * @type {import(\"../../extent.js\").Extent}\n       */\n      this.renderedExtent_ = createEmpty();\n\n      /**\n       * @private\n       * @type {function(import(\"../../Feature.js\").default, import(\"../../Feature.js\").default): number|null}\n       */\n      this.renderedRenderOrder_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../../render/webgl/ReplayGroup.js\").default}\n       */\n      this.replayGroup_ = null;\n\n      /**\n       * The last layer state.\n       * @private\n       * @type {?import(\"../../layer/Layer.js\").State}\n       */\n      this.layerState_ = null;\n\n    }\n\n    if ( WebGLLayerRenderer$$1 ) WebGLVectorLayerRenderer.__proto__ = WebGLLayerRenderer$$1;\n    WebGLVectorLayerRenderer.prototype = Object.create( WebGLLayerRenderer$$1 && WebGLLayerRenderer$$1.prototype );\n    WebGLVectorLayerRenderer.prototype.constructor = WebGLVectorLayerRenderer;\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.composeFrame = function composeFrame (frameState, layerState, context) {\n      this.layerState_ = layerState;\n      var viewState = frameState.viewState;\n      var replayGroup = this.replayGroup_;\n      var size = frameState.size;\n      var pixelRatio = frameState.pixelRatio;\n      var gl = this.mapRenderer.getGL();\n      if (replayGroup && !replayGroup.isEmpty()) {\n        gl.enable(gl.SCISSOR_TEST);\n        gl.scissor(0, 0, size[0] * pixelRatio, size[1] * pixelRatio);\n        replayGroup.replay(context,\n          viewState.center, viewState.resolution, viewState.rotation,\n          size, pixelRatio, layerState.opacity,\n          layerState.managed ? frameState.skippedFeatureUids : {});\n        gl.disable(gl.SCISSOR_TEST);\n      }\n\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.disposeInternal = function disposeInternal () {\n      var replayGroup = this.replayGroup_;\n      if (replayGroup) {\n        var context = this.mapRenderer.getContext();\n        replayGroup.getDeleteResourcesFunction(context)();\n        this.replayGroup_ = null;\n      }\n      WebGLLayerRenderer$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.forEachFeatureAtCoordinate = function forEachFeatureAtCoordinate (coordinate, frameState, hitTolerance, callback, thisArg) {\n      if (!this.replayGroup_ || !this.layerState_) {\n        return undefined;\n      } else {\n        var context = this.mapRenderer.getContext();\n        var viewState = frameState.viewState;\n        var layer = this.getLayer();\n        var layerState = this.layerState_;\n        /** @type {!Object<string, boolean>} */\n        var features = {};\n        return this.replayGroup_.forEachFeatureAtCoordinate(coordinate,\n          context, viewState.center, viewState.resolution, viewState.rotation,\n          frameState.size, frameState.pixelRatio, layerState.opacity,\n          {},\n          /**\n           * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n           * @return {?} Callback result.\n           */\n          function(feature) {\n            var key = getUid(feature);\n            if (!(key in features)) {\n              features[key] = true;\n              return callback.call(thisArg, feature, layer);\n            }\n          });\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.hasFeatureAtCoordinate = function hasFeatureAtCoordinate (coordinate, frameState) {\n      if (!this.replayGroup_ || !this.layerState_) {\n        return false;\n      } else {\n        var context = this.mapRenderer.getContext();\n        var viewState = frameState.viewState;\n        var layerState = this.layerState_;\n        return this.replayGroup_.hasFeatureAtCoordinate(coordinate,\n          context, viewState.center, viewState.resolution, viewState.rotation,\n          frameState.size, frameState.pixelRatio, layerState.opacity,\n          frameState.skippedFeatureUids);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, frameState, callback, thisArg) {\n      var coordinate = apply(\n        frameState.pixelToCoordinateTransform, pixel.slice());\n      var hasFeature = this.hasFeatureAtCoordinate(coordinate, frameState);\n\n      if (hasFeature) {\n        return callback.call(thisArg, this.getLayer(), null);\n      } else {\n        return undefined;\n      }\n    };\n\n    /**\n     * Handle changes in image style state.\n     * @param {import(\"../../events/Event.js\").default} event Image style change event.\n     * @private\n     */\n    WebGLVectorLayerRenderer.prototype.handleStyleImageChange_ = function handleStyleImageChange_ (event) {\n      this.renderIfReadyAndVisible();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    WebGLVectorLayerRenderer.prototype.prepareFrame = function prepareFrame (frameState, layerState, context) {\n      var vectorLayer = /** @type {import(\"../../layer/Vector.js\").default} */ (this.getLayer());\n      var vectorSource = /** @type {import(\"../../source/Vector.js\").default} */ (vectorLayer.getSource());\n\n      var animating = frameState.viewHints[ViewHint.ANIMATING];\n      var interacting = frameState.viewHints[ViewHint.INTERACTING];\n      var updateWhileAnimating = vectorLayer.getUpdateWhileAnimating();\n      var updateWhileInteracting = vectorLayer.getUpdateWhileInteracting();\n\n      if (!this.dirty_ && (!updateWhileAnimating && animating) ||\n          (!updateWhileInteracting && interacting)) {\n        return true;\n      }\n\n      var frameStateExtent = frameState.extent;\n      var viewState = frameState.viewState;\n      var projection = viewState.projection;\n      var resolution = viewState.resolution;\n      var pixelRatio = frameState.pixelRatio;\n      var vectorLayerRevision = vectorLayer.getRevision();\n      var vectorLayerRenderBuffer = vectorLayer.getRenderBuffer();\n      var vectorLayerRenderOrder = vectorLayer.getRenderOrder();\n\n      if (vectorLayerRenderOrder === undefined) {\n        vectorLayerRenderOrder = defaultOrder;\n      }\n\n      var extent = buffer(frameStateExtent,\n        vectorLayerRenderBuffer * resolution);\n\n      if (!this.dirty_ &&\n          this.renderedResolution_ == resolution &&\n          this.renderedRevision_ == vectorLayerRevision &&\n          this.renderedRenderOrder_ == vectorLayerRenderOrder &&\n          containsExtent(this.renderedExtent_, extent)) {\n        return true;\n      }\n\n      if (this.replayGroup_) {\n        frameState.postRenderFunctions.push(\n          this.replayGroup_.getDeleteResourcesFunction(context));\n      }\n\n      this.dirty_ = false;\n\n      var replayGroup = new WebGLReplayGroup(\n        getTolerance(resolution, pixelRatio),\n        extent, vectorLayer.getRenderBuffer());\n      vectorSource.loadFeatures(extent, resolution, projection);\n      /**\n       * @param {import(\"../../Feature.js\").default} feature Feature.\n       * @this {WebGLVectorLayerRenderer}\n       */\n      var render = function(feature) {\n        var styles;\n        var styleFunction = feature.getStyleFunction() || vectorLayer.getStyleFunction();\n        if (styleFunction) {\n          styles = styleFunction(feature, resolution);\n        }\n        if (styles) {\n          var dirty = this.renderFeature(\n            feature, resolution, pixelRatio, styles, replayGroup);\n          this.dirty_ = this.dirty_ || dirty;\n        }\n      }.bind(this);\n      if (vectorLayerRenderOrder) {\n        /** @type {Array<import(\"../../Feature.js\").default>} */\n        var features = [];\n        vectorSource.forEachFeatureInExtent(extent,\n          /**\n           * @param {import(\"../../Feature.js\").default} feature Feature.\n           */\n          function(feature) {\n            features.push(feature);\n          });\n        features.sort(vectorLayerRenderOrder);\n        features.forEach(render.bind(this));\n      } else {\n        vectorSource.forEachFeatureInExtent(extent, render);\n      }\n      replayGroup.finish(context);\n\n      this.renderedResolution_ = resolution;\n      this.renderedRevision_ = vectorLayerRevision;\n      this.renderedRenderOrder_ = vectorLayerRenderOrder;\n      this.renderedExtent_ = extent;\n      this.replayGroup_ = replayGroup;\n\n      return true;\n    };\n\n    /**\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../style/Style.js\").default|Array<import(\"../../style/Style.js\").default>} styles The style or array of\n     *     styles.\n     * @param {import(\"../../render/webgl/ReplayGroup.js\").default} replayGroup Replay group.\n     * @return {boolean} `true` if an image is loading.\n     */\n    WebGLVectorLayerRenderer.prototype.renderFeature = function renderFeature$1 (feature, resolution, pixelRatio, styles, replayGroup) {\n      if (!styles) {\n        return false;\n      }\n      var loading = false;\n      if (Array.isArray(styles)) {\n        for (var i = styles.length - 1, ii = 0; i >= ii; --i) {\n          loading = renderFeature(\n            replayGroup, feature, styles[i],\n            getSquaredTolerance(resolution, pixelRatio),\n            this.handleStyleImageChange_, this) || loading;\n        }\n      } else {\n        loading = renderFeature(\n          replayGroup, feature, styles,\n          getSquaredTolerance(resolution, pixelRatio),\n          this.handleStyleImageChange_, this) || loading;\n      }\n      return loading;\n    };\n\n    return WebGLVectorLayerRenderer;\n  }(WebGLLayerRenderer));\n\n\n  /**\n   * Determine if this renderer handles the provided layer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The candidate layer.\n   * @return {boolean} The renderer can render the layer.\n   */\n  WebGLVectorLayerRenderer['handles'] = function(layer) {\n    return layer.getType() === LayerType.VECTOR;\n  };\n\n\n  /**\n   * Create a layer renderer.\n   * @param {import(\"../Map.js\").default} mapRenderer The map renderer.\n   * @param {import(\"../../layer/Layer.js\").default} layer The layer to be rendererd.\n   * @return {WebGLVectorLayerRenderer} The layer renderer.\n   */\n  WebGLVectorLayerRenderer['create'] = function(mapRenderer, layer) {\n    return new WebGLVectorLayerRenderer(\n      /** @type {import(\"./Map.js\").default} */ (mapRenderer),\n      /** @type {import(\"../../layer/Vector.js\").default} */ (layer)\n    );\n  };\n\n  /**\n   * @module ol/WebGLMap\n   */\n\n\n  /**\n   * @classdesc\n   * The WebGLMap uses WebGL for rendering map layers.  This renderer has limited\n   * support for vector data and no support for vector tiles.\n   *\n   *     import WebGLMap from 'ol/WebGLMap';\n   *     import TileLayer from 'ol/layer/Tile';\n   *     import OSM from 'ol/source/OSM';\n   *     import View from 'ol/View';\n   *\n   *     var map = new WebGLMap({\n   *       view: new View({\n   *         center: [0, 0],\n   *         zoom: 1\n   *       }),\n   *       layers: [\n   *         new TileLayer({\n   *           source: new OSM()\n   *         })\n   *       ],\n   *       target: 'map'\n   *     });\n   *\n   * The above snippet creates a map using a {@link module:ol/layer/Tile~Tile} to\n   * display {@link module:ol/source/OSM~OSM} OSM data and render it to a DOM\n   * element with the id `map`.\n   *\n   * The constructor places a viewport container (with CSS class name\n   * `ol-viewport`) in the target element (see `getViewport()`), and then two\n   * further elements within the viewport: one with CSS class name\n   * `ol-overlaycontainer-stopevent` for controls and some overlays, and one with\n   * CSS class name `ol-overlaycontainer` for other overlays (see the `stopEvent`\n   * option of {@link module:ol/Overlay~Overlay} for the difference). The map\n   * itself is placed in a further element within the viewport.\n   *\n   * Layers are stored as a {@link module:ol/Collection~Collection} in\n   * layerGroups. A top-level group is provided by the library. This is what is\n   * accessed by `getLayerGroup` and `setLayerGroup`. Layers entered in the\n   * options are added to this group, and `addLayer` and `removeLayer` change the\n   * layer collection in the group. `getLayers` is a convenience function for\n   * `getLayerGroup().getLayers()`.\n   * Note that {@link module:ol/layer/Group~Group} is a subclass of\n   * {@link module:ol/layer/Base}, so layers entered in the options or added\n   * with `addLayer` can be groups, which can contain further groups, and so on.\n   *\n   * @fires import(\"./MapBrowserEvent.js\").MapBrowserEvent\n   * @fires import(\"./MapEvent.js\").MapEvent\n   * @fires module:ol/render/Event~RenderEvent#postcompose\n   * @fires module:ol/render/Event~RenderEvent#precompose\n   * @api\n   */\n  var WebGLMap = /*@__PURE__*/(function (PluggableMap$$1) {\n    function WebGLMap(options) {\n      options = assign({}, options);\n      if (!options.controls) {\n        options.controls = defaults();\n      }\n      if (!options.interactions) {\n        options.interactions = defaults$1();\n      }\n\n      PluggableMap$$1.call(this, options);\n    }\n\n    if ( PluggableMap$$1 ) WebGLMap.__proto__ = PluggableMap$$1;\n    WebGLMap.prototype = Object.create( PluggableMap$$1 && PluggableMap$$1.prototype );\n    WebGLMap.prototype.constructor = WebGLMap;\n\n    WebGLMap.prototype.createRenderer = function createRenderer () {\n      var renderer = new WebGLMapRenderer(this);\n      renderer.registerLayerRenderers([\n        WebGLImageLayerRenderer,\n        WebGLTileLayerRenderer,\n        WebGLVectorLayerRenderer\n      ]);\n      return renderer;\n    };\n\n    return WebGLMap;\n  }(PluggableMap));\n\n  /**\n   * @module ol/layer/TileProperty\n   */\n\n  /**\n   * @enum {string}\n   */\n  var TileProperty = {\n    PRELOAD: 'preload',\n    USE_INTERIM_TILES_ON_ERROR: 'useInterimTilesOnError'\n  };\n\n  /**\n   * @module ol/layer/Tile\n   */\n\n\n  /**\n   * @typedef {Object} Options\n   * @property {number} [opacity=1] Opacity (0, 1).\n   * @property {boolean} [visible=true] Visibility.\n   * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n   * rendered outside of this extent.\n   * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n   * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n   * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n   * method was used.\n   * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n   * visible.\n   * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n   * be visible.\n   * @property {number} [preload=0] Preload. Load low-resolution tiles up to `preload` levels. `0`\n   * means no preloading.\n   * @property {import(\"../source/Tile.js\").default} [source] Source for this layer.\n   * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n   * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n   * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n   * use {@link module:ol/Map#addLayer}.\n   * @property {boolean} [useInterimTilesOnError=true] Use interim tiles on error.\n   */\n\n  /**\n   * @classdesc\n   * For layer sources that provide pre-rendered, tiled images in grids that are\n   * organized by zoom levels for specific resolutions.\n   * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n   * property on the layer object; for example, setting `title: 'My Title'` in the\n   * options means that `title` is observable, and has get/set accessors.\n   *\n   * @api\n   */\n  var TileLayer = /*@__PURE__*/(function (Layer$$1) {\n    function TileLayer(opt_options) {\n      var options = opt_options ? opt_options : {};\n\n      var baseOptions = assign({}, options);\n\n      delete baseOptions.preload;\n      delete baseOptions.useInterimTilesOnError;\n      Layer$$1.call(this, baseOptions);\n\n      this.setPreload(options.preload !== undefined ? options.preload : 0);\n      this.setUseInterimTilesOnError(options.useInterimTilesOnError !== undefined ?\n        options.useInterimTilesOnError : true);\n\n      /**\n      * The layer type.\n      * @protected\n      * @type {import(\"../LayerType.js\").default}\n      */\n      this.type = LayerType.TILE;\n\n    }\n\n    if ( Layer$$1 ) TileLayer.__proto__ = Layer$$1;\n    TileLayer.prototype = Object.create( Layer$$1 && Layer$$1.prototype );\n    TileLayer.prototype.constructor = TileLayer;\n\n    /**\n    * Return the level as number to which we will preload tiles up to.\n    * @return {number} The level to preload tiles up to.\n    * @observable\n    * @api\n    */\n    TileLayer.prototype.getPreload = function getPreload () {\n      return /** @type {number} */ (this.get(TileProperty.PRELOAD));\n    };\n\n    /**\n    * Set the level as number to which we will preload tiles up to.\n    * @param {number} preload The level to preload tiles up to.\n    * @observable\n    * @api\n    */\n    TileLayer.prototype.setPreload = function setPreload (preload) {\n      this.set(TileProperty.PRELOAD, preload);\n    };\n\n    /**\n    * Whether we use interim tiles on error.\n    * @return {boolean} Use interim tiles on error.\n    * @observable\n    * @api\n    */\n    TileLayer.prototype.getUseInterimTilesOnError = function getUseInterimTilesOnError () {\n      return /** @type {boolean} */ (this.get(TileProperty.USE_INTERIM_TILES_ON_ERROR));\n    };\n\n    /**\n    * Set whether we use interim tiles on error.\n    * @param {boolean} useInterimTilesOnError Use interim tiles on error.\n    * @observable\n    * @api\n    */\n    TileLayer.prototype.setUseInterimTilesOnError = function setUseInterimTilesOnError (useInterimTilesOnError) {\n      this.set(TileProperty.USE_INTERIM_TILES_ON_ERROR, useInterimTilesOnError);\n    };\n\n    return TileLayer;\n  }(Layer));\n\n\n  /**\n   * Return the associated {@link module:ol/source/Tile tilesource} of the layer.\n   * @function\n   * @return {import(\"../source/Tile.js\").default} Source.\n   * @api\n   */\n  TileLayer.prototype.getSource;\n\n  /**\n   * @module ol/reproj\n   */\n\n\n  /**\n   * Calculates ideal resolution to use from the source in order to achieve\n   * pixel mapping as close as possible to 1:1 during reprojection.\n   * The resolution is calculated regardless of what resolutions\n   * are actually available in the dataset (TileGrid, Image, ...).\n   *\n   * @param {import(\"./proj/Projection.js\").default} sourceProj Source projection.\n   * @param {import(\"./proj/Projection.js\").default} targetProj Target projection.\n   * @param {import(\"./coordinate.js\").Coordinate} targetCenter Target center.\n   * @param {number} targetResolution Target resolution.\n   * @return {number} The best resolution to use. Can be +-Infinity, NaN or 0.\n   */\n  function calculateSourceResolution(sourceProj, targetProj,\n    targetCenter, targetResolution) {\n\n    var sourceCenter = transform(targetCenter, targetProj, sourceProj);\n\n    // calculate the ideal resolution of the source data\n    var sourceResolution = getPointResolution(targetProj, targetResolution, targetCenter);\n\n    var targetMetersPerUnit = targetProj.getMetersPerUnit();\n    if (targetMetersPerUnit !== undefined) {\n      sourceResolution *= targetMetersPerUnit;\n    }\n    var sourceMetersPerUnit = sourceProj.getMetersPerUnit();\n    if (sourceMetersPerUnit !== undefined) {\n      sourceResolution /= sourceMetersPerUnit;\n    }\n\n    // Based on the projection properties, the point resolution at the specified\n    // coordinates may be slightly different. We need to reverse-compensate this\n    // in order to achieve optimal results.\n\n    var sourceExtent = sourceProj.getExtent();\n    if (!sourceExtent || containsCoordinate(sourceExtent, sourceCenter)) {\n      var compensationFactor = getPointResolution(sourceProj, sourceResolution, sourceCenter) /\n          sourceResolution;\n      if (isFinite(compensationFactor) && compensationFactor > 0) {\n        sourceResolution /= compensationFactor;\n      }\n    }\n\n    return sourceResolution;\n  }\n\n\n  /**\n   * Enlarge the clipping triangle point by 1 pixel to ensure the edges overlap\n   * in order to mask gaps caused by antialiasing.\n   *\n   * @param {number} centroidX Centroid of the triangle (x coordinate in pixels).\n   * @param {number} centroidY Centroid of the triangle (y coordinate in pixels).\n   * @param {number} x X coordinate of the point (in pixels).\n   * @param {number} y Y coordinate of the point (in pixels).\n   * @return {import(\"./coordinate.js\").Coordinate} New point 1 px farther from the centroid.\n   */\n  function enlargeClipPoint(centroidX, centroidY, x, y) {\n    var dX = x - centroidX;\n    var dY = y - centroidY;\n    var distance = Math.sqrt(dX * dX + dY * dY);\n    return [Math.round(x + dX / distance), Math.round(y + dY / distance)];\n  }\n\n\n  /**\n   * Renders the source data into new canvas based on the triangulation.\n   *\n   * @param {number} width Width of the canvas.\n   * @param {number} height Height of the canvas.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {number} sourceResolution Source resolution.\n   * @param {import(\"./extent.js\").Extent} sourceExtent Extent of the data source.\n   * @param {number} targetResolution Target resolution.\n   * @param {import(\"./extent.js\").Extent} targetExtent Target extent.\n   * @param {import(\"./reproj/Triangulation.js\").default} triangulation\n   * Calculated triangulation.\n   * @param {Array<{extent: import(\"./extent.js\").Extent,\n   *                 image: (HTMLCanvasElement|HTMLImageElement|HTMLVideoElement)}>} sources\n   * Array of sources.\n   * @param {number} gutter Gutter of the sources.\n   * @param {boolean=} opt_renderEdges Render reprojection edges.\n   * @return {HTMLCanvasElement} Canvas with reprojected data.\n   */\n  function render$6(width, height, pixelRatio,\n    sourceResolution, sourceExtent, targetResolution, targetExtent,\n    triangulation, sources, gutter, opt_renderEdges) {\n\n    var context = createCanvasContext2D(Math.round(pixelRatio * width),\n      Math.round(pixelRatio * height));\n\n    if (sources.length === 0) {\n      return context.canvas;\n    }\n\n    context.scale(pixelRatio, pixelRatio);\n\n    var sourceDataExtent = createEmpty();\n    sources.forEach(function(src, i, arr) {\n      extend$1(sourceDataExtent, src.extent);\n    });\n\n    var canvasWidthInUnits = getWidth(sourceDataExtent);\n    var canvasHeightInUnits = getHeight(sourceDataExtent);\n    var stitchContext = createCanvasContext2D(\n      Math.round(pixelRatio * canvasWidthInUnits / sourceResolution),\n      Math.round(pixelRatio * canvasHeightInUnits / sourceResolution));\n\n    var stitchScale = pixelRatio / sourceResolution;\n\n    sources.forEach(function(src, i, arr) {\n      var xPos = src.extent[0] - sourceDataExtent[0];\n      var yPos = -(src.extent[3] - sourceDataExtent[3]);\n      var srcWidth = getWidth(src.extent);\n      var srcHeight = getHeight(src.extent);\n\n      stitchContext.drawImage(\n        src.image,\n        gutter, gutter,\n        src.image.width - 2 * gutter, src.image.height - 2 * gutter,\n        xPos * stitchScale, yPos * stitchScale,\n        srcWidth * stitchScale, srcHeight * stitchScale);\n    });\n\n    var targetTopLeft = getTopLeft(targetExtent);\n\n    triangulation.getTriangles().forEach(function(triangle, i, arr) {\n      /* Calculate affine transform (src -> dst)\n       * Resulting matrix can be used to transform coordinate\n       * from `sourceProjection` to destination pixels.\n       *\n       * To optimize number of context calls and increase numerical stability,\n       * we also do the following operations:\n       * trans(-topLeftExtentCorner), scale(1 / targetResolution), scale(1, -1)\n       * here before solving the linear system so [ui, vi] are pixel coordinates.\n       *\n       * Src points: xi, yi\n       * Dst points: ui, vi\n       * Affine coefficients: aij\n       *\n       * | x0 y0 1  0  0 0 |   |a00|   |u0|\n       * | x1 y1 1  0  0 0 |   |a01|   |u1|\n       * | x2 y2 1  0  0 0 | x |a02| = |u2|\n       * |  0  0 0 x0 y0 1 |   |a10|   |v0|\n       * |  0  0 0 x1 y1 1 |   |a11|   |v1|\n       * |  0  0 0 x2 y2 1 |   |a12|   |v2|\n       */\n      var source = triangle.source;\n      var target = triangle.target;\n      var x0 = source[0][0], y0 = source[0][1];\n      var x1 = source[1][0], y1 = source[1][1];\n      var x2 = source[2][0], y2 = source[2][1];\n      var u0 = (target[0][0] - targetTopLeft[0]) / targetResolution;\n      var v0 = -(target[0][1] - targetTopLeft[1]) / targetResolution;\n      var u1 = (target[1][0] - targetTopLeft[0]) / targetResolution;\n      var v1 = -(target[1][1] - targetTopLeft[1]) / targetResolution;\n      var u2 = (target[2][0] - targetTopLeft[0]) / targetResolution;\n      var v2 = -(target[2][1] - targetTopLeft[1]) / targetResolution;\n\n      // Shift all the source points to improve numerical stability\n      // of all the subsequent calculations. The [x0, y0] is used here.\n      // This is also used to simplify the linear system.\n      var sourceNumericalShiftX = x0;\n      var sourceNumericalShiftY = y0;\n      x0 = 0;\n      y0 = 0;\n      x1 -= sourceNumericalShiftX;\n      y1 -= sourceNumericalShiftY;\n      x2 -= sourceNumericalShiftX;\n      y2 -= sourceNumericalShiftY;\n\n      var augmentedMatrix = [\n        [x1, y1, 0, 0, u1 - u0],\n        [x2, y2, 0, 0, u2 - u0],\n        [0, 0, x1, y1, v1 - v0],\n        [0, 0, x2, y2, v2 - v0]\n      ];\n      var affineCoefs = solveLinearSystem(augmentedMatrix);\n      if (!affineCoefs) {\n        return;\n      }\n\n      context.save();\n      context.beginPath();\n      var centroidX = (u0 + u1 + u2) / 3;\n      var centroidY = (v0 + v1 + v2) / 3;\n      var p0 = enlargeClipPoint(centroidX, centroidY, u0, v0);\n      var p1 = enlargeClipPoint(centroidX, centroidY, u1, v1);\n      var p2 = enlargeClipPoint(centroidX, centroidY, u2, v2);\n\n      context.moveTo(p1[0], p1[1]);\n      context.lineTo(p0[0], p0[1]);\n      context.lineTo(p2[0], p2[1]);\n      context.clip();\n\n      context.transform(\n        affineCoefs[0], affineCoefs[2], affineCoefs[1], affineCoefs[3], u0, v0);\n\n      context.translate(sourceDataExtent[0] - sourceNumericalShiftX,\n        sourceDataExtent[3] - sourceNumericalShiftY);\n\n      context.scale(sourceResolution / pixelRatio,\n        -sourceResolution / pixelRatio);\n\n      context.drawImage(stitchContext.canvas, 0, 0);\n      context.restore();\n    });\n\n    if (opt_renderEdges) {\n      context.save();\n\n      context.strokeStyle = 'black';\n      context.lineWidth = 1;\n\n      triangulation.getTriangles().forEach(function(triangle, i, arr) {\n        var target = triangle.target;\n        var u0 = (target[0][0] - targetTopLeft[0]) / targetResolution;\n        var v0 = -(target[0][1] - targetTopLeft[1]) / targetResolution;\n        var u1 = (target[1][0] - targetTopLeft[0]) / targetResolution;\n        var v1 = -(target[1][1] - targetTopLeft[1]) / targetResolution;\n        var u2 = (target[2][0] - targetTopLeft[0]) / targetResolution;\n        var v2 = -(target[2][1] - targetTopLeft[1]) / targetResolution;\n\n        context.beginPath();\n        context.moveTo(u1, v1);\n        context.lineTo(u0, v0);\n        context.lineTo(u2, v2);\n        context.closePath();\n        context.stroke();\n      });\n\n      context.restore();\n    }\n    return context.canvas;\n  }\n\n  /**\n   * @module ol/reproj/Triangulation\n   */\n\n\n  /**\n   * Single triangle; consists of 3 source points and 3 target points.\n   * @typedef {Object} Triangle\n   * @property {Array<import(\"../coordinate.js\").Coordinate>} source\n   * @property {Array<import(\"../coordinate.js\").Coordinate>} target\n   */\n\n\n  /**\n   * Maximum number of subdivision steps during raster reprojection triangulation.\n   * Prevents high memory usage and large number of proj4 calls (for certain\n   * transformations and areas). At most `2*(2^this)` triangles are created for\n   * each triangulated extent (tile/image).\n   * @type {number}\n   */\n  var MAX_SUBDIVISION = 10;\n\n\n  /**\n   * Maximum allowed size of triangle relative to world width. When transforming\n   * corners of world extent between certain projections, the resulting\n   * triangulation seems to have zero error and no subdivision is performed. If\n   * the triangle width is more than this (relative to world width; 0-1),\n   * subdivison is forced (up to `MAX_SUBDIVISION`). Default is `0.25`.\n   * @type {number}\n   */\n  var MAX_TRIANGLE_WIDTH = 0.25;\n\n\n  /**\n   * @classdesc\n   * Class containing triangulation of the given target extent.\n   * Used for determining source data and the reprojection itself.\n   */\n  var Triangulation = function Triangulation(sourceProj, targetProj, targetExtent, maxSourceExtent, errorThreshold) {\n\n    /**\n     * @type {import(\"../proj/Projection.js\").default}\n     * @private\n     */\n    this.sourceProj_ = sourceProj;\n\n    /**\n     * @type {import(\"../proj/Projection.js\").default}\n     * @private\n     */\n    this.targetProj_ = targetProj;\n\n    /** @type {!Object<string, import(\"../coordinate.js\").Coordinate>} */\n    var transformInvCache = {};\n    var transformInv = getTransform(this.targetProj_, this.sourceProj_);\n\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} c A coordinate.\n     * @return {import(\"../coordinate.js\").Coordinate} Transformed coordinate.\n     * @private\n     */\n    this.transformInv_ = function(c) {\n      var key = c[0] + '/' + c[1];\n      if (!transformInvCache[key]) {\n        transformInvCache[key] = transformInv(c);\n      }\n      return transformInvCache[key];\n    };\n\n    /**\n     * @type {import(\"../extent.js\").Extent}\n     * @private\n     */\n    this.maxSourceExtent_ = maxSourceExtent;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.errorThresholdSquared_ = errorThreshold * errorThreshold;\n\n    /**\n     * @type {Array<Triangle>}\n     * @private\n     */\n    this.triangles_ = [];\n\n    /**\n     * Indicates that the triangulation crosses edge of the source projection.\n     * @type {boolean}\n     * @private\n     */\n    this.wrapsXInSource_ = false;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.canWrapXInSource_ = this.sourceProj_.canWrapX() &&\n        !!maxSourceExtent &&\n        !!this.sourceProj_.getExtent() &&\n        (getWidth(maxSourceExtent) == getWidth(this.sourceProj_.getExtent()));\n\n    /**\n     * @type {?number}\n     * @private\n     */\n    this.sourceWorldWidth_ = this.sourceProj_.getExtent() ?\n      getWidth(this.sourceProj_.getExtent()) : null;\n\n    /**\n     * @type {?number}\n     * @private\n     */\n    this.targetWorldWidth_ = this.targetProj_.getExtent() ?\n      getWidth(this.targetProj_.getExtent()) : null;\n\n    var destinationTopLeft = getTopLeft(targetExtent);\n    var destinationTopRight = getTopRight(targetExtent);\n    var destinationBottomRight = getBottomRight(targetExtent);\n    var destinationBottomLeft = getBottomLeft(targetExtent);\n    var sourceTopLeft = this.transformInv_(destinationTopLeft);\n    var sourceTopRight = this.transformInv_(destinationTopRight);\n    var sourceBottomRight = this.transformInv_(destinationBottomRight);\n    var sourceBottomLeft = this.transformInv_(destinationBottomLeft);\n\n    this.addQuad_(\n      destinationTopLeft, destinationTopRight,\n      destinationBottomRight, destinationBottomLeft,\n      sourceTopLeft, sourceTopRight, sourceBottomRight, sourceBottomLeft,\n      MAX_SUBDIVISION);\n\n    if (this.wrapsXInSource_) {\n      var leftBound = Infinity;\n      this.triangles_.forEach(function(triangle, i, arr) {\n        leftBound = Math.min(leftBound,\n          triangle.source[0][0], triangle.source[1][0], triangle.source[2][0]);\n      });\n\n      // Shift triangles to be as close to `leftBound` as possible\n      // (if the distance is more than `worldWidth / 2` it can be closer.\n      this.triangles_.forEach(function(triangle) {\n        if (Math.max(triangle.source[0][0], triangle.source[1][0],\n          triangle.source[2][0]) - leftBound > this.sourceWorldWidth_ / 2) {\n          var newTriangle = [[triangle.source[0][0], triangle.source[0][1]],\n            [triangle.source[1][0], triangle.source[1][1]],\n            [triangle.source[2][0], triangle.source[2][1]]];\n          if ((newTriangle[0][0] - leftBound) > this.sourceWorldWidth_ / 2) {\n            newTriangle[0][0] -= this.sourceWorldWidth_;\n          }\n          if ((newTriangle[1][0] - leftBound) > this.sourceWorldWidth_ / 2) {\n            newTriangle[1][0] -= this.sourceWorldWidth_;\n          }\n          if ((newTriangle[2][0] - leftBound) > this.sourceWorldWidth_ / 2) {\n            newTriangle[2][0] -= this.sourceWorldWidth_;\n          }\n\n          // Rarely (if the extent contains both the dateline and prime meridian)\n          // the shift can in turn break some triangles.\n          // Detect this here and don't shift in such cases.\n          var minX = Math.min(\n            newTriangle[0][0], newTriangle[1][0], newTriangle[2][0]);\n          var maxX = Math.max(\n            newTriangle[0][0], newTriangle[1][0], newTriangle[2][0]);\n          if ((maxX - minX) < this.sourceWorldWidth_ / 2) {\n            triangle.source = newTriangle;\n          }\n        }\n      }.bind(this));\n    }\n\n    transformInvCache = {};\n  };\n\n  /**\n   * Adds triangle to the triangulation.\n   * @param {import(\"../coordinate.js\").Coordinate} a The target a coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} b The target b coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} c The target c coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} aSrc The source a coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} bSrc The source b coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} cSrc The source c coordinate.\n   * @private\n   */\n  Triangulation.prototype.addTriangle_ = function addTriangle_ (a, b, c, aSrc, bSrc, cSrc) {\n    this.triangles_.push({\n      source: [aSrc, bSrc, cSrc],\n      target: [a, b, c]\n    });\n  };\n\n  /**\n   * Adds quad (points in clock-wise order) to the triangulation\n   * (and reprojects the vertices) if valid.\n   * Performs quad subdivision if needed to increase precision.\n   *\n   * @param {import(\"../coordinate.js\").Coordinate} a The target a coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} b The target b coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} c The target c coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} d The target d coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} aSrc The source a coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} bSrc The source b coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} cSrc The source c coordinate.\n   * @param {import(\"../coordinate.js\").Coordinate} dSrc The source d coordinate.\n   * @param {number} maxSubdivision Maximal allowed subdivision of the quad.\n   * @private\n   */\n  Triangulation.prototype.addQuad_ = function addQuad_ (a, b, c, d, aSrc, bSrc, cSrc, dSrc, maxSubdivision) {\n\n    var sourceQuadExtent = boundingExtent([aSrc, bSrc, cSrc, dSrc]);\n    var sourceCoverageX = this.sourceWorldWidth_ ?\n      getWidth(sourceQuadExtent) / this.sourceWorldWidth_ : null;\n    var sourceWorldWidth = /** @type {number} */ (this.sourceWorldWidth_);\n\n    // when the quad is wrapped in the source projection\n    // it covers most of the projection extent, but not fully\n    var wrapsX = this.sourceProj_.canWrapX() &&\n                 sourceCoverageX > 0.5 && sourceCoverageX < 1;\n\n    var needsSubdivision = false;\n\n    if (maxSubdivision > 0) {\n      if (this.targetProj_.isGlobal() && this.targetWorldWidth_) {\n        var targetQuadExtent = boundingExtent([a, b, c, d]);\n        var targetCoverageX = getWidth(targetQuadExtent) / this.targetWorldWidth_;\n        needsSubdivision = targetCoverageX > MAX_TRIANGLE_WIDTH ||\n          needsSubdivision;\n      }\n      if (!wrapsX && this.sourceProj_.isGlobal() && sourceCoverageX) {\n        needsSubdivision = sourceCoverageX > MAX_TRIANGLE_WIDTH ||\n            needsSubdivision;\n      }\n    }\n\n    if (!needsSubdivision && this.maxSourceExtent_) {\n      if (!intersects(sourceQuadExtent, this.maxSourceExtent_)) {\n        // whole quad outside source projection extent -> ignore\n        return;\n      }\n    }\n\n    if (!needsSubdivision) {\n      if (!isFinite(aSrc[0]) || !isFinite(aSrc[1]) ||\n          !isFinite(bSrc[0]) || !isFinite(bSrc[1]) ||\n          !isFinite(cSrc[0]) || !isFinite(cSrc[1]) ||\n          !isFinite(dSrc[0]) || !isFinite(dSrc[1])) {\n        if (maxSubdivision > 0) {\n          needsSubdivision = true;\n        } else {\n          return;\n        }\n      }\n    }\n\n    if (maxSubdivision > 0) {\n      if (!needsSubdivision) {\n        var center = [(a[0] + c[0]) / 2, (a[1] + c[1]) / 2];\n        var centerSrc = this.transformInv_(center);\n\n        var dx;\n        if (wrapsX) {\n          var centerSrcEstimX =\n              (modulo(aSrc[0], sourceWorldWidth) +\n               modulo(cSrc[0], sourceWorldWidth)) / 2;\n          dx = centerSrcEstimX -\n              modulo(centerSrc[0], sourceWorldWidth);\n        } else {\n          dx = (aSrc[0] + cSrc[0]) / 2 - centerSrc[0];\n        }\n        var dy = (aSrc[1] + cSrc[1]) / 2 - centerSrc[1];\n        var centerSrcErrorSquared = dx * dx + dy * dy;\n        needsSubdivision = centerSrcErrorSquared > this.errorThresholdSquared_;\n      }\n      if (needsSubdivision) {\n        if (Math.abs(a[0] - c[0]) <= Math.abs(a[1] - c[1])) {\n          // split horizontally (top & bottom)\n          var bc = [(b[0] + c[0]) / 2, (b[1] + c[1]) / 2];\n          var bcSrc = this.transformInv_(bc);\n          var da = [(d[0] + a[0]) / 2, (d[1] + a[1]) / 2];\n          var daSrc = this.transformInv_(da);\n\n          this.addQuad_(\n            a, b, bc, da, aSrc, bSrc, bcSrc, daSrc, maxSubdivision - 1);\n          this.addQuad_(\n            da, bc, c, d, daSrc, bcSrc, cSrc, dSrc, maxSubdivision - 1);\n        } else {\n          // split vertically (left & right)\n          var ab = [(a[0] + b[0]) / 2, (a[1] + b[1]) / 2];\n          var abSrc = this.transformInv_(ab);\n          var cd = [(c[0] + d[0]) / 2, (c[1] + d[1]) / 2];\n          var cdSrc = this.transformInv_(cd);\n\n          this.addQuad_(\n            a, ab, cd, d, aSrc, abSrc, cdSrc, dSrc, maxSubdivision - 1);\n          this.addQuad_(\n            ab, b, c, cd, abSrc, bSrc, cSrc, cdSrc, maxSubdivision - 1);\n        }\n        return;\n      }\n    }\n\n    if (wrapsX) {\n      if (!this.canWrapXInSource_) {\n        return;\n      }\n      this.wrapsXInSource_ = true;\n    }\n\n    this.addTriangle_(a, c, d, aSrc, cSrc, dSrc);\n    this.addTriangle_(a, b, c, aSrc, bSrc, cSrc);\n  };\n\n  /**\n   * Calculates extent of the 'source' coordinates from all the triangles.\n   *\n   * @return {import(\"../extent.js\").Extent} Calculated extent.\n   */\n  Triangulation.prototype.calculateSourceExtent = function calculateSourceExtent () {\n    var extent = createEmpty();\n\n    this.triangles_.forEach(function(triangle, i, arr) {\n      var src = triangle.source;\n      extendCoordinate(extent, src[0]);\n      extendCoordinate(extent, src[1]);\n      extendCoordinate(extent, src[2]);\n    });\n\n    return extent;\n  };\n\n  /**\n   * @return {Array<Triangle>} Array of the calculated triangles.\n   */\n  Triangulation.prototype.getTriangles = function getTriangles () {\n    return this.triangles_;\n  };\n\n  /**\n   * @module ol/reproj/Tile\n   */\n\n\n  /**\n   * @typedef {function(number, number, number, number) : import(\"../Tile.js\").default} FunctionType\n   */\n\n\n  /**\n   * @classdesc\n   * Class encapsulating single reprojected tile.\n   * See {@link module:ol/source/TileImage~TileImage}.\n   *\n   */\n  var ReprojTile = /*@__PURE__*/(function (Tile$$1) {\n    function ReprojTile(\n      sourceProj,\n      sourceTileGrid,\n      targetProj,\n      targetTileGrid,\n      tileCoord,\n      wrappedTileCoord,\n      pixelRatio,\n      gutter,\n      getTileFunction,\n      opt_errorThreshold,\n      opt_renderEdges\n    ) {\n      Tile$$1.call(this, tileCoord, TileState.IDLE);\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderEdges_ = opt_renderEdges !== undefined ? opt_renderEdges : false;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.pixelRatio_ = pixelRatio;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.gutter_ = gutter;\n\n      /**\n       * @private\n       * @type {HTMLCanvasElement}\n       */\n      this.canvas_ = null;\n\n      /**\n       * @private\n       * @type {import(\"../tilegrid/TileGrid.js\").default}\n       */\n      this.sourceTileGrid_ = sourceTileGrid;\n\n      /**\n       * @private\n       * @type {import(\"../tilegrid/TileGrid.js\").default}\n       */\n      this.targetTileGrid_ = targetTileGrid;\n\n      /**\n       * @private\n       * @type {import(\"../tilecoord.js\").TileCoord}\n       */\n      this.wrappedTileCoord_ = wrappedTileCoord ? wrappedTileCoord : tileCoord;\n\n      /**\n       * @private\n       * @type {!Array<import(\"../Tile.js\").default>}\n       */\n      this.sourceTiles_ = [];\n\n      /**\n       * @private\n       * @type {Array<import(\"../events.js\").EventsKey>}\n       */\n      this.sourcesListenerKeys_ = null;\n\n      /**\n       * @private\n       * @type {number}\n       */\n      this.sourceZ_ = 0;\n\n      var targetExtent = targetTileGrid.getTileCoordExtent(this.wrappedTileCoord_);\n      var maxTargetExtent = this.targetTileGrid_.getExtent();\n      var maxSourceExtent = this.sourceTileGrid_.getExtent();\n\n      var limitedTargetExtent = maxTargetExtent ?\n        getIntersection(targetExtent, maxTargetExtent) : targetExtent;\n\n      if (getArea(limitedTargetExtent) === 0) {\n        // Tile is completely outside range -> EMPTY\n        // TODO: is it actually correct that the source even creates the tile ?\n        this.state = TileState.EMPTY;\n        return;\n      }\n\n      var sourceProjExtent = sourceProj.getExtent();\n      if (sourceProjExtent) {\n        if (!maxSourceExtent) {\n          maxSourceExtent = sourceProjExtent;\n        } else {\n          maxSourceExtent = getIntersection(maxSourceExtent, sourceProjExtent);\n        }\n      }\n\n      var targetResolution = targetTileGrid.getResolution(\n        this.wrappedTileCoord_[0]);\n\n      var targetCenter = getCenter(limitedTargetExtent);\n      var sourceResolution = calculateSourceResolution(\n        sourceProj, targetProj, targetCenter, targetResolution);\n\n      if (!isFinite(sourceResolution) || sourceResolution <= 0) {\n        // invalid sourceResolution -> EMPTY\n        // probably edges of the projections when no extent is defined\n        this.state = TileState.EMPTY;\n        return;\n      }\n\n      var errorThresholdInPixels = opt_errorThreshold !== undefined ?\n        opt_errorThreshold : ERROR_THRESHOLD;\n\n      /**\n       * @private\n       * @type {!import(\"./Triangulation.js\").default}\n       */\n      this.triangulation_ = new Triangulation(\n        sourceProj, targetProj, limitedTargetExtent, maxSourceExtent,\n        sourceResolution * errorThresholdInPixels);\n\n      if (this.triangulation_.getTriangles().length === 0) {\n        // no valid triangles -> EMPTY\n        this.state = TileState.EMPTY;\n        return;\n      }\n\n      this.sourceZ_ = sourceTileGrid.getZForResolution(sourceResolution);\n      var sourceExtent = this.triangulation_.calculateSourceExtent();\n\n      if (maxSourceExtent) {\n        if (sourceProj.canWrapX()) {\n          sourceExtent[1] = clamp(\n            sourceExtent[1], maxSourceExtent[1], maxSourceExtent[3]);\n          sourceExtent[3] = clamp(\n            sourceExtent[3], maxSourceExtent[1], maxSourceExtent[3]);\n        } else {\n          sourceExtent = getIntersection(sourceExtent, maxSourceExtent);\n        }\n      }\n\n      if (!getArea(sourceExtent)) {\n        this.state = TileState.EMPTY;\n      } else {\n        var sourceRange = sourceTileGrid.getTileRangeForExtentAndZ(\n          sourceExtent, this.sourceZ_);\n\n        for (var srcX = sourceRange.minX; srcX <= sourceRange.maxX; srcX++) {\n          for (var srcY = sourceRange.minY; srcY <= sourceRange.maxY; srcY++) {\n            var tile = getTileFunction(this.sourceZ_, srcX, srcY, pixelRatio);\n            if (tile) {\n              this.sourceTiles_.push(tile);\n            }\n          }\n        }\n\n        if (this.sourceTiles_.length === 0) {\n          this.state = TileState.EMPTY;\n        }\n      }\n    }\n\n    if ( Tile$$1 ) ReprojTile.__proto__ = Tile$$1;\n    ReprojTile.prototype = Object.create( Tile$$1 && Tile$$1.prototype );\n    ReprojTile.prototype.constructor = ReprojTile;\n\n    /**\n     * @inheritDoc\n     */\n    ReprojTile.prototype.disposeInternal = function disposeInternal () {\n      if (this.state == TileState.LOADING) {\n        this.unlistenSources_();\n      }\n      Tile$$1.prototype.disposeInternal.call(this);\n    };\n\n    /**\n     * Get the HTML Canvas element for this tile.\n     * @return {HTMLCanvasElement} Canvas.\n     */\n    ReprojTile.prototype.getImage = function getImage () {\n      return this.canvas_;\n    };\n\n    /**\n     * @private\n     */\n    ReprojTile.prototype.reproject_ = function reproject_ () {\n      var sources = [];\n      this.sourceTiles_.forEach(function(tile, i, arr) {\n        if (tile && tile.getState() == TileState.LOADED) {\n          sources.push({\n            extent: this.sourceTileGrid_.getTileCoordExtent(tile.tileCoord),\n            image: tile.getImage()\n          });\n        }\n      }.bind(this));\n      this.sourceTiles_.length = 0;\n\n      if (sources.length === 0) {\n        this.state = TileState.ERROR;\n      } else {\n        var z = this.wrappedTileCoord_[0];\n        var size = this.targetTileGrid_.getTileSize(z);\n        var width = typeof size === 'number' ? size : size[0];\n        var height = typeof size === 'number' ? size : size[1];\n        var targetResolution = this.targetTileGrid_.getResolution(z);\n        var sourceResolution = this.sourceTileGrid_.getResolution(this.sourceZ_);\n\n        var targetExtent = this.targetTileGrid_.getTileCoordExtent(\n          this.wrappedTileCoord_);\n        this.canvas_ = render$6(width, height, this.pixelRatio_,\n          sourceResolution, this.sourceTileGrid_.getExtent(),\n          targetResolution, targetExtent, this.triangulation_, sources,\n          this.gutter_, this.renderEdges_);\n\n        this.state = TileState.LOADED;\n      }\n      this.changed();\n    };\n\n    /**\n     * @inheritDoc\n     */\n    ReprojTile.prototype.load = function load () {\n      if (this.state == TileState.IDLE) {\n        this.state = TileState.LOADING;\n        this.changed();\n\n        var leftToLoad = 0;\n\n        this.sourcesListenerKeys_ = [];\n        this.sourceTiles_.forEach(function(tile, i, arr) {\n          var state = tile.getState();\n          if (state == TileState.IDLE || state == TileState.LOADING) {\n            leftToLoad++;\n\n            var sourceListenKey = listen(tile, EventType.CHANGE,\n              function(e) {\n                var state = tile.getState();\n                if (state == TileState.LOADED ||\n                      state == TileState.ERROR ||\n                      state == TileState.EMPTY) {\n                  unlistenByKey(sourceListenKey);\n                  leftToLoad--;\n                  if (leftToLoad === 0) {\n                    this.unlistenSources_();\n                    this.reproject_();\n                  }\n                }\n              }, this);\n            this.sourcesListenerKeys_.push(sourceListenKey);\n          }\n        }.bind(this));\n\n        this.sourceTiles_.forEach(function(tile, i, arr) {\n          var state = tile.getState();\n          if (state == TileState.IDLE) {\n            tile.load();\n          }\n        });\n\n        if (leftToLoad === 0) {\n          setTimeout(this.reproject_.bind(this), 0);\n        }\n      }\n    };\n\n    /**\n     * @private\n     */\n    ReprojTile.prototype.unlistenSources_ = function unlistenSources_ () {\n      this.sourcesListenerKeys_.forEach(unlistenByKey);\n      this.sourcesListenerKeys_ = null;\n    };\n\n    return ReprojTile;\n  }(Tile));\n\n  /**\n   * @module ol/tileurlfunction\n   */\n\n\n  /**\n   * @param {string} template Template.\n   * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n   * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n   */\n  function createFromTemplate(template, tileGrid) {\n    var zRegEx = /\\{z\\}/g;\n    var xRegEx = /\\{x\\}/g;\n    var yRegEx = /\\{y\\}/g;\n    var dashYRegEx = /\\{-y\\}/g;\n    return (\n      /**\n       * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\n       * @param {number} pixelRatio Pixel ratio.\n       * @param {import(\"./proj/Projection.js\").default} projection Projection.\n       * @return {string|undefined} Tile URL.\n       */\n      function(tileCoord, pixelRatio, projection) {\n        if (!tileCoord) {\n          return undefined;\n        } else {\n          return template.replace(zRegEx, tileCoord[0].toString())\n            .replace(xRegEx, tileCoord[1].toString())\n            .replace(yRegEx, function() {\n              var y = -tileCoord[2] - 1;\n              return y.toString();\n            })\n            .replace(dashYRegEx, function() {\n              var z = tileCoord[0];\n              var range = tileGrid.getFullTileRange(z);\n              assert(range, 55); // The {-y} placeholder requires a tile grid with extent\n              var y = range.getHeight() + tileCoord[2];\n              return y.toString();\n            });\n        }\n      }\n    );\n  }\n\n\n  /**\n   * @param {Array<string>} templates Templates.\n   * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n   * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n   */\n  function createFromTemplates(templates, tileGrid) {\n    var len = templates.length;\n    var tileUrlFunctions = new Array(len);\n    for (var i = 0; i < len; ++i) {\n      tileUrlFunctions[i] = createFromTemplate(templates[i], tileGrid);\n    }\n    return createFromTileUrlFunctions(tileUrlFunctions);\n  }\n\n\n  /**\n   * @param {Array<import(\"./Tile.js\").UrlFunction>} tileUrlFunctions Tile URL Functions.\n   * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n   */\n  function createFromTileUrlFunctions(tileUrlFunctions) {\n    if (tileUrlFunctions.length === 1) {\n      return tileUrlFunctions[0];\n    }\n    return (\n      /**\n       * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\n       * @param {number} pixelRatio Pixel ratio.\n       * @param {import(\"./proj/Projection.js\").default} projection Projection.\n       * @return {string|undefined} Tile URL.\n       */\n      function(tileCoord, pixelRatio, projection) {\n        if (!tileCoord) {\n          return undefined;\n        } else {\n          var h = hash(tileCoord);\n          var index = modulo(h, tileUrlFunctions.length);\n          return tileUrlFunctions[index](tileCoord, pixelRatio, projection);\n        }\n      }\n    );\n  }\n\n\n  /**\n   * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {import(\"./proj/Projection.js\").default} projection Projection.\n   * @return {string|undefined} Tile URL.\n   */\n  function nullTileUrlFunction(tileCoord, pixelRatio, projection) {\n    return undefined;\n  }\n\n\n  /**\n   * @param {string} url URL.\n   * @return {Array<string>} Array of urls.\n   */\n  function expandUrl(url) {\n    var urls = [];\n    var match = /\\{([a-z])-([a-z])\\}/.exec(url);\n    if (match) {\n      // char range\n      var startCharCode = match[1].charCodeAt(0);\n      var stopCharCode = match[2].charCodeAt(0);\n      var charCode;\n      for (charCode = startCharCode; charCode <= stopCharCode; ++charCode) {\n        urls.push(url.replace(match[0], String.fromCharCode(charCode)));\n      }\n      return urls;\n    }\n    match = match = /\\{(\\d+)-(\\d+)\\}/.exec(url);\n    if (match) {\n      // number range\n      var stop = parseInt(match[2], 10);\n      for (var i = parseInt(match[1], 10); i <= stop; i++) {\n        urls.push(url.replace(match[0], i.toString()));\n      }\n      return urls;\n    }\n    urls.push(url);\n    return urls;\n  }\n\n  /**\n   * @module ol/source/TileEventType\n   */\n\n  /**\n   * @enum {string}\n   */\n  var TileEventType = {\n\n    /**\n     * Triggered when a tile starts loading.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloadstart\n     * @api\n     */\n    TILELOADSTART: 'tileloadstart',\n\n    /**\n     * Triggered when a tile finishes loading, either when its data is loaded,\n     * or when loading was aborted because the tile is no longer needed.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloadend\n     * @api\n     */\n    TILELOADEND: 'tileloadend',\n\n    /**\n     * Triggered if tile loading results in an error.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloaderror\n     * @api\n     */\n    TILELOADERROR: 'tileloaderror'\n\n  };\n\n  /**\n   * @module ol/source/UrlTile\n   */\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Source.js\").AttributionLike} [attributions]\n   * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n   * @property {number} [cacheSize]\n   * @property {boolean} [opaque]\n   * @property {import(\"../proj.js\").ProjectionLike} [projection]\n   * @property {import(\"./State.js\").default} [state]\n   * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid]\n   * @property {import(\"../Tile.js\").LoadFunction} tileLoadFunction\n   * @property {number} [tilePixelRatio]\n   * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction]\n   * @property {string} [url]\n   * @property {Array<string>} [urls]\n   * @property {boolean} [wrapX=true]\n   * @property {number} [transition]\n   * @property {string} [key]\n   */\n\n\n  /**\n   * @classdesc\n   * Base class for sources providing tiles divided into a tile grid over http.\n   *\n   * @fires import(\"./Tile.js\").TileSourceEvent\n   */\n  var UrlTile = /*@__PURE__*/(function (TileSource$$1) {\n    function UrlTile(options) {\n\n      TileSource$$1.call(this, {\n        attributions: options.attributions,\n        cacheSize: options.cacheSize,\n        opaque: options.opaque,\n        projection: options.projection,\n        state: options.state,\n        tileGrid: options.tileGrid,\n        tilePixelRatio: options.tilePixelRatio,\n        wrapX: options.wrapX,\n        transition: options.transition,\n        key: options.key,\n        attributionsCollapsible: options.attributionsCollapsible\n      });\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.generateTileUrlFunction_ = !options.tileUrlFunction;\n\n      /**\n       * @protected\n       * @type {import(\"../Tile.js\").LoadFunction}\n       */\n      this.tileLoadFunction = options.tileLoadFunction;\n\n      /**\n       * @protected\n       * @type {import(\"../Tile.js\").UrlFunction}\n       */\n      this.tileUrlFunction = options.tileUrlFunction ? options.tileUrlFunction.bind(this) : nullTileUrlFunction;\n\n      /**\n       * @protected\n       * @type {!Array<string>|null}\n       */\n      this.urls = null;\n\n      if (options.urls) {\n        this.setUrls(options.urls);\n      } else if (options.url) {\n        this.setUrl(options.url);\n      }\n\n      if (options.tileUrlFunction) {\n        this.setTileUrlFunction(options.tileUrlFunction, this.key_);\n      }\n\n      /**\n       * @private\n       * @type {!Object<string, boolean>}\n       */\n      this.tileLoadingKeys_ = {};\n\n    }\n\n    if ( TileSource$$1 ) UrlTile.__proto__ = TileSource$$1;\n    UrlTile.prototype = Object.create( TileSource$$1 && TileSource$$1.prototype );\n    UrlTile.prototype.constructor = UrlTile;\n\n    /**\n     * Return the tile load function of the source.\n     * @return {import(\"../Tile.js\").LoadFunction} TileLoadFunction\n     * @api\n     */\n    UrlTile.prototype.getTileLoadFunction = function getTileLoadFunction () {\n      return this.tileLoadFunction;\n    };\n\n    /**\n     * Return the tile URL function of the source.\n     * @return {import(\"../Tile.js\").UrlFunction} TileUrlFunction\n     * @api\n     */\n    UrlTile.prototype.getTileUrlFunction = function getTileUrlFunction () {\n      return this.tileUrlFunction;\n    };\n\n    /**\n     * Return the URLs used for this source.\n     * When a tileUrlFunction is used instead of url or urls,\n     * null will be returned.\n     * @return {!Array<string>|null} URLs.\n     * @api\n     */\n    UrlTile.prototype.getUrls = function getUrls () {\n      return this.urls;\n    };\n\n    /**\n     * Handle tile change events.\n     * @param {import(\"../events/Event.js\").default} event Event.\n     * @protected\n     */\n    UrlTile.prototype.handleTileChange = function handleTileChange (event) {\n      var tile = /** @type {import(\"../Tile.js\").default} */ (event.target);\n      var uid = getUid(tile);\n      var tileState = tile.getState();\n      var type;\n      if (tileState == TileState.LOADING) {\n        this.tileLoadingKeys_[uid] = true;\n        type = TileEventType.TILELOADSTART;\n      } else if (uid in this.tileLoadingKeys_) {\n        delete this.tileLoadingKeys_[uid];\n        type = tileState == TileState.ERROR ? TileEventType.TILELOADERROR :\n          (tileState == TileState.LOADED || tileState == TileState.ABORT) ?\n            TileEventType.TILELOADEND : undefined;\n      }\n      if (type != undefined) {\n        this.dispatchEvent(new TileSourceEvent(type, tile));\n      }\n    };\n\n    /**\n     * Set the tile load function of the source.\n     * @param {import(\"../Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n     * @api\n     */\n    UrlTile.prototype.setTileLoadFunction = function setTileLoadFunction (tileLoadFunction) {\n      this.tileCache.clear();\n      this.tileLoadFunction = tileLoadFunction;\n      this.changed();\n    };\n\n    /**\n     * Set the tile URL function of the source.\n     * @param {import(\"../Tile.js\").UrlFunction} tileUrlFunction Tile URL function.\n     * @param {string=} key Optional new tile key for the source.\n     * @api\n     */\n    UrlTile.prototype.setTileUrlFunction = function setTileUrlFunction (tileUrlFunction, key) {\n      this.tileUrlFunction = tileUrlFunction;\n      this.tileCache.pruneExceptNewestZ();\n      if (typeof key !== 'undefined') {\n        this.setKey(key);\n      } else {\n        this.changed();\n      }\n    };\n\n    /**\n     * Set the URL to use for requests.\n     * @param {string} url URL.\n     * @api\n     */\n    UrlTile.prototype.setUrl = function setUrl (url) {\n      var urls = this.urls = expandUrl(url);\n      this.setUrls(urls);\n    };\n\n    /**\n     * Set the URLs to use for requests.\n     * @param {Array<string>} urls URLs.\n     * @api\n     */\n    UrlTile.prototype.setUrls = function setUrls (urls) {\n      this.urls = urls;\n      var key = urls.join('\\n');\n      if (this.generateTileUrlFunction_) {\n        this.setTileUrlFunction(createFromTemplates(urls, this.tileGrid), key);\n      } else {\n        this.setKey(key);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    UrlTile.prototype.useTile = function useTile (z, x, y) {\n      var tileCoordKey = getKeyZXY(z, x, y);\n      if (this.tileCache.containsKey(tileCoordKey)) {\n        this.tileCache.get(tileCoordKey);\n      }\n    };\n\n    return UrlTile;\n  }(TileSource));\n\n  /**\n   * @module ol/source/TileImage\n   */\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n   * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n   * @property {number} [cacheSize=2048] Cache size.\n   * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n   * you must provide a `crossOrigin` value if you are using the WebGL renderer or if you want to\n   * access pixel data with the Canvas renderer.  See\n   * https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n   * @property {boolean} [opaque=true] Whether the layer is opaque.\n   * @property {import(\"../proj.js\").ProjectionLike} projection Projection.\n   * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n   * Higher values can increase reprojection performance, but decrease precision.\n   * @property {import(\"./State.js\").default} [state] Source state.\n   * @property {typeof import(\"../ImageTile.js\").default} [tileClass] Class used to instantiate image tiles.\n   * Default is {@link module:ol/ImageTile~ImageTile}.\n   * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n   * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n   * ```js\n   * function(imageTile, src) {\n   *   imageTile.getImage().src = src;\n   * };\n   * ```\n   * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service. For example, if the tile\n   * service advertizes 256px by 256px tiles but actually sends 512px\n   * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n   * should be set to `2`.\n   * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get tile URL given a tile coordinate and the projection.\n   * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n   * A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`, may be\n   * used instead of defining each one separately in the `urls` option.\n   * @property {Array<string>} [urls] An array of URL templates.\n   * @property {boolean} [wrapX] Whether to wrap the world horizontally. The default, is to\n   * request out-of-bounds tiles from the server. When set to `false`, only one\n   * world will be rendered. When set to `true`, tiles will be requested for one\n   * world only, but they will be wrapped horizontally to render multiple worlds.\n   * @property {number} [transition] Duration of the opacity transition for rendering.\n   * To disable the opacity transition, pass `transition: 0`.\n   * @property {string} [key] Optional tile key for proper cache fetching\n   */\n\n\n  /**\n   * @classdesc\n   * Base class for sources providing images divided into a tile grid.\n   *\n   * @fires import(\"./Tile.js\").TileSourceEvent\n   * @api\n   */\n  var TileImage = /*@__PURE__*/(function (UrlTile$$1) {\n    function TileImage(options) {\n\n      UrlTile$$1.call(this, {\n        attributions: options.attributions,\n        cacheSize: options.cacheSize,\n        opaque: options.opaque,\n        projection: options.projection,\n        state: options.state,\n        tileGrid: options.tileGrid,\n        tileLoadFunction: options.tileLoadFunction ?\n          options.tileLoadFunction : defaultTileLoadFunction,\n        tilePixelRatio: options.tilePixelRatio,\n        tileUrlFunction: options.tileUrlFunction,\n        url: options.url,\n        urls: options.urls,\n        wrapX: options.wrapX,\n        transition: options.transition,\n        key: options.key,\n        attributionsCollapsible: options.attributionsCollapsible\n      });\n\n      /**\n       * @protected\n       * @type {?string}\n       */\n      this.crossOrigin =\n          options.crossOrigin !== undefined ? options.crossOrigin : null;\n\n      /**\n       * @protected\n       * @type {typeof ImageTile}\n       */\n      this.tileClass = options.tileClass !== undefined ?\n        options.tileClass : ImageTile;\n\n      /**\n       * @protected\n       * @type {!Object<string, TileCache>}\n       */\n      this.tileCacheForProjection = {};\n\n      /**\n       * @protected\n       * @type {!Object<string, import(\"../tilegrid/TileGrid.js\").default>}\n       */\n      this.tileGridForProjection = {};\n\n      /**\n       * @private\n       * @type {number|undefined}\n       */\n      this.reprojectionErrorThreshold_ = options.reprojectionErrorThreshold;\n\n      /**\n       * @private\n       * @type {boolean}\n       */\n      this.renderReprojectionEdges_ = false;\n    }\n\n    if ( UrlTile$$1 ) TileImage.__proto__ = UrlTile$$1;\n    TileImage.prototype = Object.create( UrlTile$$1 && UrlTile$$1.prototype );\n    TileImage.prototype.constructor = TileImage;\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.canExpireCache = function canExpireCache () {\n      if (this.tileCache.canExpireCache()) {\n        return true;\n      } else {\n        for (var key in this.tileCacheForProjection) {\n          if (this.tileCacheForProjection[key].canExpireCache()) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.expireCache = function expireCache (projection, usedTiles) {\n      var usedTileCache = this.getTileCacheForProjection(projection);\n\n      this.tileCache.expireCache(this.tileCache == usedTileCache ? usedTiles : {});\n      for (var id in this.tileCacheForProjection) {\n        var tileCache = this.tileCacheForProjection[id];\n        tileCache.expireCache(tileCache == usedTileCache ? usedTiles : {});\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.getGutterForProjection = function getGutterForProjection (projection) {\n      if (this.getProjection() && projection && !equivalent(this.getProjection(), projection)) {\n        return 0;\n      } else {\n        return this.getGutter();\n      }\n    };\n\n    /**\n     * @return {number} Gutter.\n     */\n    TileImage.prototype.getGutter = function getGutter () {\n      return 0;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.getOpaque = function getOpaque (projection) {\n      if (this.getProjection() && projection && !equivalent(this.getProjection(), projection)) {\n        return false;\n      } else {\n        return UrlTile$$1.prototype.getOpaque.call(this, projection);\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.getTileGridForProjection = function getTileGridForProjection$1 (projection) {\n      var thisProj = this.getProjection();\n      if (this.tileGrid && (!thisProj || equivalent(thisProj, projection))) {\n        return this.tileGrid;\n      } else {\n        var projKey = getUid(projection);\n        if (!(projKey in this.tileGridForProjection)) {\n          this.tileGridForProjection[projKey] = getForProjection(projection);\n        }\n        return (\n          /** @type {!import(\"../tilegrid/TileGrid.js\").default} */ (this.tileGridForProjection[projKey])\n        );\n      }\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.getTileCacheForProjection = function getTileCacheForProjection (projection) {\n      var thisProj = this.getProjection(); if (!thisProj || equivalent(thisProj, projection)) {\n        return this.tileCache;\n      } else {\n        var projKey = getUid(projection);\n        if (!(projKey in this.tileCacheForProjection)) {\n          this.tileCacheForProjection[projKey] = new TileCache(this.tileCache.highWaterMark);\n        }\n        return this.tileCacheForProjection[projKey];\n      }\n    };\n\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {string} key The key set on the tile.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     * @private\n     */\n    TileImage.prototype.createTile_ = function createTile_ (z, x, y, pixelRatio, projection, key) {\n      var tileCoord = [z, x, y];\n      var urlTileCoord = this.getTileCoordForTileUrlFunction(\n        tileCoord, projection);\n      var tileUrl = urlTileCoord ?\n        this.tileUrlFunction(urlTileCoord, pixelRatio, projection) : undefined;\n      var tile = new this.tileClass(\n        tileCoord,\n        tileUrl !== undefined ? TileState.IDLE : TileState.EMPTY,\n        tileUrl !== undefined ? tileUrl : '',\n        this.crossOrigin,\n        this.tileLoadFunction,\n        this.tileOptions);\n      tile.key = key;\n      listen(tile, EventType.CHANGE,\n        this.handleTileChange, this);\n      return tile;\n    };\n\n    /**\n     * @inheritDoc\n     */\n    TileImage.prototype.getTile = function getTile (z, x, y, pixelRatio, projection) {\n      var sourceProjection = /** @type {!import(\"../proj/Projection.js\").default} */ (this.getProjection());\n      if (!sourceProjection || !projection || equivalent(sourceProjection, projection)) {\n        return this.getTileInternal(z, x, y, pixelRatio, sourceProjection || projection);\n      } else {\n        var cache = this.getTileCacheForProjection(projection);\n        var tileCoord = [z, x, y];\n        var tile;\n        var tileCoordKey = getKey$1(tileCoord);\n        if (cache.containsKey(tileCoordKey)) {\n          tile = /** @type {!import(\"../Tile.js\").default} */ (cache.get(tileCoordKey));\n        }\n        var key = this.getKey();\n        if (tile && tile.key == key) {\n          return tile;\n        } else {\n          var sourceTileGrid = this.getTileGridForProjection(sourceProjection);\n          var targetTileGrid = this.getTileGridForProjection(projection);\n          var wrappedTileCoord =\n              this.getTileCoordForTileUrlFunction(tileCoord, projection);\n          var newTile = new ReprojTile(\n            sourceProjection, sourceTileGrid,\n            projection, targetTileGrid,\n            tileCoord, wrappedTileCoord, this.getTilePixelRatio(pixelRatio),\n            this.getGutter(),\n            function(z, x, y, pixelRatio) {\n              return this.getTileInternal(z, x, y, pixelRatio, sourceProjection);\n            }.bind(this), this.reprojectionErrorThreshold_,\n            this.renderReprojectionEdges_);\n          newTile.key = key;\n\n          if (tile) {\n            newTile.interimTile = tile;\n            newTile.refreshInterimChain();\n            cache.replace(tileCoordKey, newTile);\n          } else {\n            cache.set(tileCoordKey, newTile);\n          }\n          return newTile;\n        }\n      }\n    };\n\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {!import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     * @protected\n     */\n    TileImage.prototype.getTileInternal = function getTileInternal (z, x, y, pixelRatio, projection) {\n      var tile = null;\n      var tileCoordKey = getKeyZXY(z, x, y);\n      var key = this.getKey();\n      if (!this.tileCache.containsKey(tileCoordKey)) {\n        tile = this.createTile_(z, x, y, pixelRatio, projection, key);\n        this.tileCache.set(tileCoordKey, tile);\n      } else {\n        tile = this.tileCache.get(tileCoordKey);\n        if (tile.key != key) {\n          // The source's params changed. If the tile has an interim tile and if we\n          // can use it then we use it. Otherwise we create a new tile.  In both\n          // cases we attempt to assign an interim tile to the new tile.\n          var interimTile = tile;\n          tile = this.createTile_(z, x, y, pixelRatio, projection, key);\n\n          //make the new tile the head of the list,\n          if (interimTile.getState() == TileState.IDLE) {\n            //the old tile hasn't begun loading yet, and is now outdated, so we can simply discard it\n            tile.interimTile = interimTile.interimTile;\n          } else {\n            tile.interimTile = interimTile;\n          }\n          tile.refreshInterimChain();\n          this.tileCache.replace(tileCoordKey, tile);\n        }\n      }\n      return tile;\n    };\n\n    /**\n     * Sets whether to render reprojection edges or not (usually for debugging).\n     * @param {boolean} render Render the edges.\n     * @api\n     */\n    TileImage.prototype.setRenderReprojectionEdges = function setRenderReprojectionEdges (render) {\n      if (this.renderReprojectionEdges_ == render) {\n        return;\n      }\n      this.renderReprojectionEdges_ = render;\n      for (var id in this.tileCacheForProjection) {\n        this.tileCacheForProjection[id].clear();\n      }\n      this.changed();\n    };\n\n    /**\n     * Sets the tile grid to use when reprojecting the tiles to the given\n     * projection instead of the default tile grid for the projection.\n     *\n     * This can be useful when the default tile grid cannot be created\n     * (e.g. projection has no extent defined) or\n     * for optimization reasons (custom tile size, resolutions, ...).\n     *\n     * @param {import(\"../proj.js\").ProjectionLike} projection Projection.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} tilegrid Tile grid to use for the projection.\n     * @api\n     */\n    TileImage.prototype.setTileGridForProjection = function setTileGridForProjection (projection, tilegrid) {\n      {\n        var proj = get$2(projection);\n        if (proj) {\n          var projKey = getUid(proj);\n          if (!(projKey in this.tileGridForProjection)) {\n            this.tileGridForProjection[projKey] = tilegrid;\n          }\n        }\n      }\n    };\n\n    return TileImage;\n  }(UrlTile));\n\n\n  /**\n   * @param {ImageTile} imageTile Image tile.\n   * @param {string} src Source.\n   */\n  function defaultTileLoadFunction(imageTile, src) {\n    /** @type {HTMLImageElement|HTMLVideoElement} */ (imageTile.getImage()).src = src;\n  }\n\n  /**\n   * @module ol/source/XYZ\n   */\n\n  /**\n   * @typedef {Object} Options\n   * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n   * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n   * @property {number} [cacheSize=2048] Cache size.\n   * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n   * you must provide a `crossOrigin` value if you are using the WebGL renderer or if you want to\n   * access pixel data with the Canvas renderer.  See\n   * https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n   * @property {boolean} [opaque=true] Whether the layer is opaque.\n   * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Projection.\n   * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n   * Higher values can increase reprojection performance, but decrease precision.\n   * @property {number} [maxZoom=18] Optional max zoom level.\n   * @property {number} [minZoom=0] Optional min zoom level.\n   * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n   * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n   * ```js\n   * function(imageTile, src) {\n   *   imageTile.getImage().src = src;\n   * };\n   * ```\n   * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service.\n   * For example, if the tile service advertizes 256px by 256px tiles but actually sends 512px\n   * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n   * should be set to `2`.\n   * @property {number|import(\"../size.js\").Size} [tileSize=[256, 256]] The tile size used by the tile service.\n   * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get\n   * tile URL given a tile coordinate and the projection.\n   * Required if url or urls are not provided.\n   * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`,\n   * and `{z}` placeholders. A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`,\n   * may be used instead of defining each one separately in the `urls` option.\n   * @property {Array<string>} [urls] An array of URL templates.\n   * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n   * @property {number} [transition] Duration of the opacity transition for rendering.\n   * To disable the opacity transition, pass `transition: 0`.\n   */\n\n\n  /**\n   * @classdesc\n   * Layer source for tile data with URLs in a set XYZ format that are\n   * defined in a URL template. By default, this follows the widely-used\n   * Google grid where `x` 0 and `y` 0 are in the top left. Grids like\n   * TMS where `x` 0 and `y` 0 are in the bottom left can be used by\n   * using the `{-y}` placeholder in the URL template, so long as the\n   * source does not have a custom tile grid. In this case,\n   * {@link module:ol/source/TileImage} can be used with a `tileUrlFunction`\n   * such as:\n   *\n   *  tileUrlFunction: function(coordinate) {\n   *    return 'http://mapserver.com/' + coordinate[0] + '/' +\n   *        coordinate[1] + '/' + coordinate[2] + '.png';\n   *    }\n   *\n   * @api\n   */\n  var XYZ = /*@__PURE__*/(function (TileImage$$1) {\n    function XYZ(opt_options) {\n      var options = opt_options || {};\n      var projection = options.projection !== undefined ?\n        options.projection : 'EPSG:3857';\n\n      var tileGrid = options.tileGrid !== undefined ? options.tileGrid :\n        createXYZ({\n          extent: extentFromProjection(projection),\n          maxZoom: options.maxZoom,\n          minZoom: options.minZoom,\n          tileSize: options.tileSize\n        });\n\n      TileImage$$1.call(this, {\n        attributions: options.attributions,\n        cacheSize: options.cacheSize,\n        crossOrigin: options.crossOrigin,\n        opaque: options.opaque,\n        projection: projection,\n        reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n        tileGrid: tileGrid,\n        tileLoadFunction: options.tileLoadFunction,\n        tilePixelRatio: options.tilePixelRatio,\n        tileUrlFunction: options.tileUrlFunction,\n        url: options.url,\n        urls: options.urls,\n        wrapX: options.wrapX !== undefined ? options.wrapX : true,\n        transition: options.transition,\n        attributionsCollapsible: options.attributionsCollapsible\n      });\n\n    }\n\n    if ( TileImage$$1 ) XYZ.__proto__ = TileImage$$1;\n    XYZ.prototype = Object.create( TileImage$$1 && TileImage$$1.prototype );\n    XYZ.prototype.constructor = XYZ;\n\n    return XYZ;\n  }(TileImage));\n\n  /**\n   * Trigger a CustomEvent\n   *\n   * @param {EventTarget} el The element or EventTarget to trigger the event upon\n   * @param {String} type The event type name\n   * @param {Object|null} payload=null The event data to be sent\n   * @returns {Boolean} The return value is false if at least one event listener called preventDefault(). Otherwise it returns true.\n   */\n  let publish = (el, type, payload = null) => {\n    let event;\n\n    const detail = {\n      payload,\n      time: new Date()\n    };\n\n    // This check is needed to polyfill CustomEvent on IE11-\n    if (typeof window.CustomEvent === 'function') {\n      event = new CustomEvent(type, {\n        detail,\n        bubbles: true,\n        cancelable: true\n      });\n    } else {\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(type, true, true, detail);\n    }\n\n    return el.dispatchEvent(event);\n  };\n\n  /**\n   *  Enumerates the events for dicom microscopy viewer. Events are captured,\n   *  normalized, and re-triggered with a `dicom-microscopy-viewer` prefix. This allows\n   *  us to handle events consistently across different browsers.\n   *\n   *  @enum {String}\n   *  @memberof dicom-microscopy-viewer\n   *  @readonly\n   */\n  const PROJECT_NAME = 'dicommicroscopyviewer';\n\n  const EVENTS = {\n      ROI_ADDED: `${PROJECT_NAME}_roi_added`,\n      ROI_REMOVED: `${PROJECT_NAME}_roi_removed`,\n      ROI_DRAWN: `${PROJECT_NAME}_roi_drawn`,\n      ROI_SELECTED: `${PROJECT_NAME}_roi_selected`,\n      ROI_MODIFIED: `${PROJECT_NAME}_roi_modified`,\n      MOVE_STARTED: `${PROJECT_NAME}_move_started`,\n      MOVE_ENDED: `${PROJECT_NAME}_move_ended`,\n    };\n\n  const tagToKeyword = {\n    '00000000': 'CommandGroupLength',\n    '00000001': 'CommandLengthToEnd',\n    '00000002': 'AffectedSOPClassUID',\n    '00000003': 'RequestedSOPClassUID',\n    '00000010': 'CommandRecognitionCode',\n    '00000100': 'CommandField',\n    '00000110': 'MessageID',\n    '00000120': 'MessageIDBeingRespondedTo',\n    '00000200': 'Initiator',\n    '00000300': 'Receiver',\n    '00000400': 'FindLocation',\n    '00000600': 'MoveDestination',\n    '00000700': 'Priority',\n    '00000800': 'CommandDataSetType',\n    '00000850': 'NumberOfMatches',\n    '00000860': 'ResponseSequenceNumber',\n    '00000900': 'Status',\n    '00000901': 'OffendingElement',\n    '00000902': 'ErrorComment',\n    '00000903': 'ErrorID',\n    '00001000': 'AffectedSOPInstanceUID',\n    '00001001': 'RequestedSOPInstanceUID',\n    '00001002': 'EventTypeID',\n    '00001005': 'AttributeIdentifierList',\n    '00001008': 'ActionTypeID',\n    '00001020': 'NumberOfRemainingSuboperations',\n    '00001021': 'NumberOfCompletedSuboperations',\n    '00001022': 'NumberOfFailedSuboperations',\n    '00001023': 'NumberOfWarningSuboperations',\n    '00001030': 'MoveOriginatorApplicationEntityTitle',\n    '00001031': 'MoveOriginatorMessageID',\n    '00004000': 'DialogReceiver',\n    '00004010': 'TerminalType',\n    '00005010': 'MessageSetID',\n    '00005020': 'EndMessageID',\n    '00005110': 'DisplayFormat',\n    '00005120': 'PagePositionID',\n    '00005130': 'TextFormatID',\n    '00005140': 'NormalReverse',\n    '00005150': 'AddGrayScale',\n    '00005160': 'Borders',\n    '00005170': 'Copies',\n    '00005180': 'CommandMagnificationType',\n    '00005190': 'Erase',\n    '000051A0': 'Print',\n    '000051B0': 'Overlays',\n    '00020000': 'FileMetaInformationGroupLength',\n    '00020001': 'FileMetaInformationVersion',\n    '00020002': 'MediaStorageSOPClassUID',\n    '00020003': 'MediaStorageSOPInstanceUID',\n    '00020010': 'TransferSyntaxUID',\n    '00020012': 'ImplementationClassUID',\n    '00020013': 'ImplementationVersionName',\n    '00020016': 'SourceApplicationEntityTitle',\n    '00020017': 'SendingApplicationEntityTitle',\n    '00020018': 'ReceivingApplicationEntityTitle',\n    '00020100': 'PrivateInformationCreatorUID',\n    '00020102': 'PrivateInformation',\n    '00041130': 'FileSetID',\n    '00041141': 'FileSetDescriptorFileID',\n    '00041142': 'SpecificCharacterSetOfFileSetDescriptorFile',\n    '00041200': 'OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity',\n    '00041202': 'OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity',\n    '00041212': 'FileSetConsistencyFlag',\n    '00041220': 'DirectoryRecordSequence',\n    '00041400': 'OffsetOfTheNextDirectoryRecord',\n    '00041410': 'RecordInUseFlag',\n    '00041420': 'OffsetOfReferencedLowerLevelDirectoryEntity',\n    '00041430': 'DirectoryRecordType',\n    '00041432': 'PrivateRecordUID',\n    '00041500': 'ReferencedFileID',\n    '00041504': 'MRDRDirectoryRecordOffset',\n    '00041510': 'ReferencedSOPClassUIDInFile',\n    '00041511': 'ReferencedSOPInstanceUIDInFile',\n    '00041512': 'ReferencedTransferSyntaxUIDInFile',\n    '0004151A': 'ReferencedRelatedGeneralSOPClassUIDInFile',\n    '00041600': 'NumberOfReferences',\n    '00080001': 'LengthToEnd',\n    '00080005': 'SpecificCharacterSet',\n    '00080006': 'LanguageCodeSequence',\n    '00080008': 'ImageType',\n    '00080010': 'RecognitionCode',\n    '00080012': 'InstanceCreationDate',\n    '00080013': 'InstanceCreationTime',\n    '00080014': 'InstanceCreatorUID',\n    '00080015': 'InstanceCoercionDateTime',\n    '00080016': 'SOPClassUID',\n    '00080018': 'SOPInstanceUID',\n    '0008001A': 'RelatedGeneralSOPClassUID',\n    '0008001B': 'OriginalSpecializedSOPClassUID',\n    '00080020': 'StudyDate',\n    '00080021': 'SeriesDate',\n    '00080022': 'AcquisitionDate',\n    '00080023': 'ContentDate',\n    '00080024': 'OverlayDate',\n    '00080025': 'CurveDate',\n    '0008002A': 'AcquisitionDateTime',\n    '00080030': 'StudyTime',\n    '00080031': 'SeriesTime',\n    '00080032': 'AcquisitionTime',\n    '00080033': 'ContentTime',\n    '00080034': 'OverlayTime',\n    '00080035': 'CurveTime',\n    '00080040': 'DataSetType',\n    '00080041': 'DataSetSubtype',\n    '00080042': 'NuclearMedicineSeriesType',\n    '00080050': 'AccessionNumber',\n    '00080051': 'IssuerOfAccessionNumberSequence',\n    '00080052': 'QueryRetrieveLevel',\n    '00080053': 'QueryRetrieveView',\n    '00080054': 'RetrieveAETitle',\n    '00080055': 'StationAETitle',\n    '00080056': 'InstanceAvailability',\n    '00080058': 'FailedSOPInstanceUIDList',\n    '00080060': 'Modality',\n    '00080061': 'ModalitiesInStudy',\n    '00080062': 'SOPClassesInStudy',\n    '00080063': 'AnatomicRegionsInStudyCodeSequence',\n    '00080064': 'ConversionType',\n    '00080068': 'PresentationIntentType',\n    '00080070': 'Manufacturer',\n    '00080080': 'InstitutionName',\n    '00080081': 'InstitutionAddress',\n    '00080082': 'InstitutionCodeSequence',\n    '00080090': 'ReferringPhysicianName',\n    '00080092': 'ReferringPhysicianAddress',\n    '00080094': 'ReferringPhysicianTelephoneNumbers',\n    '00080096': 'ReferringPhysicianIdentificationSequence',\n    '0008009C': 'ConsultingPhysicianName',\n    '0008009D': 'ConsultingPhysicianIdentificationSequence',\n    '00080100': 'CodeValue',\n    '00080101': 'ExtendedCodeValue',\n    '00080102': 'CodingSchemeDesignator',\n    '00080103': 'CodingSchemeVersion',\n    '00080104': 'CodeMeaning',\n    '00080105': 'MappingResource',\n    '00080106': 'ContextGroupVersion',\n    '00080107': 'ContextGroupLocalVersion',\n    '00080108': 'ExtendedCodeMeaning',\n    '00080109': 'CodingSchemeResourcesSequence',\n    '0008010A': 'CodingSchemeURLType',\n    '0008010B': 'ContextGroupExtensionFlag',\n    '0008010C': 'CodingSchemeUID',\n    '0008010D': 'ContextGroupExtensionCreatorUID',\n    '0008010E': 'CodingSchemeURL',\n    '0008010F': 'ContextIdentifier',\n    '00080110': 'CodingSchemeIdentificationSequence',\n    '00080112': 'CodingSchemeRegistry',\n    '00080114': 'CodingSchemeExternalID',\n    '00080115': 'CodingSchemeName',\n    '00080116': 'CodingSchemeResponsibleOrganization',\n    '00080117': 'ContextUID',\n    '00080118': 'MappingResourceUID',\n    '00080119': 'LongCodeValue',\n    '00080120': 'URNCodeValue',\n    '00080121': 'EquivalentCodeSequence',\n    '00080122': 'MappingResourceName',\n    '00080123': 'ContextGroupIdentificationSequence',\n    '00080124': 'MappingResourceIdentificationSequence',\n    '00080201': 'TimezoneOffsetFromUTC',\n    '00080220': 'ResponsibleGroupCodeSequence',\n    '00080221': 'EquipmentModality',\n    '00080222': 'ManufacturerRelatedModelGroup',\n    '00080300': 'PrivateDataElementCharacteristicsSequence',\n    '00080301': 'PrivateGroupReference',\n    '00080302': 'PrivateCreatorReference',\n    '00080303': 'BlockIdentifyingInformationStatus',\n    '00080304': 'NonidentifyingPrivateElements',\n    '00080305': 'DeidentificationActionSequence',\n    '00080306': 'IdentifyingPrivateElements',\n    '00080307': 'DeidentificationAction',\n    '00080308': 'PrivateDataElement',\n    '00080309': 'PrivateDataElementValueMultiplicity',\n    '0008030A': 'PrivateDataElementValueRepresentation',\n    '0008030B': 'PrivateDataElementNumberOfItems',\n    '0008030C': 'PrivateDataElementName',\n    '0008030D': 'PrivateDataElementKeyword',\n    '0008030E': 'PrivateDataElementDescription',\n    '0008030F': 'PrivateDataElementEncoding',\n    '00080310': 'PrivateDataElementDefinitionSequence',\n    '00081000': 'NetworkID',\n    '00081010': 'StationName',\n    '00081030': 'StudyDescription',\n    '00081032': 'ProcedureCodeSequence',\n    '0008103E': 'SeriesDescription',\n    '0008103F': 'SeriesDescriptionCodeSequence',\n    '00081040': 'InstitutionalDepartmentName',\n    '00081048': 'PhysiciansOfRecord',\n    '00081049': 'PhysiciansOfRecordIdentificationSequence',\n    '00081050': 'PerformingPhysicianName',\n    '00081052': 'PerformingPhysicianIdentificationSequence',\n    '00081060': 'NameOfPhysiciansReadingStudy',\n    '00081062': 'PhysiciansReadingStudyIdentificationSequence',\n    '00081070': 'OperatorsName',\n    '00081072': 'OperatorIdentificationSequence',\n    '00081080': 'AdmittingDiagnosesDescription',\n    '00081084': 'AdmittingDiagnosesCodeSequence',\n    '00081090': 'ManufacturerModelName',\n    '00081100': 'ReferencedResultsSequence',\n    '00081110': 'ReferencedStudySequence',\n    '00081111': 'ReferencedPerformedProcedureStepSequence',\n    '00081115': 'ReferencedSeriesSequence',\n    '00081120': 'ReferencedPatientSequence',\n    '00081125': 'ReferencedVisitSequence',\n    '00081130': 'ReferencedOverlaySequence',\n    '00081134': 'ReferencedStereometricInstanceSequence',\n    '0008113A': 'ReferencedWaveformSequence',\n    '00081140': 'ReferencedImageSequence',\n    '00081145': 'ReferencedCurveSequence',\n    '0008114A': 'ReferencedInstanceSequence',\n    '0008114B': 'ReferencedRealWorldValueMappingInstanceSequence',\n    '00081150': 'ReferencedSOPClassUID',\n    '00081155': 'ReferencedSOPInstanceUID',\n    '00081156': 'DefinitionSourceSequence',\n    '0008115A': 'SOPClassesSupported',\n    '00081160': 'ReferencedFrameNumber',\n    '00081161': 'SimpleFrameList',\n    '00081162': 'CalculatedFrameList',\n    '00081163': 'TimeRange',\n    '00081164': 'FrameExtractionSequence',\n    '00081167': 'MultiFrameSourceSOPInstanceUID',\n    '00081190': 'RetrieveURL',\n    '00081195': 'TransactionUID',\n    '00081196': 'WarningReason',\n    '00081197': 'FailureReason',\n    '00081198': 'FailedSOPSequence',\n    '00081199': 'ReferencedSOPSequence',\n    '0008119A': 'OtherFailuresSequence',\n    '00081200': 'StudiesContainingOtherReferencedInstancesSequence',\n    '00081250': 'RelatedSeriesSequence',\n    '00082110': 'LossyImageCompressionRetired',\n    '00082111': 'DerivationDescription',\n    '00082112': 'SourceImageSequence',\n    '00082120': 'StageName',\n    '00082122': 'StageNumber',\n    '00082124': 'NumberOfStages',\n    '00082127': 'ViewName',\n    '00082128': 'ViewNumber',\n    '00082129': 'NumberOfEventTimers',\n    '0008212A': 'NumberOfViewsInStage',\n    '00082130': 'EventElapsedTimes',\n    '00082132': 'EventTimerNames',\n    '00082133': 'EventTimerSequence',\n    '00082134': 'EventTimeOffset',\n    '00082135': 'EventCodeSequence',\n    '00082142': 'StartTrim',\n    '00082143': 'StopTrim',\n    '00082144': 'RecommendedDisplayFrameRate',\n    '00082200': 'TransducerPosition',\n    '00082204': 'TransducerOrientation',\n    '00082208': 'AnatomicStructure',\n    '00082218': 'AnatomicRegionSequence',\n    '00082220': 'AnatomicRegionModifierSequence',\n    '00082228': 'PrimaryAnatomicStructureSequence',\n    '00082229': 'AnatomicStructureSpaceOrRegionSequence',\n    '00082230': 'PrimaryAnatomicStructureModifierSequence',\n    '00082240': 'TransducerPositionSequence',\n    '00082242': 'TransducerPositionModifierSequence',\n    '00082244': 'TransducerOrientationSequence',\n    '00082246': 'TransducerOrientationModifierSequence',\n    '00082251': 'AnatomicStructureSpaceOrRegionCodeSequenceTrial',\n    '00082253': 'AnatomicPortalOfEntranceCodeSequenceTrial',\n    '00082255': 'AnatomicApproachDirectionCodeSequenceTrial',\n    '00082256': 'AnatomicPerspectiveDescriptionTrial',\n    '00082257': 'AnatomicPerspectiveCodeSequenceTrial',\n    '00082258': 'AnatomicLocationOfExaminingInstrumentDescriptionTrial',\n    '00082259': 'AnatomicLocationOfExaminingInstrumentCodeSequenceTrial',\n    '0008225A': 'AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial',\n    '0008225C': 'OnAxisBackgroundAnatomicStructureCodeSequenceTrial',\n    '00083001': 'AlternateRepresentationSequence',\n    '00083010': 'IrradiationEventUID',\n    '00083011': 'SourceIrradiationEventSequence',\n    '00083012': 'RadiopharmaceuticalAdministrationEventUID',\n    '00084000': 'IdentifyingComments',\n    '00089007': 'FrameType',\n    '00089092': 'ReferencedImageEvidenceSequence',\n    '00089121': 'ReferencedRawDataSequence',\n    '00089123': 'CreatorVersionUID',\n    '00089124': 'DerivationImageSequence',\n    '00089154': 'SourceImageEvidenceSequence',\n    '00089205': 'PixelPresentation',\n    '00089206': 'VolumetricProperties',\n    '00089207': 'VolumeBasedCalculationTechnique',\n    '00089208': 'ComplexImageComponent',\n    '00089209': 'AcquisitionContrast',\n    '00089215': 'DerivationCodeSequence',\n    '00089237': 'ReferencedPresentationStateSequence',\n    '00089410': 'ReferencedOtherPlaneSequence',\n    '00089458': 'FrameDisplaySequence',\n    '00089459': 'RecommendedDisplayFrameRateInFloat',\n    '00089460': 'SkipFrameRangeFlag',\n    '00100010': 'PatientName',\n    '00100020': 'PatientID',\n    '00100021': 'IssuerOfPatientID',\n    '00100022': 'TypeOfPatientID',\n    '00100024': 'IssuerOfPatientIDQualifiersSequence',\n    '00100026': 'SourcePatientGroupIdentificationSequence',\n    '00100027': 'GroupOfPatientsIdentificationSequence',\n    '00100028': 'SubjectRelativePositionInImage',\n    '00100030': 'PatientBirthDate',\n    '00100032': 'PatientBirthTime',\n    '00100033': 'PatientBirthDateInAlternativeCalendar',\n    '00100034': 'PatientDeathDateInAlternativeCalendar',\n    '00100035': 'PatientAlternativeCalendar',\n    '00100040': 'PatientSex',\n    '00100050': 'PatientInsurancePlanCodeSequence',\n    '00100101': 'PatientPrimaryLanguageCodeSequence',\n    '00100102': 'PatientPrimaryLanguageModifierCodeSequence',\n    '00100200': 'QualityControlSubject',\n    '00100201': 'QualityControlSubjectTypeCodeSequence',\n    '00100212': 'StrainDescription',\n    '00100213': 'StrainNomenclature',\n    '00100214': 'StrainStockNumber',\n    '00100215': 'StrainSourceRegistryCodeSequence',\n    '00100216': 'StrainStockSequence',\n    '00100217': 'StrainSource',\n    '00100218': 'StrainAdditionalInformation',\n    '00100219': 'StrainCodeSequence',\n    '00100221': 'GeneticModificationsSequence',\n    '00100222': 'GeneticModificationsDescription',\n    '00100223': 'GeneticModificationsNomenclature',\n    '00100229': 'GeneticModificationsCodeSequence',\n    '00101000': 'OtherPatientIDs',\n    '00101001': 'OtherPatientNames',\n    '00101002': 'OtherPatientIDsSequence',\n    '00101005': 'PatientBirthName',\n    '00101010': 'PatientAge',\n    '00101020': 'PatientSize',\n    '00101021': 'PatientSizeCodeSequence',\n    '00101022': 'PatientBodyMassIndex',\n    '00101023': 'MeasuredAPDimension',\n    '00101024': 'MeasuredLateralDimension',\n    '00101030': 'PatientWeight',\n    '00101040': 'PatientAddress',\n    '00101050': 'InsurancePlanIdentification',\n    '00101060': 'PatientMotherBirthName',\n    '00101080': 'MilitaryRank',\n    '00101081': 'BranchOfService',\n    '00101090': 'MedicalRecordLocator',\n    '00101100': 'ReferencedPatientPhotoSequence',\n    '00102000': 'MedicalAlerts',\n    '00102110': 'Allergies',\n    '00102150': 'CountryOfResidence',\n    '00102152': 'RegionOfResidence',\n    '00102154': 'PatientTelephoneNumbers',\n    '00102155': 'PatientTelecomInformation',\n    '00102160': 'EthnicGroup',\n    '00102180': 'Occupation',\n    '001021A0': 'SmokingStatus',\n    '001021B0': 'AdditionalPatientHistory',\n    '001021C0': 'PregnancyStatus',\n    '001021D0': 'LastMenstrualDate',\n    '001021F0': 'PatientReligiousPreference',\n    '00102201': 'PatientSpeciesDescription',\n    '00102202': 'PatientSpeciesCodeSequence',\n    '00102203': 'PatientSexNeutered',\n    '00102210': 'AnatomicalOrientationType',\n    '00102292': 'PatientBreedDescription',\n    '00102293': 'PatientBreedCodeSequence',\n    '00102294': 'BreedRegistrationSequence',\n    '00102295': 'BreedRegistrationNumber',\n    '00102296': 'BreedRegistryCodeSequence',\n    '00102297': 'ResponsiblePerson',\n    '00102298': 'ResponsiblePersonRole',\n    '00102299': 'ResponsibleOrganization',\n    '00104000': 'PatientComments',\n    '00109431': 'ExaminedBodyThickness',\n    '00120010': 'ClinicalTrialSponsorName',\n    '00120020': 'ClinicalTrialProtocolID',\n    '00120021': 'ClinicalTrialProtocolName',\n    '00120030': 'ClinicalTrialSiteID',\n    '00120031': 'ClinicalTrialSiteName',\n    '00120040': 'ClinicalTrialSubjectID',\n    '00120042': 'ClinicalTrialSubjectReadingID',\n    '00120050': 'ClinicalTrialTimePointID',\n    '00120051': 'ClinicalTrialTimePointDescription',\n    '00120052': 'LongitudinalTemporalOffsetFromEvent',\n    '00120053': 'LongitudinalTemporalEventType',\n    '00120060': 'ClinicalTrialCoordinatingCenterName',\n    '00120062': 'PatientIdentityRemoved',\n    '00120063': 'DeidentificationMethod',\n    '00120064': 'DeidentificationMethodCodeSequence',\n    '00120071': 'ClinicalTrialSeriesID',\n    '00120072': 'ClinicalTrialSeriesDescription',\n    '00120081': 'ClinicalTrialProtocolEthicsCommitteeName',\n    '00120082': 'ClinicalTrialProtocolEthicsCommitteeApprovalNumber',\n    '00120083': 'ConsentForClinicalTrialUseSequence',\n    '00120084': 'DistributionType',\n    '00120085': 'ConsentForDistributionFlag',\n    '00120086': 'EthicsCommitteeApprovalEffectivenessStartDate',\n    '00120087': 'EthicsCommitteeApprovalEffectivenessEndDate',\n    '00140023': 'CADFileFormat',\n    '00140024': 'ComponentReferenceSystem',\n    '00140025': 'ComponentManufacturingProcedure',\n    '00140028': 'ComponentManufacturer',\n    '00140030': 'MaterialThickness',\n    '00140032': 'MaterialPipeDiameter',\n    '00140034': 'MaterialIsolationDiameter',\n    '00140042': 'MaterialGrade',\n    '00140044': 'MaterialPropertiesDescription',\n    '00140045': 'MaterialPropertiesFileFormatRetired',\n    '00140046': 'MaterialNotes',\n    '00140050': 'ComponentShape',\n    '00140052': 'CurvatureType',\n    '00140054': 'OuterDiameter',\n    '00140056': 'InnerDiameter',\n    '00140100': 'ComponentWelderIDs',\n    '00140101': 'SecondaryApprovalStatus',\n    '00140102': 'SecondaryReviewDate',\n    '00140103': 'SecondaryReviewTime',\n    '00140104': 'SecondaryReviewerName',\n    '00140105': 'RepairID',\n    '00140106': 'MultipleComponentApprovalSequence',\n    '00140107': 'OtherApprovalStatus',\n    '00140108': 'OtherSecondaryApprovalStatus',\n    '00141010': 'ActualEnvironmentalConditions',\n    '00141020': 'ExpiryDate',\n    '00141040': 'EnvironmentalConditions',\n    '00142002': 'EvaluatorSequence',\n    '00142004': 'EvaluatorNumber',\n    '00142006': 'EvaluatorName',\n    '00142008': 'EvaluationAttempt',\n    '00142012': 'IndicationSequence',\n    '00142014': 'IndicationNumber',\n    '00142016': 'IndicationLabel',\n    '00142018': 'IndicationDescription',\n    '0014201A': 'IndicationType',\n    '0014201C': 'IndicationDisposition',\n    '0014201E': 'IndicationROISequence',\n    '00142030': 'IndicationPhysicalPropertySequence',\n    '00142032': 'PropertyLabel',\n    '00142202': 'CoordinateSystemNumberOfAxes',\n    '00142204': 'CoordinateSystemAxesSequence',\n    '00142206': 'CoordinateSystemAxisDescription',\n    '00142208': 'CoordinateSystemDataSetMapping',\n    '0014220A': 'CoordinateSystemAxisNumber',\n    '0014220C': 'CoordinateSystemAxisType',\n    '0014220E': 'CoordinateSystemAxisUnits',\n    '00142210': 'CoordinateSystemAxisValues',\n    '00142220': 'CoordinateSystemTransformSequence',\n    '00142222': 'TransformDescription',\n    '00142224': 'TransformNumberOfAxes',\n    '00142226': 'TransformOrderOfAxes',\n    '00142228': 'TransformedAxisUnits',\n    '0014222A': 'CoordinateSystemTransformRotationAndScaleMatrix',\n    '0014222C': 'CoordinateSystemTransformTranslationMatrix',\n    '00143011': 'InternalDetectorFrameTime',\n    '00143012': 'NumberOfFramesIntegrated',\n    '00143020': 'DetectorTemperatureSequence',\n    '00143022': 'SensorName',\n    '00143024': 'HorizontalOffsetOfSensor',\n    '00143026': 'VerticalOffsetOfSensor',\n    '00143028': 'SensorTemperature',\n    '00143040': 'DarkCurrentSequence',\n    '00143050': 'DarkCurrentCounts',\n    '00143060': 'GainCorrectionReferenceSequence',\n    '00143070': 'AirCounts',\n    '00143071': 'KVUsedInGainCalibration',\n    '00143072': 'MAUsedInGainCalibration',\n    '00143073': 'NumberOfFramesUsedForIntegration',\n    '00143074': 'FilterMaterialUsedInGainCalibration',\n    '00143075': 'FilterThicknessUsedInGainCalibration',\n    '00143076': 'DateOfGainCalibration',\n    '00143077': 'TimeOfGainCalibration',\n    '00143080': 'BadPixelImage',\n    '00143099': 'CalibrationNotes',\n    '00144002': 'PulserEquipmentSequence',\n    '00144004': 'PulserType',\n    '00144006': 'PulserNotes',\n    '00144008': 'ReceiverEquipmentSequence',\n    '0014400A': 'AmplifierType',\n    '0014400C': 'ReceiverNotes',\n    '0014400E': 'PreAmplifierEquipmentSequence',\n    '0014400F': 'PreAmplifierNotes',\n    '00144010': 'TransmitTransducerSequence',\n    '00144011': 'ReceiveTransducerSequence',\n    '00144012': 'NumberOfElements',\n    '00144013': 'ElementShape',\n    '00144014': 'ElementDimensionA',\n    '00144015': 'ElementDimensionB',\n    '00144016': 'ElementPitchA',\n    '00144017': 'MeasuredBeamDimensionA',\n    '00144018': 'MeasuredBeamDimensionB',\n    '00144019': 'LocationOfMeasuredBeamDiameter',\n    '0014401A': 'NominalFrequency',\n    '0014401B': 'MeasuredCenterFrequency',\n    '0014401C': 'MeasuredBandwidth',\n    '0014401D': 'ElementPitchB',\n    '00144020': 'PulserSettingsSequence',\n    '00144022': 'PulseWidth',\n    '00144024': 'ExcitationFrequency',\n    '00144026': 'ModulationType',\n    '00144028': 'Damping',\n    '00144030': 'ReceiverSettingsSequence',\n    '00144031': 'AcquiredSoundpathLength',\n    '00144032': 'AcquisitionCompressionType',\n    '00144033': 'AcquisitionSampleSize',\n    '00144034': 'RectifierSmoothing',\n    '00144035': 'DACSequence',\n    '00144036': 'DACType',\n    '00144038': 'DACGainPoints',\n    '0014403A': 'DACTimePoints',\n    '0014403C': 'DACAmplitude',\n    '00144040': 'PreAmplifierSettingsSequence',\n    '00144050': 'TransmitTransducerSettingsSequence',\n    '00144051': 'ReceiveTransducerSettingsSequence',\n    '00144052': 'IncidentAngle',\n    '00144054': 'CouplingTechnique',\n    '00144056': 'CouplingMedium',\n    '00144057': 'CouplingVelocity',\n    '00144058': 'ProbeCenterLocationX',\n    '00144059': 'ProbeCenterLocationZ',\n    '0014405A': 'SoundPathLength',\n    '0014405C': 'DelayLawIdentifier',\n    '00144060': 'GateSettingsSequence',\n    '00144062': 'GateThreshold',\n    '00144064': 'VelocityOfSound',\n    '00144070': 'CalibrationSettingsSequence',\n    '00144072': 'CalibrationProcedure',\n    '00144074': 'ProcedureVersion',\n    '00144076': 'ProcedureCreationDate',\n    '00144078': 'ProcedureExpirationDate',\n    '0014407A': 'ProcedureLastModifiedDate',\n    '0014407C': 'CalibrationTime',\n    '0014407E': 'CalibrationDate',\n    '00144080': 'ProbeDriveEquipmentSequence',\n    '00144081': 'DriveType',\n    '00144082': 'ProbeDriveNotes',\n    '00144083': 'DriveProbeSequence',\n    '00144084': 'ProbeInductance',\n    '00144085': 'ProbeResistance',\n    '00144086': 'ReceiveProbeSequence',\n    '00144087': 'ProbeDriveSettingsSequence',\n    '00144088': 'BridgeResistors',\n    '00144089': 'ProbeOrientationAngle',\n    '0014408B': 'UserSelectedGainY',\n    '0014408C': 'UserSelectedPhase',\n    '0014408D': 'UserSelectedOffsetX',\n    '0014408E': 'UserSelectedOffsetY',\n    '00144091': 'ChannelSettingsSequence',\n    '00144092': 'ChannelThreshold',\n    '0014409A': 'ScannerSettingsSequence',\n    '0014409B': 'ScanProcedure',\n    '0014409C': 'TranslationRateX',\n    '0014409D': 'TranslationRateY',\n    '0014409F': 'ChannelOverlap',\n    '001440A0': 'ImageQualityIndicatorType',\n    '001440A1': 'ImageQualityIndicatorMaterial',\n    '001440A2': 'ImageQualityIndicatorSize',\n    '00145002': 'LINACEnergy',\n    '00145004': 'LINACOutput',\n    '00145100': 'ActiveAperture',\n    '00145101': 'TotalAperture',\n    '00145102': 'ApertureElevation',\n    '00145103': 'MainLobeAngle',\n    '00145104': 'MainRoofAngle',\n    '00145105': 'ConnectorType',\n    '00145106': 'WedgeModelNumber',\n    '00145107': 'WedgeAngleFloat',\n    '00145108': 'WedgeRoofAngle',\n    '00145109': ('WedgeElement1Position'),\n    '0014510A': 'WedgeMaterialVelocity',\n    '0014510B': 'WedgeMaterial',\n    '0014510C': 'WedgeOffsetZ',\n    '0014510D': 'WedgeOriginOffsetX',\n    '0014510E': 'WedgeTimeDelay',\n    '0014510F': 'WedgeName',\n    '00145110': 'WedgeManufacturerName',\n    '00145111': 'WedgeDescription',\n    '00145112': 'NominalBeamAngle',\n    '00145113': 'WedgeOffsetX',\n    '00145114': 'WedgeOffsetY',\n    '00145115': 'WedgeTotalLength',\n    '00145116': 'WedgeInContactLength',\n    '00145117': 'WedgeFrontGap',\n    '00145118': 'WedgeTotalHeight',\n    '00145119': 'WedgeFrontHeight',\n    '0014511A': 'WedgeRearHeight',\n    '0014511B': 'WedgeTotalWidth',\n    '0014511C': 'WedgeInContactWidth',\n    '0014511D': 'WedgeChamferHeight',\n    '0014511E': 'WedgeCurve',\n    '0014511F': 'RadiusAlongWedge',\n    '00180010': 'ContrastBolusAgent',\n    '00180012': 'ContrastBolusAgentSequence',\n    '00180013': ('ContrastBolusT1Relaxivity'),\n    '00180014': 'ContrastBolusAdministrationRouteSequence',\n    '00180015': 'BodyPartExamined',\n    '00180020': 'ScanningSequence',\n    '00180021': 'SequenceVariant',\n    '00180022': 'ScanOptions',\n    '00180023': 'MRAcquisitionType',\n    '00180024': 'SequenceName',\n    '00180025': 'AngioFlag',\n    '00180026': 'InterventionDrugInformationSequence',\n    '00180027': 'InterventionDrugStopTime',\n    '00180028': 'InterventionDrugDose',\n    '00180029': 'InterventionDrugCodeSequence',\n    '0018002A': 'AdditionalDrugSequence',\n    '00180030': 'Radionuclide',\n    '00180031': 'Radiopharmaceutical',\n    '00180032': 'EnergyWindowCenterline',\n    '00180033': 'EnergyWindowTotalWidth',\n    '00180034': 'InterventionDrugName',\n    '00180035': 'InterventionDrugStartTime',\n    '00180036': 'InterventionSequence',\n    '00180037': 'TherapyType',\n    '00180038': 'InterventionStatus',\n    '00180039': 'TherapyDescription',\n    '0018003A': 'InterventionDescription',\n    '00180040': 'CineRate',\n    '00180042': 'InitialCineRunState',\n    '00180050': 'SliceThickness',\n    '00180060': 'KVP',\n    '00180061': '',\n    '00180070': 'CountsAccumulated',\n    '00180071': 'AcquisitionTerminationCondition',\n    '00180072': 'EffectiveDuration',\n    '00180073': 'AcquisitionStartCondition',\n    '00180074': 'AcquisitionStartConditionData',\n    '00180075': 'AcquisitionTerminationConditionData',\n    '00180080': 'RepetitionTime',\n    '00180081': 'EchoTime',\n    '00180082': 'InversionTime',\n    '00180083': 'NumberOfAverages',\n    '00180084': 'ImagingFrequency',\n    '00180085': 'ImagedNucleus',\n    '00180086': 'EchoNumbers',\n    '00180087': 'MagneticFieldStrength',\n    '00180088': 'SpacingBetweenSlices',\n    '00180089': 'NumberOfPhaseEncodingSteps',\n    '00180090': 'DataCollectionDiameter',\n    '00180091': 'EchoTrainLength',\n    '00180093': 'PercentSampling',\n    '00180094': 'PercentPhaseFieldOfView',\n    '00180095': 'PixelBandwidth',\n    '00181000': 'DeviceSerialNumber',\n    '00181002': 'DeviceUID',\n    '00181003': 'DeviceID',\n    '00181004': 'PlateID',\n    '00181005': 'GeneratorID',\n    '00181006': 'GridID',\n    '00181007': 'CassetteID',\n    '00181008': 'GantryID',\n    '00181009': 'UniqueDeviceIdentifier',\n    '0018100A': 'UDISequence',\n    '00181010': 'SecondaryCaptureDeviceID',\n    '00181011': 'HardcopyCreationDeviceID',\n    '00181012': 'DateOfSecondaryCapture',\n    '00181014': 'TimeOfSecondaryCapture',\n    '00181016': 'SecondaryCaptureDeviceManufacturer',\n    '00181017': 'HardcopyDeviceManufacturer',\n    '00181018': 'SecondaryCaptureDeviceManufacturerModelName',\n    '00181019': 'SecondaryCaptureDeviceSoftwareVersions',\n    '0018101A': 'HardcopyDeviceSoftwareVersion',\n    '0018101B': 'HardcopyDeviceManufacturerModelName',\n    '00181020': 'SoftwareVersions',\n    '00181022': 'VideoImageFormatAcquired',\n    '00181023': 'DigitalImageFormatAcquired',\n    '00181030': 'ProtocolName',\n    '00181040': 'ContrastBolusRoute',\n    '00181041': 'ContrastBolusVolume',\n    '00181042': 'ContrastBolusStartTime',\n    '00181043': 'ContrastBolusStopTime',\n    '00181044': 'ContrastBolusTotalDose',\n    '00181045': 'SyringeCounts',\n    '00181046': 'ContrastFlowRate',\n    '00181047': 'ContrastFlowDuration',\n    '00181048': 'ContrastBolusIngredient',\n    '00181049': 'ContrastBolusIngredientConcentration',\n    '00181050': 'SpatialResolution',\n    '00181060': 'TriggerTime',\n    '00181061': 'TriggerSourceOrType',\n    '00181062': 'NominalInterval',\n    '00181063': 'FrameTime',\n    '00181064': 'CardiacFramingType',\n    '00181065': 'FrameTimeVector',\n    '00181066': 'FrameDelay',\n    '00181067': 'ImageTriggerDelay',\n    '00181068': 'MultiplexGroupTimeOffset',\n    '00181069': 'TriggerTimeOffset',\n    '0018106A': 'SynchronizationTrigger',\n    '0018106C': 'SynchronizationChannel',\n    '0018106E': 'TriggerSamplePosition',\n    '00181070': 'RadiopharmaceuticalRoute',\n    '00181071': 'RadiopharmaceuticalVolume',\n    '00181072': 'RadiopharmaceuticalStartTime',\n    '00181073': 'RadiopharmaceuticalStopTime',\n    '00181074': 'RadionuclideTotalDose',\n    '00181075': 'RadionuclideHalfLife',\n    '00181076': 'RadionuclidePositronFraction',\n    '00181077': 'RadiopharmaceuticalSpecificActivity',\n    '00181078': 'RadiopharmaceuticalStartDateTime',\n    '00181079': 'RadiopharmaceuticalStopDateTime',\n    '00181080': 'BeatRejectionFlag',\n    '00181081': 'LowRRValue',\n    '00181082': 'HighRRValue',\n    '00181083': 'IntervalsAcquired',\n    '00181084': 'IntervalsRejected',\n    '00181085': 'PVCRejection',\n    '00181086': 'SkipBeats',\n    '00181088': 'HeartRate',\n    '00181090': 'CardiacNumberOfImages',\n    '00181094': 'TriggerWindow',\n    '00181100': 'ReconstructionDiameter',\n    '00181110': 'DistanceSourceToDetector',\n    '00181111': 'DistanceSourceToPatient',\n    '00181114': 'EstimatedRadiographicMagnificationFactor',\n    '00181120': 'GantryDetectorTilt',\n    '00181121': 'GantryDetectorSlew',\n    '00181130': 'TableHeight',\n    '00181131': 'TableTraverse',\n    '00181134': 'TableMotion',\n    '00181135': 'TableVerticalIncrement',\n    '00181136': 'TableLateralIncrement',\n    '00181137': 'TableLongitudinalIncrement',\n    '00181138': 'TableAngle',\n    '0018113A': 'TableType',\n    '00181140': 'RotationDirection',\n    '00181141': 'AngularPosition',\n    '00181142': 'RadialPosition',\n    '00181143': 'ScanArc',\n    '00181144': 'AngularStep',\n    '00181145': 'CenterOfRotationOffset',\n    '00181146': 'RotationOffset',\n    '00181147': 'FieldOfViewShape',\n    '00181149': 'FieldOfViewDimensions',\n    '00181150': 'ExposureTime',\n    '00181151': 'XRayTubeCurrent',\n    '00181152': 'Exposure',\n    '00181153': 'ExposureInuAs',\n    '00181154': 'AveragePulseWidth',\n    '00181155': 'RadiationSetting',\n    '00181156': 'RectificationType',\n    '0018115A': 'RadiationMode',\n    '0018115E': 'ImageAndFluoroscopyAreaDoseProduct',\n    '00181160': 'FilterType',\n    '00181161': 'TypeOfFilters',\n    '00181162': 'IntensifierSize',\n    '00181164': 'ImagerPixelSpacing',\n    '00181166': 'Grid',\n    '00181170': 'GeneratorPower',\n    '00181180': 'CollimatorGridName',\n    '00181181': 'CollimatorType',\n    '00181182': 'FocalDistance',\n    '00181183': 'XFocusCenter',\n    '00181184': 'YFocusCenter',\n    '00181190': 'FocalSpots',\n    '00181191': 'AnodeTargetMaterial',\n    '001811A0': 'BodyPartThickness',\n    '001811A2': 'CompressionForce',\n    '001811A3': 'CompressionPressure',\n    '001811A4': 'PaddleDescription',\n    '001811A5': 'CompressionContactArea',\n    '00181200': 'DateOfLastCalibration',\n    '00181201': 'TimeOfLastCalibration',\n    '00181202': 'DateTimeOfLastCalibration',\n    '00181210': 'ConvolutionKernel',\n    '00181240': 'UpperLowerPixelValues',\n    '00181242': 'ActualFrameDuration',\n    '00181243': 'CountRate',\n    '00181244': 'PreferredPlaybackSequencing',\n    '00181250': 'ReceiveCoilName',\n    '00181251': 'TransmitCoilName',\n    '00181260': 'PlateType',\n    '00181261': 'PhosphorType',\n    '00181271': 'WaterEquivalentDiameter',\n    '00181272': 'WaterEquivalentDiameterCalculationMethodCodeSequence',\n    '00181300': 'ScanVelocity',\n    '00181301': 'WholeBodyTechnique',\n    '00181302': 'ScanLength',\n    '00181310': 'AcquisitionMatrix',\n    '00181312': 'InPlanePhaseEncodingDirection',\n    '00181314': 'FlipAngle',\n    '00181315': 'VariableFlipAngleFlag',\n    '00181316': 'SAR',\n    '00181318': 'dBdt',\n    '00181320': ('B1rms'),\n    '00181400': 'AcquisitionDeviceProcessingDescription',\n    '00181401': 'AcquisitionDeviceProcessingCode',\n    '00181402': 'CassetteOrientation',\n    '00181403': 'CassetteSize',\n    '00181404': 'ExposuresOnPlate',\n    '00181405': 'RelativeXRayExposure',\n    '00181411': 'ExposureIndex',\n    '00181412': 'TargetExposureIndex',\n    '00181413': 'DeviationIndex',\n    '00181450': 'ColumnAngulation',\n    '00181460': 'TomoLayerHeight',\n    '00181470': 'TomoAngle',\n    '00181480': 'TomoTime',\n    '00181490': 'TomoType',\n    '00181491': 'TomoClass',\n    '00181495': 'NumberOfTomosynthesisSourceImages',\n    '00181500': 'PositionerMotion',\n    '00181508': 'PositionerType',\n    '00181510': 'PositionerPrimaryAngle',\n    '00181511': 'PositionerSecondaryAngle',\n    '00181520': 'PositionerPrimaryAngleIncrement',\n    '00181521': 'PositionerSecondaryAngleIncrement',\n    '00181530': 'DetectorPrimaryAngle',\n    '00181531': 'DetectorSecondaryAngle',\n    '00181600': 'ShutterShape',\n    '00181602': 'ShutterLeftVerticalEdge',\n    '00181604': 'ShutterRightVerticalEdge',\n    '00181606': 'ShutterUpperHorizontalEdge',\n    '00181608': 'ShutterLowerHorizontalEdge',\n    '00181610': 'CenterOfCircularShutter',\n    '00181612': 'RadiusOfCircularShutter',\n    '00181620': 'VerticesOfThePolygonalShutter',\n    '00181622': 'ShutterPresentationValue',\n    '00181623': 'ShutterOverlayGroup',\n    '00181624': 'ShutterPresentationColorCIELabValue',\n    '00181700': 'CollimatorShape',\n    '00181702': 'CollimatorLeftVerticalEdge',\n    '00181704': 'CollimatorRightVerticalEdge',\n    '00181706': 'CollimatorUpperHorizontalEdge',\n    '00181708': 'CollimatorLowerHorizontalEdge',\n    '00181710': 'CenterOfCircularCollimator',\n    '00181712': 'RadiusOfCircularCollimator',\n    '00181720': 'VerticesOfThePolygonalCollimator',\n    '00181800': 'AcquisitionTimeSynchronized',\n    '00181801': 'TimeSource',\n    '00181802': 'TimeDistributionProtocol',\n    '00181803': 'NTPSourceAddress',\n    '00182001': 'PageNumberVector',\n    '00182002': 'FrameLabelVector',\n    '00182003': 'FramePrimaryAngleVector',\n    '00182004': 'FrameSecondaryAngleVector',\n    '00182005': 'SliceLocationVector',\n    '00182006': 'DisplayWindowLabelVector',\n    '00182010': 'NominalScannedPixelSpacing',\n    '00182020': 'DigitizingDeviceTransportDirection',\n    '00182030': 'RotationOfScannedFilm',\n    '00182041': 'BiopsyTargetSequence',\n    '00182042': 'TargetUID',\n    '00182043': 'LocalizingCursorPosition',\n    '00182044': 'CalculatedTargetPosition',\n    '00182045': 'TargetLabel',\n    '00182046': 'DisplayedZValue',\n    '00183100': 'IVUSAcquisition',\n    '00183101': 'IVUSPullbackRate',\n    '00183102': 'IVUSGatedRate',\n    '00183103': 'IVUSPullbackStartFrameNumber',\n    '00183104': 'IVUSPullbackStopFrameNumber',\n    '00183105': 'LesionNumber',\n    '00184000': 'AcquisitionComments',\n    '00185000': 'OutputPower',\n    '00185010': 'TransducerData',\n    '00185012': 'FocusDepth',\n    '00185020': 'ProcessingFunction',\n    '00185021': 'PostprocessingFunction',\n    '00185022': 'MechanicalIndex',\n    '00185024': 'BoneThermalIndex',\n    '00185026': 'CranialThermalIndex',\n    '00185027': 'SoftTissueThermalIndex',\n    '00185028': 'SoftTissueFocusThermalIndex',\n    '00185029': 'SoftTissueSurfaceThermalIndex',\n    '00185030': 'DynamicRange',\n    '00185040': 'TotalGain',\n    '00185050': 'DepthOfScanField',\n    '00185100': 'PatientPosition',\n    '00185101': 'ViewPosition',\n    '00185104': 'ProjectionEponymousNameCodeSequence',\n    '00185210': 'ImageTransformationMatrix',\n    '00185212': 'ImageTranslationVector',\n    '00186000': 'Sensitivity',\n    '00186011': 'SequenceOfUltrasoundRegions',\n    '00186012': 'RegionSpatialFormat',\n    '00186014': 'RegionDataType',\n    '00186016': 'RegionFlags',\n    '00186018': ('RegionLocationMinX0'),\n    '0018601A': ('RegionLocationMinY0'),\n    '0018601C': ('RegionLocationMaxX1'),\n    '0018601E': ('RegionLocationMaxY1'),\n    '00186020': ('ReferencePixelX0'),\n    '00186022': ('ReferencePixelY0'),\n    '00186024': 'PhysicalUnitsXDirection',\n    '00186026': 'PhysicalUnitsYDirection',\n    '00186028': 'ReferencePixelPhysicalValueX',\n    '0018602A': 'ReferencePixelPhysicalValueY',\n    '0018602C': 'PhysicalDeltaX',\n    '0018602E': 'PhysicalDeltaY',\n    '00186030': 'TransducerFrequency',\n    '00186031': 'TransducerType',\n    '00186032': 'PulseRepetitionFrequency',\n    '00186034': 'DopplerCorrectionAngle',\n    '00186036': 'SteeringAngle',\n    '00186038': 'DopplerSampleVolumeXPositionRetired',\n    '00186039': 'DopplerSampleVolumeXPosition',\n    '0018603A': 'DopplerSampleVolumeYPositionRetired',\n    '0018603B': 'DopplerSampleVolumeYPosition',\n    '0018603C': ('TMLinePositionX0Retired'),\n    '0018603D': ('TMLinePositionX0'),\n    '0018603E': ('TMLinePositionY0Retired'),\n    '0018603F': ('TMLinePositionY0'),\n    '00186040': ('TMLinePositionX1Retired'),\n    '00186041': ('TMLinePositionX1'),\n    '00186042': ('TMLinePositionY1Retired'),\n    '00186043': ('TMLinePositionY1'),\n    '00186044': 'PixelComponentOrganization',\n    '00186046': 'PixelComponentMask',\n    '00186048': 'PixelComponentRangeStart',\n    '0018604A': 'PixelComponentRangeStop',\n    '0018604C': 'PixelComponentPhysicalUnits',\n    '0018604E': 'PixelComponentDataType',\n    '00186050': 'NumberOfTableBreakPoints',\n    '00186052': 'TableOfXBreakPoints',\n    '00186054': 'TableOfYBreakPoints',\n    '00186056': 'NumberOfTableEntries',\n    '00186058': 'TableOfPixelValues',\n    '0018605A': 'TableOfParameterValues',\n    '00186060': 'RWaveTimeVector',\n    '00187000': 'DetectorConditionsNominalFlag',\n    '00187001': 'DetectorTemperature',\n    '00187004': 'DetectorType',\n    '00187005': 'DetectorConfiguration',\n    '00187006': 'DetectorDescription',\n    '00187008': 'DetectorMode',\n    '0018700A': 'DetectorID',\n    '0018700C': 'DateOfLastDetectorCalibration',\n    '0018700E': 'TimeOfLastDetectorCalibration',\n    '00187010': 'ExposuresOnDetectorSinceLastCalibration',\n    '00187011': 'ExposuresOnDetectorSinceManufactured',\n    '00187012': 'DetectorTimeSinceLastExposure',\n    '00187014': 'DetectorActiveTime',\n    '00187016': 'DetectorActivationOffsetFromExposure',\n    '0018701A': 'DetectorBinning',\n    '00187020': 'DetectorElementPhysicalSize',\n    '00187022': 'DetectorElementSpacing',\n    '00187024': 'DetectorActiveShape',\n    '00187026': 'DetectorActiveDimensions',\n    '00187028': 'DetectorActiveOrigin',\n    '0018702A': 'DetectorManufacturerName',\n    '0018702B': 'DetectorManufacturerModelName',\n    '00187030': 'FieldOfViewOrigin',\n    '00187032': 'FieldOfViewRotation',\n    '00187034': 'FieldOfViewHorizontalFlip',\n    '00187036': 'PixelDataAreaOriginRelativeToFOV',\n    '00187038': 'PixelDataAreaRotationAngleRelativeToFOV',\n    '00187040': 'GridAbsorbingMaterial',\n    '00187041': 'GridSpacingMaterial',\n    '00187042': 'GridThickness',\n    '00187044': 'GridPitch',\n    '00187046': 'GridAspectRatio',\n    '00187048': 'GridPeriod',\n    '0018704C': 'GridFocalDistance',\n    '00187050': 'FilterMaterial',\n    '00187052': 'FilterThicknessMinimum',\n    '00187054': 'FilterThicknessMaximum',\n    '00187056': 'FilterBeamPathLengthMinimum',\n    '00187058': 'FilterBeamPathLengthMaximum',\n    '00187060': 'ExposureControlMode',\n    '00187062': 'ExposureControlModeDescription',\n    '00187064': 'ExposureStatus',\n    '00187065': 'PhototimerSetting',\n    '00188150': 'ExposureTimeInuS',\n    '00188151': 'XRayTubeCurrentInuA',\n    '00189004': 'ContentQualification',\n    '00189005': 'PulseSequenceName',\n    '00189006': 'MRImagingModifierSequence',\n    '00189008': 'EchoPulseSequence',\n    '00189009': 'InversionRecovery',\n    '00189010': 'FlowCompensation',\n    '00189011': 'MultipleSpinEcho',\n    '00189012': 'MultiPlanarExcitation',\n    '00189014': 'PhaseContrast',\n    '00189015': 'TimeOfFlightContrast',\n    '00189016': 'Spoiling',\n    '00189017': 'SteadyStatePulseSequence',\n    '00189018': 'EchoPlanarPulseSequence',\n    '00189019': 'TagAngleFirstAxis',\n    '00189020': 'MagnetizationTransfer',\n    '00189021': ('T2Preparation'),\n    '00189022': 'BloodSignalNulling',\n    '00189024': 'SaturationRecovery',\n    '00189025': 'SpectrallySelectedSuppression',\n    '00189026': 'SpectrallySelectedExcitation',\n    '00189027': 'SpatialPresaturation',\n    '00189028': 'Tagging',\n    '00189029': 'OversamplingPhase',\n    '00189030': 'TagSpacingFirstDimension',\n    '00189032': 'GeometryOfKSpaceTraversal',\n    '00189033': 'SegmentedKSpaceTraversal',\n    '00189034': 'RectilinearPhaseEncodeReordering',\n    '00189035': 'TagThickness',\n    '00189036': 'PartialFourierDirection',\n    '00189037': 'CardiacSynchronizationTechnique',\n    '00189041': 'ReceiveCoilManufacturerName',\n    '00189042': 'MRReceiveCoilSequence',\n    '00189043': 'ReceiveCoilType',\n    '00189044': 'QuadratureReceiveCoil',\n    '00189045': 'MultiCoilDefinitionSequence',\n    '00189046': 'MultiCoilConfiguration',\n    '00189047': 'MultiCoilElementName',\n    '00189048': 'MultiCoilElementUsed',\n    '00189049': 'MRTransmitCoilSequence',\n    '00189050': 'TransmitCoilManufacturerName',\n    '00189051': 'TransmitCoilType',\n    '00189052': 'SpectralWidth',\n    '00189053': 'ChemicalShiftReference',\n    '00189054': 'VolumeLocalizationTechnique',\n    '00189058': 'MRAcquisitionFrequencyEncodingSteps',\n    '00189059': 'Decoupling',\n    '00189060': 'DecoupledNucleus',\n    '00189061': 'DecouplingFrequency',\n    '00189062': 'DecouplingMethod',\n    '00189063': 'DecouplingChemicalShiftReference',\n    '00189064': 'KSpaceFiltering',\n    '00189065': 'TimeDomainFiltering',\n    '00189066': 'NumberOfZeroFills',\n    '00189067': 'BaselineCorrection',\n    '00189069': 'ParallelReductionFactorInPlane',\n    '00189070': 'CardiacRRIntervalSpecified',\n    '00189073': 'AcquisitionDuration',\n    '00189074': 'FrameAcquisitionDateTime',\n    '00189075': 'DiffusionDirectionality',\n    '00189076': 'DiffusionGradientDirectionSequence',\n    '00189077': 'ParallelAcquisition',\n    '00189078': 'ParallelAcquisitionTechnique',\n    '00189079': 'InversionTimes',\n    '00189080': 'MetaboliteMapDescription',\n    '00189081': 'PartialFourier',\n    '00189082': 'EffectiveEchoTime',\n    '00189083': 'MetaboliteMapCodeSequence',\n    '00189084': 'ChemicalShiftSequence',\n    '00189085': 'CardiacSignalSource',\n    '00189087': 'DiffusionBValue',\n    '00189089': 'DiffusionGradientOrientation',\n    '00189090': 'VelocityEncodingDirection',\n    '00189091': 'VelocityEncodingMinimumValue',\n    '00189092': 'VelocityEncodingAcquisitionSequence',\n    '00189093': 'NumberOfKSpaceTrajectories',\n    '00189094': 'CoverageOfKSpace',\n    '00189095': 'SpectroscopyAcquisitionPhaseRows',\n    '00189096': 'ParallelReductionFactorInPlaneRetired',\n    '00189098': 'TransmitterFrequency',\n    '00189100': 'ResonantNucleus',\n    '00189101': 'FrequencyCorrection',\n    '00189103': 'MRSpectroscopyFOVGeometrySequence',\n    '00189104': 'SlabThickness',\n    '00189105': 'SlabOrientation',\n    '00189106': 'MidSlabPosition',\n    '00189107': 'MRSpatialSaturationSequence',\n    '00189112': 'MRTimingAndRelatedParametersSequence',\n    '00189114': 'MREchoSequence',\n    '00189115': 'MRModifierSequence',\n    '00189117': 'MRDiffusionSequence',\n    '00189118': 'CardiacSynchronizationSequence',\n    '00189119': 'MRAveragesSequence',\n    '00189125': 'MRFOVGeometrySequence',\n    '00189126': 'VolumeLocalizationSequence',\n    '00189127': 'SpectroscopyAcquisitionDataColumns',\n    '00189147': 'DiffusionAnisotropyType',\n    '00189151': 'FrameReferenceDateTime',\n    '00189152': 'MRMetaboliteMapSequence',\n    '00189155': 'ParallelReductionFactorOutOfPlane',\n    '00189159': 'SpectroscopyAcquisitionOutOfPlanePhaseSteps',\n    '00189166': 'BulkMotionStatus',\n    '00189168': 'ParallelReductionFactorSecondInPlane',\n    '00189169': 'CardiacBeatRejectionTechnique',\n    '00189170': 'RespiratoryMotionCompensationTechnique',\n    '00189171': 'RespiratorySignalSource',\n    '00189172': 'BulkMotionCompensationTechnique',\n    '00189173': 'BulkMotionSignalSource',\n    '00189174': 'ApplicableSafetyStandardAgency',\n    '00189175': 'ApplicableSafetyStandardDescription',\n    '00189176': 'OperatingModeSequence',\n    '00189177': 'OperatingModeType',\n    '00189178': 'OperatingMode',\n    '00189179': 'SpecificAbsorptionRateDefinition',\n    '00189180': 'GradientOutputType',\n    '00189181': 'SpecificAbsorptionRateValue',\n    '00189182': 'GradientOutput',\n    '00189183': 'FlowCompensationDirection',\n    '00189184': 'TaggingDelay',\n    '00189185': 'RespiratoryMotionCompensationTechniqueDescription',\n    '00189186': 'RespiratorySignalSourceID',\n    '00189195': 'ChemicalShiftMinimumIntegrationLimitInHz',\n    '00189196': 'ChemicalShiftMaximumIntegrationLimitInHz',\n    '00189197': 'MRVelocityEncodingSequence',\n    '00189198': 'FirstOrderPhaseCorrection',\n    '00189199': 'WaterReferencedPhaseCorrection',\n    '00189200': 'MRSpectroscopyAcquisitionType',\n    '00189214': 'RespiratoryCyclePosition',\n    '00189217': 'VelocityEncodingMaximumValue',\n    '00189218': 'TagSpacingSecondDimension',\n    '00189219': 'TagAngleSecondAxis',\n    '00189220': 'FrameAcquisitionDuration',\n    '00189226': 'MRImageFrameTypeSequence',\n    '00189227': 'MRSpectroscopyFrameTypeSequence',\n    '00189231': 'MRAcquisitionPhaseEncodingStepsInPlane',\n    '00189232': 'MRAcquisitionPhaseEncodingStepsOutOfPlane',\n    '00189234': 'SpectroscopyAcquisitionPhaseColumns',\n    '00189236': 'CardiacCyclePosition',\n    '00189239': 'SpecificAbsorptionRateSequence',\n    '00189240': 'RFEchoTrainLength',\n    '00189241': 'GradientEchoTrainLength',\n    '00189250': 'ArterialSpinLabelingContrast',\n    '00189251': 'MRArterialSpinLabelingSequence',\n    '00189252': 'ASLTechniqueDescription',\n    '00189253': 'ASLSlabNumber',\n    '00189254': 'ASLSlabThickness',\n    '00189255': 'ASLSlabOrientation',\n    '00189256': 'ASLMidSlabPosition',\n    '00189257': 'ASLContext',\n    '00189258': 'ASLPulseTrainDuration',\n    '00189259': 'ASLCrusherFlag',\n    '0018925A': 'ASLCrusherFlowLimit',\n    '0018925B': 'ASLCrusherDescription',\n    '0018925C': 'ASLBolusCutoffFlag',\n    '0018925D': 'ASLBolusCutoffTimingSequence',\n    '0018925E': 'ASLBolusCutoffTechnique',\n    '0018925F': 'ASLBolusCutoffDelayTime',\n    '00189260': 'ASLSlabSequence',\n    '00189295': 'ChemicalShiftMinimumIntegrationLimitInppm',\n    '00189296': 'ChemicalShiftMaximumIntegrationLimitInppm',\n    '00189297': 'WaterReferenceAcquisition',\n    '00189298': 'EchoPeakPosition',\n    '00189301': 'CTAcquisitionTypeSequence',\n    '00189302': 'AcquisitionType',\n    '00189303': 'TubeAngle',\n    '00189304': 'CTAcquisitionDetailsSequence',\n    '00189305': 'RevolutionTime',\n    '00189306': 'SingleCollimationWidth',\n    '00189307': 'TotalCollimationWidth',\n    '00189308': 'CTTableDynamicsSequence',\n    '00189309': 'TableSpeed',\n    '00189310': 'TableFeedPerRotation',\n    '00189311': 'SpiralPitchFactor',\n    '00189312': 'CTGeometrySequence',\n    '00189313': 'DataCollectionCenterPatient',\n    '00189314': 'CTReconstructionSequence',\n    '00189315': 'ReconstructionAlgorithm',\n    '00189316': 'ConvolutionKernelGroup',\n    '00189317': 'ReconstructionFieldOfView',\n    '00189318': 'ReconstructionTargetCenterPatient',\n    '00189319': 'ReconstructionAngle',\n    '00189320': 'ImageFilter',\n    '00189321': 'CTExposureSequence',\n    '00189322': 'ReconstructionPixelSpacing',\n    '00189323': 'ExposureModulationType',\n    '00189324': 'EstimatedDoseSaving',\n    '00189325': 'CTXRayDetailsSequence',\n    '00189326': 'CTPositionSequence',\n    '00189327': 'TablePosition',\n    '00189328': 'ExposureTimeInms',\n    '00189329': 'CTImageFrameTypeSequence',\n    '00189330': 'XRayTubeCurrentInmA',\n    '00189332': 'ExposureInmAs',\n    '00189333': 'ConstantVolumeFlag',\n    '00189334': 'FluoroscopyFlag',\n    '00189335': 'DistanceSourceToDataCollectionCenter',\n    '00189337': 'ContrastBolusAgentNumber',\n    '00189338': 'ContrastBolusIngredientCodeSequence',\n    '00189340': 'ContrastAdministrationProfileSequence',\n    '00189341': 'ContrastBolusUsageSequence',\n    '00189342': 'ContrastBolusAgentAdministered',\n    '00189343': 'ContrastBolusAgentDetected',\n    '00189344': 'ContrastBolusAgentPhase',\n    '00189345': 'CTDIvol',\n    '00189346': 'CTDIPhantomTypeCodeSequence',\n    '00189351': 'CalciumScoringMassFactorPatient',\n    '00189352': 'CalciumScoringMassFactorDevice',\n    '00189353': 'EnergyWeightingFactor',\n    '00189360': 'CTAdditionalXRaySourceSequence',\n    '00189401': 'ProjectionPixelCalibrationSequence',\n    '00189402': 'DistanceSourceToIsocenter',\n    '00189403': 'DistanceObjectToTableTop',\n    '00189404': 'ObjectPixelSpacingInCenterOfBeam',\n    '00189405': 'PositionerPositionSequence',\n    '00189406': 'TablePositionSequence',\n    '00189407': 'CollimatorShapeSequence',\n    '00189410': 'PlanesInAcquisition',\n    '00189412': 'XAXRFFrameCharacteristicsSequence',\n    '00189417': 'FrameAcquisitionSequence',\n    '00189420': 'XRayReceptorType',\n    '00189423': 'AcquisitionProtocolName',\n    '00189424': 'AcquisitionProtocolDescription',\n    '00189425': 'ContrastBolusIngredientOpaque',\n    '00189426': 'DistanceReceptorPlaneToDetectorHousing',\n    '00189427': 'IntensifierActiveShape',\n    '00189428': 'IntensifierActiveDimensions',\n    '00189429': 'PhysicalDetectorSize',\n    '00189430': 'PositionOfIsocenterProjection',\n    '00189432': 'FieldOfViewSequence',\n    '00189433': 'FieldOfViewDescription',\n    '00189434': 'ExposureControlSensingRegionsSequence',\n    '00189435': 'ExposureControlSensingRegionShape',\n    '00189436': 'ExposureControlSensingRegionLeftVerticalEdge',\n    '00189437': 'ExposureControlSensingRegionRightVerticalEdge',\n    '00189438': 'ExposureControlSensingRegionUpperHorizontalEdge',\n    '00189439': 'ExposureControlSensingRegionLowerHorizontalEdge',\n    '00189440': 'CenterOfCircularExposureControlSensingRegion',\n    '00189441': 'RadiusOfCircularExposureControlSensingRegion',\n    '00189442': 'VerticesOfThePolygonalExposureControlSensingRegion',\n    '00189445': '',\n    '00189447': 'ColumnAngulationPatient',\n    '00189449': 'BeamAngle',\n    '00189451': 'FrameDetectorParametersSequence',\n    '00189452': 'CalculatedAnatomyThickness',\n    '00189455': 'CalibrationSequence',\n    '00189456': 'ObjectThicknessSequence',\n    '00189457': 'PlaneIdentification',\n    '00189461': 'FieldOfViewDimensionsInFloat',\n    '00189462': 'IsocenterReferenceSystemSequence',\n    '00189463': 'PositionerIsocenterPrimaryAngle',\n    '00189464': 'PositionerIsocenterSecondaryAngle',\n    '00189465': 'PositionerIsocenterDetectorRotationAngle',\n    '00189466': 'TableXPositionToIsocenter',\n    '00189467': 'TableYPositionToIsocenter',\n    '00189468': 'TableZPositionToIsocenter',\n    '00189469': 'TableHorizontalRotationAngle',\n    '00189470': 'TableHeadTiltAngle',\n    '00189471': 'TableCradleTiltAngle',\n    '00189472': 'FrameDisplayShutterSequence',\n    '00189473': 'AcquiredImageAreaDoseProduct',\n    '00189474': 'CArmPositionerTabletopRelationship',\n    '00189476': 'XRayGeometrySequence',\n    '00189477': 'IrradiationEventIdentificationSequence',\n    '00189504': ('XRay3DFrameTypeSequence'),\n    '00189506': 'ContributingSourcesSequence',\n    '00189507': ('XRay3DAcquisitionSequence'),\n    '00189508': 'PrimaryPositionerScanArc',\n    '00189509': 'SecondaryPositionerScanArc',\n    '00189510': 'PrimaryPositionerScanStartAngle',\n    '00189511': 'SecondaryPositionerScanStartAngle',\n    '00189514': 'PrimaryPositionerIncrement',\n    '00189515': 'SecondaryPositionerIncrement',\n    '00189516': 'StartAcquisitionDateTime',\n    '00189517': 'EndAcquisitionDateTime',\n    '00189518': 'PrimaryPositionerIncrementSign',\n    '00189519': 'SecondaryPositionerIncrementSign',\n    '00189524': 'ApplicationName',\n    '00189525': 'ApplicationVersion',\n    '00189526': 'ApplicationManufacturer',\n    '00189527': 'AlgorithmType',\n    '00189528': 'AlgorithmDescription',\n    '00189530': ('XRay3DReconstructionSequence'),\n    '00189531': 'ReconstructionDescription',\n    '00189538': 'PerProjectionAcquisitionSequence',\n    '00189541': 'DetectorPositionSequence',\n    '00189542': 'XRayAcquisitionDoseSequence',\n    '00189543': 'XRaySourceIsocenterPrimaryAngle',\n    '00189544': 'XRaySourceIsocenterSecondaryAngle',\n    '00189545': 'BreastSupportIsocenterPrimaryAngle',\n    '00189546': 'BreastSupportIsocenterSecondaryAngle',\n    '00189547': 'BreastSupportXPositionToIsocenter',\n    '00189548': 'BreastSupportYPositionToIsocenter',\n    '00189549': 'BreastSupportZPositionToIsocenter',\n    '00189550': 'DetectorIsocenterPrimaryAngle',\n    '00189551': 'DetectorIsocenterSecondaryAngle',\n    '00189552': 'DetectorXPositionToIsocenter',\n    '00189553': 'DetectorYPositionToIsocenter',\n    '00189554': 'DetectorZPositionToIsocenter',\n    '00189555': 'XRayGridSequence',\n    '00189556': 'XRayFilterSequence',\n    '00189557': 'DetectorActiveAreaTLHCPosition',\n    '00189558': 'DetectorActiveAreaOrientation',\n    '00189559': 'PositionerPrimaryAngleDirection',\n    '00189601': 'DiffusionBMatrixSequence',\n    '00189602': 'DiffusionBValueXX',\n    '00189603': 'DiffusionBValueXY',\n    '00189604': 'DiffusionBValueXZ',\n    '00189605': 'DiffusionBValueYY',\n    '00189606': 'DiffusionBValueYZ',\n    '00189607': 'DiffusionBValueZZ',\n    '00189621': 'FunctionalMRSequence',\n    '00189622': 'FunctionalSettlingPhaseFramesPresent',\n    '00189623': 'FunctionalSyncPulse',\n    '00189624': 'SettlingPhaseFrame',\n    '00189701': 'DecayCorrectionDateTime',\n    '00189715': 'StartDensityThreshold',\n    '00189716': 'StartRelativeDensityDifferenceThreshold',\n    '00189717': 'StartCardiacTriggerCountThreshold',\n    '00189718': 'StartRespiratoryTriggerCountThreshold',\n    '00189719': 'TerminationCountsThreshold',\n    '00189720': 'TerminationDensityThreshold',\n    '00189721': 'TerminationRelativeDensityThreshold',\n    '00189722': 'TerminationTimeThreshold',\n    '00189723': 'TerminationCardiacTriggerCountThreshold',\n    '00189724': 'TerminationRespiratoryTriggerCountThreshold',\n    '00189725': 'DetectorGeometry',\n    '00189726': 'TransverseDetectorSeparation',\n    '00189727': 'AxialDetectorDimension',\n    '00189729': 'RadiopharmaceuticalAgentNumber',\n    '00189732': 'PETFrameAcquisitionSequence',\n    '00189733': 'PETDetectorMotionDetailsSequence',\n    '00189734': 'PETTableDynamicsSequence',\n    '00189735': 'PETPositionSequence',\n    '00189736': 'PETFrameCorrectionFactorsSequence',\n    '00189737': 'RadiopharmaceuticalUsageSequence',\n    '00189738': 'AttenuationCorrectionSource',\n    '00189739': 'NumberOfIterations',\n    '00189740': 'NumberOfSubsets',\n    '00189749': 'PETReconstructionSequence',\n    '00189751': 'PETFrameTypeSequence',\n    '00189755': 'TimeOfFlightInformationUsed',\n    '00189756': 'ReconstructionType',\n    '00189758': 'DecayCorrected',\n    '00189759': 'AttenuationCorrected',\n    '00189760': 'ScatterCorrected',\n    '00189761': 'DeadTimeCorrected',\n    '00189762': 'GantryMotionCorrected',\n    '00189763': 'PatientMotionCorrected',\n    '00189764': 'CountLossNormalizationCorrected',\n    '00189765': 'RandomsCorrected',\n    '00189766': 'NonUniformRadialSamplingCorrected',\n    '00189767': 'SensitivityCalibrated',\n    '00189768': 'DetectorNormalizationCorrection',\n    '00189769': 'IterativeReconstructionMethod',\n    '00189770': 'AttenuationCorrectionTemporalRelationship',\n    '00189771': 'PatientPhysiologicalStateSequence',\n    '00189772': 'PatientPhysiologicalStateCodeSequence',\n    '00189801': 'DepthsOfFocus',\n    '00189803': 'ExcludedIntervalsSequence',\n    '00189804': 'ExclusionStartDateTime',\n    '00189805': 'ExclusionDuration',\n    '00189806': 'USImageDescriptionSequence',\n    '00189807': 'ImageDataTypeSequence',\n    '00189808': 'DataType',\n    '00189809': 'TransducerScanPatternCodeSequence',\n    '0018980B': 'AliasedDataType',\n    '0018980C': 'PositionMeasuringDeviceUsed',\n    '0018980D': 'TransducerGeometryCodeSequence',\n    '0018980E': 'TransducerBeamSteeringCodeSequence',\n    '0018980F': 'TransducerApplicationCodeSequence',\n    '00189810': 'ZeroVelocityPixelValue',\n    '00189900': 'ReferenceLocationLabel',\n    '00189901': 'ReferenceLocationDescription',\n    '00189902': 'ReferenceBasisCodeSequence',\n    '00189903': 'ReferenceGeometryCodeSequence',\n    '00189904': 'OffsetDistance',\n    '00189905': 'OffsetDirection',\n    '00189906': 'PotentialScheduledProtocolCodeSequence',\n    '00189907': 'PotentialRequestedProcedureCodeSequence',\n    '00189908': 'PotentialReasonsForProcedure',\n    '00189909': 'PotentialReasonsForProcedureCodeSequence',\n    '0018990A': 'PotentialDiagnosticTasks',\n    '0018990B': 'ContraindicationsCodeSequence',\n    '0018990C': 'ReferencedDefinedProtocolSequence',\n    '0018990D': 'ReferencedPerformedProtocolSequence',\n    '0018990E': 'PredecessorProtocolSequence',\n    '0018990F': 'ProtocolPlanningInformation',\n    '00189910': 'ProtocolDesignRationale',\n    '00189911': 'PatientSpecificationSequence',\n    '00189912': 'ModelSpecificationSequence',\n    '00189913': 'ParametersSpecificationSequence',\n    '00189914': 'InstructionSequence',\n    '00189915': 'InstructionIndex',\n    '00189916': 'InstructionText',\n    '00189917': 'InstructionDescription',\n    '00189918': 'InstructionPerformedFlag',\n    '00189919': 'InstructionPerformedDateTime',\n    '0018991A': 'InstructionPerformanceComment',\n    '0018991B': 'PatientPositioningInstructionSequence',\n    '0018991C': 'PositioningMethodCodeSequence',\n    '0018991D': 'PositioningLandmarkSequence',\n    '0018991E': 'TargetFrameOfReferenceUID',\n    '0018991F': 'AcquisitionProtocolElementSpecificationSequence',\n    '00189920': 'AcquisitionProtocolElementSequence',\n    '00189921': 'ProtocolElementNumber',\n    '00189922': 'ProtocolElementName',\n    '00189923': 'ProtocolElementCharacteristicsSummary',\n    '00189924': 'ProtocolElementPurpose',\n    '00189930': 'AcquisitionMotion',\n    '00189931': 'AcquisitionStartLocationSequence',\n    '00189932': 'AcquisitionEndLocationSequence',\n    '00189933': 'ReconstructionProtocolElementSpecificationSequence',\n    '00189934': 'ReconstructionProtocolElementSequence',\n    '00189935': 'StorageProtocolElementSpecificationSequence',\n    '00189936': 'StorageProtocolElementSequence',\n    '00189937': 'RequestedSeriesDescription',\n    '00189938': 'SourceAcquisitionProtocolElementNumber',\n    '00189939': 'SourceAcquisitionBeamNumber',\n    '0018993A': 'SourceReconstructionProtocolElementNumber',\n    '0018993B': 'ReconstructionStartLocationSequence',\n    '0018993C': 'ReconstructionEndLocationSequence',\n    '0018993D': 'ReconstructionAlgorithmSequence',\n    '0018993E': 'ReconstructionTargetCenterLocationSequence',\n    '00189941': 'ImageFilterDescription',\n    '00189942': 'CTDIvolNotificationTrigger',\n    '00189943': 'DLPNotificationTrigger',\n    '00189944': 'AutoKVPSelectionType',\n    '00189945': 'AutoKVPUpperBound',\n    '00189946': 'AutoKVPLowerBound',\n    '00189947': 'ProtocolDefinedPatientPosition',\n    '0018A001': 'ContributingEquipmentSequence',\n    '0018A002': 'ContributionDateTime',\n    '0018A003': 'ContributionDescription',\n    '0020000D': 'StudyInstanceUID',\n    '0020000E': 'SeriesInstanceUID',\n    '00200010': 'StudyID',\n    '00200011': 'SeriesNumber',\n    '00200012': 'AcquisitionNumber',\n    '00200013': 'InstanceNumber',\n    '00200014': 'IsotopeNumber',\n    '00200015': 'PhaseNumber',\n    '00200016': 'IntervalNumber',\n    '00200017': 'TimeSlotNumber',\n    '00200018': 'AngleNumber',\n    '00200019': 'ItemNumber',\n    '00200020': 'PatientOrientation',\n    '00200022': 'OverlayNumber',\n    '00200024': 'CurveNumber',\n    '00200026': 'LUTNumber',\n    '00200030': 'ImagePosition',\n    '00200032': 'ImagePositionPatient',\n    '00200035': 'ImageOrientation',\n    '00200037': 'ImageOrientationPatient',\n    '00200050': 'Location',\n    '00200052': 'FrameOfReferenceUID',\n    '00200060': 'Laterality',\n    '00200062': 'ImageLaterality',\n    '00200070': 'ImageGeometryType',\n    '00200080': 'MaskingImage',\n    '002000AA': 'ReportNumber',\n    '00200100': 'TemporalPositionIdentifier',\n    '00200105': 'NumberOfTemporalPositions',\n    '00200110': 'TemporalResolution',\n    '00200200': 'SynchronizationFrameOfReferenceUID',\n    '00200242': 'SOPInstanceUIDOfConcatenationSource',\n    '00201000': 'SeriesInStudy',\n    '00201001': 'AcquisitionsInSeries',\n    '00201002': 'ImagesInAcquisition',\n    '00201003': 'ImagesInSeries',\n    '00201004': 'AcquisitionsInStudy',\n    '00201005': 'ImagesInStudy',\n    '00201020': 'Reference',\n    '0020103F': 'TargetPositionReferenceIndicator',\n    '00201040': 'PositionReferenceIndicator',\n    '00201041': 'SliceLocation',\n    '00201070': 'OtherStudyNumbers',\n    '00201200': 'NumberOfPatientRelatedStudies',\n    '00201202': 'NumberOfPatientRelatedSeries',\n    '00201204': 'NumberOfPatientRelatedInstances',\n    '00201206': 'NumberOfStudyRelatedSeries',\n    '00201208': 'NumberOfStudyRelatedInstances',\n    '00201209': 'NumberOfSeriesRelatedInstances',\n    '00203401': 'ModifyingDeviceID',\n    '00203402': 'ModifiedImageID',\n    '00203403': 'ModifiedImageDate',\n    '00203404': 'ModifyingDeviceManufacturer',\n    '00203405': 'ModifiedImageTime',\n    '00203406': 'ModifiedImageDescription',\n    '00204000': 'ImageComments',\n    '00205000': 'OriginalImageIdentification',\n    '00205002': 'OriginalImageIdentificationNomenclature',\n    '00209056': 'StackID',\n    '00209057': 'InStackPositionNumber',\n    '00209071': 'FrameAnatomySequence',\n    '00209072': 'FrameLaterality',\n    '00209111': 'FrameContentSequence',\n    '00209113': 'PlanePositionSequence',\n    '00209116': 'PlaneOrientationSequence',\n    '00209128': 'TemporalPositionIndex',\n    '00209153': 'NominalCardiacTriggerDelayTime',\n    '00209154': 'NominalCardiacTriggerTimePriorToRPeak',\n    '00209155': 'ActualCardiacTriggerTimePriorToRPeak',\n    '00209156': 'FrameAcquisitionNumber',\n    '00209157': 'DimensionIndexValues',\n    '00209158': 'FrameComments',\n    '00209161': 'ConcatenationUID',\n    '00209162': 'InConcatenationNumber',\n    '00209163': 'InConcatenationTotalNumber',\n    '00209164': 'DimensionOrganizationUID',\n    '00209165': 'DimensionIndexPointer',\n    '00209167': 'FunctionalGroupPointer',\n    '00209170': 'UnassignedSharedConvertedAttributesSequence',\n    '00209171': 'UnassignedPerFrameConvertedAttributesSequence',\n    '00209172': 'ConversionSourceAttributesSequence',\n    '00209213': 'DimensionIndexPrivateCreator',\n    '00209221': 'DimensionOrganizationSequence',\n    '00209222': 'DimensionIndexSequence',\n    '00209228': 'ConcatenationFrameOffsetNumber',\n    '00209238': 'FunctionalGroupPrivateCreator',\n    '00209241': 'NominalPercentageOfCardiacPhase',\n    '00209245': 'NominalPercentageOfRespiratoryPhase',\n    '00209246': 'StartingRespiratoryAmplitude',\n    '00209247': 'StartingRespiratoryPhase',\n    '00209248': 'EndingRespiratoryAmplitude',\n    '00209249': 'EndingRespiratoryPhase',\n    '00209250': 'RespiratoryTriggerType',\n    '00209251': 'RRIntervalTimeNominal',\n    '00209252': 'ActualCardiacTriggerDelayTime',\n    '00209253': 'RespiratorySynchronizationSequence',\n    '00209254': 'RespiratoryIntervalTime',\n    '00209255': 'NominalRespiratoryTriggerDelayTime',\n    '00209256': 'RespiratoryTriggerDelayThreshold',\n    '00209257': 'ActualRespiratoryTriggerDelayTime',\n    '00209301': 'ImagePositionVolume',\n    '00209302': 'ImageOrientationVolume',\n    '00209307': 'UltrasoundAcquisitionGeometry',\n    '00209308': 'ApexPosition',\n    '00209309': 'VolumeToTransducerMappingMatrix',\n    '0020930A': 'VolumeToTableMappingMatrix',\n    '0020930B': 'VolumeToTransducerRelationship',\n    '0020930C': 'PatientFrameOfReferenceSource',\n    '0020930D': 'TemporalPositionTimeOffset',\n    '0020930E': 'PlanePositionVolumeSequence',\n    '0020930F': 'PlaneOrientationVolumeSequence',\n    '00209310': 'TemporalPositionSequence',\n    '00209311': 'DimensionOrganizationType',\n    '00209312': 'VolumeFrameOfReferenceUID',\n    '00209313': 'TableFrameOfReferenceUID',\n    '00209421': 'DimensionDescriptionLabel',\n    '00209450': 'PatientOrientationInFrameSequence',\n    '00209453': 'FrameLabel',\n    '00209518': 'AcquisitionIndex',\n    '00209529': 'ContributingSOPInstancesReferenceSequence',\n    '00209536': 'ReconstructionIndex',\n    '00220001': 'LightPathFilterPassThroughWavelength',\n    '00220002': 'LightPathFilterPassBand',\n    '00220003': 'ImagePathFilterPassThroughWavelength',\n    '00220004': 'ImagePathFilterPassBand',\n    '00220005': 'PatientEyeMovementCommanded',\n    '00220006': 'PatientEyeMovementCommandCodeSequence',\n    '00220007': 'SphericalLensPower',\n    '00220008': 'CylinderLensPower',\n    '00220009': 'CylinderAxis',\n    '0022000A': 'EmmetropicMagnification',\n    '0022000B': 'IntraOcularPressure',\n    '0022000C': 'HorizontalFieldOfView',\n    '0022000D': 'PupilDilated',\n    '0022000E': 'DegreeOfDilation',\n    '00220010': 'StereoBaselineAngle',\n    '00220011': 'StereoBaselineDisplacement',\n    '00220012': 'StereoHorizontalPixelOffset',\n    '00220013': 'StereoVerticalPixelOffset',\n    '00220014': 'StereoRotation',\n    '00220015': 'AcquisitionDeviceTypeCodeSequence',\n    '00220016': 'IlluminationTypeCodeSequence',\n    '00220017': 'LightPathFilterTypeStackCodeSequence',\n    '00220018': 'ImagePathFilterTypeStackCodeSequence',\n    '00220019': 'LensesCodeSequence',\n    '0022001A': 'ChannelDescriptionCodeSequence',\n    '0022001B': 'RefractiveStateSequence',\n    '0022001C': 'MydriaticAgentCodeSequence',\n    '0022001D': 'RelativeImagePositionCodeSequence',\n    '0022001E': 'CameraAngleOfView',\n    '00220020': 'StereoPairsSequence',\n    '00220021': 'LeftImageSequence',\n    '00220022': 'RightImageSequence',\n    '00220028': 'StereoPairsPresent',\n    '00220030': 'AxialLengthOfTheEye',\n    '00220031': 'OphthalmicFrameLocationSequence',\n    '00220032': 'ReferenceCoordinates',\n    '00220035': 'DepthSpatialResolution',\n    '00220036': 'MaximumDepthDistortion',\n    '00220037': 'AlongScanSpatialResolution',\n    '00220038': 'MaximumAlongScanDistortion',\n    '00220039': 'OphthalmicImageOrientation',\n    '00220041': 'DepthOfTransverseImage',\n    '00220042': 'MydriaticAgentConcentrationUnitsSequence',\n    '00220048': 'AcrossScanSpatialResolution',\n    '00220049': 'MaximumAcrossScanDistortion',\n    '0022004E': 'MydriaticAgentConcentration',\n    '00220055': 'IlluminationWaveLength',\n    '00220056': 'IlluminationPower',\n    '00220057': 'IlluminationBandwidth',\n    '00220058': 'MydriaticAgentSequence',\n    '00221007': 'OphthalmicAxialMeasurementsRightEyeSequence',\n    '00221008': 'OphthalmicAxialMeasurementsLeftEyeSequence',\n    '00221009': 'OphthalmicAxialMeasurementsDeviceType',\n    '00221010': 'OphthalmicAxialLengthMeasurementsType',\n    '00221012': 'OphthalmicAxialLengthSequence',\n    '00221019': 'OphthalmicAxialLength',\n    '00221024': 'LensStatusCodeSequence',\n    '00221025': 'VitreousStatusCodeSequence',\n    '00221028': 'IOLFormulaCodeSequence',\n    '00221029': 'IOLFormulaDetail',\n    '00221033': 'KeratometerIndex',\n    '00221035': 'SourceOfOphthalmicAxialLengthCodeSequence',\n    '00221037': 'TargetRefraction',\n    '00221039': 'RefractiveProcedureOccurred',\n    '00221040': 'RefractiveSurgeryTypeCodeSequence',\n    '00221044': 'OphthalmicUltrasoundMethodCodeSequence',\n    '00221050': 'OphthalmicAxialLengthMeasurementsSequence',\n    '00221053': 'IOLPower',\n    '00221054': 'PredictedRefractiveError',\n    '00221059': 'OphthalmicAxialLengthVelocity',\n    '00221065': 'LensStatusDescription',\n    '00221066': 'VitreousStatusDescription',\n    '00221090': 'IOLPowerSequence',\n    '00221092': 'LensConstantSequence',\n    '00221093': 'IOLManufacturer',\n    '00221094': 'LensConstantDescription',\n    '00221095': 'ImplantName',\n    '00221096': 'KeratometryMeasurementTypeCodeSequence',\n    '00221097': 'ImplantPartNumber',\n    '00221100': 'ReferencedOphthalmicAxialMeasurementsSequence',\n    '00221101': 'OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence',\n    '00221103': 'RefractiveErrorBeforeRefractiveSurgeryCodeSequence',\n    '00221121': 'IOLPowerForExactEmmetropia',\n    '00221122': 'IOLPowerForExactTargetRefraction',\n    '00221125': 'AnteriorChamberDepthDefinitionCodeSequence',\n    '00221127': 'LensThicknessSequence',\n    '00221128': 'AnteriorChamberDepthSequence',\n    '00221130': 'LensThickness',\n    '00221131': 'AnteriorChamberDepth',\n    '00221132': 'SourceOfLensThicknessDataCodeSequence',\n    '00221133': 'SourceOfAnteriorChamberDepthDataCodeSequence',\n    '00221134': 'SourceOfRefractiveMeasurementsSequence',\n    '00221135': 'SourceOfRefractiveMeasurementsCodeSequence',\n    '00221140': 'OphthalmicAxialLengthMeasurementModified',\n    '00221150': 'OphthalmicAxialLengthDataSourceCodeSequence',\n    '00221153': 'OphthalmicAxialLengthAcquisitionMethodCodeSequence',\n    '00221155': 'SignalToNoiseRatio',\n    '00221159': 'OphthalmicAxialLengthDataSourceDescription',\n    '00221210': 'OphthalmicAxialLengthMeasurementsTotalLengthSequence',\n    '00221211': 'OphthalmicAxialLengthMeasurementsSegmentalLengthSequence',\n    '00221212': 'OphthalmicAxialLengthMeasurementsLengthSummationSequence',\n    '00221220': 'UltrasoundOphthalmicAxialLengthMeasurementsSequence',\n    '00221225': 'OpticalOphthalmicAxialLengthMeasurementsSequence',\n    '00221230': 'UltrasoundSelectedOphthalmicAxialLengthSequence',\n    '00221250': 'OphthalmicAxialLengthSelectionMethodCodeSequence',\n    '00221255': 'OpticalSelectedOphthalmicAxialLengthSequence',\n    '00221257': 'SelectedSegmentalOphthalmicAxialLengthSequence',\n    '00221260': 'SelectedTotalOphthalmicAxialLengthSequence',\n    '00221262': 'OphthalmicAxialLengthQualityMetricSequence',\n    '00221265': 'OphthalmicAxialLengthQualityMetricTypeCodeSequence',\n    '00221273': 'OphthalmicAxialLengthQualityMetricTypeDescription',\n    '00221300': 'IntraocularLensCalculationsRightEyeSequence',\n    '00221310': 'IntraocularLensCalculationsLeftEyeSequence',\n    '00221330': 'ReferencedOphthalmicAxialLengthMeasurementQCImageSequence',\n    '00221415': 'OphthalmicMappingDeviceType',\n    '00221420': 'AcquisitionMethodCodeSequence',\n    '00221423': 'AcquisitionMethodAlgorithmSequence',\n    '00221436': 'OphthalmicThicknessMapTypeCodeSequence',\n    '00221443': 'OphthalmicThicknessMappingNormalsSequence',\n    '00221445': 'RetinalThicknessDefinitionCodeSequence',\n    '00221450': 'PixelValueMappingToCodedConceptSequence',\n    '00221452': 'MappedPixelValue',\n    '00221454': 'PixelValueMappingExplanation',\n    '00221458': 'OphthalmicThicknessMapQualityThresholdSequence',\n    '00221460': 'OphthalmicThicknessMapThresholdQualityRating',\n    '00221463': 'AnatomicStructureReferencePoint',\n    '00221465': 'RegistrationToLocalizerSequence',\n    '00221466': 'RegisteredLocalizerUnits',\n    '00221467': 'RegisteredLocalizerTopLeftHandCorner',\n    '00221468': 'RegisteredLocalizerBottomRightHandCorner',\n    '00221470': 'OphthalmicThicknessMapQualityRatingSequence',\n    '00221472': 'RelevantOPTAttributesSequence',\n    '00221512': 'TransformationMethodCodeSequence',\n    '00221513': 'TransformationAlgorithmSequence',\n    '00221515': 'OphthalmicAxialLengthMethod',\n    '00221517': 'OphthalmicFOV',\n    '00221518': 'TwoDimensionalToThreeDimensionalMapSequence',\n    '00221525': 'WideFieldOphthalmicPhotographyQualityRatingSequence',\n    '00221526': 'WideFieldOphthalmicPhotographyQualityThresholdSequence',\n    '00221527': 'WideFieldOphthalmicPhotographyThresholdQualityRating',\n    '00221528': 'XCoordinatesCenterPixelViewAngle',\n    '00221529': 'YCoordinatesCenterPixelViewAngle',\n    '00221530': 'NumberOfMapPoints',\n    '00221531': 'TwoDimensionalToThreeDimensionalMapData',\n    '00221612': 'DerivationAlgorithmSequence',\n    '00221615': 'OphthalmicImageTypeCodeSequence',\n    '00221616': 'OphthalmicImageTypeDescription',\n    '00221618': 'ScanPatternTypeCodeSequence',\n    '00221620': 'ReferencedSurfaceMeshIdentificationSequence',\n    '00221622': 'OphthalmicVolumetricPropertiesFlag',\n    '00221624': 'OphthalmicAnatomicReferencePointXCoordinate',\n    '00221626': 'OphthalmicAnatomicReferencePointYCoordinate',\n    '00221628': 'OphthalmicEnFaceImageQualityRatingSequence',\n    '00221630': 'QualityThreshold',\n    '00221640': 'OCTBscanAnalysisAcquisitionParametersSequence',\n    '00221642': 'NumberofBscansPerFrame',\n    '00221643': 'BscanSlabThickness',\n    '00221644': 'DistanceBetweenBscanSlabs',\n    '00221645': 'BscanCycleTime',\n    '00221646': 'BscanCycleTimeVector',\n    '00221649': 'AscanRate',\n    '00221650': 'BscanRate',\n    '00221658': 'SurfaceMeshZPixelOffset',\n    '00240010': 'VisualFieldHorizontalExtent',\n    '00240011': 'VisualFieldVerticalExtent',\n    '00240012': 'VisualFieldShape',\n    '00240016': 'ScreeningTestModeCodeSequence',\n    '00240018': 'MaximumStimulusLuminance',\n    '00240020': 'BackgroundLuminance',\n    '00240021': 'StimulusColorCodeSequence',\n    '00240024': 'BackgroundIlluminationColorCodeSequence',\n    '00240025': 'StimulusArea',\n    '00240028': 'StimulusPresentationTime',\n    '00240032': 'FixationSequence',\n    '00240033': 'FixationMonitoringCodeSequence',\n    '00240034': 'VisualFieldCatchTrialSequence',\n    '00240035': 'FixationCheckedQuantity',\n    '00240036': 'PatientNotProperlyFixatedQuantity',\n    '00240037': 'PresentedVisualStimuliDataFlag',\n    '00240038': 'NumberOfVisualStimuli',\n    '00240039': 'ExcessiveFixationLossesDataFlag',\n    '00240040': 'ExcessiveFixationLosses',\n    '00240042': 'StimuliRetestingQuantity',\n    '00240044': 'CommentsOnPatientPerformanceOfVisualField',\n    '00240045': 'FalseNegativesEstimateFlag',\n    '00240046': 'FalseNegativesEstimate',\n    '00240048': 'NegativeCatchTrialsQuantity',\n    '00240050': 'FalseNegativesQuantity',\n    '00240051': 'ExcessiveFalseNegativesDataFlag',\n    '00240052': 'ExcessiveFalseNegatives',\n    '00240053': 'FalsePositivesEstimateFlag',\n    '00240054': 'FalsePositivesEstimate',\n    '00240055': 'CatchTrialsDataFlag',\n    '00240056': 'PositiveCatchTrialsQuantity',\n    '00240057': 'TestPointNormalsDataFlag',\n    '00240058': 'TestPointNormalsSequence',\n    '00240059': 'GlobalDeviationProbabilityNormalsFlag',\n    '00240060': 'FalsePositivesQuantity',\n    '00240061': 'ExcessiveFalsePositivesDataFlag',\n    '00240062': 'ExcessiveFalsePositives',\n    '00240063': 'VisualFieldTestNormalsFlag',\n    '00240064': 'ResultsNormalsSequence',\n    '00240065': 'AgeCorrectedSensitivityDeviationAlgorithmSequence',\n    '00240066': 'GlobalDeviationFromNormal',\n    '00240067': 'GeneralizedDefectSensitivityDeviationAlgorithmSequence',\n    '00240068': 'LocalizedDeviationFromNormal',\n    '00240069': 'PatientReliabilityIndicator',\n    '00240070': 'VisualFieldMeanSensitivity',\n    '00240071': 'GlobalDeviationProbability',\n    '00240072': 'LocalDeviationProbabilityNormalsFlag',\n    '00240073': 'LocalizedDeviationProbability',\n    '00240074': 'ShortTermFluctuationCalculated',\n    '00240075': 'ShortTermFluctuation',\n    '00240076': 'ShortTermFluctuationProbabilityCalculated',\n    '00240077': 'ShortTermFluctuationProbability',\n    '00240078': 'CorrectedLocalizedDeviationFromNormalCalculated',\n    '00240079': 'CorrectedLocalizedDeviationFromNormal',\n    '00240080': 'CorrectedLocalizedDeviationFromNormalProbabilityCalculated',\n    '00240081': 'CorrectedLocalizedDeviationFromNormalProbability',\n    '00240083': 'GlobalDeviationProbabilitySequence',\n    '00240085': 'LocalizedDeviationProbabilitySequence',\n    '00240086': 'FovealSensitivityMeasured',\n    '00240087': 'FovealSensitivity',\n    '00240088': 'VisualFieldTestDuration',\n    '00240089': 'VisualFieldTestPointSequence',\n    '00240090': 'VisualFieldTestPointXCoordinate',\n    '00240091': 'VisualFieldTestPointYCoordinate',\n    '00240092': 'AgeCorrectedSensitivityDeviationValue',\n    '00240093': 'StimulusResults',\n    '00240094': 'SensitivityValue',\n    '00240095': 'RetestStimulusSeen',\n    '00240096': 'RetestSensitivityValue',\n    '00240097': 'VisualFieldTestPointNormalsSequence',\n    '00240098': 'QuantifiedDefect',\n    '00240100': 'AgeCorrectedSensitivityDeviationProbabilityValue',\n    '00240102': 'GeneralizedDefectCorrectedSensitivityDeviationFlag',\n    '00240103': 'GeneralizedDefectCorrectedSensitivityDeviationValue',\n    '00240104': 'GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue',\n    '00240105': 'MinimumSensitivityValue',\n    '00240106': 'BlindSpotLocalized',\n    '00240107': 'BlindSpotXCoordinate',\n    '00240108': 'BlindSpotYCoordinate',\n    '00240110': 'VisualAcuityMeasurementSequence',\n    '00240112': 'RefractiveParametersUsedOnPatientSequence',\n    '00240113': 'MeasurementLaterality',\n    '00240114': 'OphthalmicPatientClinicalInformationLeftEyeSequence',\n    '00240115': 'OphthalmicPatientClinicalInformationRightEyeSequence',\n    '00240117': 'FovealPointNormativeDataFlag',\n    '00240118': 'FovealPointProbabilityValue',\n    '00240120': 'ScreeningBaselineMeasured',\n    '00240122': 'ScreeningBaselineMeasuredSequence',\n    '00240124': 'ScreeningBaselineType',\n    '00240126': 'ScreeningBaselineValue',\n    '00240202': 'AlgorithmSource',\n    '00240306': 'DataSetName',\n    '00240307': 'DataSetVersion',\n    '00240308': 'DataSetSource',\n    '00240309': 'DataSetDescription',\n    '00240317': 'VisualFieldTestReliabilityGlobalIndexSequence',\n    '00240320': 'VisualFieldGlobalResultsIndexSequence',\n    '00240325': 'DataObservationSequence',\n    '00240338': 'IndexNormalsFlag',\n    '00240341': 'IndexProbability',\n    '00240344': 'IndexProbabilitySequence',\n    '00280002': 'SamplesPerPixel',\n    '00280003': 'SamplesPerPixelUsed',\n    '00280004': 'PhotometricInterpretation',\n    '00280005': 'ImageDimensions',\n    '00280006': 'PlanarConfiguration',\n    '00280008': 'NumberOfFrames',\n    '00280009': 'FrameIncrementPointer',\n    '0028000A': 'FrameDimensionPointer',\n    '00280010': 'Rows',\n    '00280011': 'Columns',\n    '00280012': 'Planes',\n    '00280014': 'UltrasoundColorDataPresent',\n    '00280020': '',\n    '00280030': 'PixelSpacing',\n    '00280031': 'ZoomFactor',\n    '00280032': 'ZoomCenter',\n    '00280034': 'PixelAspectRatio',\n    '00280040': 'ImageFormat',\n    '00280050': 'ManipulatedImage',\n    '00280051': 'CorrectedImage',\n    '0028005F': 'CompressionRecognitionCode',\n    '00280060': 'CompressionCode',\n    '00280061': 'CompressionOriginator',\n    '00280062': 'CompressionLabel',\n    '00280063': 'CompressionDescription',\n    '00280065': 'CompressionSequence',\n    '00280066': 'CompressionStepPointers',\n    '00280068': 'RepeatInterval',\n    '00280069': 'BitsGrouped',\n    '00280070': 'PerimeterTable',\n    '00280071': 'PerimeterValue',\n    '00280080': 'PredictorRows',\n    '00280081': 'PredictorColumns',\n    '00280082': 'PredictorConstants',\n    '00280090': 'BlockedPixels',\n    '00280091': 'BlockRows',\n    '00280092': 'BlockColumns',\n    '00280093': 'RowOverlap',\n    '00280094': 'ColumnOverlap',\n    '00280100': 'BitsAllocated',\n    '00280101': 'BitsStored',\n    '00280102': 'HighBit',\n    '00280103': 'PixelRepresentation',\n    '00280104': 'SmallestValidPixelValue',\n    '00280105': 'LargestValidPixelValue',\n    '00280106': 'SmallestImagePixelValue',\n    '00280107': 'LargestImagePixelValue',\n    '00280108': 'SmallestPixelValueInSeries',\n    '00280109': 'LargestPixelValueInSeries',\n    '00280110': 'SmallestImagePixelValueInPlane',\n    '00280111': 'LargestImagePixelValueInPlane',\n    '00280120': 'PixelPaddingValue',\n    '00280121': 'PixelPaddingRangeLimit',\n    '00280122': 'FloatPixelPaddingValue',\n    '00280123': 'DoubleFloatPixelPaddingValue',\n    '00280124': 'FloatPixelPaddingRangeLimit',\n    '00280125': 'DoubleFloatPixelPaddingRangeLimit',\n    '00280200': 'ImageLocation',\n    '00280300': 'QualityControlImage',\n    '00280301': 'BurnedInAnnotation',\n    '00280302': 'RecognizableVisualFeatures',\n    '00280303': 'LongitudinalTemporalInformationModified',\n    '00280304': 'ReferencedColorPaletteInstanceUID',\n    '00280400': 'TransformLabel',\n    '00280401': 'TransformVersionNumber',\n    '00280402': 'NumberOfTransformSteps',\n    '00280403': 'SequenceOfCompressedData',\n    '00280404': 'DetailsOfCoefficients',\n    '00280700': 'DCTLabel',\n    '00280701': 'DataBlockDescription',\n    '00280702': 'DataBlock',\n    '00280710': 'NormalizationFactorFormat',\n    '00280720': 'ZonalMapNumberFormat',\n    '00280721': 'ZonalMapLocation',\n    '00280722': 'ZonalMapFormat',\n    '00280730': 'AdaptiveMapFormat',\n    '00280740': 'CodeNumberFormat',\n    '00280A02': 'PixelSpacingCalibrationType',\n    '00280A04': 'PixelSpacingCalibrationDescription',\n    '00281040': 'PixelIntensityRelationship',\n    '00281041': 'PixelIntensityRelationshipSign',\n    '00281050': 'WindowCenter',\n    '00281051': 'WindowWidth',\n    '00281052': 'RescaleIntercept',\n    '00281053': 'RescaleSlope',\n    '00281054': 'RescaleType',\n    '00281055': 'WindowCenterWidthExplanation',\n    '00281056': 'VOILUTFunction',\n    '00281080': 'GrayScale',\n    '00281090': 'RecommendedViewingMode',\n    '00281100': 'GrayLookupTableDescriptor',\n    '00281101': 'RedPaletteColorLookupTableDescriptor',\n    '00281102': 'GreenPaletteColorLookupTableDescriptor',\n    '00281103': 'BluePaletteColorLookupTableDescriptor',\n    '00281104': 'AlphaPaletteColorLookupTableDescriptor',\n    '00281111': 'LargeRedPaletteColorLookupTableDescriptor',\n    '00281112': 'LargeGreenPaletteColorLookupTableDescriptor',\n    '00281113': 'LargeBluePaletteColorLookupTableDescriptor',\n    '00281199': 'PaletteColorLookupTableUID',\n    '00281200': 'GrayLookupTableData',\n    '00281201': 'RedPaletteColorLookupTableData',\n    '00281202': 'GreenPaletteColorLookupTableData',\n    '00281203': 'BluePaletteColorLookupTableData',\n    '00281204': 'AlphaPaletteColorLookupTableData',\n    '00281211': 'LargeRedPaletteColorLookupTableData',\n    '00281212': 'LargeGreenPaletteColorLookupTableData',\n    '00281213': 'LargeBluePaletteColorLookupTableData',\n    '00281214': 'LargePaletteColorLookupTableUID',\n    '00281221': 'SegmentedRedPaletteColorLookupTableData',\n    '00281222': 'SegmentedGreenPaletteColorLookupTableData',\n    '00281223': 'SegmentedBluePaletteColorLookupTableData',\n    '00281224': 'SegmentedAlphaPaletteColorLookupTableData',\n    '00281230': 'StoredValueColorRangeSequence',\n    '00281231': 'MinimumStoredValueMapped',\n    '00281232': 'MaximumStoredValueMapped',\n    '00281300': 'BreastImplantPresent',\n    '00281350': 'PartialView',\n    '00281351': 'PartialViewDescription',\n    '00281352': 'PartialViewCodeSequence',\n    '0028135A': 'SpatialLocationsPreserved',\n    '00281401': 'DataFrameAssignmentSequence',\n    '00281402': 'DataPathAssignment',\n    '00281403': 'BitsMappedToColorLookupTable',\n    '00281404': ('BlendingLUT1Sequence'),\n    '00281405': ('BlendingLUT1TransferFunction'),\n    '00281406': 'BlendingWeightConstant',\n    '00281407': 'BlendingLookupTableDescriptor',\n    '00281408': 'BlendingLookupTableData',\n    '0028140B': 'EnhancedPaletteColorLookupTableSequence',\n    '0028140C': ('BlendingLUT2Sequence'),\n    '0028140D': ('BlendingLUT2TransferFunction'),\n    '0028140E': 'DataPathID',\n    '0028140F': 'RGBLUTTransferFunction',\n    '00281410': 'AlphaLUTTransferFunction',\n    '00282000': 'ICCProfile',\n    '00282002': 'ColorSpace',\n    '00282110': 'LossyImageCompression',\n    '00282112': 'LossyImageCompressionRatio',\n    '00282114': 'LossyImageCompressionMethod',\n    '00283000': 'ModalityLUTSequence',\n    '00283002': 'LUTDescriptor',\n    '00283003': 'LUTExplanation',\n    '00283004': 'ModalityLUTType',\n    '00283006': 'LUTData',\n    '00283010': 'VOILUTSequence',\n    '00283110': 'SoftcopyVOILUTSequence',\n    '00284000': 'ImagePresentationComments',\n    '00285000': 'BiPlaneAcquisitionSequence',\n    '00286010': 'RepresentativeFrameNumber',\n    '00286020': 'FrameNumbersOfInterest',\n    '00286022': 'FrameOfInterestDescription',\n    '00286023': 'FrameOfInterestType',\n    '00286030': 'MaskPointers',\n    '00286040': 'RWavePointer',\n    '00286100': 'MaskSubtractionSequence',\n    '00286101': 'MaskOperation',\n    '00286102': 'ApplicableFrameRange',\n    '00286110': 'MaskFrameNumbers',\n    '00286112': 'ContrastFrameAveraging',\n    '00286114': 'MaskSubPixelShift',\n    '00286120': 'TIDOffset',\n    '00286190': 'MaskOperationExplanation',\n    '00287000': 'EquipmentAdministratorSequence',\n    '00287001': 'NumberOfDisplaySubsystems',\n    '00287002': 'CurrentConfigurationID',\n    '00287003': 'DisplaySubsystemID',\n    '00287004': 'DisplaySubsystemName',\n    '00287005': 'DisplaySubsystemDescription',\n    '00287006': 'SystemStatus',\n    '00287007': 'SystemStatusComment',\n    '00287008': 'TargetLuminanceCharacteristicsSequence',\n    '00287009': 'LuminanceCharacteristicsID',\n    '0028700A': 'DisplaySubsystemConfigurationSequence',\n    '0028700B': 'ConfigurationID',\n    '0028700C': 'ConfigurationName',\n    '0028700D': 'ConfigurationDescription',\n    '0028700E': 'ReferencedTargetLuminanceCharacteristicsID',\n    '0028700F': 'QAResultsSequence',\n    '00287010': 'DisplaySubsystemQAResultsSequence',\n    '00287011': 'ConfigurationQAResultsSequence',\n    '00287012': 'MeasurementEquipmentSequence',\n    '00287013': 'MeasurementFunctions',\n    '00287014': 'MeasurementEquipmentType',\n    '00287015': 'VisualEvaluationResultSequence',\n    '00287016': 'DisplayCalibrationResultSequence',\n    '00287017': 'DDLValue',\n    '00287018': 'CIExyWhitePoint',\n    '00287019': 'DisplayFunctionType',\n    '0028701A': 'GammaValue',\n    '0028701B': 'NumberOfLuminancePoints',\n    '0028701C': 'LuminanceResponseSequence',\n    '0028701D': 'TargetMinimumLuminance',\n    '0028701E': 'TargetMaximumLuminance',\n    '0028701F': 'LuminanceValue',\n    '00287020': 'LuminanceResponseDescription',\n    '00287021': 'WhitePointFlag',\n    '00287022': 'DisplayDeviceTypeCodeSequence',\n    '00287023': 'DisplaySubsystemSequence',\n    '00287024': 'LuminanceResultSequence',\n    '00287025': 'AmbientLightValueSource',\n    '00287026': 'MeasuredCharacteristics',\n    '00287027': 'LuminanceUniformityResultSequence',\n    '00287028': 'VisualEvaluationTestSequence',\n    '00287029': 'TestResult',\n    '0028702A': 'TestResultComment',\n    '0028702B': 'TestImageValidation',\n    '0028702C': 'TestPatternCodeSequence',\n    '0028702D': 'MeasurementPatternCodeSequence',\n    '0028702E': 'VisualEvaluationMethodCodeSequence',\n    '00287FE0': 'PixelDataProviderURL',\n    '00289001': 'DataPointRows',\n    '00289002': 'DataPointColumns',\n    '00289003': 'SignalDomainColumns',\n    '00289099': 'LargestMonochromePixelValue',\n    '00289108': 'DataRepresentation',\n    '00289110': 'PixelMeasuresSequence',\n    '00289132': 'FrameVOILUTSequence',\n    '00289145': 'PixelValueTransformationSequence',\n    '00289235': 'SignalDomainRows',\n    '00289411': 'DisplayFilterPercentage',\n    '00289415': 'FramePixelShiftSequence',\n    '00289416': 'SubtractionItemID',\n    '00289422': 'PixelIntensityRelationshipLUTSequence',\n    '00289443': 'FramePixelDataPropertiesSequence',\n    '00289444': 'GeometricalProperties',\n    '00289445': 'GeometricMaximumDistortion',\n    '00289446': 'ImageProcessingApplied',\n    '00289454': 'MaskSelectionMode',\n    '00289474': 'LUTFunction',\n    '00289478': 'MaskVisibilityPercentage',\n    '00289501': 'PixelShiftSequence',\n    '00289502': 'RegionPixelShiftSequence',\n    '00289503': 'VerticesOfTheRegion',\n    '00289505': 'MultiFramePresentationSequence',\n    '00289506': 'PixelShiftFrameRange',\n    '00289507': 'LUTFrameRange',\n    '00289520': 'ImageToEquipmentMappingMatrix',\n    '00289537': 'EquipmentCoordinateSystemIdentification',\n    '0032000A': 'StudyStatusID',\n    '0032000C': 'StudyPriorityID',\n    '00320012': 'StudyIDIssuer',\n    '00320032': 'StudyVerifiedDate',\n    '00320033': 'StudyVerifiedTime',\n    '00320034': 'StudyReadDate',\n    '00320035': 'StudyReadTime',\n    '00321000': 'ScheduledStudyStartDate',\n    '00321001': 'ScheduledStudyStartTime',\n    '00321010': 'ScheduledStudyStopDate',\n    '00321011': 'ScheduledStudyStopTime',\n    '00321020': 'ScheduledStudyLocation',\n    '00321021': 'ScheduledStudyLocationAETitle',\n    '00321030': 'ReasonForStudy',\n    '00321031': 'RequestingPhysicianIdentificationSequence',\n    '00321032': 'RequestingPhysician',\n    '00321033': 'RequestingService',\n    '00321034': 'RequestingServiceCodeSequence',\n    '00321040': 'StudyArrivalDate',\n    '00321041': 'StudyArrivalTime',\n    '00321050': 'StudyCompletionDate',\n    '00321051': 'StudyCompletionTime',\n    '00321055': 'StudyComponentStatusID',\n    '00321060': 'RequestedProcedureDescription',\n    '00321064': 'RequestedProcedureCodeSequence',\n    '00321070': 'RequestedContrastAgent',\n    '00324000': 'StudyComments',\n    '00380004': 'ReferencedPatientAliasSequence',\n    '00380008': 'VisitStatusID',\n    '00380010': 'AdmissionID',\n    '00380011': 'IssuerOfAdmissionID',\n    '00380014': 'IssuerOfAdmissionIDSequence',\n    '00380016': 'RouteOfAdmissions',\n    '0038001A': 'ScheduledAdmissionDate',\n    '0038001B': 'ScheduledAdmissionTime',\n    '0038001C': 'ScheduledDischargeDate',\n    '0038001D': 'ScheduledDischargeTime',\n    '0038001E': 'ScheduledPatientInstitutionResidence',\n    '00380020': 'AdmittingDate',\n    '00380021': 'AdmittingTime',\n    '00380030': 'DischargeDate',\n    '00380032': 'DischargeTime',\n    '00380040': 'DischargeDiagnosisDescription',\n    '00380044': 'DischargeDiagnosisCodeSequence',\n    '00380050': 'SpecialNeeds',\n    '00380060': 'ServiceEpisodeID',\n    '00380061': 'IssuerOfServiceEpisodeID',\n    '00380062': 'ServiceEpisodeDescription',\n    '00380064': 'IssuerOfServiceEpisodeIDSequence',\n    '00380100': 'PertinentDocumentsSequence',\n    '00380101': 'PertinentResourcesSequence',\n    '00380102': 'ResourceDescription',\n    '00380300': 'CurrentPatientLocation',\n    '00380400': 'PatientInstitutionResidence',\n    '00380500': 'PatientState',\n    '00380502': 'PatientClinicalTrialParticipationSequence',\n    '00384000': 'VisitComments',\n    '003A0004': 'WaveformOriginality',\n    '003A0005': 'NumberOfWaveformChannels',\n    '003A0010': 'NumberOfWaveformSamples',\n    '003A001A': 'SamplingFrequency',\n    '003A0020': 'MultiplexGroupLabel',\n    '003A0200': 'ChannelDefinitionSequence',\n    '003A0202': 'WaveformChannelNumber',\n    '003A0203': 'ChannelLabel',\n    '003A0205': 'ChannelStatus',\n    '003A0208': 'ChannelSourceSequence',\n    '003A0209': 'ChannelSourceModifiersSequence',\n    '003A020A': 'SourceWaveformSequence',\n    '003A020C': 'ChannelDerivationDescription',\n    '003A0210': 'ChannelSensitivity',\n    '003A0211': 'ChannelSensitivityUnitsSequence',\n    '003A0212': 'ChannelSensitivityCorrectionFactor',\n    '003A0213': 'ChannelBaseline',\n    '003A0214': 'ChannelTimeSkew',\n    '003A0215': 'ChannelSampleSkew',\n    '003A0218': 'ChannelOffset',\n    '003A021A': 'WaveformBitsStored',\n    '003A0220': 'FilterLowFrequency',\n    '003A0221': 'FilterHighFrequency',\n    '003A0222': 'NotchFilterFrequency',\n    '003A0223': 'NotchFilterBandwidth',\n    '003A0230': 'WaveformDataDisplayScale',\n    '003A0231': 'WaveformDisplayBackgroundCIELabValue',\n    '003A0240': 'WaveformPresentationGroupSequence',\n    '003A0241': 'PresentationGroupNumber',\n    '003A0242': 'ChannelDisplaySequence',\n    '003A0244': 'ChannelRecommendedDisplayCIELabValue',\n    '003A0245': 'ChannelPosition',\n    '003A0246': 'DisplayShadingFlag',\n    '003A0247': 'FractionalChannelDisplayScale',\n    '003A0248': 'AbsoluteChannelDisplayScale',\n    '003A0300': 'MultiplexedAudioChannelsDescriptionCodeSequence',\n    '003A0301': 'ChannelIdentificationCode',\n    '003A0302': 'ChannelMode',\n    '00400001': 'ScheduledStationAETitle',\n    '00400002': 'ScheduledProcedureStepStartDate',\n    '00400003': 'ScheduledProcedureStepStartTime',\n    '00400004': 'ScheduledProcedureStepEndDate',\n    '00400005': 'ScheduledProcedureStepEndTime',\n    '00400006': 'ScheduledPerformingPhysicianName',\n    '00400007': 'ScheduledProcedureStepDescription',\n    '00400008': 'ScheduledProtocolCodeSequence',\n    '00400009': 'ScheduledProcedureStepID',\n    '0040000A': 'StageCodeSequence',\n    '0040000B': 'ScheduledPerformingPhysicianIdentificationSequence',\n    '00400010': 'ScheduledStationName',\n    '00400011': 'ScheduledProcedureStepLocation',\n    '00400012': 'PreMedication',\n    '00400020': 'ScheduledProcedureStepStatus',\n    '00400026': 'OrderPlacerIdentifierSequence',\n    '00400027': 'OrderFillerIdentifierSequence',\n    '00400031': 'LocalNamespaceEntityID',\n    '00400032': 'UniversalEntityID',\n    '00400033': 'UniversalEntityIDType',\n    '00400035': 'IdentifierTypeCode',\n    '00400036': 'AssigningFacilitySequence',\n    '00400039': 'AssigningJurisdictionCodeSequence',\n    '0040003A': 'AssigningAgencyOrDepartmentCodeSequence',\n    '00400100': 'ScheduledProcedureStepSequence',\n    '00400220': 'ReferencedNonImageCompositeSOPInstanceSequence',\n    '00400241': 'PerformedStationAETitle',\n    '00400242': 'PerformedStationName',\n    '00400243': 'PerformedLocation',\n    '00400244': 'PerformedProcedureStepStartDate',\n    '00400245': 'PerformedProcedureStepStartTime',\n    '00400250': 'PerformedProcedureStepEndDate',\n    '00400251': 'PerformedProcedureStepEndTime',\n    '00400252': 'PerformedProcedureStepStatus',\n    '00400253': 'PerformedProcedureStepID',\n    '00400254': 'PerformedProcedureStepDescription',\n    '00400255': 'PerformedProcedureTypeDescription',\n    '00400260': 'PerformedProtocolCodeSequence',\n    '00400261': 'PerformedProtocolType',\n    '00400270': 'ScheduledStepAttributesSequence',\n    '00400275': 'RequestAttributesSequence',\n    '00400280': 'CommentsOnThePerformedProcedureStep',\n    '00400281': 'PerformedProcedureStepDiscontinuationReasonCodeSequence',\n    '00400293': 'QuantitySequence',\n    '00400294': 'Quantity',\n    '00400295': 'MeasuringUnitsSequence',\n    '00400296': 'BillingItemSequence',\n    '00400300': 'TotalTimeOfFluoroscopy',\n    '00400301': 'TotalNumberOfExposures',\n    '00400302': 'EntranceDose',\n    '00400303': 'ExposedArea',\n    '00400306': 'DistanceSourceToEntrance',\n    '00400307': 'DistanceSourceToSupport',\n    '0040030E': 'ExposureDoseSequence',\n    '00400310': 'CommentsOnRadiationDose',\n    '00400312': 'XRayOutput',\n    '00400314': 'HalfValueLayer',\n    '00400316': 'OrganDose',\n    '00400318': 'OrganExposed',\n    '00400320': 'BillingProcedureStepSequence',\n    '00400321': 'FilmConsumptionSequence',\n    '00400324': 'BillingSuppliesAndDevicesSequence',\n    '00400330': 'ReferencedProcedureStepSequence',\n    '00400340': 'PerformedSeriesSequence',\n    '00400400': 'CommentsOnTheScheduledProcedureStep',\n    '00400440': 'ProtocolContextSequence',\n    '00400441': 'ContentItemModifierSequence',\n    '00400500': 'ScheduledSpecimenSequence',\n    '0040050A': 'SpecimenAccessionNumber',\n    '00400512': 'ContainerIdentifier',\n    '00400513': 'IssuerOfTheContainerIdentifierSequence',\n    '00400515': 'AlternateContainerIdentifierSequence',\n    '00400518': 'ContainerTypeCodeSequence',\n    '0040051A': 'ContainerDescription',\n    '00400520': 'ContainerComponentSequence',\n    '00400550': 'SpecimenSequence',\n    '00400551': 'SpecimenIdentifier',\n    '00400552': 'SpecimenDescriptionSequenceTrial',\n    '00400553': 'SpecimenDescriptionTrial',\n    '00400554': 'SpecimenUID',\n    '00400555': 'AcquisitionContextSequence',\n    '00400556': 'AcquisitionContextDescription',\n    '00400560': 'SpecimenDescriptionSequence',\n    '00400562': 'IssuerOfTheSpecimenIdentifierSequence',\n    '0040059A': 'SpecimenTypeCodeSequence',\n    '00400600': 'SpecimenShortDescription',\n    '00400602': 'SpecimenDetailedDescription',\n    '00400610': 'SpecimenPreparationSequence',\n    '00400612': 'SpecimenPreparationStepContentItemSequence',\n    '00400620': 'SpecimenLocalizationContentItemSequence',\n    '004006FA': 'SlideIdentifier',\n    '00400710': 'WholeSlideMicroscopyImageFrameTypeSequence',\n    '0040071A': 'ImageCenterPointCoordinatesSequence',\n    '0040072A': 'XOffsetInSlideCoordinateSystem',\n    '0040073A': 'YOffsetInSlideCoordinateSystem',\n    '0040074A': 'ZOffsetInSlideCoordinateSystem',\n    '004008D8': 'PixelSpacingSequence',\n    '004008DA': 'CoordinateSystemAxisCodeSequence',\n    '004008EA': 'MeasurementUnitsCodeSequence',\n    '004009F8': 'VitalStainCodeSequenceTrial',\n    '00401001': 'RequestedProcedureID',\n    '00401002': 'ReasonForTheRequestedProcedure',\n    '00401003': 'RequestedProcedurePriority',\n    '00401004': 'PatientTransportArrangements',\n    '00401005': 'RequestedProcedureLocation',\n    '00401006': 'PlacerOrderNumberProcedure',\n    '00401007': 'FillerOrderNumberProcedure',\n    '00401008': 'ConfidentialityCode',\n    '00401009': 'ReportingPriority',\n    '0040100A': 'ReasonForRequestedProcedureCodeSequence',\n    '00401010': 'NamesOfIntendedRecipientsOfResults',\n    '00401011': 'IntendedRecipientsOfResultsIdentificationSequence',\n    '00401012': 'ReasonForPerformedProcedureCodeSequence',\n    '00401060': 'RequestedProcedureDescriptionTrial',\n    '00401101': 'PersonIdentificationCodeSequence',\n    '00401102': 'PersonAddress',\n    '00401103': 'PersonTelephoneNumbers',\n    '00401104': 'PersonTelecomInformation',\n    '00401400': 'RequestedProcedureComments',\n    '00402001': 'ReasonForTheImagingServiceRequest',\n    '00402004': 'IssueDateOfImagingServiceRequest',\n    '00402005': 'IssueTimeOfImagingServiceRequest',\n    '00402006': 'PlacerOrderNumberImagingServiceRequestRetired',\n    '00402007': 'FillerOrderNumberImagingServiceRequestRetired',\n    '00402008': 'OrderEnteredBy',\n    '00402009': 'OrderEntererLocation',\n    '00402010': 'OrderCallbackPhoneNumber',\n    '00402011': 'OrderCallbackTelecomInformation',\n    '00402016': 'PlacerOrderNumberImagingServiceRequest',\n    '00402017': 'FillerOrderNumberImagingServiceRequest',\n    '00402400': 'ImagingServiceRequestComments',\n    '00403001': 'ConfidentialityConstraintOnPatientDataDescription',\n    '00404001': 'GeneralPurposeScheduledProcedureStepStatus',\n    '00404002': 'GeneralPurposePerformedProcedureStepStatus',\n    '00404003': 'GeneralPurposeScheduledProcedureStepPriority',\n    '00404004': 'ScheduledProcessingApplicationsCodeSequence',\n    '00404005': 'ScheduledProcedureStepStartDateTime',\n    '00404006': 'MultipleCopiesFlag',\n    '00404007': 'PerformedProcessingApplicationsCodeSequence',\n    '00404008': 'ScheduledProcedureStepExpirationDateTime',\n    '00404009': 'HumanPerformerCodeSequence',\n    '00404010': 'ScheduledProcedureStepModificationDateTime',\n    '00404011': 'ExpectedCompletionDateTime',\n    '00404015': 'ResultingGeneralPurposePerformedProcedureStepsSequence',\n    '00404016': 'ReferencedGeneralPurposeScheduledProcedureStepSequence',\n    '00404018': 'ScheduledWorkitemCodeSequence',\n    '00404019': 'PerformedWorkitemCodeSequence',\n    '00404020': 'InputAvailabilityFlag',\n    '00404021': 'InputInformationSequence',\n    '00404022': 'RelevantInformationSequence',\n    '00404023': 'ReferencedGeneralPurposeScheduledProcedureStepTransactionUID',\n    '00404025': 'ScheduledStationNameCodeSequence',\n    '00404026': 'ScheduledStationClassCodeSequence',\n    '00404027': 'ScheduledStationGeographicLocationCodeSequence',\n    '00404028': 'PerformedStationNameCodeSequence',\n    '00404029': 'PerformedStationClassCodeSequence',\n    '00404030': 'PerformedStationGeographicLocationCodeSequence',\n    '00404031': 'RequestedSubsequentWorkitemCodeSequence',\n    '00404032': 'NonDICOMOutputCodeSequence',\n    '00404033': 'OutputInformationSequence',\n    '00404034': 'ScheduledHumanPerformersSequence',\n    '00404035': 'ActualHumanPerformersSequence',\n    '00404036': 'HumanPerformerOrganization',\n    '00404037': 'HumanPerformerName',\n    '00404040': 'RawDataHandling',\n    '00404041': 'InputReadinessState',\n    '00404050': 'PerformedProcedureStepStartDateTime',\n    '00404051': 'PerformedProcedureStepEndDateTime',\n    '00404052': 'ProcedureStepCancellationDateTime',\n    '00404070': 'OutputDestinationSequence',\n    '00404071': 'DICOMStorageSequence',\n    '00404072': 'STOWRSStorageSequence',\n    '00404073': 'StorageURL',\n    '00404074': 'XDSStorageSequence',\n    '00408302': 'EntranceDoseInmGy',\n    '00408303': 'EntranceDoseDerivation',\n    '00409092': 'ParametricMapFrameTypeSequence',\n    '00409094': 'ReferencedImageRealWorldValueMappingSequence',\n    '00409096': 'RealWorldValueMappingSequence',\n    '00409098': 'PixelValueMappingCodeSequence',\n    '00409210': 'LUTLabel',\n    '00409211': 'RealWorldValueLastValueMapped',\n    '00409212': 'RealWorldValueLUTData',\n    '00409213': 'DoubleFloatRealWorldValueLastValueMapped',\n    '00409214': 'DoubleFloatRealWorldValueFirstValueMapped',\n    '00409216': 'RealWorldValueFirstValueMapped',\n    '00409220': 'QuantityDefinitionSequence',\n    '00409224': 'RealWorldValueIntercept',\n    '00409225': 'RealWorldValueSlope',\n    '0040A007': 'FindingsFlagTrial',\n    '0040A010': 'RelationshipType',\n    '0040A020': 'FindingsSequenceTrial',\n    '0040A021': 'FindingsGroupUIDTrial',\n    '0040A022': 'ReferencedFindingsGroupUIDTrial',\n    '0040A023': 'FindingsGroupRecordingDateTrial',\n    '0040A024': 'FindingsGroupRecordingTimeTrial',\n    '0040A026': 'FindingsSourceCategoryCodeSequenceTrial',\n    '0040A027': 'VerifyingOrganization',\n    '0040A028': 'DocumentingOrganizationIdentifierCodeSequenceTrial',\n    '0040A030': 'VerificationDateTime',\n    '0040A032': 'ObservationDateTime',\n    '0040A040': 'ValueType',\n    '0040A043': 'ConceptNameCodeSequence',\n    '0040A047': 'MeasurementPrecisionDescriptionTrial',\n    '0040A050': 'ContinuityOfContent',\n    '0040A057': 'UrgencyOrPriorityAlertsTrial',\n    '0040A060': 'SequencingIndicatorTrial',\n    '0040A066': 'DocumentIdentifierCodeSequenceTrial',\n    '0040A067': 'DocumentAuthorTrial',\n    '0040A068': 'DocumentAuthorIdentifierCodeSequenceTrial',\n    '0040A070': 'IdentifierCodeSequenceTrial',\n    '0040A073': 'VerifyingObserverSequence',\n    '0040A074': 'ObjectBinaryIdentifierTrial',\n    '0040A075': 'VerifyingObserverName',\n    '0040A076': 'DocumentingObserverIdentifierCodeSequenceTrial',\n    '0040A078': 'AuthorObserverSequence',\n    '0040A07A': 'ParticipantSequence',\n    '0040A07C': 'CustodialOrganizationSequence',\n    '0040A080': 'ParticipationType',\n    '0040A082': 'ParticipationDateTime',\n    '0040A084': 'ObserverType',\n    '0040A085': 'ProcedureIdentifierCodeSequenceTrial',\n    '0040A088': 'VerifyingObserverIdentificationCodeSequence',\n    '0040A089': 'ObjectDirectoryBinaryIdentifierTrial',\n    '0040A090': 'EquivalentCDADocumentSequence',\n    '0040A0B0': 'ReferencedWaveformChannels',\n    '0040A110': 'DateOfDocumentOrVerbalTransactionTrial',\n    '0040A112': 'TimeOfDocumentCreationOrVerbalTransactionTrial',\n    '0040A120': 'DateTime',\n    '0040A121': 'Date',\n    '0040A122': 'Time',\n    '0040A123': 'PersonName',\n    '0040A124': 'UID',\n    '0040A125': 'ReportStatusIDTrial',\n    '0040A130': 'TemporalRangeType',\n    '0040A132': 'ReferencedSamplePositions',\n    '0040A136': 'ReferencedFrameNumbers',\n    '0040A138': 'ReferencedTimeOffsets',\n    '0040A13A': 'ReferencedDateTime',\n    '0040A160': 'TextValue',\n    '0040A161': 'FloatingPointValue',\n    '0040A162': 'RationalNumeratorValue',\n    '0040A163': 'RationalDenominatorValue',\n    '0040A167': 'ObservationCategoryCodeSequenceTrial',\n    '0040A168': 'ConceptCodeSequence',\n    '0040A16A': 'BibliographicCitationTrial',\n    '0040A170': 'PurposeOfReferenceCodeSequence',\n    '0040A171': 'ObservationUID',\n    '0040A172': 'ReferencedObservationUIDTrial',\n    '0040A173': 'ReferencedObservationClassTrial',\n    '0040A174': 'ReferencedObjectObservationClassTrial',\n    '0040A180': 'AnnotationGroupNumber',\n    '0040A192': 'ObservationDateTrial',\n    '0040A193': 'ObservationTimeTrial',\n    '0040A194': 'MeasurementAutomationTrial',\n    '0040A195': 'ModifierCodeSequence',\n    '0040A224': 'IdentificationDescriptionTrial',\n    '0040A290': 'CoordinatesSetGeometricTypeTrial',\n    '0040A296': 'AlgorithmCodeSequenceTrial',\n    '0040A297': 'AlgorithmDescriptionTrial',\n    '0040A29A': 'PixelCoordinatesSetTrial',\n    '0040A300': 'MeasuredValueSequence',\n    '0040A301': 'NumericValueQualifierCodeSequence',\n    '0040A307': 'CurrentObserverTrial',\n    '0040A30A': 'NumericValue',\n    '0040A313': 'ReferencedAccessionSequenceTrial',\n    '0040A33A': 'ReportStatusCommentTrial',\n    '0040A340': 'ProcedureContextSequenceTrial',\n    '0040A352': 'VerbalSourceTrial',\n    '0040A353': 'AddressTrial',\n    '0040A354': 'TelephoneNumberTrial',\n    '0040A358': 'VerbalSourceIdentifierCodeSequenceTrial',\n    '0040A360': 'PredecessorDocumentsSequence',\n    '0040A370': 'ReferencedRequestSequence',\n    '0040A372': 'PerformedProcedureCodeSequence',\n    '0040A375': 'CurrentRequestedProcedureEvidenceSequence',\n    '0040A380': 'ReportDetailSequenceTrial',\n    '0040A385': 'PertinentOtherEvidenceSequence',\n    '0040A390': ('HL7StructuredDocumentReferenceSequence'),\n    '0040A402': 'ObservationSubjectUIDTrial',\n    '0040A403': 'ObservationSubjectClassTrial',\n    '0040A404': 'ObservationSubjectTypeCodeSequenceTrial',\n    '0040A491': 'CompletionFlag',\n    '0040A492': 'CompletionFlagDescription',\n    '0040A493': 'VerificationFlag',\n    '0040A494': 'ArchiveRequested',\n    '0040A496': 'PreliminaryFlag',\n    '0040A504': 'ContentTemplateSequence',\n    '0040A525': 'IdenticalDocumentsSequence',\n    '0040A600': 'ObservationSubjectContextFlagTrial',\n    '0040A601': 'ObserverContextFlagTrial',\n    '0040A603': 'ProcedureContextFlagTrial',\n    '0040A730': 'ContentSequence',\n    '0040A731': 'RelationshipSequenceTrial',\n    '0040A732': 'RelationshipTypeCodeSequenceTrial',\n    '0040A744': 'LanguageCodeSequenceTrial',\n    '0040A992': 'UniformResourceLocatorTrial',\n    '0040B020': 'WaveformAnnotationSequence',\n    '0040DB00': 'TemplateIdentifier',\n    '0040DB06': 'TemplateVersion',\n    '0040DB07': 'TemplateLocalVersion',\n    '0040DB0B': 'TemplateExtensionFlag',\n    '0040DB0C': 'TemplateExtensionOrganizationUID',\n    '0040DB0D': 'TemplateExtensionCreatorUID',\n    '0040DB73': 'ReferencedContentItemIdentifier',\n    '0040E001': ('HL7InstanceIdentifier'),\n    '0040E004': ('HL7DocumentEffectiveTime'),\n    '0040E006': ('HL7DocumentTypeCodeSequence'),\n    '0040E008': 'DocumentClassCodeSequence',\n    '0040E010': 'RetrieveURI',\n    '0040E011': 'RetrieveLocationUID',\n    '0040E020': 'TypeOfInstances',\n    '0040E021': 'DICOMRetrievalSequence',\n    '0040E022': 'DICOMMediaRetrievalSequence',\n    '0040E023': 'WADORetrievalSequence',\n    '0040E024': 'XDSRetrievalSequence',\n    '0040E025': 'WADORSRetrievalSequence',\n    '0040E030': 'RepositoryUniqueID',\n    '0040E031': 'HomeCommunityID',\n    '00420010': 'DocumentTitle',\n    '00420011': 'EncapsulatedDocument',\n    '00420012': 'MIMETypeOfEncapsulatedDocument',\n    '00420013': 'SourceInstanceSequence',\n    '00420014': 'ListOfMIMETypes',\n    '00440001': 'ProductPackageIdentifier',\n    '00440002': 'SubstanceAdministrationApproval',\n    '00440003': 'ApprovalStatusFurtherDescription',\n    '00440004': 'ApprovalStatusDateTime',\n    '00440007': 'ProductTypeCodeSequence',\n    '00440008': 'ProductName',\n    '00440009': 'ProductDescription',\n    '0044000A': 'ProductLotIdentifier',\n    '0044000B': 'ProductExpirationDateTime',\n    '00440010': 'SubstanceAdministrationDateTime',\n    '00440011': 'SubstanceAdministrationNotes',\n    '00440012': 'SubstanceAdministrationDeviceID',\n    '00440013': 'ProductParameterSequence',\n    '00440019': 'SubstanceAdministrationParameterSequence',\n    '00440100': 'ApprovalSequence',\n    '00440101': 'AssertionCodeSequence',\n    '00440102': 'AssertionUID',\n    '00440103': 'AsserterIdentificationSequence',\n    '00440104': 'AssertionDateTime',\n    '00440105': 'AssertionExpirationDateTime',\n    '00440106': 'AssertionComments',\n    '00440107': 'RelatedAssertionSequence',\n    '00440108': 'ReferencedAssertionUID',\n    '00440109': 'ApprovalSubjectSequence',\n    '0044010A': 'OrganizationalRoleCodeSequence',\n    '00460012': 'LensDescription',\n    '00460014': 'RightLensSequence',\n    '00460015': 'LeftLensSequence',\n    '00460016': 'UnspecifiedLateralityLensSequence',\n    '00460018': 'CylinderSequence',\n    '00460028': 'PrismSequence',\n    '00460030': 'HorizontalPrismPower',\n    '00460032': 'HorizontalPrismBase',\n    '00460034': 'VerticalPrismPower',\n    '00460036': 'VerticalPrismBase',\n    '00460038': 'LensSegmentType',\n    '00460040': 'OpticalTransmittance',\n    '00460042': 'ChannelWidth',\n    '00460044': 'PupilSize',\n    '00460046': 'CornealSize',\n    '00460050': 'AutorefractionRightEyeSequence',\n    '00460052': 'AutorefractionLeftEyeSequence',\n    '00460060': 'DistancePupillaryDistance',\n    '00460062': 'NearPupillaryDistance',\n    '00460063': 'IntermediatePupillaryDistance',\n    '00460064': 'OtherPupillaryDistance',\n    '00460070': 'KeratometryRightEyeSequence',\n    '00460071': 'KeratometryLeftEyeSequence',\n    '00460074': 'SteepKeratometricAxisSequence',\n    '00460075': 'RadiusOfCurvature',\n    '00460076': 'KeratometricPower',\n    '00460077': 'KeratometricAxis',\n    '00460080': 'FlatKeratometricAxisSequence',\n    '00460092': 'BackgroundColor',\n    '00460094': 'Optotype',\n    '00460095': 'OptotypePresentation',\n    '00460097': 'SubjectiveRefractionRightEyeSequence',\n    '00460098': 'SubjectiveRefractionLeftEyeSequence',\n    '00460100': 'AddNearSequence',\n    '00460101': 'AddIntermediateSequence',\n    '00460102': 'AddOtherSequence',\n    '00460104': 'AddPower',\n    '00460106': 'ViewingDistance',\n    '00460121': 'VisualAcuityTypeCodeSequence',\n    '00460122': 'VisualAcuityRightEyeSequence',\n    '00460123': 'VisualAcuityLeftEyeSequence',\n    '00460124': 'VisualAcuityBothEyesOpenSequence',\n    '00460125': 'ViewingDistanceType',\n    '00460135': 'VisualAcuityModifiers',\n    '00460137': 'DecimalVisualAcuity',\n    '00460139': 'OptotypeDetailedDefinition',\n    '00460145': 'ReferencedRefractiveMeasurementsSequence',\n    '00460146': 'SpherePower',\n    '00460147': 'CylinderPower',\n    '00460201': 'CornealTopographySurface',\n    '00460202': 'CornealVertexLocation',\n    '00460203': 'PupilCentroidXCoordinate',\n    '00460204': 'PupilCentroidYCoordinate',\n    '00460205': 'EquivalentPupilRadius',\n    '00460207': 'CornealTopographyMapTypeCodeSequence',\n    '00460208': 'VerticesOfTheOutlineOfPupil',\n    '00460210': 'CornealTopographyMappingNormalsSequence',\n    '00460211': 'MaximumCornealCurvatureSequence',\n    '00460212': 'MaximumCornealCurvature',\n    '00460213': 'MaximumCornealCurvatureLocation',\n    '00460215': 'MinimumKeratometricSequence',\n    '00460218': 'SimulatedKeratometricCylinderSequence',\n    '00460220': 'AverageCornealPower',\n    '00460224': 'CornealISValue',\n    '00460227': 'AnalyzedArea',\n    '00460230': 'SurfaceRegularityIndex',\n    '00460232': 'SurfaceAsymmetryIndex',\n    '00460234': 'CornealEccentricityIndex',\n    '00460236': 'KeratoconusPredictionIndex',\n    '00460238': 'DecimalPotentialVisualAcuity',\n    '00460242': 'CornealTopographyMapQualityEvaluation',\n    '00460244': 'SourceImageCornealProcessedDataSequence',\n    '00460247': 'CornealPointLocation',\n    '00460248': 'CornealPointEstimated',\n    '00460249': 'AxialPower',\n    '00460250': 'TangentialPower',\n    '00460251': 'RefractivePower',\n    '00460252': 'RelativeElevation',\n    '00460253': 'CornealWavefront',\n    '00480001': 'ImagedVolumeWidth',\n    '00480002': 'ImagedVolumeHeight',\n    '00480003': 'ImagedVolumeDepth',\n    '00480006': 'TotalPixelMatrixColumns',\n    '00480007': 'TotalPixelMatrixRows',\n    '00480008': 'TotalPixelMatrixOriginSequence',\n    '00480010': 'SpecimenLabelInImage',\n    '00480011': 'FocusMethod',\n    '00480012': 'ExtendedDepthOfField',\n    '00480013': 'NumberOfFocalPlanes',\n    '00480014': 'DistanceBetweenFocalPlanes',\n    '00480015': 'RecommendedAbsentPixelCIELabValue',\n    '00480100': 'IlluminatorTypeCodeSequence',\n    '00480102': 'ImageOrientationSlide',\n    '00480105': 'OpticalPathSequence',\n    '00480106': 'OpticalPathIdentifier',\n    '00480107': 'OpticalPathDescription',\n    '00480108': 'IlluminationColorCodeSequence',\n    '00480110': 'SpecimenReferenceSequence',\n    '00480111': 'CondenserLensPower',\n    '00480112': 'ObjectiveLensPower',\n    '00480113': 'ObjectiveLensNumericalAperture',\n    '00480120': 'PaletteColorLookupTableSequence',\n    '00480200': 'ReferencedImageNavigationSequence',\n    '00480201': 'TopLeftHandCornerOfLocalizerArea',\n    '00480202': 'BottomRightHandCornerOfLocalizerArea',\n    '00480207': 'OpticalPathIdentificationSequence',\n    '0048021A': 'PlanePositionSlideSequence',\n    '0048021E': 'ColumnPositionInTotalImagePixelMatrix',\n    '0048021F': 'RowPositionInTotalImagePixelMatrix',\n    '00480301': 'PixelOriginInterpretation',\n    '00480302': 'NumberOfOpticalPaths',\n    '00480303': 'TotalPixelMatrixFocalPlanes',\n    '00500004': 'CalibrationImage',\n    '00500010': 'DeviceSequence',\n    '00500012': 'ContainerComponentTypeCodeSequence',\n    '00500013': 'ContainerComponentThickness',\n    '00500014': 'DeviceLength',\n    '00500015': 'ContainerComponentWidth',\n    '00500016': 'DeviceDiameter',\n    '00500017': 'DeviceDiameterUnits',\n    '00500018': 'DeviceVolume',\n    '00500019': 'InterMarkerDistance',\n    '0050001A': 'ContainerComponentMaterial',\n    '0050001B': 'ContainerComponentID',\n    '0050001C': 'ContainerComponentLength',\n    '0050001D': 'ContainerComponentDiameter',\n    '0050001E': 'ContainerComponentDescription',\n    '00500020': 'DeviceDescription',\n    '00520001': 'ContrastBolusIngredientPercentByVolume',\n    '00520002': 'OCTFocalDistance',\n    '00520003': 'BeamSpotSize',\n    '00520004': 'EffectiveRefractiveIndex',\n    '00520006': 'OCTAcquisitionDomain',\n    '00520007': 'OCTOpticalCenterWavelength',\n    '00520008': 'AxialResolution',\n    '00520009': 'RangingDepth',\n    '00520011': 'ALineRate',\n    '00520012': 'ALinesPerFrame',\n    '00520013': 'CatheterRotationalRate',\n    '00520014': 'ALinePixelSpacing',\n    '00520016': 'ModeOfPercutaneousAccessSequence',\n    '00520025': 'IntravascularOCTFrameTypeSequence',\n    '00520026': 'OCTZOffsetApplied',\n    '00520027': 'IntravascularFrameContentSequence',\n    '00520028': 'IntravascularLongitudinalDistance',\n    '00520029': 'IntravascularOCTFrameContentSequence',\n    '00520030': 'OCTZOffsetCorrection',\n    '00520031': 'CatheterDirectionOfRotation',\n    '00520033': 'SeamLineLocation',\n    '00520034': 'FirstALineLocation',\n    '00520036': 'SeamLineIndex',\n    '00520038': 'NumberOfPaddedALines',\n    '00520039': 'InterpolationType',\n    '0052003A': 'RefractiveIndexApplied',\n    '00540010': 'EnergyWindowVector',\n    '00540011': 'NumberOfEnergyWindows',\n    '00540012': 'EnergyWindowInformationSequence',\n    '00540013': 'EnergyWindowRangeSequence',\n    '00540014': 'EnergyWindowLowerLimit',\n    '00540015': 'EnergyWindowUpperLimit',\n    '00540016': 'RadiopharmaceuticalInformationSequence',\n    '00540017': 'ResidualSyringeCounts',\n    '00540018': 'EnergyWindowName',\n    '00540020': 'DetectorVector',\n    '00540021': 'NumberOfDetectors',\n    '00540022': 'DetectorInformationSequence',\n    '00540030': 'PhaseVector',\n    '00540031': 'NumberOfPhases',\n    '00540032': 'PhaseInformationSequence',\n    '00540033': 'NumberOfFramesInPhase',\n    '00540036': 'PhaseDelay',\n    '00540038': 'PauseBetweenFrames',\n    '00540039': 'PhaseDescription',\n    '00540050': 'RotationVector',\n    '00540051': 'NumberOfRotations',\n    '00540052': 'RotationInformationSequence',\n    '00540053': 'NumberOfFramesInRotation',\n    '00540060': 'RRIntervalVector',\n    '00540061': 'NumberOfRRIntervals',\n    '00540062': 'GatedInformationSequence',\n    '00540063': 'DataInformationSequence',\n    '00540070': 'TimeSlotVector',\n    '00540071': 'NumberOfTimeSlots',\n    '00540072': 'TimeSlotInformationSequence',\n    '00540073': 'TimeSlotTime',\n    '00540080': 'SliceVector',\n    '00540081': 'NumberOfSlices',\n    '00540090': 'AngularViewVector',\n    '00540100': 'TimeSliceVector',\n    '00540101': 'NumberOfTimeSlices',\n    '00540200': 'StartAngle',\n    '00540202': 'TypeOfDetectorMotion',\n    '00540210': 'TriggerVector',\n    '00540211': 'NumberOfTriggersInPhase',\n    '00540220': 'ViewCodeSequence',\n    '00540222': 'ViewModifierCodeSequence',\n    '00540300': 'RadionuclideCodeSequence',\n    '00540302': 'AdministrationRouteCodeSequence',\n    '00540304': 'RadiopharmaceuticalCodeSequence',\n    '00540306': 'CalibrationDataSequence',\n    '00540308': 'EnergyWindowNumber',\n    '00540400': 'ImageID',\n    '00540410': 'PatientOrientationCodeSequence',\n    '00540412': 'PatientOrientationModifierCodeSequence',\n    '00540414': 'PatientGantryRelationshipCodeSequence',\n    '00540500': 'SliceProgressionDirection',\n    '00540501': 'ScanProgressionDirection',\n    '00541000': 'SeriesType',\n    '00541001': 'Units',\n    '00541002': 'CountsSource',\n    '00541004': 'ReprojectionMethod',\n    '00541006': 'SUVType',\n    '00541100': 'RandomsCorrectionMethod',\n    '00541101': 'AttenuationCorrectionMethod',\n    '00541102': 'DecayCorrection',\n    '00541103': 'ReconstructionMethod',\n    '00541104': 'DetectorLinesOfResponseUsed',\n    '00541105': 'ScatterCorrectionMethod',\n    '00541200': 'AxialAcceptance',\n    '00541201': 'AxialMash',\n    '00541202': 'TransverseMash',\n    '00541203': 'DetectorElementSize',\n    '00541210': 'CoincidenceWindowWidth',\n    '00541220': 'SecondaryCountsType',\n    '00541300': 'FrameReferenceTime',\n    '00541310': 'PrimaryPromptsCountsAccumulated',\n    '00541311': 'SecondaryCountsAccumulated',\n    '00541320': 'SliceSensitivityFactor',\n    '00541321': 'DecayFactor',\n    '00541322': 'DoseCalibrationFactor',\n    '00541323': 'ScatterFractionFactor',\n    '00541324': 'DeadTimeFactor',\n    '00541330': 'ImageIndex',\n    '00541400': 'CountsIncluded',\n    '00541401': 'DeadTimeCorrectionFlag',\n    '00603000': 'HistogramSequence',\n    '00603002': 'HistogramNumberOfBins',\n    '00603004': 'HistogramFirstBinValue',\n    '00603006': 'HistogramLastBinValue',\n    '00603008': 'HistogramBinWidth',\n    '00603010': 'HistogramExplanation',\n    '00603020': 'HistogramData',\n    '00620001': 'SegmentationType',\n    '00620002': 'SegmentSequence',\n    '00620003': 'SegmentedPropertyCategoryCodeSequence',\n    '00620004': 'SegmentNumber',\n    '00620005': 'SegmentLabel',\n    '00620006': 'SegmentDescription',\n    '00620007': 'SegmentationAlgorithmIdentificationSequence',\n    '00620008': 'SegmentAlgorithmType',\n    '00620009': 'SegmentAlgorithmName',\n    '0062000A': 'SegmentIdentificationSequence',\n    '0062000B': 'ReferencedSegmentNumber',\n    '0062000C': 'RecommendedDisplayGrayscaleValue',\n    '0062000D': 'RecommendedDisplayCIELabValue',\n    '0062000E': 'MaximumFractionalValue',\n    '0062000F': 'SegmentedPropertyTypeCodeSequence',\n    '00620010': 'SegmentationFractionalType',\n    '00620011': 'SegmentedPropertyTypeModifierCodeSequence',\n    '00620012': 'UsedSegmentsSequence',\n    '00620020': 'TrackingID',\n    '00620021': 'TrackingUID',\n    '00640002': 'DeformableRegistrationSequence',\n    '00640003': 'SourceFrameOfReferenceUID',\n    '00640005': 'DeformableRegistrationGridSequence',\n    '00640007': 'GridDimensions',\n    '00640008': 'GridResolution',\n    '00640009': 'VectorGridData',\n    '0064000F': 'PreDeformationMatrixRegistrationSequence',\n    '00640010': 'PostDeformationMatrixRegistrationSequence',\n    '00660001': 'NumberOfSurfaces',\n    '00660002': 'SurfaceSequence',\n    '00660003': 'SurfaceNumber',\n    '00660004': 'SurfaceComments',\n    '00660009': 'SurfaceProcessing',\n    '0066000A': 'SurfaceProcessingRatio',\n    '0066000B': 'SurfaceProcessingDescription',\n    '0066000C': 'RecommendedPresentationOpacity',\n    '0066000D': 'RecommendedPresentationType',\n    '0066000E': 'FiniteVolume',\n    '00660010': 'Manifold',\n    '00660011': 'SurfacePointsSequence',\n    '00660012': 'SurfacePointsNormalsSequence',\n    '00660013': 'SurfaceMeshPrimitivesSequence',\n    '00660015': 'NumberOfSurfacePoints',\n    '00660016': 'PointCoordinatesData',\n    '00660017': 'PointPositionAccuracy',\n    '00660018': 'MeanPointDistance',\n    '00660019': 'MaximumPointDistance',\n    '0066001A': 'PointsBoundingBoxCoordinates',\n    '0066001B': 'AxisOfRotation',\n    '0066001C': 'CenterOfRotation',\n    '0066001E': 'NumberOfVectors',\n    '0066001F': 'VectorDimensionality',\n    '00660020': 'VectorAccuracy',\n    '00660021': 'VectorCoordinateData',\n    '00660023': 'TrianglePointIndexList',\n    '00660024': 'EdgePointIndexList',\n    '00660025': 'VertexPointIndexList',\n    '00660026': 'TriangleStripSequence',\n    '00660027': 'TriangleFanSequence',\n    '00660028': 'LineSequence',\n    '00660029': 'PrimitivePointIndexList',\n    '0066002A': 'SurfaceCount',\n    '0066002B': 'ReferencedSurfaceSequence',\n    '0066002C': 'ReferencedSurfaceNumber',\n    '0066002D': 'SegmentSurfaceGenerationAlgorithmIdentificationSequence',\n    '0066002E': 'SegmentSurfaceSourceInstanceSequence',\n    '0066002F': 'AlgorithmFamilyCodeSequence',\n    '00660030': 'AlgorithmNameCodeSequence',\n    '00660031': 'AlgorithmVersion',\n    '00660032': 'AlgorithmParameters',\n    '00660034': 'FacetSequence',\n    '00660035': 'SurfaceProcessingAlgorithmIdentificationSequence',\n    '00660036': 'AlgorithmName',\n    '00660037': 'RecommendedPointRadius',\n    '00660038': 'RecommendedLineThickness',\n    '00660040': 'LongPrimitivePointIndexList',\n    '00660041': 'LongTrianglePointIndexList',\n    '00660042': 'LongEdgePointIndexList',\n    '00660043': 'LongVertexPointIndexList',\n    '00660101': 'TrackSetSequence',\n    '00660102': 'TrackSequence',\n    '00660103': 'RecommendedDisplayCIELabValueList',\n    '00660104': 'TrackingAlgorithmIdentificationSequence',\n    '00660105': 'TrackSetNumber',\n    '00660106': 'TrackSetLabel',\n    '00660107': 'TrackSetDescription',\n    '00660108': 'TrackSetAnatomicalTypeCodeSequence',\n    '00660121': 'MeasurementsSequence',\n    '00660124': 'TrackSetStatisticsSequence',\n    '00660125': 'FloatingPointValues',\n    '00660129': 'TrackPointIndexList',\n    '00660130': 'TrackStatisticsSequence',\n    '00660132': 'MeasurementValuesSequence',\n    '00660133': 'DiffusionAcquisitionCodeSequence',\n    '00660134': 'DiffusionModelCodeSequence',\n    '00686210': 'ImplantSize',\n    '00686221': 'ImplantTemplateVersion',\n    '00686222': 'ReplacedImplantTemplateSequence',\n    '00686223': 'ImplantType',\n    '00686224': 'DerivationImplantTemplateSequence',\n    '00686225': 'OriginalImplantTemplateSequence',\n    '00686226': 'EffectiveDateTime',\n    '00686230': 'ImplantTargetAnatomySequence',\n    '00686260': 'InformationFromManufacturerSequence',\n    '00686265': 'NotificationFromManufacturerSequence',\n    '00686270': 'InformationIssueDateTime',\n    '00686280': 'InformationSummary',\n    '006862A0': 'ImplantRegulatoryDisapprovalCodeSequence',\n    '006862A5': 'OverallTemplateSpatialTolerance',\n    '006862C0': 'HPGLDocumentSequence',\n    '006862D0': 'HPGLDocumentID',\n    '006862D5': 'HPGLDocumentLabel',\n    '006862E0': 'ViewOrientationCodeSequence',\n    '006862F0': 'ViewOrientationModifierCodeSequence',\n    '006862F2': 'HPGLDocumentScaling',\n    '00686300': 'HPGLDocument',\n    '00686310': 'HPGLContourPenNumber',\n    '00686320': 'HPGLPenSequence',\n    '00686330': 'HPGLPenNumber',\n    '00686340': 'HPGLPenLabel',\n    '00686345': 'HPGLPenDescription',\n    '00686346': 'RecommendedRotationPoint',\n    '00686347': 'BoundingRectangle',\n    '00686350': ('ImplantTemplate3DModelSurfaceNumber'),\n    '00686360': 'SurfaceModelDescriptionSequence',\n    '00686380': 'SurfaceModelLabel',\n    '00686390': 'SurfaceModelScalingFactor',\n    '006863A0': 'MaterialsCodeSequence',\n    '006863A4': 'CoatingMaterialsCodeSequence',\n    '006863A8': 'ImplantTypeCodeSequence',\n    '006863AC': 'FixationMethodCodeSequence',\n    '006863B0': 'MatingFeatureSetsSequence',\n    '006863C0': 'MatingFeatureSetID',\n    '006863D0': 'MatingFeatureSetLabel',\n    '006863E0': 'MatingFeatureSequence',\n    '006863F0': 'MatingFeatureID',\n    '00686400': 'MatingFeatureDegreeOfFreedomSequence',\n    '00686410': 'DegreeOfFreedomID',\n    '00686420': 'DegreeOfFreedomType',\n    '00686430': 'TwoDMatingFeatureCoordinatesSequence',\n    '00686440': 'ReferencedHPGLDocumentID',\n    '00686450': 'TwoDMatingPoint',\n    '00686460': 'TwoDMatingAxes',\n    '00686470': 'TwoDDegreeOfFreedomSequence',\n    '00686490': 'ThreeDDegreeOfFreedomAxis',\n    '006864A0': 'RangeOfFreedom',\n    '006864C0': 'ThreeDMatingPoint',\n    '006864D0': 'ThreeDMatingAxes',\n    '006864F0': 'TwoDDegreeOfFreedomAxis',\n    '00686500': 'PlanningLandmarkPointSequence',\n    '00686510': 'PlanningLandmarkLineSequence',\n    '00686520': 'PlanningLandmarkPlaneSequence',\n    '00686530': 'PlanningLandmarkID',\n    '00686540': 'PlanningLandmarkDescription',\n    '00686545': 'PlanningLandmarkIdentificationCodeSequence',\n    '00686550': 'TwoDPointCoordinatesSequence',\n    '00686560': 'TwoDPointCoordinates',\n    '00686590': 'ThreeDPointCoordinates',\n    '006865A0': 'TwoDLineCoordinatesSequence',\n    '006865B0': 'TwoDLineCoordinates',\n    '006865D0': 'ThreeDLineCoordinates',\n    '006865E0': 'TwoDPlaneCoordinatesSequence',\n    '006865F0': 'TwoDPlaneIntersection',\n    '00686610': 'ThreeDPlaneOrigin',\n    '00686620': 'ThreeDPlaneNormal',\n    '00687001': 'ModelModification',\n    '00687002': 'ModelMirroring',\n    '00687003': 'ModelUsageCodeSequence',\n    '00700001': 'GraphicAnnotationSequence',\n    '00700002': 'GraphicLayer',\n    '00700003': 'BoundingBoxAnnotationUnits',\n    '00700004': 'AnchorPointAnnotationUnits',\n    '00700005': 'GraphicAnnotationUnits',\n    '00700006': 'UnformattedTextValue',\n    '00700008': 'TextObjectSequence',\n    '00700009': 'GraphicObjectSequence',\n    '00700010': 'BoundingBoxTopLeftHandCorner',\n    '00700011': 'BoundingBoxBottomRightHandCorner',\n    '00700012': 'BoundingBoxTextHorizontalJustification',\n    '00700014': 'AnchorPoint',\n    '00700015': 'AnchorPointVisibility',\n    '00700020': 'GraphicDimensions',\n    '00700021': 'NumberOfGraphicPoints',\n    '00700022': 'GraphicData',\n    '00700023': 'GraphicType',\n    '00700024': 'GraphicFilled',\n    '00700040': 'ImageRotationRetired',\n    '00700041': 'ImageHorizontalFlip',\n    '00700042': 'ImageRotation',\n    '00700050': 'DisplayedAreaTopLeftHandCornerTrial',\n    '00700051': 'DisplayedAreaBottomRightHandCornerTrial',\n    '00700052': 'DisplayedAreaTopLeftHandCorner',\n    '00700053': 'DisplayedAreaBottomRightHandCorner',\n    '0070005A': 'DisplayedAreaSelectionSequence',\n    '00700060': 'GraphicLayerSequence',\n    '00700062': 'GraphicLayerOrder',\n    '00700066': 'GraphicLayerRecommendedDisplayGrayscaleValue',\n    '00700067': 'GraphicLayerRecommendedDisplayRGBValue',\n    '00700068': 'GraphicLayerDescription',\n    '00700080': 'ContentLabel',\n    '00700081': 'ContentDescription',\n    '00700082': 'PresentationCreationDate',\n    '00700083': 'PresentationCreationTime',\n    '00700084': 'ContentCreatorName',\n    '00700086': 'ContentCreatorIdentificationCodeSequence',\n    '00700087': 'AlternateContentDescriptionSequence',\n    '00700100': 'PresentationSizeMode',\n    '00700101': 'PresentationPixelSpacing',\n    '00700102': 'PresentationPixelAspectRatio',\n    '00700103': 'PresentationPixelMagnificationRatio',\n    '00700207': 'GraphicGroupLabel',\n    '00700208': 'GraphicGroupDescription',\n    '00700209': 'CompoundGraphicSequence',\n    '00700226': 'CompoundGraphicInstanceID',\n    '00700227': 'FontName',\n    '00700228': 'FontNameType',\n    '00700229': 'CSSFontName',\n    '00700230': 'RotationAngle',\n    '00700231': 'TextStyleSequence',\n    '00700232': 'LineStyleSequence',\n    '00700233': 'FillStyleSequence',\n    '00700234': 'GraphicGroupSequence',\n    '00700241': 'TextColorCIELabValue',\n    '00700242': 'HorizontalAlignment',\n    '00700243': 'VerticalAlignment',\n    '00700244': 'ShadowStyle',\n    '00700245': 'ShadowOffsetX',\n    '00700246': 'ShadowOffsetY',\n    '00700247': 'ShadowColorCIELabValue',\n    '00700248': 'Underlined',\n    '00700249': 'Bold',\n    '00700250': 'Italic',\n    '00700251': 'PatternOnColorCIELabValue',\n    '00700252': 'PatternOffColorCIELabValue',\n    '00700253': 'LineThickness',\n    '00700254': 'LineDashingStyle',\n    '00700255': 'LinePattern',\n    '00700256': 'FillPattern',\n    '00700257': 'FillMode',\n    '00700258': 'ShadowOpacity',\n    '00700261': 'GapLength',\n    '00700262': 'DiameterOfVisibility',\n    '00700273': 'RotationPoint',\n    '00700274': 'TickAlignment',\n    '00700278': 'ShowTickLabel',\n    '00700279': 'TickLabelAlignment',\n    '00700282': 'CompoundGraphicUnits',\n    '00700284': 'PatternOnOpacity',\n    '00700285': 'PatternOffOpacity',\n    '00700287': 'MajorTicksSequence',\n    '00700288': 'TickPosition',\n    '00700289': 'TickLabel',\n    '00700294': 'CompoundGraphicType',\n    '00700295': 'GraphicGroupID',\n    '00700306': 'ShapeType',\n    '00700308': 'RegistrationSequence',\n    '00700309': 'MatrixRegistrationSequence',\n    '0070030A': 'MatrixSequence',\n    '0070030B': 'FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix',\n    '0070030C': 'FrameOfReferenceTransformationMatrixType',\n    '0070030D': 'RegistrationTypeCodeSequence',\n    '0070030F': 'FiducialDescription',\n    '00700310': 'FiducialIdentifier',\n    '00700311': 'FiducialIdentifierCodeSequence',\n    '00700312': 'ContourUncertaintyRadius',\n    '00700314': 'UsedFiducialsSequence',\n    '00700318': 'GraphicCoordinatesDataSequence',\n    '0070031A': 'FiducialUID',\n    '0070031B': 'ReferencedFiducialUID',\n    '0070031C': 'FiducialSetSequence',\n    '0070031E': 'FiducialSequence',\n    '0070031F': 'FiducialsPropertyCategoryCodeSequence',\n    '00700401': 'GraphicLayerRecommendedDisplayCIELabValue',\n    '00700402': 'BlendingSequence',\n    '00700403': 'RelativeOpacity',\n    '00700404': 'ReferencedSpatialRegistrationSequence',\n    '00700405': 'BlendingPosition',\n    '00701101': 'PresentationDisplayCollectionUID',\n    '00701102': 'PresentationSequenceCollectionUID',\n    '00701103': 'PresentationSequencePositionIndex',\n    '00701104': 'RenderedImageReferenceSequence',\n    '00701201': 'VolumetricPresentationStateInputSequence',\n    '00701202': 'PresentationInputType',\n    '00701203': 'InputSequencePositionIndex',\n    '00701204': 'Crop',\n    '00701205': 'CroppingSpecificationIndex',\n    '00701206': 'CompositingMethod',\n    '00701207': 'VolumetricPresentationInputNumber',\n    '00701208': 'ImageVolumeGeometry',\n    '00701209': 'VolumetricPresentationInputSetUID',\n    '0070120A': 'VolumetricPresentationInputSetSequence',\n    '0070120B': 'GlobalCrop',\n    '0070120C': 'GlobalCroppingSpecificationIndex',\n    '0070120D': 'RenderingMethod',\n    '00701301': 'VolumeCroppingSequence',\n    '00701302': 'VolumeCroppingMethod',\n    '00701303': 'BoundingBoxCrop',\n    '00701304': 'ObliqueCroppingPlaneSequence',\n    '00701305': 'Plane',\n    '00701306': 'PlaneNormal',\n    '00701309': 'CroppingSpecificationNumber',\n    '00701501': 'MultiPlanarReconstructionStyle',\n    '00701502': 'MPRThicknessType',\n    '00701503': 'MPRSlabThickness',\n    '00701505': 'MPRTopLeftHandCorner',\n    '00701507': 'MPRViewWidthDirection',\n    '00701508': 'MPRViewWidth',\n    '0070150C': 'NumberOfVolumetricCurvePoints',\n    '0070150D': 'VolumetricCurvePoints',\n    '00701511': 'MPRViewHeightDirection',\n    '00701512': 'MPRViewHeight',\n    '00701602': 'RenderProjection',\n    '00701603': 'ViewpointPosition',\n    '00701604': 'ViewpointLookAtPoint',\n    '00701605': 'ViewpointUpDirection',\n    '00701606': 'RenderFieldOfView',\n    '00701607': 'SamplingStepSize',\n    '00701701': 'ShadingStyle',\n    '00701702': 'AmbientReflectionIntensity',\n    '00701703': 'LightDirection',\n    '00701704': 'DiffuseReflectionIntensity',\n    '00701705': 'SpecularReflectionIntensity',\n    '00701706': 'Shininess',\n    '00701801': 'PresentationStateClassificationComponentSequence',\n    '00701802': 'ComponentType',\n    '00701803': 'ComponentInputSequence',\n    '00701804': 'VolumetricPresentationInputIndex',\n    '00701805': 'PresentationStateCompositorComponentSequence',\n    '00701806': 'WeightingTransferFunctionSequence',\n    '00701807': 'WeightingLookupTableDescriptor',\n    '00701808': 'WeightingLookupTableData',\n    '00701901': 'VolumetricAnnotationSequence',\n    '00701903': 'ReferencedStructuredContextSequence',\n    '00701904': 'ReferencedContentItem',\n    '00701905': 'VolumetricPresentationInputAnnotationSequence',\n    '00701907': 'AnnotationClipping',\n    '00701A01': 'PresentationAnimationStyle',\n    '00701A03': 'RecommendedAnimationRate',\n    '00701A04': 'AnimationCurveSequence',\n    '00701A05': 'AnimationStepSize',\n    '00701A06': 'SwivelRange',\n    '00701A07': 'VolumetricCurveUpDirections',\n    '00701A08': 'VolumeStreamSequence',\n    '00701A09': 'RGBATransferFunctionDescription',\n    '00701B01': 'AdvancedBlendingSequence',\n    '00701B02': 'BlendingInputNumber',\n    '00701B03': 'BlendingDisplayInputSequence',\n    '00701B04': 'BlendingDisplaySequence',\n    '00701B06': 'BlendingMode',\n    '00701B07': 'TimeSeriesBlending',\n    '00701B08': 'GeometryForDisplay',\n    '00701B11': 'ThresholdSequence',\n    '00701B12': 'ThresholdValueSequence',\n    '00701B13': 'ThresholdType',\n    '00701B14': 'ThresholdValue',\n    '00720002': 'HangingProtocolName',\n    '00720004': 'HangingProtocolDescription',\n    '00720006': 'HangingProtocolLevel',\n    '00720008': 'HangingProtocolCreator',\n    '0072000A': 'HangingProtocolCreationDateTime',\n    '0072000C': 'HangingProtocolDefinitionSequence',\n    '0072000E': 'HangingProtocolUserIdentificationCodeSequence',\n    '00720010': 'HangingProtocolUserGroupName',\n    '00720012': 'SourceHangingProtocolSequence',\n    '00720014': 'NumberOfPriorsReferenced',\n    '00720020': 'ImageSetsSequence',\n    '00720022': 'ImageSetSelectorSequence',\n    '00720024': 'ImageSetSelectorUsageFlag',\n    '00720026': 'SelectorAttribute',\n    '00720028': 'SelectorValueNumber',\n    '00720030': 'TimeBasedImageSetsSequence',\n    '00720032': 'ImageSetNumber',\n    '00720034': 'ImageSetSelectorCategory',\n    '00720038': 'RelativeTime',\n    '0072003A': 'RelativeTimeUnits',\n    '0072003C': 'AbstractPriorValue',\n    '0072003E': 'AbstractPriorCodeSequence',\n    '00720040': 'ImageSetLabel',\n    '00720050': 'SelectorAttributeVR',\n    '00720052': 'SelectorSequencePointer',\n    '00720054': 'SelectorSequencePointerPrivateCreator',\n    '00720056': 'SelectorAttributePrivateCreator',\n    '0072005E': 'SelectorAEValue',\n    '0072005F': 'SelectorASValue',\n    '00720060': 'SelectorATValue',\n    '00720061': 'SelectorDAValue',\n    '00720062': 'SelectorCSValue',\n    '00720063': 'SelectorDTValue',\n    '00720064': 'SelectorISValue',\n    '00720065': 'SelectorOBValue',\n    '00720066': 'SelectorLOValue',\n    '00720067': 'SelectorOFValue',\n    '00720068': 'SelectorLTValue',\n    '00720069': 'SelectorOWValue',\n    '0072006A': 'SelectorPNValue',\n    '0072006B': 'SelectorTMValue',\n    '0072006C': 'SelectorSHValue',\n    '0072006D': 'SelectorUNValue',\n    '0072006E': 'SelectorSTValue',\n    '0072006F': 'SelectorUCValue',\n    '00720070': 'SelectorUTValue',\n    '00720071': 'SelectorURValue',\n    '00720072': 'SelectorDSValue',\n    '00720073': 'SelectorODValue',\n    '00720074': 'SelectorFDValue',\n    '00720075': 'SelectorOLValue',\n    '00720076': 'SelectorFLValue',\n    '00720078': 'SelectorULValue',\n    '0072007A': 'SelectorUSValue',\n    '0072007C': 'SelectorSLValue',\n    '0072007E': 'SelectorSSValue',\n    '0072007F': 'SelectorUIValue',\n    '00720080': 'SelectorCodeSequenceValue',\n    '00720100': 'NumberOfScreens',\n    '00720102': 'NominalScreenDefinitionSequence',\n    '00720104': 'NumberOfVerticalPixels',\n    '00720106': 'NumberOfHorizontalPixels',\n    '00720108': 'DisplayEnvironmentSpatialPosition',\n    '0072010A': 'ScreenMinimumGrayscaleBitDepth',\n    '0072010C': 'ScreenMinimumColorBitDepth',\n    '0072010E': 'ApplicationMaximumRepaintTime',\n    '00720200': 'DisplaySetsSequence',\n    '00720202': 'DisplaySetNumber',\n    '00720203': 'DisplaySetLabel',\n    '00720204': 'DisplaySetPresentationGroup',\n    '00720206': 'DisplaySetPresentationGroupDescription',\n    '00720208': 'PartialDataDisplayHandling',\n    '00720210': 'SynchronizedScrollingSequence',\n    '00720212': 'DisplaySetScrollingGroup',\n    '00720214': 'NavigationIndicatorSequence',\n    '00720216': 'NavigationDisplaySet',\n    '00720218': 'ReferenceDisplaySets',\n    '00720300': 'ImageBoxesSequence',\n    '00720302': 'ImageBoxNumber',\n    '00720304': 'ImageBoxLayoutType',\n    '00720306': 'ImageBoxTileHorizontalDimension',\n    '00720308': 'ImageBoxTileVerticalDimension',\n    '00720310': 'ImageBoxScrollDirection',\n    '00720312': 'ImageBoxSmallScrollType',\n    '00720314': 'ImageBoxSmallScrollAmount',\n    '00720316': 'ImageBoxLargeScrollType',\n    '00720318': 'ImageBoxLargeScrollAmount',\n    '00720320': 'ImageBoxOverlapPriority',\n    '00720330': 'CineRelativeToRealTime',\n    '00720400': 'FilterOperationsSequence',\n    '00720402': 'FilterByCategory',\n    '00720404': 'FilterByAttributePresence',\n    '00720406': 'FilterByOperator',\n    '00720420': 'StructuredDisplayBackgroundCIELabValue',\n    '00720421': 'EmptyImageBoxCIELabValue',\n    '00720422': 'StructuredDisplayImageBoxSequence',\n    '00720424': 'StructuredDisplayTextBoxSequence',\n    '00720427': 'ReferencedFirstFrameSequence',\n    '00720430': 'ImageBoxSynchronizationSequence',\n    '00720432': 'SynchronizedImageBoxList',\n    '00720434': 'TypeOfSynchronization',\n    '00720500': 'BlendingOperationType',\n    '00720510': 'ReformattingOperationType',\n    '00720512': 'ReformattingThickness',\n    '00720514': 'ReformattingInterval',\n    '00720516': 'ReformattingOperationInitialViewDirection',\n    '00720520': 'ThreeDRenderingType',\n    '00720600': 'SortingOperationsSequence',\n    '00720602': 'SortByCategory',\n    '00720604': 'SortingDirection',\n    '00720700': 'DisplaySetPatientOrientation',\n    '00720702': 'VOIType',\n    '00720704': 'PseudoColorType',\n    '00720705': 'PseudoColorPaletteInstanceReferenceSequence',\n    '00720706': 'ShowGrayscaleInverted',\n    '00720710': 'ShowImageTrueSizeFlag',\n    '00720712': 'ShowGraphicAnnotationFlag',\n    '00720714': 'ShowPatientDemographicsFlag',\n    '00720716': 'ShowAcquisitionTechniquesFlag',\n    '00720717': 'DisplaySetHorizontalJustification',\n    '00720718': 'DisplaySetVerticalJustification',\n    '00740120': 'ContinuationStartMeterset',\n    '00740121': 'ContinuationEndMeterset',\n    '00741000': 'ProcedureStepState',\n    '00741002': 'ProcedureStepProgressInformationSequence',\n    '00741004': 'ProcedureStepProgress',\n    '00741006': 'ProcedureStepProgressDescription',\n    '00741007': 'ProcedureStepProgressParametersSequence',\n    '00741008': 'ProcedureStepCommunicationsURISequence',\n    '0074100A': 'ContactURI',\n    '0074100C': 'ContactDisplayName',\n    '0074100E': 'ProcedureStepDiscontinuationReasonCodeSequence',\n    '00741020': 'BeamTaskSequence',\n    '00741022': 'BeamTaskType',\n    '00741024': 'BeamOrderIndexTrial',\n    '00741025': 'AutosequenceFlag',\n    '00741026': 'TableTopVerticalAdjustedPosition',\n    '00741027': 'TableTopLongitudinalAdjustedPosition',\n    '00741028': 'TableTopLateralAdjustedPosition',\n    '0074102A': 'PatientSupportAdjustedAngle',\n    '0074102B': 'TableTopEccentricAdjustedAngle',\n    '0074102C': 'TableTopPitchAdjustedAngle',\n    '0074102D': 'TableTopRollAdjustedAngle',\n    '00741030': 'DeliveryVerificationImageSequence',\n    '00741032': 'VerificationImageTiming',\n    '00741034': 'DoubleExposureFlag',\n    '00741036': 'DoubleExposureOrdering',\n    '00741038': 'DoubleExposureMetersetTrial',\n    '0074103A': 'DoubleExposureFieldDeltaTrial',\n    '00741040': 'RelatedReferenceRTImageSequence',\n    '00741042': 'GeneralMachineVerificationSequence',\n    '00741044': 'ConventionalMachineVerificationSequence',\n    '00741046': 'IonMachineVerificationSequence',\n    '00741048': 'FailedAttributesSequence',\n    '0074104A': 'OverriddenAttributesSequence',\n    '0074104C': 'ConventionalControlPointVerificationSequence',\n    '0074104E': 'IonControlPointVerificationSequence',\n    '00741050': 'AttributeOccurrenceSequence',\n    '00741052': 'AttributeOccurrencePointer',\n    '00741054': 'AttributeItemSelector',\n    '00741056': 'AttributeOccurrencePrivateCreator',\n    '00741057': 'SelectorSequencePointerItems',\n    '00741200': 'ScheduledProcedureStepPriority',\n    '00741202': 'WorklistLabel',\n    '00741204': 'ProcedureStepLabel',\n    '00741210': 'ScheduledProcessingParametersSequence',\n    '00741212': 'PerformedProcessingParametersSequence',\n    '00741216': 'UnifiedProcedureStepPerformedProcedureSequence',\n    '00741220': 'RelatedProcedureStepSequence',\n    '00741222': 'ProcedureStepRelationshipType',\n    '00741224': 'ReplacedProcedureStepSequence',\n    '00741230': 'DeletionLock',\n    '00741234': 'ReceivingAE',\n    '00741236': 'RequestingAE',\n    '00741238': 'ReasonForCancellation',\n    '00741242': 'SCPStatus',\n    '00741244': 'SubscriptionListStatus',\n    '00741246': 'UnifiedProcedureStepListStatus',\n    '00741324': 'BeamOrderIndex',\n    '00741338': 'DoubleExposureMeterset',\n    '0074133A': 'DoubleExposureFieldDelta',\n    '00741401': 'BrachyTaskSequence',\n    '00741402': 'ContinuationStartTotalReferenceAirKerma',\n    '00741403': 'ContinuationEndTotalReferenceAirKerma',\n    '00741404': 'ContinuationPulseNumber',\n    '00741405': 'ChannelDeliveryOrderSequence',\n    '00741406': 'ReferencedChannelNumber',\n    '00741407': 'StartCumulativeTimeWeight',\n    '00741408': 'EndCumulativeTimeWeight',\n    '00741409': 'OmittedChannelSequence',\n    '0074140A': 'ReasonForChannelOmission',\n    '0074140B': 'ReasonForChannelOmissionDescription',\n    '0074140C': 'ChannelDeliveryOrderIndex',\n    '0074140D': 'ChannelDeliveryContinuationSequence',\n    '0074140E': 'OmittedApplicationSetupSequence',\n    '00760001': 'ImplantAssemblyTemplateName',\n    '00760003': 'ImplantAssemblyTemplateIssuer',\n    '00760006': 'ImplantAssemblyTemplateVersion',\n    '00760008': 'ReplacedImplantAssemblyTemplateSequence',\n    '0076000A': 'ImplantAssemblyTemplateType',\n    '0076000C': 'OriginalImplantAssemblyTemplateSequence',\n    '0076000E': 'DerivationImplantAssemblyTemplateSequence',\n    '00760010': 'ImplantAssemblyTemplateTargetAnatomySequence',\n    '00760020': 'ProcedureTypeCodeSequence',\n    '00760030': 'SurgicalTechnique',\n    '00760032': 'ComponentTypesSequence',\n    '00760034': 'ComponentTypeCodeSequence',\n    '00760036': 'ExclusiveComponentType',\n    '00760038': 'MandatoryComponentType',\n    '00760040': 'ComponentSequence',\n    '00760055': 'ComponentID',\n    '00760060': 'ComponentAssemblySequence',\n    '00760070': ('Component1ReferencedID'),\n    '00760080': ('Component1ReferencedMatingFeatureSetID'),\n    '00760090': ('Component1ReferencedMatingFeatureID'),\n    '007600A0': ('Component2ReferencedID'),\n    '007600B0': ('Component2ReferencedMatingFeatureSetID'),\n    '007600C0': ('Component2ReferencedMatingFeatureID'),\n    '00780001': 'ImplantTemplateGroupName',\n    '00780010': 'ImplantTemplateGroupDescription',\n    '00780020': 'ImplantTemplateGroupIssuer',\n    '00780024': 'ImplantTemplateGroupVersion',\n    '00780026': 'ReplacedImplantTemplateGroupSequence',\n    '00780028': 'ImplantTemplateGroupTargetAnatomySequence',\n    '0078002A': 'ImplantTemplateGroupMembersSequence',\n    '0078002E': 'ImplantTemplateGroupMemberID',\n    '00780050': 'ThreeDImplantTemplateGroupMemberMatchingPoint',\n    '00780060': 'ThreeDImplantTemplateGroupMemberMatchingAxes',\n    '00780070': ('ImplantTemplateGroupMemberMatching2DCoordinatesSequence'),\n    '00780090': 'TwoDImplantTemplateGroupMemberMatchingPoint',\n    '007800A0': 'TwoDImplantTemplateGroupMemberMatchingAxes',\n    '007800B0': 'ImplantTemplateGroupVariationDimensionSequence',\n    '007800B2': 'ImplantTemplateGroupVariationDimensionName',\n    '007800B4': 'ImplantTemplateGroupVariationDimensionRankSequence',\n    '007800B6': 'ReferencedImplantTemplateGroupMemberID',\n    '007800B8': 'ImplantTemplateGroupVariationDimensionRank',\n    '00800001': 'SurfaceScanAcquisitionTypeCodeSequence',\n    '00800002': 'SurfaceScanModeCodeSequence',\n    '00800003': 'RegistrationMethodCodeSequence',\n    '00800004': 'ShotDurationTime',\n    '00800005': 'ShotOffsetTime',\n    '00800006': 'SurfacePointPresentationValueData',\n    '00800007': 'SurfacePointColorCIELabValueData',\n    '00800008': 'UVMappingSequence',\n    '00800009': 'TextureLabel',\n    '00800010': 'UValueData',\n    '00800011': 'VValueData',\n    '00800012': 'ReferencedTextureSequence',\n    '00800013': 'ReferencedSurfaceDataSequence',\n    '00820001': 'AssessmentSummary',\n    '00820003': 'AssessmentSummaryDescription',\n    '00820004': 'AssessedSOPInstanceSequence',\n    '00820005': 'ReferencedComparisonSOPInstanceSequence',\n    '00820006': 'NumberOfAssessmentObservations',\n    '00820007': 'AssessmentObservationsSequence',\n    '00820008': 'ObservationSignificance',\n    '0082000A': 'ObservationDescription',\n    '0082000C': 'StructuredConstraintObservationSequence',\n    '00820010': 'AssessedAttributeValueSequence',\n    '00820016': 'AssessmentSetID',\n    '00820017': 'AssessmentRequesterSequence',\n    '00820018': 'SelectorAttributeName',\n    '00820019': 'SelectorAttributeKeyword',\n    '00820021': 'AssessmentTypeCodeSequence',\n    '00820022': 'ObservationBasisCodeSequence',\n    '00820023': 'AssessmentLabel',\n    '00820032': 'ConstraintType',\n    '00820033': 'SpecificationSelectionGuidance',\n    '00820034': 'ConstraintValueSequence',\n    '00820035': 'RecommendedDefaultValueSequence',\n    '00820036': 'ConstraintViolationSignificance',\n    '00820037': 'ConstraintViolationCondition',\n    '00820038': 'ModifiableConstraintFlag',\n    '00880130': 'StorageMediaFileSetID',\n    '00880140': 'StorageMediaFileSetUID',\n    '00880200': 'IconImageSequence',\n    '00880904': 'TopicTitle',\n    '00880906': 'TopicSubject',\n    '00880910': 'TopicAuthor',\n    '00880912': 'TopicKeywords',\n    '01000410': 'SOPInstanceStatus',\n    '01000420': 'SOPAuthorizationDateTime',\n    '01000424': 'SOPAuthorizationComment',\n    '01000426': 'AuthorizationEquipmentCertificationNumber',\n    '04000005': 'MACIDNumber',\n    '04000010': 'MACCalculationTransferSyntaxUID',\n    '04000015': 'MACAlgorithm',\n    '04000020': 'DataElementsSigned',\n    '04000100': 'DigitalSignatureUID',\n    '04000105': 'DigitalSignatureDateTime',\n    '04000110': 'CertificateType',\n    '04000115': 'CertificateOfSigner',\n    '04000120': 'Signature',\n    '04000305': 'CertifiedTimestampType',\n    '04000310': 'CertifiedTimestamp',\n    '04000315': '',\n    '04000401': 'DigitalSignaturePurposeCodeSequence',\n    '04000402': 'ReferencedDigitalSignatureSequence',\n    '04000403': 'ReferencedSOPInstanceMACSequence',\n    '04000404': 'MAC',\n    '04000500': 'EncryptedAttributesSequence',\n    '04000510': 'EncryptedContentTransferSyntaxUID',\n    '04000520': 'EncryptedContent',\n    '04000550': 'ModifiedAttributesSequence',\n    '04000561': 'OriginalAttributesSequence',\n    '04000562': 'AttributeModificationDateTime',\n    '04000563': 'ModifyingSystem',\n    '04000564': 'SourceOfPreviousValues',\n    '04000565': 'ReasonForTheAttributeModification',\n    '04000600': 'InstanceOriginStatus',\n    '20000010': 'NumberOfCopies',\n    '2000001E': 'PrinterConfigurationSequence',\n    '20000020': 'PrintPriority',\n    '20000030': 'MediumType',\n    '20000040': 'FilmDestination',\n    '20000050': 'FilmSessionLabel',\n    '20000060': 'MemoryAllocation',\n    '20000061': 'MaximumMemoryAllocation',\n    '20000062': 'ColorImagePrintingFlag',\n    '20000063': 'CollationFlag',\n    '20000065': 'AnnotationFlag',\n    '20000067': 'ImageOverlayFlag',\n    '20000069': 'PresentationLUTFlag',\n    '2000006A': 'ImageBoxPresentationLUTFlag',\n    '200000A0': 'MemoryBitDepth',\n    '200000A1': 'PrintingBitDepth',\n    '200000A2': 'MediaInstalledSequence',\n    '200000A4': 'OtherMediaAvailableSequence',\n    '200000A8': 'SupportedImageDisplayFormatsSequence',\n    '20000500': 'ReferencedFilmBoxSequence',\n    '20000510': 'ReferencedStoredPrintSequence',\n    '20100010': 'ImageDisplayFormat',\n    '20100030': 'AnnotationDisplayFormatID',\n    '20100040': 'FilmOrientation',\n    '20100050': 'FilmSizeID',\n    '20100052': 'PrinterResolutionID',\n    '20100054': 'DefaultPrinterResolutionID',\n    '20100060': 'MagnificationType',\n    '20100080': 'SmoothingType',\n    '201000A6': 'DefaultMagnificationType',\n    '201000A7': 'OtherMagnificationTypesAvailable',\n    '201000A8': 'DefaultSmoothingType',\n    '201000A9': 'OtherSmoothingTypesAvailable',\n    '20100100': 'BorderDensity',\n    '20100110': 'EmptyImageDensity',\n    '20100120': 'MinDensity',\n    '20100130': 'MaxDensity',\n    '20100140': 'Trim',\n    '20100150': 'ConfigurationInformation',\n    '20100152': 'ConfigurationInformationDescription',\n    '20100154': 'MaximumCollatedFilms',\n    '2010015E': 'Illumination',\n    '20100160': 'ReflectedAmbientLight',\n    '20100376': 'PrinterPixelSpacing',\n    '20100500': 'ReferencedFilmSessionSequence',\n    '20100510': 'ReferencedImageBoxSequence',\n    '20100520': 'ReferencedBasicAnnotationBoxSequence',\n    '20200010': 'ImageBoxPosition',\n    '20200020': 'Polarity',\n    '20200030': 'RequestedImageSize',\n    '20200040': 'RequestedDecimateCropBehavior',\n    '20200050': 'RequestedResolutionID',\n    '202000A0': 'RequestedImageSizeFlag',\n    '202000A2': 'DecimateCropResult',\n    '20200110': 'BasicGrayscaleImageSequence',\n    '20200111': 'BasicColorImageSequence',\n    '20200130': 'ReferencedImageOverlayBoxSequence',\n    '20200140': 'ReferencedVOILUTBoxSequence',\n    '20300010': 'AnnotationPosition',\n    '20300020': 'TextString',\n    '20400010': 'ReferencedOverlayPlaneSequence',\n    '20400011': 'ReferencedOverlayPlaneGroups',\n    '20400020': 'OverlayPixelDataSequence',\n    '20400060': 'OverlayMagnificationType',\n    '20400070': 'OverlaySmoothingType',\n    '20400072': 'OverlayOrImageMagnification',\n    '20400074': 'MagnifyToNumberOfColumns',\n    '20400080': 'OverlayForegroundDensity',\n    '20400082': 'OverlayBackgroundDensity',\n    '20400090': 'OverlayMode',\n    '20400100': 'ThresholdDensity',\n    '20400500': 'ReferencedImageBoxSequenceRetired',\n    '20500010': 'PresentationLUTSequence',\n    '20500020': 'PresentationLUTShape',\n    '20500500': 'ReferencedPresentationLUTSequence',\n    '21000010': 'PrintJobID',\n    '21000020': 'ExecutionStatus',\n    '21000030': 'ExecutionStatusInfo',\n    '21000040': 'CreationDate',\n    '21000050': 'CreationTime',\n    '21000070': 'Originator',\n    '21000140': 'DestinationAE',\n    '21000160': 'OwnerID',\n    '21000170': 'NumberOfFilms',\n    '21000500': 'ReferencedPrintJobSequencePullStoredPrint',\n    '21100010': 'PrinterStatus',\n    '21100020': 'PrinterStatusInfo',\n    '21100030': 'PrinterName',\n    '21100099': 'PrintQueueID',\n    '21200010': 'QueueStatus',\n    '21200050': 'PrintJobDescriptionSequence',\n    '21200070': 'ReferencedPrintJobSequence',\n    '21300010': 'PrintManagementCapabilitiesSequence',\n    '21300015': 'PrinterCharacteristicsSequence',\n    '21300030': 'FilmBoxContentSequence',\n    '21300040': 'ImageBoxContentSequence',\n    '21300050': 'AnnotationContentSequence',\n    '21300060': 'ImageOverlayBoxContentSequence',\n    '21300080': 'PresentationLUTContentSequence',\n    '213000A0': 'ProposedStudySequence',\n    '213000C0': 'OriginalImageSequence',\n    '22000001': 'LabelUsingInformationExtractedFromInstances',\n    '22000002': 'LabelText',\n    '22000003': 'LabelStyleSelection',\n    '22000004': 'MediaDisposition',\n    '22000005': 'BarcodeValue',\n    '22000006': 'BarcodeSymbology',\n    '22000007': 'AllowMediaSplitting',\n    '22000008': 'IncludeNonDICOMObjects',\n    '22000009': 'IncludeDisplayApplication',\n    '2200000A': 'PreserveCompositeInstancesAfterMediaCreation',\n    '2200000B': 'TotalNumberOfPiecesOfMediaCreated',\n    '2200000C': 'RequestedMediaApplicationProfile',\n    '2200000D': 'ReferencedStorageMediaSequence',\n    '2200000E': 'FailureAttributes',\n    '2200000F': 'AllowLossyCompression',\n    '22000020': 'RequestPriority',\n    '30020002': 'RTImageLabel',\n    '30020003': 'RTImageName',\n    '30020004': 'RTImageDescription',\n    '3002000A': 'ReportedValuesOrigin',\n    '3002000C': 'RTImagePlane',\n    '3002000D': 'XRayImageReceptorTranslation',\n    '3002000E': 'XRayImageReceptorAngle',\n    '30020010': 'RTImageOrientation',\n    '30020011': 'ImagePlanePixelSpacing',\n    '30020012': 'RTImagePosition',\n    '30020020': 'RadiationMachineName',\n    '30020022': 'RadiationMachineSAD',\n    '30020024': 'RadiationMachineSSD',\n    '30020026': 'RTImageSID',\n    '30020028': 'SourceToReferenceObjectDistance',\n    '30020029': 'FractionNumber',\n    '30020030': 'ExposureSequence',\n    '30020032': 'MetersetExposure',\n    '30020034': 'DiaphragmPosition',\n    '30020040': 'FluenceMapSequence',\n    '30020041': 'FluenceDataSource',\n    '30020042': 'FluenceDataScale',\n    '30020050': 'PrimaryFluenceModeSequence',\n    '30020051': 'FluenceMode',\n    '30020052': 'FluenceModeID',\n    '30040001': 'DVHType',\n    '30040002': 'DoseUnits',\n    '30040004': 'DoseType',\n    '30040005': 'SpatialTransformOfDose',\n    '30040006': 'DoseComment',\n    '30040008': 'NormalizationPoint',\n    '3004000A': 'DoseSummationType',\n    '3004000C': 'GridFrameOffsetVector',\n    '3004000E': 'DoseGridScaling',\n    '30040010': 'RTDoseROISequence',\n    '30040012': 'DoseValue',\n    '30040014': 'TissueHeterogeneityCorrection',\n    '30040040': 'DVHNormalizationPoint',\n    '30040042': 'DVHNormalizationDoseValue',\n    '30040050': 'DVHSequence',\n    '30040052': 'DVHDoseScaling',\n    '30040054': 'DVHVolumeUnits',\n    '30040056': 'DVHNumberOfBins',\n    '30040058': 'DVHData',\n    '30040060': 'DVHReferencedROISequence',\n    '30040062': 'DVHROIContributionType',\n    '30040070': 'DVHMinimumDose',\n    '30040072': 'DVHMaximumDose',\n    '30040074': 'DVHMeanDose',\n    '30060002': 'StructureSetLabel',\n    '30060004': 'StructureSetName',\n    '30060006': 'StructureSetDescription',\n    '30060008': 'StructureSetDate',\n    '30060009': 'StructureSetTime',\n    '30060010': 'ReferencedFrameOfReferenceSequence',\n    '30060012': 'RTReferencedStudySequence',\n    '30060014': 'RTReferencedSeriesSequence',\n    '30060016': 'ContourImageSequence',\n    '30060018': 'PredecessorStructureSetSequence',\n    '30060020': 'StructureSetROISequence',\n    '30060022': 'ROINumber',\n    '30060024': 'ReferencedFrameOfReferenceUID',\n    '30060026': 'ROIName',\n    '30060028': 'ROIDescription',\n    '3006002A': 'ROIDisplayColor',\n    '3006002C': 'ROIVolume',\n    '30060030': 'RTRelatedROISequence',\n    '30060033': 'RTROIRelationship',\n    '30060036': 'ROIGenerationAlgorithm',\n    '30060038': 'ROIGenerationDescription',\n    '30060039': 'ROIContourSequence',\n    '30060040': 'ContourSequence',\n    '30060042': 'ContourGeometricType',\n    '30060044': 'ContourSlabThickness',\n    '30060045': 'ContourOffsetVector',\n    '30060046': 'NumberOfContourPoints',\n    '30060048': 'ContourNumber',\n    '30060049': 'AttachedContours',\n    '30060050': 'ContourData',\n    '30060080': 'RTROIObservationsSequence',\n    '30060082': 'ObservationNumber',\n    '30060084': 'ReferencedROINumber',\n    '30060085': 'ROIObservationLabel',\n    '30060086': 'RTROIIdentificationCodeSequence',\n    '30060088': 'ROIObservationDescription',\n    '300600A0': 'RelatedRTROIObservationsSequence',\n    '300600A4': 'RTROIInterpretedType',\n    '300600A6': 'ROIInterpreter',\n    '300600B0': 'ROIPhysicalPropertiesSequence',\n    '300600B2': 'ROIPhysicalProperty',\n    '300600B4': 'ROIPhysicalPropertyValue',\n    '300600B6': 'ROIElementalCompositionSequence',\n    '300600B7': 'ROIElementalCompositionAtomicNumber',\n    '300600B8': 'ROIElementalCompositionAtomicMassFraction',\n    '300600B9': 'AdditionalRTROIIdentificationCodeSequence',\n    '300600C0': 'FrameOfReferenceRelationshipSequence',\n    '300600C2': 'RelatedFrameOfReferenceUID',\n    '300600C4': 'FrameOfReferenceTransformationType',\n    '300600C6': 'FrameOfReferenceTransformationMatrix',\n    '300600C8': 'FrameOfReferenceTransformationComment',\n    '30080010': 'MeasuredDoseReferenceSequence',\n    '30080012': 'MeasuredDoseDescription',\n    '30080014': 'MeasuredDoseType',\n    '30080016': 'MeasuredDoseValue',\n    '30080020': 'TreatmentSessionBeamSequence',\n    '30080021': 'TreatmentSessionIonBeamSequence',\n    '30080022': 'CurrentFractionNumber',\n    '30080024': 'TreatmentControlPointDate',\n    '30080025': 'TreatmentControlPointTime',\n    '3008002A': 'TreatmentTerminationStatus',\n    '3008002B': 'TreatmentTerminationCode',\n    '3008002C': 'TreatmentVerificationStatus',\n    '30080030': 'ReferencedTreatmentRecordSequence',\n    '30080032': 'SpecifiedPrimaryMeterset',\n    '30080033': 'SpecifiedSecondaryMeterset',\n    '30080036': 'DeliveredPrimaryMeterset',\n    '30080037': 'DeliveredSecondaryMeterset',\n    '3008003A': 'SpecifiedTreatmentTime',\n    '3008003B': 'DeliveredTreatmentTime',\n    '30080040': 'ControlPointDeliverySequence',\n    '30080041': 'IonControlPointDeliverySequence',\n    '30080042': 'SpecifiedMeterset',\n    '30080044': 'DeliveredMeterset',\n    '30080045': 'MetersetRateSet',\n    '30080046': 'MetersetRateDelivered',\n    '30080047': 'ScanSpotMetersetsDelivered',\n    '30080048': 'DoseRateDelivered',\n    '30080050': 'TreatmentSummaryCalculatedDoseReferenceSequence',\n    '30080052': 'CumulativeDoseToDoseReference',\n    '30080054': 'FirstTreatmentDate',\n    '30080056': 'MostRecentTreatmentDate',\n    '3008005A': 'NumberOfFractionsDelivered',\n    '30080060': 'OverrideSequence',\n    '30080061': 'ParameterSequencePointer',\n    '30080062': 'OverrideParameterPointer',\n    '30080063': 'ParameterItemIndex',\n    '30080064': 'MeasuredDoseReferenceNumber',\n    '30080065': 'ParameterPointer',\n    '30080066': 'OverrideReason',\n    '30080067': 'ParameterValueNumber',\n    '30080068': 'CorrectedParameterSequence',\n    '3008006A': 'CorrectionValue',\n    '30080070': 'CalculatedDoseReferenceSequence',\n    '30080072': 'CalculatedDoseReferenceNumber',\n    '30080074': 'CalculatedDoseReferenceDescription',\n    '30080076': 'CalculatedDoseReferenceDoseValue',\n    '30080078': 'StartMeterset',\n    '3008007A': 'EndMeterset',\n    '30080080': 'ReferencedMeasuredDoseReferenceSequence',\n    '30080082': 'ReferencedMeasuredDoseReferenceNumber',\n    '30080090': 'ReferencedCalculatedDoseReferenceSequence',\n    '30080092': 'ReferencedCalculatedDoseReferenceNumber',\n    '300800A0': 'BeamLimitingDeviceLeafPairsSequence',\n    '300800B0': 'RecordedWedgeSequence',\n    '300800C0': 'RecordedCompensatorSequence',\n    '300800D0': 'RecordedBlockSequence',\n    '300800E0': 'TreatmentSummaryMeasuredDoseReferenceSequence',\n    '300800F0': 'RecordedSnoutSequence',\n    '300800F2': 'RecordedRangeShifterSequence',\n    '300800F4': 'RecordedLateralSpreadingDeviceSequence',\n    '300800F6': 'RecordedRangeModulatorSequence',\n    '30080100': 'RecordedSourceSequence',\n    '30080105': 'SourceSerialNumber',\n    '30080110': 'TreatmentSessionApplicationSetupSequence',\n    '30080116': 'ApplicationSetupCheck',\n    '30080120': 'RecordedBrachyAccessoryDeviceSequence',\n    '30080122': 'ReferencedBrachyAccessoryDeviceNumber',\n    '30080130': 'RecordedChannelSequence',\n    '30080132': 'SpecifiedChannelTotalTime',\n    '30080134': 'DeliveredChannelTotalTime',\n    '30080136': 'SpecifiedNumberOfPulses',\n    '30080138': 'DeliveredNumberOfPulses',\n    '3008013A': 'SpecifiedPulseRepetitionInterval',\n    '3008013C': 'DeliveredPulseRepetitionInterval',\n    '30080140': 'RecordedSourceApplicatorSequence',\n    '30080142': 'ReferencedSourceApplicatorNumber',\n    '30080150': 'RecordedChannelShieldSequence',\n    '30080152': 'ReferencedChannelShieldNumber',\n    '30080160': 'BrachyControlPointDeliveredSequence',\n    '30080162': 'SafePositionExitDate',\n    '30080164': 'SafePositionExitTime',\n    '30080166': 'SafePositionReturnDate',\n    '30080168': 'SafePositionReturnTime',\n    '30080171': 'PulseSpecificBrachyControlPointDeliveredSequence',\n    '30080172': 'PulseNumber',\n    '30080173': 'BrachyPulseControlPointDeliveredSequence',\n    '30080200': 'CurrentTreatmentStatus',\n    '30080202': 'TreatmentStatusComment',\n    '30080220': 'FractionGroupSummarySequence',\n    '30080223': 'ReferencedFractionNumber',\n    '30080224': 'FractionGroupType',\n    '30080230': 'BeamStopperPosition',\n    '30080240': 'FractionStatusSummarySequence',\n    '30080250': 'TreatmentDate',\n    '30080251': 'TreatmentTime',\n    '300A0002': 'RTPlanLabel',\n    '300A0003': 'RTPlanName',\n    '300A0004': 'RTPlanDescription',\n    '300A0006': 'RTPlanDate',\n    '300A0007': 'RTPlanTime',\n    '300A0009': 'TreatmentProtocols',\n    '300A000A': 'PlanIntent',\n    '300A000B': 'TreatmentSites',\n    '300A000C': 'RTPlanGeometry',\n    '300A000E': 'PrescriptionDescription',\n    '300A0010': 'DoseReferenceSequence',\n    '300A0012': 'DoseReferenceNumber',\n    '300A0013': 'DoseReferenceUID',\n    '300A0014': 'DoseReferenceStructureType',\n    '300A0015': 'NominalBeamEnergyUnit',\n    '300A0016': 'DoseReferenceDescription',\n    '300A0018': 'DoseReferencePointCoordinates',\n    '300A001A': 'NominalPriorDose',\n    '300A0020': 'DoseReferenceType',\n    '300A0021': 'ConstraintWeight',\n    '300A0022': 'DeliveryWarningDose',\n    '300A0023': 'DeliveryMaximumDose',\n    '300A0025': 'TargetMinimumDose',\n    '300A0026': 'TargetPrescriptionDose',\n    '300A0027': 'TargetMaximumDose',\n    '300A0028': 'TargetUnderdoseVolumeFraction',\n    '300A002A': 'OrganAtRiskFullVolumeDose',\n    '300A002B': 'OrganAtRiskLimitDose',\n    '300A002C': 'OrganAtRiskMaximumDose',\n    '300A002D': 'OrganAtRiskOverdoseVolumeFraction',\n    '300A0040': 'ToleranceTableSequence',\n    '300A0042': 'ToleranceTableNumber',\n    '300A0043': 'ToleranceTableLabel',\n    '300A0044': 'GantryAngleTolerance',\n    '300A0046': 'BeamLimitingDeviceAngleTolerance',\n    '300A0048': 'BeamLimitingDeviceToleranceSequence',\n    '300A004A': 'BeamLimitingDevicePositionTolerance',\n    '300A004B': 'SnoutPositionTolerance',\n    '300A004C': 'PatientSupportAngleTolerance',\n    '300A004E': 'TableTopEccentricAngleTolerance',\n    '300A004F': 'TableTopPitchAngleTolerance',\n    '300A0050': 'TableTopRollAngleTolerance',\n    '300A0051': 'TableTopVerticalPositionTolerance',\n    '300A0052': 'TableTopLongitudinalPositionTolerance',\n    '300A0053': 'TableTopLateralPositionTolerance',\n    '300A0055': 'RTPlanRelationship',\n    '300A0070': 'FractionGroupSequence',\n    '300A0071': 'FractionGroupNumber',\n    '300A0072': 'FractionGroupDescription',\n    '300A0078': 'NumberOfFractionsPlanned',\n    '300A0079': 'NumberOfFractionPatternDigitsPerDay',\n    '300A007A': 'RepeatFractionCycleLength',\n    '300A007B': 'FractionPattern',\n    '300A0080': 'NumberOfBeams',\n    '300A0082': 'BeamDoseSpecificationPoint',\n    '300A0083': 'ReferencedDoseReferenceUID',\n    '300A0084': 'BeamDose',\n    '300A0086': 'BeamMeterset',\n    '300A0088': 'BeamDosePointDepth',\n    '300A0089': 'BeamDosePointEquivalentDepth',\n    '300A008A': 'BeamDosePointSSD',\n    '300A008B': 'BeamDoseMeaning',\n    '300A008C': 'BeamDoseVerificationControlPointSequence',\n    '300A008D': 'AverageBeamDosePointDepth',\n    '300A008E': 'AverageBeamDosePointEquivalentDepth',\n    '300A008F': 'AverageBeamDosePointSSD',\n    '300A0090': 'BeamDoseType',\n    '300A0091': 'AlternateBeamDose',\n    '300A0092': 'AlternateBeamDoseType',\n    '300A0093': 'DepthValueAveragingFlag',\n    '300A0094': 'BeamDosePointSourceToExternalContourDistance',\n    '300A00A0': 'NumberOfBrachyApplicationSetups',\n    '300A00A2': 'BrachyApplicationSetupDoseSpecificationPoint',\n    '300A00A4': 'BrachyApplicationSetupDose',\n    '300A00B0': 'BeamSequence',\n    '300A00B2': 'TreatmentMachineName',\n    '300A00B3': 'PrimaryDosimeterUnit',\n    '300A00B4': 'SourceAxisDistance',\n    '300A00B6': 'BeamLimitingDeviceSequence',\n    '300A00B8': 'RTBeamLimitingDeviceType',\n    '300A00BA': 'SourceToBeamLimitingDeviceDistance',\n    '300A00BB': 'IsocenterToBeamLimitingDeviceDistance',\n    '300A00BC': 'NumberOfLeafJawPairs',\n    '300A00BE': 'LeafPositionBoundaries',\n    '300A00C0': 'BeamNumber',\n    '300A00C2': 'BeamName',\n    '300A00C3': 'BeamDescription',\n    '300A00C4': 'BeamType',\n    '300A00C5': 'BeamDeliveryDurationLimit',\n    '300A00C6': 'RadiationType',\n    '300A00C7': 'HighDoseTechniqueType',\n    '300A00C8': 'ReferenceImageNumber',\n    '300A00CA': 'PlannedVerificationImageSequence',\n    '300A00CC': 'ImagingDeviceSpecificAcquisitionParameters',\n    '300A00CE': 'TreatmentDeliveryType',\n    '300A00D0': 'NumberOfWedges',\n    '300A00D1': 'WedgeSequence',\n    '300A00D2': 'WedgeNumber',\n    '300A00D3': 'WedgeType',\n    '300A00D4': 'WedgeID',\n    '300A00D5': 'WedgeAngle',\n    '300A00D6': 'WedgeFactor',\n    '300A00D7': 'TotalWedgeTrayWaterEquivalentThickness',\n    '300A00D8': 'WedgeOrientation',\n    '300A00D9': 'IsocenterToWedgeTrayDistance',\n    '300A00DA': 'SourceToWedgeTrayDistance',\n    '300A00DB': 'WedgeThinEdgePosition',\n    '300A00DC': 'BolusID',\n    '300A00DD': 'BolusDescription',\n    '300A00DE': 'EffectiveWedgeAngle',\n    '300A00E0': 'NumberOfCompensators',\n    '300A00E1': 'MaterialID',\n    '300A00E2': 'TotalCompensatorTrayFactor',\n    '300A00E3': 'CompensatorSequence',\n    '300A00E4': 'CompensatorNumber',\n    '300A00E5': 'CompensatorID',\n    '300A00E6': 'SourceToCompensatorTrayDistance',\n    '300A00E7': 'CompensatorRows',\n    '300A00E8': 'CompensatorColumns',\n    '300A00E9': 'CompensatorPixelSpacing',\n    '300A00EA': 'CompensatorPosition',\n    '300A00EB': 'CompensatorTransmissionData',\n    '300A00EC': 'CompensatorThicknessData',\n    '300A00ED': 'NumberOfBoli',\n    '300A00EE': 'CompensatorType',\n    '300A00EF': 'CompensatorTrayID',\n    '300A00F0': 'NumberOfBlocks',\n    '300A00F2': 'TotalBlockTrayFactor',\n    '300A00F3': 'TotalBlockTrayWaterEquivalentThickness',\n    '300A00F4': 'BlockSequence',\n    '300A00F5': 'BlockTrayID',\n    '300A00F6': 'SourceToBlockTrayDistance',\n    '300A00F7': 'IsocenterToBlockTrayDistance',\n    '300A00F8': 'BlockType',\n    '300A00F9': 'AccessoryCode',\n    '300A00FA': 'BlockDivergence',\n    '300A00FB': 'BlockMountingPosition',\n    '300A00FC': 'BlockNumber',\n    '300A00FE': 'BlockName',\n    '300A0100': 'BlockThickness',\n    '300A0102': 'BlockTransmission',\n    '300A0104': 'BlockNumberOfPoints',\n    '300A0106': 'BlockData',\n    '300A0107': 'ApplicatorSequence',\n    '300A0108': 'ApplicatorID',\n    '300A0109': 'ApplicatorType',\n    '300A010A': 'ApplicatorDescription',\n    '300A010C': 'CumulativeDoseReferenceCoefficient',\n    '300A010E': 'FinalCumulativeMetersetWeight',\n    '300A0110': 'NumberOfControlPoints',\n    '300A0111': 'ControlPointSequence',\n    '300A0112': 'ControlPointIndex',\n    '300A0114': 'NominalBeamEnergy',\n    '300A0115': 'DoseRateSet',\n    '300A0116': 'WedgePositionSequence',\n    '300A0118': 'WedgePosition',\n    '300A011A': 'BeamLimitingDevicePositionSequence',\n    '300A011C': 'LeafJawPositions',\n    '300A011E': 'GantryAngle',\n    '300A011F': 'GantryRotationDirection',\n    '300A0120': 'BeamLimitingDeviceAngle',\n    '300A0121': 'BeamLimitingDeviceRotationDirection',\n    '300A0122': 'PatientSupportAngle',\n    '300A0123': 'PatientSupportRotationDirection',\n    '300A0124': 'TableTopEccentricAxisDistance',\n    '300A0125': 'TableTopEccentricAngle',\n    '300A0126': 'TableTopEccentricRotationDirection',\n    '300A0128': 'TableTopVerticalPosition',\n    '300A0129': 'TableTopLongitudinalPosition',\n    '300A012A': 'TableTopLateralPosition',\n    '300A012C': 'IsocenterPosition',\n    '300A012E': 'SurfaceEntryPoint',\n    '300A0130': 'SourceToSurfaceDistance',\n    '300A0131': 'AverageBeamDosePointSourceToExternalContourDistance',\n    '300A0132': 'SourceToExternalContourDistance',\n    '300A0133': 'ExternalContourEntryPoint',\n    '300A0134': 'CumulativeMetersetWeight',\n    '300A0140': 'TableTopPitchAngle',\n    '300A0142': 'TableTopPitchRotationDirection',\n    '300A0144': 'TableTopRollAngle',\n    '300A0146': 'TableTopRollRotationDirection',\n    '300A0148': 'HeadFixationAngle',\n    '300A014A': 'GantryPitchAngle',\n    '300A014C': 'GantryPitchRotationDirection',\n    '300A014E': 'GantryPitchAngleTolerance',\n    '300A0150': 'FixationEye',\n    '300A0151': 'ChairHeadFramePosition',\n    '300A0152': 'HeadFixationAngleTolerance',\n    '300A0153': 'ChairHeadFramePositionTolerance',\n    '300A0154': 'FixationLightAzimuthalAngleTolerance',\n    '300A0155': 'FixationLightPolarAngleTolerance',\n    '300A0180': 'PatientSetupSequence',\n    '300A0182': 'PatientSetupNumber',\n    '300A0183': 'PatientSetupLabel',\n    '300A0184': 'PatientAdditionalPosition',\n    '300A0190': 'FixationDeviceSequence',\n    '300A0192': 'FixationDeviceType',\n    '300A0194': 'FixationDeviceLabel',\n    '300A0196': 'FixationDeviceDescription',\n    '300A0198': 'FixationDevicePosition',\n    '300A0199': 'FixationDevicePitchAngle',\n    '300A019A': 'FixationDeviceRollAngle',\n    '300A01A0': 'ShieldingDeviceSequence',\n    '300A01A2': 'ShieldingDeviceType',\n    '300A01A4': 'ShieldingDeviceLabel',\n    '300A01A6': 'ShieldingDeviceDescription',\n    '300A01A8': 'ShieldingDevicePosition',\n    '300A01B0': 'SetupTechnique',\n    '300A01B2': 'SetupTechniqueDescription',\n    '300A01B4': 'SetupDeviceSequence',\n    '300A01B6': 'SetupDeviceType',\n    '300A01B8': 'SetupDeviceLabel',\n    '300A01BA': 'SetupDeviceDescription',\n    '300A01BC': 'SetupDeviceParameter',\n    '300A01D0': 'SetupReferenceDescription',\n    '300A01D2': 'TableTopVerticalSetupDisplacement',\n    '300A01D4': 'TableTopLongitudinalSetupDisplacement',\n    '300A01D6': 'TableTopLateralSetupDisplacement',\n    '300A0200': 'BrachyTreatmentTechnique',\n    '300A0202': 'BrachyTreatmentType',\n    '300A0206': 'TreatmentMachineSequence',\n    '300A0210': 'SourceSequence',\n    '300A0212': 'SourceNumber',\n    '300A0214': 'SourceType',\n    '300A0216': 'SourceManufacturer',\n    '300A0218': 'ActiveSourceDiameter',\n    '300A021A': 'ActiveSourceLength',\n    '300A021B': 'SourceModelID',\n    '300A021C': 'SourceDescription',\n    '300A0222': 'SourceEncapsulationNominalThickness',\n    '300A0224': 'SourceEncapsulationNominalTransmission',\n    '300A0226': 'SourceIsotopeName',\n    '300A0228': 'SourceIsotopeHalfLife',\n    '300A0229': 'SourceStrengthUnits',\n    '300A022A': 'ReferenceAirKermaRate',\n    '300A022B': 'SourceStrength',\n    '300A022C': 'SourceStrengthReferenceDate',\n    '300A022E': 'SourceStrengthReferenceTime',\n    '300A0230': 'ApplicationSetupSequence',\n    '300A0232': 'ApplicationSetupType',\n    '300A0234': 'ApplicationSetupNumber',\n    '300A0236': 'ApplicationSetupName',\n    '300A0238': 'ApplicationSetupManufacturer',\n    '300A0240': 'TemplateNumber',\n    '300A0242': 'TemplateType',\n    '300A0244': 'TemplateName',\n    '300A0250': 'TotalReferenceAirKerma',\n    '300A0260': 'BrachyAccessoryDeviceSequence',\n    '300A0262': 'BrachyAccessoryDeviceNumber',\n    '300A0263': 'BrachyAccessoryDeviceID',\n    '300A0264': 'BrachyAccessoryDeviceType',\n    '300A0266': 'BrachyAccessoryDeviceName',\n    '300A026A': 'BrachyAccessoryDeviceNominalThickness',\n    '300A026C': 'BrachyAccessoryDeviceNominalTransmission',\n    '300A0271': 'ChannelEffectiveLength',\n    '300A0272': 'ChannelInnerLength',\n    '300A0273': 'AfterloaderChannelID',\n    '300A0274': 'SourceApplicatorTipLength',\n    '300A0280': 'ChannelSequence',\n    '300A0282': 'ChannelNumber',\n    '300A0284': 'ChannelLength',\n    '300A0286': 'ChannelTotalTime',\n    '300A0288': 'SourceMovementType',\n    '300A028A': 'NumberOfPulses',\n    '300A028C': 'PulseRepetitionInterval',\n    '300A0290': 'SourceApplicatorNumber',\n    '300A0291': 'SourceApplicatorID',\n    '300A0292': 'SourceApplicatorType',\n    '300A0294': 'SourceApplicatorName',\n    '300A0296': 'SourceApplicatorLength',\n    '300A0298': 'SourceApplicatorManufacturer',\n    '300A029C': 'SourceApplicatorWallNominalThickness',\n    '300A029E': 'SourceApplicatorWallNominalTransmission',\n    '300A02A0': 'SourceApplicatorStepSize',\n    '300A02A2': 'TransferTubeNumber',\n    '300A02A4': 'TransferTubeLength',\n    '300A02B0': 'ChannelShieldSequence',\n    '300A02B2': 'ChannelShieldNumber',\n    '300A02B3': 'ChannelShieldID',\n    '300A02B4': 'ChannelShieldName',\n    '300A02B8': 'ChannelShieldNominalThickness',\n    '300A02BA': 'ChannelShieldNominalTransmission',\n    '300A02C8': 'FinalCumulativeTimeWeight',\n    '300A02D0': 'BrachyControlPointSequence',\n    '300A02D2': 'ControlPointRelativePosition',\n    '300A02D4': ('ControlPoint3DPosition'),\n    '300A02D6': 'CumulativeTimeWeight',\n    '300A02E0': 'CompensatorDivergence',\n    '300A02E1': 'CompensatorMountingPosition',\n    '300A02E2': 'SourceToCompensatorDistance',\n    '300A02E3': 'TotalCompensatorTrayWaterEquivalentThickness',\n    '300A02E4': 'IsocenterToCompensatorTrayDistance',\n    '300A02E5': 'CompensatorColumnOffset',\n    '300A02E6': 'IsocenterToCompensatorDistances',\n    '300A02E7': 'CompensatorRelativeStoppingPowerRatio',\n    '300A02E8': 'CompensatorMillingToolDiameter',\n    '300A02EA': 'IonRangeCompensatorSequence',\n    '300A02EB': 'CompensatorDescription',\n    '300A0302': 'RadiationMassNumber',\n    '300A0304': 'RadiationAtomicNumber',\n    '300A0306': 'RadiationChargeState',\n    '300A0308': 'ScanMode',\n    '300A0309': 'ModulatedScanModeType',\n    '300A030A': 'VirtualSourceAxisDistances',\n    '300A030C': 'SnoutSequence',\n    '300A030D': 'SnoutPosition',\n    '300A030F': 'SnoutID',\n    '300A0312': 'NumberOfRangeShifters',\n    '300A0314': 'RangeShifterSequence',\n    '300A0316': 'RangeShifterNumber',\n    '300A0318': 'RangeShifterID',\n    '300A0320': 'RangeShifterType',\n    '300A0322': 'RangeShifterDescription',\n    '300A0330': 'NumberOfLateralSpreadingDevices',\n    '300A0332': 'LateralSpreadingDeviceSequence',\n    '300A0334': 'LateralSpreadingDeviceNumber',\n    '300A0336': 'LateralSpreadingDeviceID',\n    '300A0338': 'LateralSpreadingDeviceType',\n    '300A033A': 'LateralSpreadingDeviceDescription',\n    '300A033C': 'LateralSpreadingDeviceWaterEquivalentThickness',\n    '300A0340': 'NumberOfRangeModulators',\n    '300A0342': 'RangeModulatorSequence',\n    '300A0344': 'RangeModulatorNumber',\n    '300A0346': 'RangeModulatorID',\n    '300A0348': 'RangeModulatorType',\n    '300A034A': 'RangeModulatorDescription',\n    '300A034C': 'BeamCurrentModulationID',\n    '300A0350': 'PatientSupportType',\n    '300A0352': 'PatientSupportID',\n    '300A0354': 'PatientSupportAccessoryCode',\n    '300A0355': 'TrayAccessoryCode',\n    '300A0356': 'FixationLightAzimuthalAngle',\n    '300A0358': 'FixationLightPolarAngle',\n    '300A035A': 'MetersetRate',\n    '300A0360': 'RangeShifterSettingsSequence',\n    '300A0362': 'RangeShifterSetting',\n    '300A0364': 'IsocenterToRangeShifterDistance',\n    '300A0366': 'RangeShifterWaterEquivalentThickness',\n    '300A0370': 'LateralSpreadingDeviceSettingsSequence',\n    '300A0372': 'LateralSpreadingDeviceSetting',\n    '300A0374': 'IsocenterToLateralSpreadingDeviceDistance',\n    '300A0380': 'RangeModulatorSettingsSequence',\n    '300A0382': 'RangeModulatorGatingStartValue',\n    '300A0384': 'RangeModulatorGatingStopValue',\n    '300A0386': 'RangeModulatorGatingStartWaterEquivalentThickness',\n    '300A0388': 'RangeModulatorGatingStopWaterEquivalentThickness',\n    '300A038A': 'IsocenterToRangeModulatorDistance',\n    '300A038F': 'ScanSpotTimeOffset',\n    '300A0390': 'ScanSpotTuneID',\n    '300A0391': 'ScanSpotPrescribedIndices',\n    '300A0392': 'NumberOfScanSpotPositions',\n    '300A0393': 'ScanSpotReordered',\n    '300A0394': 'ScanSpotPositionMap',\n    '300A0395': 'ScanSpotReorderingAllowed',\n    '300A0396': 'ScanSpotMetersetWeights',\n    '300A0398': 'ScanningSpotSize',\n    '300A039A': 'NumberOfPaintings',\n    '300A03A0': 'IonToleranceTableSequence',\n    '300A03A2': 'IonBeamSequence',\n    '300A03A4': 'IonBeamLimitingDeviceSequence',\n    '300A03A6': 'IonBlockSequence',\n    '300A03A8': 'IonControlPointSequence',\n    '300A03AA': 'IonWedgeSequence',\n    '300A03AC': 'IonWedgePositionSequence',\n    '300A0401': 'ReferencedSetupImageSequence',\n    '300A0402': 'SetupImageComment',\n    '300A0410': 'MotionSynchronizationSequence',\n    '300A0412': 'ControlPointOrientation',\n    '300A0420': 'GeneralAccessorySequence',\n    '300A0421': 'GeneralAccessoryID',\n    '300A0422': 'GeneralAccessoryDescription',\n    '300A0423': 'GeneralAccessoryType',\n    '300A0424': 'GeneralAccessoryNumber',\n    '300A0425': 'SourceToGeneralAccessoryDistance',\n    '300A0431': 'ApplicatorGeometrySequence',\n    '300A0432': 'ApplicatorApertureShape',\n    '300A0433': 'ApplicatorOpening',\n    '300A0434': 'ApplicatorOpeningX',\n    '300A0435': 'ApplicatorOpeningY',\n    '300A0436': 'SourceToApplicatorMountingPositionDistance',\n    '300A0440': 'NumberOfBlockSlabItems',\n    '300A0441': 'BlockSlabSequence',\n    '300A0442': 'BlockSlabThickness',\n    '300A0443': 'BlockSlabNumber',\n    '300A0450': 'DeviceMotionControlSequence',\n    '300A0451': 'DeviceMotionExecutionMode',\n    '300A0452': 'DeviceMotionObservationMode',\n    '300A0453': 'DeviceMotionParameterCodeSequence',\n    '300A0501': 'DistalDepthFraction',\n    '300A0502': 'DistalDepth',\n    '300A0503': 'NominalRangeModulationFractions',\n    '300A0504': 'NominalRangeModulatedRegionDepths',\n    '300A0505': 'DepthDoseParametersSequence',\n    '300A0506': 'DeliveredDepthDoseParametersSequence',\n    '300A0507': 'DeliveredDistalDepthFraction',\n    '300A0508': 'DeliveredDistalDepth',\n    '300A0509': 'DeliveredNominalRangeModulationFractions',\n    '300A0510': 'DeliveredNominalRangeModulatedRegionDepths',\n    '300A0511': 'DeliveredReferenceDoseDefinition',\n    '300A0512': 'ReferenceDoseDefinition',\n    '300C0002': 'ReferencedRTPlanSequence',\n    '300C0004': 'ReferencedBeamSequence',\n    '300C0006': 'ReferencedBeamNumber',\n    '300C0007': 'ReferencedReferenceImageNumber',\n    '300C0008': 'StartCumulativeMetersetWeight',\n    '300C0009': 'EndCumulativeMetersetWeight',\n    '300C000A': 'ReferencedBrachyApplicationSetupSequence',\n    '300C000C': 'ReferencedBrachyApplicationSetupNumber',\n    '300C000E': 'ReferencedSourceNumber',\n    '300C0020': 'ReferencedFractionGroupSequence',\n    '300C0022': 'ReferencedFractionGroupNumber',\n    '300C0040': 'ReferencedVerificationImageSequence',\n    '300C0042': 'ReferencedReferenceImageSequence',\n    '300C0050': 'ReferencedDoseReferenceSequence',\n    '300C0051': 'ReferencedDoseReferenceNumber',\n    '300C0055': 'BrachyReferencedDoseReferenceSequence',\n    '300C0060': 'ReferencedStructureSetSequence',\n    '300C006A': 'ReferencedPatientSetupNumber',\n    '300C0080': 'ReferencedDoseSequence',\n    '300C00A0': 'ReferencedToleranceTableNumber',\n    '300C00B0': 'ReferencedBolusSequence',\n    '300C00C0': 'ReferencedWedgeNumber',\n    '300C00D0': 'ReferencedCompensatorNumber',\n    '300C00E0': 'ReferencedBlockNumber',\n    '300C00F0': 'ReferencedControlPointIndex',\n    '300C00F2': 'ReferencedControlPointSequence',\n    '300C00F4': 'ReferencedStartControlPointIndex',\n    '300C00F6': 'ReferencedStopControlPointIndex',\n    '300C0100': 'ReferencedRangeShifterNumber',\n    '300C0102': 'ReferencedLateralSpreadingDeviceNumber',\n    '300C0104': 'ReferencedRangeModulatorNumber',\n    '300C0111': 'OmittedBeamTaskSequence',\n    '300C0112': 'ReasonForOmission',\n    '300C0113': 'ReasonForOmissionDescription',\n    '300E0002': 'ApprovalStatus',\n    '300E0004': 'ReviewDate',\n    '300E0005': 'ReviewTime',\n    '300E0008': 'ReviewerName',\n    '40000010': 'Arbitrary',\n    '40004000': 'TextComments',\n    '40080040': 'ResultsID',\n    '40080042': 'ResultsIDIssuer',\n    '40080050': 'ReferencedInterpretationSequence',\n    '400800FF': 'ReportProductionStatusTrial',\n    '40080100': 'InterpretationRecordedDate',\n    '40080101': 'InterpretationRecordedTime',\n    '40080102': 'InterpretationRecorder',\n    '40080103': 'ReferenceToRecordedSound',\n    '40080108': 'InterpretationTranscriptionDate',\n    '40080109': 'InterpretationTranscriptionTime',\n    '4008010A': 'InterpretationTranscriber',\n    '4008010B': 'InterpretationText',\n    '4008010C': 'InterpretationAuthor',\n    '40080111': 'InterpretationApproverSequence',\n    '40080112': 'InterpretationApprovalDate',\n    '40080113': 'InterpretationApprovalTime',\n    '40080114': 'PhysicianApprovingInterpretation',\n    '40080115': 'InterpretationDiagnosisDescription',\n    '40080117': 'InterpretationDiagnosisCodeSequence',\n    '40080118': 'ResultsDistributionListSequence',\n    '40080119': 'DistributionName',\n    '4008011A': 'DistributionAddress',\n    '40080200': 'InterpretationID',\n    '40080202': 'InterpretationIDIssuer',\n    '40080210': 'InterpretationTypeID',\n    '40080212': 'InterpretationStatusID',\n    '40080300': 'Impressions',\n    '40084000': 'ResultsComments',\n    '40100001': 'LowEnergyDetectors',\n    '40100002': 'HighEnergyDetectors',\n    '40100004': 'DetectorGeometrySequence',\n    '40101001': 'ThreatROIVoxelSequence',\n    '40101004': 'ThreatROIBase',\n    '40101005': 'ThreatROIExtents',\n    '40101006': 'ThreatROIBitmap',\n    '40101007': 'RouteSegmentID',\n    '40101008': 'GantryType',\n    '40101009': 'OOIOwnerType',\n    '4010100A': 'RouteSegmentSequence',\n    '40101010': 'PotentialThreatObjectID',\n    '40101011': 'ThreatSequence',\n    '40101012': 'ThreatCategory',\n    '40101013': 'ThreatCategoryDescription',\n    '40101014': 'ATDAbilityAssessment',\n    '40101015': 'ATDAssessmentFlag',\n    '40101016': 'ATDAssessmentProbability',\n    '40101017': 'Mass',\n    '40101018': 'Density',\n    '40101019': 'ZEffective',\n    '4010101A': 'BoardingPassID',\n    '4010101B': 'CenterOfMass',\n    '4010101C': 'CenterOfPTO',\n    '4010101D': 'BoundingPolygon',\n    '4010101E': 'RouteSegmentStartLocationID',\n    '4010101F': 'RouteSegmentEndLocationID',\n    '40101020': 'RouteSegmentLocationIDType',\n    '40101021': 'AbortReason',\n    '40101023': 'VolumeOfPTO',\n    '40101024': 'AbortFlag',\n    '40101025': 'RouteSegmentStartTime',\n    '40101026': 'RouteSegmentEndTime',\n    '40101027': 'TDRType',\n    '40101028': 'InternationalRouteSegment',\n    '40101029': 'ThreatDetectionAlgorithmandVersion',\n    '4010102A': 'AssignedLocation',\n    '4010102B': 'AlarmDecisionTime',\n    '40101031': 'AlarmDecision',\n    '40101033': 'NumberOfTotalObjects',\n    '40101034': 'NumberOfAlarmObjects',\n    '40101037': 'PTORepresentationSequence',\n    '40101038': 'ATDAssessmentSequence',\n    '40101039': 'TIPType',\n    '4010103A': 'DICOSVersion',\n    '40101041': 'OOIOwnerCreationTime',\n    '40101042': 'OOIType',\n    '40101043': 'OOISize',\n    '40101044': 'AcquisitionStatus',\n    '40101045': 'BasisMaterialsCodeSequence',\n    '40101046': 'PhantomType',\n    '40101047': 'OOIOwnerSequence',\n    '40101048': 'ScanType',\n    '40101051': 'ItineraryID',\n    '40101052': 'ItineraryIDType',\n    '40101053': 'ItineraryIDAssigningAuthority',\n    '40101054': 'RouteID',\n    '40101055': 'RouteIDAssigningAuthority',\n    '40101056': 'InboundArrivalType',\n    '40101058': 'CarrierID',\n    '40101059': 'CarrierIDAssigningAuthority',\n    '40101060': 'SourceOrientation',\n    '40101061': 'SourcePosition',\n    '40101062': 'BeltHeight',\n    '40101064': 'AlgorithmRoutingCodeSequence',\n    '40101067': 'TransportClassification',\n    '40101068': 'OOITypeDescriptor',\n    '40101069': 'TotalProcessingTime',\n    '4010106C': 'DetectorCalibrationData',\n    '4010106D': 'AdditionalScreeningPerformed',\n    '4010106E': 'AdditionalInspectionSelectionCriteria',\n    '4010106F': 'AdditionalInspectionMethodSequence',\n    '40101070': 'AITDeviceType',\n    '40101071': 'QRMeasurementsSequence',\n    '40101072': 'TargetMaterialSequence',\n    '40101073': 'SNRThreshold',\n    '40101075': 'ImageScaleRepresentation',\n    '40101076': 'ReferencedPTOSequence',\n    '40101077': 'ReferencedTDRInstanceSequence',\n    '40101078': 'PTOLocationDescription',\n    '40101079': 'AnomalyLocatorIndicatorSequence',\n    '4010107A': 'AnomalyLocatorIndicator',\n    '4010107B': 'PTORegionSequence',\n    '4010107C': 'InspectionSelectionCriteria',\n    '4010107D': 'SecondaryInspectionMethodSequence',\n    '4010107E': 'PRCSToRCSOrientation',\n    '4FFE0001': 'MACParametersSequence',\n    '52009229': 'SharedFunctionalGroupsSequence',\n    '52009230': 'PerFrameFunctionalGroupsSequence',\n    '54000100': 'WaveformSequence',\n    '54000110': 'ChannelMinimumValue',\n    '54000112': 'ChannelMaximumValue',\n    '54001004': 'WaveformBitsAllocated',\n    '54001006': 'WaveformSampleInterpretation',\n    '5400100A': 'WaveformPaddingValue',\n    '54001010': 'WaveformData',\n    '56000010': 'FirstOrderPhaseCorrectionAngle',\n    '56000020': 'SpectroscopyData',\n    '7FE00008': 'FloatPixelData',\n    '7FE00009': 'DoubleFloatPixelData',\n    '7FE00010': 'PixelData',\n    '7FE00020': 'CoefficientsSDVN',\n    '7FE00030': 'CoefficientsSDHN',\n    '7FE00040': 'CoefficientsSDDN',\n    'FFFAFFFA': 'DigitalSignaturesSequence',\n    'FFFCFFFC': 'DataSetTrailingPadding',\n    'FFFEE000': 'Item',\n    'FFFEE00D': 'ItemDelimitationItem',\n    'FFFEE0DD': 'SequenceDelimitationItem',\n  };\n  Object.freeze(tagToKeyword);\n\n  const keywordToTag = {\n    'CommandGroupLength': '00000000',\n    'CommandLengthToEnd': '00000001',\n    'AffectedSOPClassUID': '00000002',\n    'RequestedSOPClassUID': '00000003',\n    'CommandRecognitionCode': '00000010',\n    'CommandField': '00000100',\n    'MessageID': '00000110',\n    'MessageIDBeingRespondedTo': '00000120',\n    'Initiator': '00000200',\n    'Receiver': '00000300',\n    'FindLocation': '00000400',\n    'MoveDestination': '00000600',\n    'Priority': '00000700',\n    'CommandDataSetType': '00000800',\n    'NumberOfMatches': '00000850',\n    'ResponseSequenceNumber': '00000860',\n    'Status': '00000900',\n    'OffendingElement': '00000901',\n    'ErrorComment': '00000902',\n    'ErrorID': '00000903',\n    'AffectedSOPInstanceUID': '00001000',\n    'RequestedSOPInstanceUID': '00001001',\n    'EventTypeID': '00001002',\n    'AttributeIdentifierList': '00001005',\n    'ActionTypeID': '00001008',\n    'NumberOfRemainingSuboperations': '00001020',\n    'NumberOfCompletedSuboperations': '00001021',\n    'NumberOfFailedSuboperations': '00001022',\n    'NumberOfWarningSuboperations': '00001023',\n    'MoveOriginatorApplicationEntityTitle': '00001030',\n    'MoveOriginatorMessageID': '00001031',\n    'DialogReceiver': '00004000',\n    'TerminalType': '00004010',\n    'MessageSetID': '00005010',\n    'EndMessageID': '00005020',\n    'DisplayFormat': '00005110',\n    'PagePositionID': '00005120',\n    'TextFormatID': '00005130',\n    'NormalReverse': '00005140',\n    'AddGrayScale': '00005150',\n    'Borders': '00005160',\n    'Copies': '00005170',\n    'CommandMagnificationType': '00005180',\n    'Erase': '00005190',\n    'Print': '000051A0',\n    'Overlays': '000051B0',\n    'FileMetaInformationGroupLength': '00020000',\n    'FileMetaInformationVersion': '00020001',\n    'MediaStorageSOPClassUID': '00020002',\n    'MediaStorageSOPInstanceUID': '00020003',\n    'TransferSyntaxUID': '00020010',\n    'ImplementationClassUID': '00020012',\n    'ImplementationVersionName': '00020013',\n    'SourceApplicationEntityTitle': '00020016',\n    'SendingApplicationEntityTitle': '00020017',\n    'ReceivingApplicationEntityTitle': '00020018',\n    'PrivateInformationCreatorUID': '00020100',\n    'PrivateInformation': '00020102',\n    'FileSetID': '00041130',\n    'FileSetDescriptorFileID': '00041141',\n    'SpecificCharacterSetOfFileSetDescriptorFile': '00041142',\n    'OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity': '00041200',\n    'OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity': '00041202',\n    'FileSetConsistencyFlag': '00041212',\n    'DirectoryRecordSequence': '00041220',\n    'OffsetOfTheNextDirectoryRecord': '00041400',\n    'RecordInUseFlag': '00041410',\n    'OffsetOfReferencedLowerLevelDirectoryEntity': '00041420',\n    'DirectoryRecordType': '00041430',\n    'PrivateRecordUID': '00041432',\n    'ReferencedFileID': '00041500',\n    'MRDRDirectoryRecordOffset': '00041504',\n    'ReferencedSOPClassUIDInFile': '00041510',\n    'ReferencedSOPInstanceUIDInFile': '00041511',\n    'ReferencedTransferSyntaxUIDInFile': '00041512',\n    'ReferencedRelatedGeneralSOPClassUIDInFile': '0004151A',\n    'NumberOfReferences': '00041600',\n    'LengthToEnd': '00080001',\n    'SpecificCharacterSet': '00080005',\n    'LanguageCodeSequence': '00080006',\n    'ImageType': '00080008',\n    'RecognitionCode': '00080010',\n    'InstanceCreationDate': '00080012',\n    'InstanceCreationTime': '00080013',\n    'InstanceCreatorUID': '00080014',\n    'InstanceCoercionDateTime': '00080015',\n    'SOPClassUID': '00080016',\n    'SOPInstanceUID': '00080018',\n    'RelatedGeneralSOPClassUID': '0008001A',\n    'OriginalSpecializedSOPClassUID': '0008001B',\n    'StudyDate': '00080020',\n    'SeriesDate': '00080021',\n    'AcquisitionDate': '00080022',\n    'ContentDate': '00080023',\n    'OverlayDate': '00080024',\n    'CurveDate': '00080025',\n    'AcquisitionDateTime': '0008002A',\n    'StudyTime': '00080030',\n    'SeriesTime': '00080031',\n    'AcquisitionTime': '00080032',\n    'ContentTime': '00080033',\n    'OverlayTime': '00080034',\n    'CurveTime': '00080035',\n    'DataSetType': '00080040',\n    'DataSetSubtype': '00080041',\n    'NuclearMedicineSeriesType': '00080042',\n    'AccessionNumber': '00080050',\n    'IssuerOfAccessionNumberSequence': '00080051',\n    'QueryRetrieveLevel': '00080052',\n    'QueryRetrieveView': '00080053',\n    'RetrieveAETitle': '00080054',\n    'StationAETitle': '00080055',\n    'InstanceAvailability': '00080056',\n    'FailedSOPInstanceUIDList': '00080058',\n    'Modality': '00080060',\n    'ModalitiesInStudy': '00080061',\n    'SOPClassesInStudy': '00080062',\n    'AnatomicRegionsInStudyCodeSequence': '00080063',\n    'ConversionType': '00080064',\n    'PresentationIntentType': '00080068',\n    'Manufacturer': '00080070',\n    'InstitutionName': '00080080',\n    'InstitutionAddress': '00080081',\n    'InstitutionCodeSequence': '00080082',\n    'ReferringPhysicianName': '00080090',\n    'ReferringPhysicianAddress': '00080092',\n    'ReferringPhysicianTelephoneNumbers': '00080094',\n    'ReferringPhysicianIdentificationSequence': '00080096',\n    'ConsultingPhysicianName': '0008009C',\n    'ConsultingPhysicianIdentificationSequence': '0008009D',\n    'CodeValue': '00080100',\n    'ExtendedCodeValue': '00080101',\n    'CodingSchemeDesignator': '00080102',\n    'CodingSchemeVersion': '00080103',\n    'CodeMeaning': '00080104',\n    'MappingResource': '00080105',\n    'ContextGroupVersion': '00080106',\n    'ContextGroupLocalVersion': '00080107',\n    'ExtendedCodeMeaning': '00080108',\n    'CodingSchemeResourcesSequence': '00080109',\n    'CodingSchemeURLType': '0008010A',\n    'ContextGroupExtensionFlag': '0008010B',\n    'CodingSchemeUID': '0008010C',\n    'ContextGroupExtensionCreatorUID': '0008010D',\n    'CodingSchemeURL': '0008010E',\n    'ContextIdentifier': '0008010F',\n    'CodingSchemeIdentificationSequence': '00080110',\n    'CodingSchemeRegistry': '00080112',\n    'CodingSchemeExternalID': '00080114',\n    'CodingSchemeName': '00080115',\n    'CodingSchemeResponsibleOrganization': '00080116',\n    'ContextUID': '00080117',\n    'MappingResourceUID': '00080118',\n    'LongCodeValue': '00080119',\n    'URNCodeValue': '00080120',\n    'EquivalentCodeSequence': '00080121',\n    'MappingResourceName': '00080122',\n    'ContextGroupIdentificationSequence': '00080123',\n    'MappingResourceIdentificationSequence': '00080124',\n    'TimezoneOffsetFromUTC': '00080201',\n    'ResponsibleGroupCodeSequence': '00080220',\n    'EquipmentModality': '00080221',\n    'ManufacturerRelatedModelGroup': '00080222',\n    'PrivateDataElementCharacteristicsSequence': '00080300',\n    'PrivateGroupReference': '00080301',\n    'PrivateCreatorReference': '00080302',\n    'BlockIdentifyingInformationStatus': '00080303',\n    'NonidentifyingPrivateElements': '00080304',\n    'DeidentificationActionSequence': '00080305',\n    'IdentifyingPrivateElements': '00080306',\n    'DeidentificationAction': '00080307',\n    'PrivateDataElement': '00080308',\n    'PrivateDataElementValueMultiplicity': '00080309',\n    'PrivateDataElementValueRepresentation': '0008030A',\n    'PrivateDataElementNumberOfItems': '0008030B',\n    'PrivateDataElementName': '0008030C',\n    'PrivateDataElementKeyword': '0008030D',\n    'PrivateDataElementDescription': '0008030E',\n    'PrivateDataElementEncoding': '0008030F',\n    'PrivateDataElementDefinitionSequence': '00080310',\n    'NetworkID': '00081000',\n    'StationName': '00081010',\n    'StudyDescription': '00081030',\n    'ProcedureCodeSequence': '00081032',\n    'SeriesDescription': '0008103E',\n    'SeriesDescriptionCodeSequence': '0008103F',\n    'InstitutionalDepartmentName': '00081040',\n    'PhysiciansOfRecord': '00081048',\n    'PhysiciansOfRecordIdentificationSequence': '00081049',\n    'PerformingPhysicianName': '00081050',\n    'PerformingPhysicianIdentificationSequence': '00081052',\n    'NameOfPhysiciansReadingStudy': '00081060',\n    'PhysiciansReadingStudyIdentificationSequence': '00081062',\n    'OperatorsName': '00081070',\n    'OperatorIdentificationSequence': '00081072',\n    'AdmittingDiagnosesDescription': '00081080',\n    'AdmittingDiagnosesCodeSequence': '00081084',\n    'ManufacturerModelName': '00081090',\n    'ReferencedResultsSequence': '00081100',\n    'ReferencedStudySequence': '00081110',\n    'ReferencedPerformedProcedureStepSequence': '00081111',\n    'ReferencedSeriesSequence': '00081115',\n    'ReferencedPatientSequence': '00081120',\n    'ReferencedVisitSequence': '00081125',\n    'ReferencedOverlaySequence': '00081130',\n    'ReferencedStereometricInstanceSequence': '00081134',\n    'ReferencedWaveformSequence': '0008113A',\n    'ReferencedImageSequence': '00081140',\n    'ReferencedCurveSequence': '00081145',\n    'ReferencedInstanceSequence': '0008114A',\n    'ReferencedRealWorldValueMappingInstanceSequence': '0008114B',\n    'ReferencedSOPClassUID': '00081150',\n    'ReferencedSOPInstanceUID': '00081155',\n    'DefinitionSourceSequence': '00081156',\n    'SOPClassesSupported': '0008115A',\n    'ReferencedFrameNumber': '00081160',\n    'SimpleFrameList': '00081161',\n    'CalculatedFrameList': '00081162',\n    'TimeRange': '00081163',\n    'FrameExtractionSequence': '00081164',\n    'MultiFrameSourceSOPInstanceUID': '00081167',\n    'RetrieveURL': '00081190',\n    'TransactionUID': '00081195',\n    'WarningReason': '00081196',\n    'FailureReason': '00081197',\n    'FailedSOPSequence': '00081198',\n    'ReferencedSOPSequence': '00081199',\n    'OtherFailuresSequence': '0008119A',\n    'StudiesContainingOtherReferencedInstancesSequence': '00081200',\n    'RelatedSeriesSequence': '00081250',\n    'LossyImageCompressionRetired': '00082110',\n    'DerivationDescription': '00082111',\n    'SourceImageSequence': '00082112',\n    'StageName': '00082120',\n    'StageNumber': '00082122',\n    'NumberOfStages': '00082124',\n    'ViewName': '00082127',\n    'ViewNumber': '00082128',\n    'NumberOfEventTimers': '00082129',\n    'NumberOfViewsInStage': '0008212A',\n    'EventElapsedTimes': '00082130',\n    'EventTimerNames': '00082132',\n    'EventTimerSequence': '00082133',\n    'EventTimeOffset': '00082134',\n    'EventCodeSequence': '00082135',\n    'StartTrim': '00082142',\n    'StopTrim': '00082143',\n    'RecommendedDisplayFrameRate': '00082144',\n    'TransducerPosition': '00082200',\n    'TransducerOrientation': '00082204',\n    'AnatomicStructure': '00082208',\n    'AnatomicRegionSequence': '00082218',\n    'AnatomicRegionModifierSequence': '00082220',\n    'PrimaryAnatomicStructureSequence': '00082228',\n    'AnatomicStructureSpaceOrRegionSequence': '00082229',\n    'PrimaryAnatomicStructureModifierSequence': '00082230',\n    'TransducerPositionSequence': '00082240',\n    'TransducerPositionModifierSequence': '00082242',\n    'TransducerOrientationSequence': '00082244',\n    'TransducerOrientationModifierSequence': '00082246',\n    'AnatomicStructureSpaceOrRegionCodeSequenceTrial': '00082251',\n    'AnatomicPortalOfEntranceCodeSequenceTrial': '00082253',\n    'AnatomicApproachDirectionCodeSequenceTrial': '00082255',\n    'AnatomicPerspectiveDescriptionTrial': '00082256',\n    'AnatomicPerspectiveCodeSequenceTrial': '00082257',\n    'AnatomicLocationOfExaminingInstrumentDescriptionTrial': '00082258',\n    'AnatomicLocationOfExaminingInstrumentCodeSequenceTrial': '00082259',\n    'AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial': '0008225A',\n    'OnAxisBackgroundAnatomicStructureCodeSequenceTrial': '0008225C',\n    'AlternateRepresentationSequence': '00083001',\n    'IrradiationEventUID': '00083010',\n    'SourceIrradiationEventSequence': '00083011',\n    'RadiopharmaceuticalAdministrationEventUID': '00083012',\n    'IdentifyingComments': '00084000',\n    'FrameType': '00089007',\n    'ReferencedImageEvidenceSequence': '00089092',\n    'ReferencedRawDataSequence': '00089121',\n    'CreatorVersionUID': '00089123',\n    'DerivationImageSequence': '00089124',\n    'SourceImageEvidenceSequence': '00089154',\n    'PixelPresentation': '00089205',\n    'VolumetricProperties': '00089206',\n    'VolumeBasedCalculationTechnique': '00089207',\n    'ComplexImageComponent': '00089208',\n    'AcquisitionContrast': '00089209',\n    'DerivationCodeSequence': '00089215',\n    'ReferencedPresentationStateSequence': '00089237',\n    'ReferencedOtherPlaneSequence': '00089410',\n    'FrameDisplaySequence': '00089458',\n    'RecommendedDisplayFrameRateInFloat': '00089459',\n    'SkipFrameRangeFlag': '00089460',\n    'PatientName': '00100010',\n    'PatientID': '00100020',\n    'IssuerOfPatientID': '00100021',\n    'TypeOfPatientID': '00100022',\n    'IssuerOfPatientIDQualifiersSequence': '00100024',\n    'SourcePatientGroupIdentificationSequence': '00100026',\n    'GroupOfPatientsIdentificationSequence': '00100027',\n    'SubjectRelativePositionInImage': '00100028',\n    'PatientBirthDate': '00100030',\n    'PatientBirthTime': '00100032',\n    'PatientBirthDateInAlternativeCalendar': '00100033',\n    'PatientDeathDateInAlternativeCalendar': '00100034',\n    'PatientAlternativeCalendar': '00100035',\n    'PatientSex': '00100040',\n    'PatientInsurancePlanCodeSequence': '00100050',\n    'PatientPrimaryLanguageCodeSequence': '00100101',\n    'PatientPrimaryLanguageModifierCodeSequence': '00100102',\n    'QualityControlSubject': '00100200',\n    'QualityControlSubjectTypeCodeSequence': '00100201',\n    'StrainDescription': '00100212',\n    'StrainNomenclature': '00100213',\n    'StrainStockNumber': '00100214',\n    'StrainSourceRegistryCodeSequence': '00100215',\n    'StrainStockSequence': '00100216',\n    'StrainSource': '00100217',\n    'StrainAdditionalInformation': '00100218',\n    'StrainCodeSequence': '00100219',\n    'GeneticModificationsSequence': '00100221',\n    'GeneticModificationsDescription': '00100222',\n    'GeneticModificationsNomenclature': '00100223',\n    'GeneticModificationsCodeSequence': '00100229',\n    'OtherPatientIDs': '00101000',\n    'OtherPatientNames': '00101001',\n    'OtherPatientIDsSequence': '00101002',\n    'PatientBirthName': '00101005',\n    'PatientAge': '00101010',\n    'PatientSize': '00101020',\n    'PatientSizeCodeSequence': '00101021',\n    'PatientBodyMassIndex': '00101022',\n    'MeasuredAPDimension': '00101023',\n    'MeasuredLateralDimension': '00101024',\n    'PatientWeight': '00101030',\n    'PatientAddress': '00101040',\n    'InsurancePlanIdentification': '00101050',\n    'PatientMotherBirthName': '00101060',\n    'MilitaryRank': '00101080',\n    'BranchOfService': '00101081',\n    'MedicalRecordLocator': '00101090',\n    'ReferencedPatientPhotoSequence': '00101100',\n    'MedicalAlerts': '00102000',\n    'Allergies': '00102110',\n    'CountryOfResidence': '00102150',\n    'RegionOfResidence': '00102152',\n    'PatientTelephoneNumbers': '00102154',\n    'PatientTelecomInformation': '00102155',\n    'EthnicGroup': '00102160',\n    'Occupation': '00102180',\n    'SmokingStatus': '001021A0',\n    'AdditionalPatientHistory': '001021B0',\n    'PregnancyStatus': '001021C0',\n    'LastMenstrualDate': '001021D0',\n    'PatientReligiousPreference': '001021F0',\n    'PatientSpeciesDescription': '00102201',\n    'PatientSpeciesCodeSequence': '00102202',\n    'PatientSexNeutered': '00102203',\n    'AnatomicalOrientationType': '00102210',\n    'PatientBreedDescription': '00102292',\n    'PatientBreedCodeSequence': '00102293',\n    'BreedRegistrationSequence': '00102294',\n    'BreedRegistrationNumber': '00102295',\n    'BreedRegistryCodeSequence': '00102296',\n    'ResponsiblePerson': '00102297',\n    'ResponsiblePersonRole': '00102298',\n    'ResponsibleOrganization': '00102299',\n    'PatientComments': '00104000',\n    'ExaminedBodyThickness': '00109431',\n    'ClinicalTrialSponsorName': '00120010',\n    'ClinicalTrialProtocolID': '00120020',\n    'ClinicalTrialProtocolName': '00120021',\n    'ClinicalTrialSiteID': '00120030',\n    'ClinicalTrialSiteName': '00120031',\n    'ClinicalTrialSubjectID': '00120040',\n    'ClinicalTrialSubjectReadingID': '00120042',\n    'ClinicalTrialTimePointID': '00120050',\n    'ClinicalTrialTimePointDescription': '00120051',\n    'LongitudinalTemporalOffsetFromEvent': '00120052',\n    'LongitudinalTemporalEventType': '00120053',\n    'ClinicalTrialCoordinatingCenterName': '00120060',\n    'PatientIdentityRemoved': '00120062',\n    'DeidentificationMethod': '00120063',\n    'DeidentificationMethodCodeSequence': '00120064',\n    'ClinicalTrialSeriesID': '00120071',\n    'ClinicalTrialSeriesDescription': '00120072',\n    'ClinicalTrialProtocolEthicsCommitteeName': '00120081',\n    'ClinicalTrialProtocolEthicsCommitteeApprovalNumber': '00120082',\n    'ConsentForClinicalTrialUseSequence': '00120083',\n    'DistributionType': '00120084',\n    'ConsentForDistributionFlag': '00120085',\n    'EthicsCommitteeApprovalEffectivenessStartDate': '00120086',\n    'EthicsCommitteeApprovalEffectivenessEndDate': '00120087',\n    'CADFileFormat': '00140023',\n    'ComponentReferenceSystem': '00140024',\n    'ComponentManufacturingProcedure': '00140025',\n    'ComponentManufacturer': '00140028',\n    'MaterialThickness': '00140030',\n    'MaterialPipeDiameter': '00140032',\n    'MaterialIsolationDiameter': '00140034',\n    'MaterialGrade': '00140042',\n    'MaterialPropertiesDescription': '00140044',\n    'MaterialPropertiesFileFormatRetired': '00140045',\n    'MaterialNotes': '00140046',\n    'ComponentShape': '00140050',\n    'CurvatureType': '00140052',\n    'OuterDiameter': '00140054',\n    'InnerDiameter': '00140056',\n    'ComponentWelderIDs': '00140100',\n    'SecondaryApprovalStatus': '00140101',\n    'SecondaryReviewDate': '00140102',\n    'SecondaryReviewTime': '00140103',\n    'SecondaryReviewerName': '00140104',\n    'RepairID': '00140105',\n    'MultipleComponentApprovalSequence': '00140106',\n    'OtherApprovalStatus': '00140107',\n    'OtherSecondaryApprovalStatus': '00140108',\n    'ActualEnvironmentalConditions': '00141010',\n    'ExpiryDate': '00141020',\n    'EnvironmentalConditions': '00141040',\n    'EvaluatorSequence': '00142002',\n    'EvaluatorNumber': '00142004',\n    'EvaluatorName': '00142006',\n    'EvaluationAttempt': '00142008',\n    'IndicationSequence': '00142012',\n    'IndicationNumber': '00142014',\n    'IndicationLabel': '00142016',\n    'IndicationDescription': '00142018',\n    'IndicationType': '0014201A',\n    'IndicationDisposition': '0014201C',\n    'IndicationROISequence': '0014201E',\n    'IndicationPhysicalPropertySequence': '00142030',\n    'PropertyLabel': '00142032',\n    'CoordinateSystemNumberOfAxes': '00142202',\n    'CoordinateSystemAxesSequence': '00142204',\n    'CoordinateSystemAxisDescription': '00142206',\n    'CoordinateSystemDataSetMapping': '00142208',\n    'CoordinateSystemAxisNumber': '0014220A',\n    'CoordinateSystemAxisType': '0014220C',\n    'CoordinateSystemAxisUnits': '0014220E',\n    'CoordinateSystemAxisValues': '00142210',\n    'CoordinateSystemTransformSequence': '00142220',\n    'TransformDescription': '00142222',\n    'TransformNumberOfAxes': '00142224',\n    'TransformOrderOfAxes': '00142226',\n    'TransformedAxisUnits': '00142228',\n    'CoordinateSystemTransformRotationAndScaleMatrix': '0014222A',\n    'CoordinateSystemTransformTranslationMatrix': '0014222C',\n    'InternalDetectorFrameTime': '00143011',\n    'NumberOfFramesIntegrated': '00143012',\n    'DetectorTemperatureSequence': '00143020',\n    'SensorName': '00143022',\n    'HorizontalOffsetOfSensor': '00143024',\n    'VerticalOffsetOfSensor': '00143026',\n    'SensorTemperature': '00143028',\n    'DarkCurrentSequence': '00143040',\n    'DarkCurrentCounts': '00143050',\n    'GainCorrectionReferenceSequence': '00143060',\n    'AirCounts': '00143070',\n    'KVUsedInGainCalibration': '00143071',\n    'MAUsedInGainCalibration': '00143072',\n    'NumberOfFramesUsedForIntegration': '00143073',\n    'FilterMaterialUsedInGainCalibration': '00143074',\n    'FilterThicknessUsedInGainCalibration': '00143075',\n    'DateOfGainCalibration': '00143076',\n    'TimeOfGainCalibration': '00143077',\n    'BadPixelImage': '00143080',\n    'CalibrationNotes': '00143099',\n    'PulserEquipmentSequence': '00144002',\n    'PulserType': '00144004',\n    'PulserNotes': '00144006',\n    'ReceiverEquipmentSequence': '00144008',\n    'AmplifierType': '0014400A',\n    'ReceiverNotes': '0014400C',\n    'PreAmplifierEquipmentSequence': '0014400E',\n    'PreAmplifierNotes': '0014400F',\n    'TransmitTransducerSequence': '00144010',\n    'ReceiveTransducerSequence': '00144011',\n    'NumberOfElements': '00144012',\n    'ElementShape': '00144013',\n    'ElementDimensionA': '00144014',\n    'ElementDimensionB': '00144015',\n    'ElementPitchA': '00144016',\n    'MeasuredBeamDimensionA': '00144017',\n    'MeasuredBeamDimensionB': '00144018',\n    'LocationOfMeasuredBeamDiameter': '00144019',\n    'NominalFrequency': '0014401A',\n    'MeasuredCenterFrequency': '0014401B',\n    'MeasuredBandwidth': '0014401C',\n    'ElementPitchB': '0014401D',\n    'PulserSettingsSequence': '00144020',\n    'PulseWidth': '00144022',\n    'ExcitationFrequency': '00144024',\n    'ModulationType': '00144026',\n    'Damping': '00144028',\n    'ReceiverSettingsSequence': '00144030',\n    'AcquiredSoundpathLength': '00144031',\n    'AcquisitionCompressionType': '00144032',\n    'AcquisitionSampleSize': '00144033',\n    'RectifierSmoothing': '00144034',\n    'DACSequence': '00144035',\n    'DACType': '00144036',\n    'DACGainPoints': '00144038',\n    'DACTimePoints': '0014403A',\n    'DACAmplitude': '0014403C',\n    'PreAmplifierSettingsSequence': '00144040',\n    'TransmitTransducerSettingsSequence': '00144050',\n    'ReceiveTransducerSettingsSequence': '00144051',\n    'IncidentAngle': '00144052',\n    'CouplingTechnique': '00144054',\n    'CouplingMedium': '00144056',\n    'CouplingVelocity': '00144057',\n    'ProbeCenterLocationX': '00144058',\n    'ProbeCenterLocationZ': '00144059',\n    'SoundPathLength': '0014405A',\n    'DelayLawIdentifier': '0014405C',\n    'GateSettingsSequence': '00144060',\n    'GateThreshold': '00144062',\n    'VelocityOfSound': '00144064',\n    'CalibrationSettingsSequence': '00144070',\n    'CalibrationProcedure': '00144072',\n    'ProcedureVersion': '00144074',\n    'ProcedureCreationDate': '00144076',\n    'ProcedureExpirationDate': '00144078',\n    'ProcedureLastModifiedDate': '0014407A',\n    'CalibrationTime': '0014407C',\n    'CalibrationDate': '0014407E',\n    'ProbeDriveEquipmentSequence': '00144080',\n    'DriveType': '00144081',\n    'ProbeDriveNotes': '00144082',\n    'DriveProbeSequence': '00144083',\n    'ProbeInductance': '00144084',\n    'ProbeResistance': '00144085',\n    'ReceiveProbeSequence': '00144086',\n    'ProbeDriveSettingsSequence': '00144087',\n    'BridgeResistors': '00144088',\n    'ProbeOrientationAngle': '00144089',\n    'UserSelectedGainY': '0014408B',\n    'UserSelectedPhase': '0014408C',\n    'UserSelectedOffsetX': '0014408D',\n    'UserSelectedOffsetY': '0014408E',\n    'ChannelSettingsSequence': '00144091',\n    'ChannelThreshold': '00144092',\n    'ScannerSettingsSequence': '0014409A',\n    'ScanProcedure': '0014409B',\n    'TranslationRateX': '0014409C',\n    'TranslationRateY': '0014409D',\n    'ChannelOverlap': '0014409F',\n    'ImageQualityIndicatorType': '001440A0',\n    'ImageQualityIndicatorMaterial': '001440A1',\n    'ImageQualityIndicatorSize': '001440A2',\n    'LINACEnergy': '00145002',\n    'LINACOutput': '00145004',\n    'ActiveAperture': '00145100',\n    'TotalAperture': '00145101',\n    'ApertureElevation': '00145102',\n    'MainLobeAngle': '00145103',\n    'MainRoofAngle': '00145104',\n    'ConnectorType': '00145105',\n    'WedgeModelNumber': '00145106',\n    'WedgeAngleFloat': '00145107',\n    'WedgeRoofAngle': '00145108',\n    '00145109': ('WedgeElement1Position'),\n    'WedgeMaterialVelocity': '0014510A',\n    'WedgeMaterial': '0014510B',\n    'WedgeOffsetZ': '0014510C',\n    'WedgeOriginOffsetX': '0014510D',\n    'WedgeTimeDelay': '0014510E',\n    'WedgeName': '0014510F',\n    'WedgeManufacturerName': '00145110',\n    'WedgeDescription': '00145111',\n    'NominalBeamAngle': '00145112',\n    'WedgeOffsetX': '00145113',\n    'WedgeOffsetY': '00145114',\n    'WedgeTotalLength': '00145115',\n    'WedgeInContactLength': '00145116',\n    'WedgeFrontGap': '00145117',\n    'WedgeTotalHeight': '00145118',\n    'WedgeFrontHeight': '00145119',\n    'WedgeRearHeight': '0014511A',\n    'WedgeTotalWidth': '0014511B',\n    'WedgeInContactWidth': '0014511C',\n    'WedgeChamferHeight': '0014511D',\n    'WedgeCurve': '0014511E',\n    'RadiusAlongWedge': '0014511F',\n    'ContrastBolusAgent': '00180010',\n    'ContrastBolusAgentSequence': '00180012',\n    '00180013': ('ContrastBolusT1Relaxivity'),\n    'ContrastBolusAdministrationRouteSequence': '00180014',\n    'BodyPartExamined': '00180015',\n    'ScanningSequence': '00180020',\n    'SequenceVariant': '00180021',\n    'ScanOptions': '00180022',\n    'MRAcquisitionType': '00180023',\n    'SequenceName': '00180024',\n    'AngioFlag': '00180025',\n    'InterventionDrugInformationSequence': '00180026',\n    'InterventionDrugStopTime': '00180027',\n    'InterventionDrugDose': '00180028',\n    'InterventionDrugCodeSequence': '00180029',\n    'AdditionalDrugSequence': '0018002A',\n    'Radionuclide': '00180030',\n    'Radiopharmaceutical': '00180031',\n    'EnergyWindowCenterline': '00180032',\n    'EnergyWindowTotalWidth': '00180033',\n    'InterventionDrugName': '00180034',\n    'InterventionDrugStartTime': '00180035',\n    'InterventionSequence': '00180036',\n    'TherapyType': '00180037',\n    'InterventionStatus': '00180038',\n    'TherapyDescription': '00180039',\n    'InterventionDescription': '0018003A',\n    'CineRate': '00180040',\n    'InitialCineRunState': '00180042',\n    'SliceThickness': '00180050',\n    'KVP': '00180060',\n    '': '00180061',\n    'CountsAccumulated': '00180070',\n    'AcquisitionTerminationCondition': '00180071',\n    'EffectiveDuration': '00180072',\n    'AcquisitionStartCondition': '00180073',\n    'AcquisitionStartConditionData': '00180074',\n    'AcquisitionTerminationConditionData': '00180075',\n    'RepetitionTime': '00180080',\n    'EchoTime': '00180081',\n    'InversionTime': '00180082',\n    'NumberOfAverages': '00180083',\n    'ImagingFrequency': '00180084',\n    'ImagedNucleus': '00180085',\n    'EchoNumbers': '00180086',\n    'MagneticFieldStrength': '00180087',\n    'SpacingBetweenSlices': '00180088',\n    'NumberOfPhaseEncodingSteps': '00180089',\n    'DataCollectionDiameter': '00180090',\n    'EchoTrainLength': '00180091',\n    'PercentSampling': '00180093',\n    'PercentPhaseFieldOfView': '00180094',\n    'PixelBandwidth': '00180095',\n    'DeviceSerialNumber': '00181000',\n    'DeviceUID': '00181002',\n    'DeviceID': '00181003',\n    'PlateID': '00181004',\n    'GeneratorID': '00181005',\n    'GridID': '00181006',\n    'CassetteID': '00181007',\n    'GantryID': '00181008',\n    'UniqueDeviceIdentifier': '00181009',\n    'UDISequence': '0018100A',\n    'SecondaryCaptureDeviceID': '00181010',\n    'HardcopyCreationDeviceID': '00181011',\n    'DateOfSecondaryCapture': '00181012',\n    'TimeOfSecondaryCapture': '00181014',\n    'SecondaryCaptureDeviceManufacturer': '00181016',\n    'HardcopyDeviceManufacturer': '00181017',\n    'SecondaryCaptureDeviceManufacturerModelName': '00181018',\n    'SecondaryCaptureDeviceSoftwareVersions': '00181019',\n    'HardcopyDeviceSoftwareVersion': '0018101A',\n    'HardcopyDeviceManufacturerModelName': '0018101B',\n    'SoftwareVersions': '00181020',\n    'VideoImageFormatAcquired': '00181022',\n    'DigitalImageFormatAcquired': '00181023',\n    'ProtocolName': '00181030',\n    'ContrastBolusRoute': '00181040',\n    'ContrastBolusVolume': '00181041',\n    'ContrastBolusStartTime': '00181042',\n    'ContrastBolusStopTime': '00181043',\n    'ContrastBolusTotalDose': '00181044',\n    'SyringeCounts': '00181045',\n    'ContrastFlowRate': '00181046',\n    'ContrastFlowDuration': '00181047',\n    'ContrastBolusIngredient': '00181048',\n    'ContrastBolusIngredientConcentration': '00181049',\n    'SpatialResolution': '00181050',\n    'TriggerTime': '00181060',\n    'TriggerSourceOrType': '00181061',\n    'NominalInterval': '00181062',\n    'FrameTime': '00181063',\n    'CardiacFramingType': '00181064',\n    'FrameTimeVector': '00181065',\n    'FrameDelay': '00181066',\n    'ImageTriggerDelay': '00181067',\n    'MultiplexGroupTimeOffset': '00181068',\n    'TriggerTimeOffset': '00181069',\n    'SynchronizationTrigger': '0018106A',\n    'SynchronizationChannel': '0018106C',\n    'TriggerSamplePosition': '0018106E',\n    'RadiopharmaceuticalRoute': '00181070',\n    'RadiopharmaceuticalVolume': '00181071',\n    'RadiopharmaceuticalStartTime': '00181072',\n    'RadiopharmaceuticalStopTime': '00181073',\n    'RadionuclideTotalDose': '00181074',\n    'RadionuclideHalfLife': '00181075',\n    'RadionuclidePositronFraction': '00181076',\n    'RadiopharmaceuticalSpecificActivity': '00181077',\n    'RadiopharmaceuticalStartDateTime': '00181078',\n    'RadiopharmaceuticalStopDateTime': '00181079',\n    'BeatRejectionFlag': '00181080',\n    'LowRRValue': '00181081',\n    'HighRRValue': '00181082',\n    'IntervalsAcquired': '00181083',\n    'IntervalsRejected': '00181084',\n    'PVCRejection': '00181085',\n    'SkipBeats': '00181086',\n    'HeartRate': '00181088',\n    'CardiacNumberOfImages': '00181090',\n    'TriggerWindow': '00181094',\n    'ReconstructionDiameter': '00181100',\n    'DistanceSourceToDetector': '00181110',\n    'DistanceSourceToPatient': '00181111',\n    'EstimatedRadiographicMagnificationFactor': '00181114',\n    'GantryDetectorTilt': '00181120',\n    'GantryDetectorSlew': '00181121',\n    'TableHeight': '00181130',\n    'TableTraverse': '00181131',\n    'TableMotion': '00181134',\n    'TableVerticalIncrement': '00181135',\n    'TableLateralIncrement': '00181136',\n    'TableLongitudinalIncrement': '00181137',\n    'TableAngle': '00181138',\n    'TableType': '0018113A',\n    'RotationDirection': '00181140',\n    'AngularPosition': '00181141',\n    'RadialPosition': '00181142',\n    'ScanArc': '00181143',\n    'AngularStep': '00181144',\n    'CenterOfRotationOffset': '00181145',\n    'RotationOffset': '00181146',\n    'FieldOfViewShape': '00181147',\n    'FieldOfViewDimensions': '00181149',\n    'ExposureTime': '00181150',\n    'XRayTubeCurrent': '00181151',\n    'Exposure': '00181152',\n    'ExposureInuAs': '00181153',\n    'AveragePulseWidth': '00181154',\n    'RadiationSetting': '00181155',\n    'RectificationType': '00181156',\n    'RadiationMode': '0018115A',\n    'ImageAndFluoroscopyAreaDoseProduct': '0018115E',\n    'FilterType': '00181160',\n    'TypeOfFilters': '00181161',\n    'IntensifierSize': '00181162',\n    'ImagerPixelSpacing': '00181164',\n    'Grid': '00181166',\n    'GeneratorPower': '00181170',\n    'CollimatorGridName': '00181180',\n    'CollimatorType': '00181181',\n    'FocalDistance': '00181182',\n    'XFocusCenter': '00181183',\n    'YFocusCenter': '00181184',\n    'FocalSpots': '00181190',\n    'AnodeTargetMaterial': '00181191',\n    'BodyPartThickness': '001811A0',\n    'CompressionForce': '001811A2',\n    'CompressionPressure': '001811A3',\n    'PaddleDescription': '001811A4',\n    'CompressionContactArea': '001811A5',\n    'DateOfLastCalibration': '00181200',\n    'TimeOfLastCalibration': '00181201',\n    'DateTimeOfLastCalibration': '00181202',\n    'ConvolutionKernel': '00181210',\n    'UpperLowerPixelValues': '00181240',\n    'ActualFrameDuration': '00181242',\n    'CountRate': '00181243',\n    'PreferredPlaybackSequencing': '00181244',\n    'ReceiveCoilName': '00181250',\n    'TransmitCoilName': '00181251',\n    'PlateType': '00181260',\n    'PhosphorType': '00181261',\n    'WaterEquivalentDiameter': '00181271',\n    'WaterEquivalentDiameterCalculationMethodCodeSequence': '00181272',\n    'ScanVelocity': '00181300',\n    'WholeBodyTechnique': '00181301',\n    'ScanLength': '00181302',\n    'AcquisitionMatrix': '00181310',\n    'InPlanePhaseEncodingDirection': '00181312',\n    'FlipAngle': '00181314',\n    'VariableFlipAngleFlag': '00181315',\n    'SAR': '00181316',\n    'dBdt': '00181318',\n    '00181320': ('B1rms'),\n    'AcquisitionDeviceProcessingDescription': '00181400',\n    'AcquisitionDeviceProcessingCode': '00181401',\n    'CassetteOrientation': '00181402',\n    'CassetteSize': '00181403',\n    'ExposuresOnPlate': '00181404',\n    'RelativeXRayExposure': '00181405',\n    'ExposureIndex': '00181411',\n    'TargetExposureIndex': '00181412',\n    'DeviationIndex': '00181413',\n    'ColumnAngulation': '00181450',\n    'TomoLayerHeight': '00181460',\n    'TomoAngle': '00181470',\n    'TomoTime': '00181480',\n    'TomoType': '00181490',\n    'TomoClass': '00181491',\n    'NumberOfTomosynthesisSourceImages': '00181495',\n    'PositionerMotion': '00181500',\n    'PositionerType': '00181508',\n    'PositionerPrimaryAngle': '00181510',\n    'PositionerSecondaryAngle': '00181511',\n    'PositionerPrimaryAngleIncrement': '00181520',\n    'PositionerSecondaryAngleIncrement': '00181521',\n    'DetectorPrimaryAngle': '00181530',\n    'DetectorSecondaryAngle': '00181531',\n    'ShutterShape': '00181600',\n    'ShutterLeftVerticalEdge': '00181602',\n    'ShutterRightVerticalEdge': '00181604',\n    'ShutterUpperHorizontalEdge': '00181606',\n    'ShutterLowerHorizontalEdge': '00181608',\n    'CenterOfCircularShutter': '00181610',\n    'RadiusOfCircularShutter': '00181612',\n    'VerticesOfThePolygonalShutter': '00181620',\n    'ShutterPresentationValue': '00181622',\n    'ShutterOverlayGroup': '00181623',\n    'ShutterPresentationColorCIELabValue': '00181624',\n    'CollimatorShape': '00181700',\n    'CollimatorLeftVerticalEdge': '00181702',\n    'CollimatorRightVerticalEdge': '00181704',\n    'CollimatorUpperHorizontalEdge': '00181706',\n    'CollimatorLowerHorizontalEdge': '00181708',\n    'CenterOfCircularCollimator': '00181710',\n    'RadiusOfCircularCollimator': '00181712',\n    'VerticesOfThePolygonalCollimator': '00181720',\n    'AcquisitionTimeSynchronized': '00181800',\n    'TimeSource': '00181801',\n    'TimeDistributionProtocol': '00181802',\n    'NTPSourceAddress': '00181803',\n    'PageNumberVector': '00182001',\n    'FrameLabelVector': '00182002',\n    'FramePrimaryAngleVector': '00182003',\n    'FrameSecondaryAngleVector': '00182004',\n    'SliceLocationVector': '00182005',\n    'DisplayWindowLabelVector': '00182006',\n    'NominalScannedPixelSpacing': '00182010',\n    'DigitizingDeviceTransportDirection': '00182020',\n    'RotationOfScannedFilm': '00182030',\n    'BiopsyTargetSequence': '00182041',\n    'TargetUID': '00182042',\n    'LocalizingCursorPosition': '00182043',\n    'CalculatedTargetPosition': '00182044',\n    'TargetLabel': '00182045',\n    'DisplayedZValue': '00182046',\n    'IVUSAcquisition': '00183100',\n    'IVUSPullbackRate': '00183101',\n    'IVUSGatedRate': '00183102',\n    'IVUSPullbackStartFrameNumber': '00183103',\n    'IVUSPullbackStopFrameNumber': '00183104',\n    'LesionNumber': '00183105',\n    'AcquisitionComments': '00184000',\n    'OutputPower': '00185000',\n    'TransducerData': '00185010',\n    'FocusDepth': '00185012',\n    'ProcessingFunction': '00185020',\n    'PostprocessingFunction': '00185021',\n    'MechanicalIndex': '00185022',\n    'BoneThermalIndex': '00185024',\n    'CranialThermalIndex': '00185026',\n    'SoftTissueThermalIndex': '00185027',\n    'SoftTissueFocusThermalIndex': '00185028',\n    'SoftTissueSurfaceThermalIndex': '00185029',\n    'DynamicRange': '00185030',\n    'TotalGain': '00185040',\n    'DepthOfScanField': '00185050',\n    'PatientPosition': '00185100',\n    'ViewPosition': '00185101',\n    'ProjectionEponymousNameCodeSequence': '00185104',\n    'ImageTransformationMatrix': '00185210',\n    'ImageTranslationVector': '00185212',\n    'Sensitivity': '00186000',\n    'SequenceOfUltrasoundRegions': '00186011',\n    'RegionSpatialFormat': '00186012',\n    'RegionDataType': '00186014',\n    'RegionFlags': '00186016',\n    '00186018': ('RegionLocationMinX0'),\n    '0018601A': ('RegionLocationMinY0'),\n    '0018601C': ('RegionLocationMaxX1'),\n    '0018601E': ('RegionLocationMaxY1'),\n    '00186020': ('ReferencePixelX0'),\n    '00186022': ('ReferencePixelY0'),\n    'PhysicalUnitsXDirection': '00186024',\n    'PhysicalUnitsYDirection': '00186026',\n    'ReferencePixelPhysicalValueX': '00186028',\n    'ReferencePixelPhysicalValueY': '0018602A',\n    'PhysicalDeltaX': '0018602C',\n    'PhysicalDeltaY': '0018602E',\n    'TransducerFrequency': '00186030',\n    'TransducerType': '00186031',\n    'PulseRepetitionFrequency': '00186032',\n    'DopplerCorrectionAngle': '00186034',\n    'SteeringAngle': '00186036',\n    'DopplerSampleVolumeXPositionRetired': '00186038',\n    'DopplerSampleVolumeXPosition': '00186039',\n    'DopplerSampleVolumeYPositionRetired': '0018603A',\n    'DopplerSampleVolumeYPosition': '0018603B',\n    '0018603C': ('TMLinePositionX0Retired'),\n    '0018603D': ('TMLinePositionX0'),\n    '0018603E': ('TMLinePositionY0Retired'),\n    '0018603F': ('TMLinePositionY0'),\n    '00186040': ('TMLinePositionX1Retired'),\n    '00186041': ('TMLinePositionX1'),\n    '00186042': ('TMLinePositionY1Retired'),\n    '00186043': ('TMLinePositionY1'),\n    'PixelComponentOrganization': '00186044',\n    'PixelComponentMask': '00186046',\n    'PixelComponentRangeStart': '00186048',\n    'PixelComponentRangeStop': '0018604A',\n    'PixelComponentPhysicalUnits': '0018604C',\n    'PixelComponentDataType': '0018604E',\n    'NumberOfTableBreakPoints': '00186050',\n    'TableOfXBreakPoints': '00186052',\n    'TableOfYBreakPoints': '00186054',\n    'NumberOfTableEntries': '00186056',\n    'TableOfPixelValues': '00186058',\n    'TableOfParameterValues': '0018605A',\n    'RWaveTimeVector': '00186060',\n    'DetectorConditionsNominalFlag': '00187000',\n    'DetectorTemperature': '00187001',\n    'DetectorType': '00187004',\n    'DetectorConfiguration': '00187005',\n    'DetectorDescription': '00187006',\n    'DetectorMode': '00187008',\n    'DetectorID': '0018700A',\n    'DateOfLastDetectorCalibration': '0018700C',\n    'TimeOfLastDetectorCalibration': '0018700E',\n    'ExposuresOnDetectorSinceLastCalibration': '00187010',\n    'ExposuresOnDetectorSinceManufactured': '00187011',\n    'DetectorTimeSinceLastExposure': '00187012',\n    'DetectorActiveTime': '00187014',\n    'DetectorActivationOffsetFromExposure': '00187016',\n    'DetectorBinning': '0018701A',\n    'DetectorElementPhysicalSize': '00187020',\n    'DetectorElementSpacing': '00187022',\n    'DetectorActiveShape': '00187024',\n    'DetectorActiveDimensions': '00187026',\n    'DetectorActiveOrigin': '00187028',\n    'DetectorManufacturerName': '0018702A',\n    'DetectorManufacturerModelName': '0018702B',\n    'FieldOfViewOrigin': '00187030',\n    'FieldOfViewRotation': '00187032',\n    'FieldOfViewHorizontalFlip': '00187034',\n    'PixelDataAreaOriginRelativeToFOV': '00187036',\n    'PixelDataAreaRotationAngleRelativeToFOV': '00187038',\n    'GridAbsorbingMaterial': '00187040',\n    'GridSpacingMaterial': '00187041',\n    'GridThickness': '00187042',\n    'GridPitch': '00187044',\n    'GridAspectRatio': '00187046',\n    'GridPeriod': '00187048',\n    'GridFocalDistance': '0018704C',\n    'FilterMaterial': '00187050',\n    'FilterThicknessMinimum': '00187052',\n    'FilterThicknessMaximum': '00187054',\n    'FilterBeamPathLengthMinimum': '00187056',\n    'FilterBeamPathLengthMaximum': '00187058',\n    'ExposureControlMode': '00187060',\n    'ExposureControlModeDescription': '00187062',\n    'ExposureStatus': '00187064',\n    'PhototimerSetting': '00187065',\n    'ExposureTimeInuS': '00188150',\n    'XRayTubeCurrentInuA': '00188151',\n    'ContentQualification': '00189004',\n    'PulseSequenceName': '00189005',\n    'MRImagingModifierSequence': '00189006',\n    'EchoPulseSequence': '00189008',\n    'InversionRecovery': '00189009',\n    'FlowCompensation': '00189010',\n    'MultipleSpinEcho': '00189011',\n    'MultiPlanarExcitation': '00189012',\n    'PhaseContrast': '00189014',\n    'TimeOfFlightContrast': '00189015',\n    'Spoiling': '00189016',\n    'SteadyStatePulseSequence': '00189017',\n    'EchoPlanarPulseSequence': '00189018',\n    'TagAngleFirstAxis': '00189019',\n    'MagnetizationTransfer': '00189020',\n    '00189021': ('T2Preparation'),\n    'BloodSignalNulling': '00189022',\n    'SaturationRecovery': '00189024',\n    'SpectrallySelectedSuppression': '00189025',\n    'SpectrallySelectedExcitation': '00189026',\n    'SpatialPresaturation': '00189027',\n    'Tagging': '00189028',\n    'OversamplingPhase': '00189029',\n    'TagSpacingFirstDimension': '00189030',\n    'GeometryOfKSpaceTraversal': '00189032',\n    'SegmentedKSpaceTraversal': '00189033',\n    'RectilinearPhaseEncodeReordering': '00189034',\n    'TagThickness': '00189035',\n    'PartialFourierDirection': '00189036',\n    'CardiacSynchronizationTechnique': '00189037',\n    'ReceiveCoilManufacturerName': '00189041',\n    'MRReceiveCoilSequence': '00189042',\n    'ReceiveCoilType': '00189043',\n    'QuadratureReceiveCoil': '00189044',\n    'MultiCoilDefinitionSequence': '00189045',\n    'MultiCoilConfiguration': '00189046',\n    'MultiCoilElementName': '00189047',\n    'MultiCoilElementUsed': '00189048',\n    'MRTransmitCoilSequence': '00189049',\n    'TransmitCoilManufacturerName': '00189050',\n    'TransmitCoilType': '00189051',\n    'SpectralWidth': '00189052',\n    'ChemicalShiftReference': '00189053',\n    'VolumeLocalizationTechnique': '00189054',\n    'MRAcquisitionFrequencyEncodingSteps': '00189058',\n    'Decoupling': '00189059',\n    'DecoupledNucleus': '00189060',\n    'DecouplingFrequency': '00189061',\n    'DecouplingMethod': '00189062',\n    'DecouplingChemicalShiftReference': '00189063',\n    'KSpaceFiltering': '00189064',\n    'TimeDomainFiltering': '00189065',\n    'NumberOfZeroFills': '00189066',\n    'BaselineCorrection': '00189067',\n    'ParallelReductionFactorInPlane': '00189069',\n    'CardiacRRIntervalSpecified': '00189070',\n    'AcquisitionDuration': '00189073',\n    'FrameAcquisitionDateTime': '00189074',\n    'DiffusionDirectionality': '00189075',\n    'DiffusionGradientDirectionSequence': '00189076',\n    'ParallelAcquisition': '00189077',\n    'ParallelAcquisitionTechnique': '00189078',\n    'InversionTimes': '00189079',\n    'MetaboliteMapDescription': '00189080',\n    'PartialFourier': '00189081',\n    'EffectiveEchoTime': '00189082',\n    'MetaboliteMapCodeSequence': '00189083',\n    'ChemicalShiftSequence': '00189084',\n    'CardiacSignalSource': '00189085',\n    'DiffusionBValue': '00189087',\n    'DiffusionGradientOrientation': '00189089',\n    'VelocityEncodingDirection': '00189090',\n    'VelocityEncodingMinimumValue': '00189091',\n    'VelocityEncodingAcquisitionSequence': '00189092',\n    'NumberOfKSpaceTrajectories': '00189093',\n    'CoverageOfKSpace': '00189094',\n    'SpectroscopyAcquisitionPhaseRows': '00189095',\n    'ParallelReductionFactorInPlaneRetired': '00189096',\n    'TransmitterFrequency': '00189098',\n    'ResonantNucleus': '00189100',\n    'FrequencyCorrection': '00189101',\n    'MRSpectroscopyFOVGeometrySequence': '00189103',\n    'SlabThickness': '00189104',\n    'SlabOrientation': '00189105',\n    'MidSlabPosition': '00189106',\n    'MRSpatialSaturationSequence': '00189107',\n    'MRTimingAndRelatedParametersSequence': '00189112',\n    'MREchoSequence': '00189114',\n    'MRModifierSequence': '00189115',\n    'MRDiffusionSequence': '00189117',\n    'CardiacSynchronizationSequence': '00189118',\n    'MRAveragesSequence': '00189119',\n    'MRFOVGeometrySequence': '00189125',\n    'VolumeLocalizationSequence': '00189126',\n    'SpectroscopyAcquisitionDataColumns': '00189127',\n    'DiffusionAnisotropyType': '00189147',\n    'FrameReferenceDateTime': '00189151',\n    'MRMetaboliteMapSequence': '00189152',\n    'ParallelReductionFactorOutOfPlane': '00189155',\n    'SpectroscopyAcquisitionOutOfPlanePhaseSteps': '00189159',\n    'BulkMotionStatus': '00189166',\n    'ParallelReductionFactorSecondInPlane': '00189168',\n    'CardiacBeatRejectionTechnique': '00189169',\n    'RespiratoryMotionCompensationTechnique': '00189170',\n    'RespiratorySignalSource': '00189171',\n    'BulkMotionCompensationTechnique': '00189172',\n    'BulkMotionSignalSource': '00189173',\n    'ApplicableSafetyStandardAgency': '00189174',\n    'ApplicableSafetyStandardDescription': '00189175',\n    'OperatingModeSequence': '00189176',\n    'OperatingModeType': '00189177',\n    'OperatingMode': '00189178',\n    'SpecificAbsorptionRateDefinition': '00189179',\n    'GradientOutputType': '00189180',\n    'SpecificAbsorptionRateValue': '00189181',\n    'GradientOutput': '00189182',\n    'FlowCompensationDirection': '00189183',\n    'TaggingDelay': '00189184',\n    'RespiratoryMotionCompensationTechniqueDescription': '00189185',\n    'RespiratorySignalSourceID': '00189186',\n    'ChemicalShiftMinimumIntegrationLimitInHz': '00189195',\n    'ChemicalShiftMaximumIntegrationLimitInHz': '00189196',\n    'MRVelocityEncodingSequence': '00189197',\n    'FirstOrderPhaseCorrection': '00189198',\n    'WaterReferencedPhaseCorrection': '00189199',\n    'MRSpectroscopyAcquisitionType': '00189200',\n    'RespiratoryCyclePosition': '00189214',\n    'VelocityEncodingMaximumValue': '00189217',\n    'TagSpacingSecondDimension': '00189218',\n    'TagAngleSecondAxis': '00189219',\n    'FrameAcquisitionDuration': '00189220',\n    'MRImageFrameTypeSequence': '00189226',\n    'MRSpectroscopyFrameTypeSequence': '00189227',\n    'MRAcquisitionPhaseEncodingStepsInPlane': '00189231',\n    'MRAcquisitionPhaseEncodingStepsOutOfPlane': '00189232',\n    'SpectroscopyAcquisitionPhaseColumns': '00189234',\n    'CardiacCyclePosition': '00189236',\n    'SpecificAbsorptionRateSequence': '00189239',\n    'RFEchoTrainLength': '00189240',\n    'GradientEchoTrainLength': '00189241',\n    'ArterialSpinLabelingContrast': '00189250',\n    'MRArterialSpinLabelingSequence': '00189251',\n    'ASLTechniqueDescription': '00189252',\n    'ASLSlabNumber': '00189253',\n    'ASLSlabThickness': '00189254',\n    'ASLSlabOrientation': '00189255',\n    'ASLMidSlabPosition': '00189256',\n    'ASLContext': '00189257',\n    'ASLPulseTrainDuration': '00189258',\n    'ASLCrusherFlag': '00189259',\n    'ASLCrusherFlowLimit': '0018925A',\n    'ASLCrusherDescription': '0018925B',\n    'ASLBolusCutoffFlag': '0018925C',\n    'ASLBolusCutoffTimingSequence': '0018925D',\n    'ASLBolusCutoffTechnique': '0018925E',\n    'ASLBolusCutoffDelayTime': '0018925F',\n    'ASLSlabSequence': '00189260',\n    'ChemicalShiftMinimumIntegrationLimitInppm': '00189295',\n    'ChemicalShiftMaximumIntegrationLimitInppm': '00189296',\n    'WaterReferenceAcquisition': '00189297',\n    'EchoPeakPosition': '00189298',\n    'CTAcquisitionTypeSequence': '00189301',\n    'AcquisitionType': '00189302',\n    'TubeAngle': '00189303',\n    'CTAcquisitionDetailsSequence': '00189304',\n    'RevolutionTime': '00189305',\n    'SingleCollimationWidth': '00189306',\n    'TotalCollimationWidth': '00189307',\n    'CTTableDynamicsSequence': '00189308',\n    'TableSpeed': '00189309',\n    'TableFeedPerRotation': '00189310',\n    'SpiralPitchFactor': '00189311',\n    'CTGeometrySequence': '00189312',\n    'DataCollectionCenterPatient': '00189313',\n    'CTReconstructionSequence': '00189314',\n    'ReconstructionAlgorithm': '00189315',\n    'ConvolutionKernelGroup': '00189316',\n    'ReconstructionFieldOfView': '00189317',\n    'ReconstructionTargetCenterPatient': '00189318',\n    'ReconstructionAngle': '00189319',\n    'ImageFilter': '00189320',\n    'CTExposureSequence': '00189321',\n    'ReconstructionPixelSpacing': '00189322',\n    'ExposureModulationType': '00189323',\n    'EstimatedDoseSaving': '00189324',\n    'CTXRayDetailsSequence': '00189325',\n    'CTPositionSequence': '00189326',\n    'TablePosition': '00189327',\n    'ExposureTimeInms': '00189328',\n    'CTImageFrameTypeSequence': '00189329',\n    'XRayTubeCurrentInmA': '00189330',\n    'ExposureInmAs': '00189332',\n    'ConstantVolumeFlag': '00189333',\n    'FluoroscopyFlag': '00189334',\n    'DistanceSourceToDataCollectionCenter': '00189335',\n    'ContrastBolusAgentNumber': '00189337',\n    'ContrastBolusIngredientCodeSequence': '00189338',\n    'ContrastAdministrationProfileSequence': '00189340',\n    'ContrastBolusUsageSequence': '00189341',\n    'ContrastBolusAgentAdministered': '00189342',\n    'ContrastBolusAgentDetected': '00189343',\n    'ContrastBolusAgentPhase': '00189344',\n    'CTDIvol': '00189345',\n    'CTDIPhantomTypeCodeSequence': '00189346',\n    'CalciumScoringMassFactorPatient': '00189351',\n    'CalciumScoringMassFactorDevice': '00189352',\n    'EnergyWeightingFactor': '00189353',\n    'CTAdditionalXRaySourceSequence': '00189360',\n    'ProjectionPixelCalibrationSequence': '00189401',\n    'DistanceSourceToIsocenter': '00189402',\n    'DistanceObjectToTableTop': '00189403',\n    'ObjectPixelSpacingInCenterOfBeam': '00189404',\n    'PositionerPositionSequence': '00189405',\n    'TablePositionSequence': '00189406',\n    'CollimatorShapeSequence': '00189407',\n    'PlanesInAcquisition': '00189410',\n    'XAXRFFrameCharacteristicsSequence': '00189412',\n    'FrameAcquisitionSequence': '00189417',\n    'XRayReceptorType': '00189420',\n    'AcquisitionProtocolName': '00189423',\n    'AcquisitionProtocolDescription': '00189424',\n    'ContrastBolusIngredientOpaque': '00189425',\n    'DistanceReceptorPlaneToDetectorHousing': '00189426',\n    'IntensifierActiveShape': '00189427',\n    'IntensifierActiveDimensions': '00189428',\n    'PhysicalDetectorSize': '00189429',\n    'PositionOfIsocenterProjection': '00189430',\n    'FieldOfViewSequence': '00189432',\n    'FieldOfViewDescription': '00189433',\n    'ExposureControlSensingRegionsSequence': '00189434',\n    'ExposureControlSensingRegionShape': '00189435',\n    'ExposureControlSensingRegionLeftVerticalEdge': '00189436',\n    'ExposureControlSensingRegionRightVerticalEdge': '00189437',\n    'ExposureControlSensingRegionUpperHorizontalEdge': '00189438',\n    'ExposureControlSensingRegionLowerHorizontalEdge': '00189439',\n    'CenterOfCircularExposureControlSensingRegion': '00189440',\n    'RadiusOfCircularExposureControlSensingRegion': '00189441',\n    'VerticesOfThePolygonalExposureControlSensingRegion': '00189442',\n    '': '00189445',\n    'ColumnAngulationPatient': '00189447',\n    'BeamAngle': '00189449',\n    'FrameDetectorParametersSequence': '00189451',\n    'CalculatedAnatomyThickness': '00189452',\n    'CalibrationSequence': '00189455',\n    'ObjectThicknessSequence': '00189456',\n    'PlaneIdentification': '00189457',\n    'FieldOfViewDimensionsInFloat': '00189461',\n    'IsocenterReferenceSystemSequence': '00189462',\n    'PositionerIsocenterPrimaryAngle': '00189463',\n    'PositionerIsocenterSecondaryAngle': '00189464',\n    'PositionerIsocenterDetectorRotationAngle': '00189465',\n    'TableXPositionToIsocenter': '00189466',\n    'TableYPositionToIsocenter': '00189467',\n    'TableZPositionToIsocenter': '00189468',\n    'TableHorizontalRotationAngle': '00189469',\n    'TableHeadTiltAngle': '00189470',\n    'TableCradleTiltAngle': '00189471',\n    'FrameDisplayShutterSequence': '00189472',\n    'AcquiredImageAreaDoseProduct': '00189473',\n    'CArmPositionerTabletopRelationship': '00189474',\n    'XRayGeometrySequence': '00189476',\n    'IrradiationEventIdentificationSequence': '00189477',\n    '00189504': ('XRay3DFrameTypeSequence'),\n    'ContributingSourcesSequence': '00189506',\n    '00189507': ('XRay3DAcquisitionSequence'),\n    'PrimaryPositionerScanArc': '00189508',\n    'SecondaryPositionerScanArc': '00189509',\n    'PrimaryPositionerScanStartAngle': '00189510',\n    'SecondaryPositionerScanStartAngle': '00189511',\n    'PrimaryPositionerIncrement': '00189514',\n    'SecondaryPositionerIncrement': '00189515',\n    'StartAcquisitionDateTime': '00189516',\n    'EndAcquisitionDateTime': '00189517',\n    'PrimaryPositionerIncrementSign': '00189518',\n    'SecondaryPositionerIncrementSign': '00189519',\n    'ApplicationName': '00189524',\n    'ApplicationVersion': '00189525',\n    'ApplicationManufacturer': '00189526',\n    'AlgorithmType': '00189527',\n    'AlgorithmDescription': '00189528',\n    '00189530': ('XRay3DReconstructionSequence'),\n    'ReconstructionDescription': '00189531',\n    'PerProjectionAcquisitionSequence': '00189538',\n    'DetectorPositionSequence': '00189541',\n    'XRayAcquisitionDoseSequence': '00189542',\n    'XRaySourceIsocenterPrimaryAngle': '00189543',\n    'XRaySourceIsocenterSecondaryAngle': '00189544',\n    'BreastSupportIsocenterPrimaryAngle': '00189545',\n    'BreastSupportIsocenterSecondaryAngle': '00189546',\n    'BreastSupportXPositionToIsocenter': '00189547',\n    'BreastSupportYPositionToIsocenter': '00189548',\n    'BreastSupportZPositionToIsocenter': '00189549',\n    'DetectorIsocenterPrimaryAngle': '00189550',\n    'DetectorIsocenterSecondaryAngle': '00189551',\n    'DetectorXPositionToIsocenter': '00189552',\n    'DetectorYPositionToIsocenter': '00189553',\n    'DetectorZPositionToIsocenter': '00189554',\n    'XRayGridSequence': '00189555',\n    'XRayFilterSequence': '00189556',\n    'DetectorActiveAreaTLHCPosition': '00189557',\n    'DetectorActiveAreaOrientation': '00189558',\n    'PositionerPrimaryAngleDirection': '00189559',\n    'DiffusionBMatrixSequence': '00189601',\n    'DiffusionBValueXX': '00189602',\n    'DiffusionBValueXY': '00189603',\n    'DiffusionBValueXZ': '00189604',\n    'DiffusionBValueYY': '00189605',\n    'DiffusionBValueYZ': '00189606',\n    'DiffusionBValueZZ': '00189607',\n    'FunctionalMRSequence': '00189621',\n    'FunctionalSettlingPhaseFramesPresent': '00189622',\n    'FunctionalSyncPulse': '00189623',\n    'SettlingPhaseFrame': '00189624',\n    'DecayCorrectionDateTime': '00189701',\n    'StartDensityThreshold': '00189715',\n    'StartRelativeDensityDifferenceThreshold': '00189716',\n    'StartCardiacTriggerCountThreshold': '00189717',\n    'StartRespiratoryTriggerCountThreshold': '00189718',\n    'TerminationCountsThreshold': '00189719',\n    'TerminationDensityThreshold': '00189720',\n    'TerminationRelativeDensityThreshold': '00189721',\n    'TerminationTimeThreshold': '00189722',\n    'TerminationCardiacTriggerCountThreshold': '00189723',\n    'TerminationRespiratoryTriggerCountThreshold': '00189724',\n    'DetectorGeometry': '00189725',\n    'TransverseDetectorSeparation': '00189726',\n    'AxialDetectorDimension': '00189727',\n    'RadiopharmaceuticalAgentNumber': '00189729',\n    'PETFrameAcquisitionSequence': '00189732',\n    'PETDetectorMotionDetailsSequence': '00189733',\n    'PETTableDynamicsSequence': '00189734',\n    'PETPositionSequence': '00189735',\n    'PETFrameCorrectionFactorsSequence': '00189736',\n    'RadiopharmaceuticalUsageSequence': '00189737',\n    'AttenuationCorrectionSource': '00189738',\n    'NumberOfIterations': '00189739',\n    'NumberOfSubsets': '00189740',\n    'PETReconstructionSequence': '00189749',\n    'PETFrameTypeSequence': '00189751',\n    'TimeOfFlightInformationUsed': '00189755',\n    'ReconstructionType': '00189756',\n    'DecayCorrected': '00189758',\n    'AttenuationCorrected': '00189759',\n    'ScatterCorrected': '00189760',\n    'DeadTimeCorrected': '00189761',\n    'GantryMotionCorrected': '00189762',\n    'PatientMotionCorrected': '00189763',\n    'CountLossNormalizationCorrected': '00189764',\n    'RandomsCorrected': '00189765',\n    'NonUniformRadialSamplingCorrected': '00189766',\n    'SensitivityCalibrated': '00189767',\n    'DetectorNormalizationCorrection': '00189768',\n    'IterativeReconstructionMethod': '00189769',\n    'AttenuationCorrectionTemporalRelationship': '00189770',\n    'PatientPhysiologicalStateSequence': '00189771',\n    'PatientPhysiologicalStateCodeSequence': '00189772',\n    'DepthsOfFocus': '00189801',\n    'ExcludedIntervalsSequence': '00189803',\n    'ExclusionStartDateTime': '00189804',\n    'ExclusionDuration': '00189805',\n    'USImageDescriptionSequence': '00189806',\n    'ImageDataTypeSequence': '00189807',\n    'DataType': '00189808',\n    'TransducerScanPatternCodeSequence': '00189809',\n    'AliasedDataType': '0018980B',\n    'PositionMeasuringDeviceUsed': '0018980C',\n    'TransducerGeometryCodeSequence': '0018980D',\n    'TransducerBeamSteeringCodeSequence': '0018980E',\n    'TransducerApplicationCodeSequence': '0018980F',\n    'ZeroVelocityPixelValue': '00189810',\n    'ReferenceLocationLabel': '00189900',\n    'ReferenceLocationDescription': '00189901',\n    'ReferenceBasisCodeSequence': '00189902',\n    'ReferenceGeometryCodeSequence': '00189903',\n    'OffsetDistance': '00189904',\n    'OffsetDirection': '00189905',\n    'PotentialScheduledProtocolCodeSequence': '00189906',\n    'PotentialRequestedProcedureCodeSequence': '00189907',\n    'PotentialReasonsForProcedure': '00189908',\n    'PotentialReasonsForProcedureCodeSequence': '00189909',\n    'PotentialDiagnosticTasks': '0018990A',\n    'ContraindicationsCodeSequence': '0018990B',\n    'ReferencedDefinedProtocolSequence': '0018990C',\n    'ReferencedPerformedProtocolSequence': '0018990D',\n    'PredecessorProtocolSequence': '0018990E',\n    'ProtocolPlanningInformation': '0018990F',\n    'ProtocolDesignRationale': '00189910',\n    'PatientSpecificationSequence': '00189911',\n    'ModelSpecificationSequence': '00189912',\n    'ParametersSpecificationSequence': '00189913',\n    'InstructionSequence': '00189914',\n    'InstructionIndex': '00189915',\n    'InstructionText': '00189916',\n    'InstructionDescription': '00189917',\n    'InstructionPerformedFlag': '00189918',\n    'InstructionPerformedDateTime': '00189919',\n    'InstructionPerformanceComment': '0018991A',\n    'PatientPositioningInstructionSequence': '0018991B',\n    'PositioningMethodCodeSequence': '0018991C',\n    'PositioningLandmarkSequence': '0018991D',\n    'TargetFrameOfReferenceUID': '0018991E',\n    'AcquisitionProtocolElementSpecificationSequence': '0018991F',\n    'AcquisitionProtocolElementSequence': '00189920',\n    'ProtocolElementNumber': '00189921',\n    'ProtocolElementName': '00189922',\n    'ProtocolElementCharacteristicsSummary': '00189923',\n    'ProtocolElementPurpose': '00189924',\n    'AcquisitionMotion': '00189930',\n    'AcquisitionStartLocationSequence': '00189931',\n    'AcquisitionEndLocationSequence': '00189932',\n    'ReconstructionProtocolElementSpecificationSequence': '00189933',\n    'ReconstructionProtocolElementSequence': '00189934',\n    'StorageProtocolElementSpecificationSequence': '00189935',\n    'StorageProtocolElementSequence': '00189936',\n    'RequestedSeriesDescription': '00189937',\n    'SourceAcquisitionProtocolElementNumber': '00189938',\n    'SourceAcquisitionBeamNumber': '00189939',\n    'SourceReconstructionProtocolElementNumber': '0018993A',\n    'ReconstructionStartLocationSequence': '0018993B',\n    'ReconstructionEndLocationSequence': '0018993C',\n    'ReconstructionAlgorithmSequence': '0018993D',\n    'ReconstructionTargetCenterLocationSequence': '0018993E',\n    'ImageFilterDescription': '00189941',\n    'CTDIvolNotificationTrigger': '00189942',\n    'DLPNotificationTrigger': '00189943',\n    'AutoKVPSelectionType': '00189944',\n    'AutoKVPUpperBound': '00189945',\n    'AutoKVPLowerBound': '00189946',\n    'ProtocolDefinedPatientPosition': '00189947',\n    'ContributingEquipmentSequence': '0018A001',\n    'ContributionDateTime': '0018A002',\n    'ContributionDescription': '0018A003',\n    'StudyInstanceUID': '0020000D',\n    'SeriesInstanceUID': '0020000E',\n    'StudyID': '00200010',\n    'SeriesNumber': '00200011',\n    'AcquisitionNumber': '00200012',\n    'InstanceNumber': '00200013',\n    'IsotopeNumber': '00200014',\n    'PhaseNumber': '00200015',\n    'IntervalNumber': '00200016',\n    'TimeSlotNumber': '00200017',\n    'AngleNumber': '00200018',\n    'ItemNumber': '00200019',\n    'PatientOrientation': '00200020',\n    'OverlayNumber': '00200022',\n    'CurveNumber': '00200024',\n    'LUTNumber': '00200026',\n    'ImagePosition': '00200030',\n    'ImagePositionPatient': '00200032',\n    'ImageOrientation': '00200035',\n    'ImageOrientationPatient': '00200037',\n    'Location': '00200050',\n    'FrameOfReferenceUID': '00200052',\n    'Laterality': '00200060',\n    'ImageLaterality': '00200062',\n    'ImageGeometryType': '00200070',\n    'MaskingImage': '00200080',\n    'ReportNumber': '002000AA',\n    'TemporalPositionIdentifier': '00200100',\n    'NumberOfTemporalPositions': '00200105',\n    'TemporalResolution': '00200110',\n    'SynchronizationFrameOfReferenceUID': '00200200',\n    'SOPInstanceUIDOfConcatenationSource': '00200242',\n    'SeriesInStudy': '00201000',\n    'AcquisitionsInSeries': '00201001',\n    'ImagesInAcquisition': '00201002',\n    'ImagesInSeries': '00201003',\n    'AcquisitionsInStudy': '00201004',\n    'ImagesInStudy': '00201005',\n    'Reference': '00201020',\n    'TargetPositionReferenceIndicator': '0020103F',\n    'PositionReferenceIndicator': '00201040',\n    'SliceLocation': '00201041',\n    'OtherStudyNumbers': '00201070',\n    'NumberOfPatientRelatedStudies': '00201200',\n    'NumberOfPatientRelatedSeries': '00201202',\n    'NumberOfPatientRelatedInstances': '00201204',\n    'NumberOfStudyRelatedSeries': '00201206',\n    'NumberOfStudyRelatedInstances': '00201208',\n    'NumberOfSeriesRelatedInstances': '00201209',\n    'ModifyingDeviceID': '00203401',\n    'ModifiedImageID': '00203402',\n    'ModifiedImageDate': '00203403',\n    'ModifyingDeviceManufacturer': '00203404',\n    'ModifiedImageTime': '00203405',\n    'ModifiedImageDescription': '00203406',\n    'ImageComments': '00204000',\n    'OriginalImageIdentification': '00205000',\n    'OriginalImageIdentificationNomenclature': '00205002',\n    'StackID': '00209056',\n    'InStackPositionNumber': '00209057',\n    'FrameAnatomySequence': '00209071',\n    'FrameLaterality': '00209072',\n    'FrameContentSequence': '00209111',\n    'PlanePositionSequence': '00209113',\n    'PlaneOrientationSequence': '00209116',\n    'TemporalPositionIndex': '00209128',\n    'NominalCardiacTriggerDelayTime': '00209153',\n    'NominalCardiacTriggerTimePriorToRPeak': '00209154',\n    'ActualCardiacTriggerTimePriorToRPeak': '00209155',\n    'FrameAcquisitionNumber': '00209156',\n    'DimensionIndexValues': '00209157',\n    'FrameComments': '00209158',\n    'ConcatenationUID': '00209161',\n    'InConcatenationNumber': '00209162',\n    'InConcatenationTotalNumber': '00209163',\n    'DimensionOrganizationUID': '00209164',\n    'DimensionIndexPointer': '00209165',\n    'FunctionalGroupPointer': '00209167',\n    'UnassignedSharedConvertedAttributesSequence': '00209170',\n    'UnassignedPerFrameConvertedAttributesSequence': '00209171',\n    'ConversionSourceAttributesSequence': '00209172',\n    'DimensionIndexPrivateCreator': '00209213',\n    'DimensionOrganizationSequence': '00209221',\n    'DimensionIndexSequence': '00209222',\n    'ConcatenationFrameOffsetNumber': '00209228',\n    'FunctionalGroupPrivateCreator': '00209238',\n    'NominalPercentageOfCardiacPhase': '00209241',\n    'NominalPercentageOfRespiratoryPhase': '00209245',\n    'StartingRespiratoryAmplitude': '00209246',\n    'StartingRespiratoryPhase': '00209247',\n    'EndingRespiratoryAmplitude': '00209248',\n    'EndingRespiratoryPhase': '00209249',\n    'RespiratoryTriggerType': '00209250',\n    'RRIntervalTimeNominal': '00209251',\n    'ActualCardiacTriggerDelayTime': '00209252',\n    'RespiratorySynchronizationSequence': '00209253',\n    'RespiratoryIntervalTime': '00209254',\n    'NominalRespiratoryTriggerDelayTime': '00209255',\n    'RespiratoryTriggerDelayThreshold': '00209256',\n    'ActualRespiratoryTriggerDelayTime': '00209257',\n    'ImagePositionVolume': '00209301',\n    'ImageOrientationVolume': '00209302',\n    'UltrasoundAcquisitionGeometry': '00209307',\n    'ApexPosition': '00209308',\n    'VolumeToTransducerMappingMatrix': '00209309',\n    'VolumeToTableMappingMatrix': '0020930A',\n    'VolumeToTransducerRelationship': '0020930B',\n    'PatientFrameOfReferenceSource': '0020930C',\n    'TemporalPositionTimeOffset': '0020930D',\n    'PlanePositionVolumeSequence': '0020930E',\n    'PlaneOrientationVolumeSequence': '0020930F',\n    'TemporalPositionSequence': '00209310',\n    'DimensionOrganizationType': '00209311',\n    'VolumeFrameOfReferenceUID': '00209312',\n    'TableFrameOfReferenceUID': '00209313',\n    'DimensionDescriptionLabel': '00209421',\n    'PatientOrientationInFrameSequence': '00209450',\n    'FrameLabel': '00209453',\n    'AcquisitionIndex': '00209518',\n    'ContributingSOPInstancesReferenceSequence': '00209529',\n    'ReconstructionIndex': '00209536',\n    'LightPathFilterPassThroughWavelength': '00220001',\n    'LightPathFilterPassBand': '00220002',\n    'ImagePathFilterPassThroughWavelength': '00220003',\n    'ImagePathFilterPassBand': '00220004',\n    'PatientEyeMovementCommanded': '00220005',\n    'PatientEyeMovementCommandCodeSequence': '00220006',\n    'SphericalLensPower': '00220007',\n    'CylinderLensPower': '00220008',\n    'CylinderAxis': '00220009',\n    'EmmetropicMagnification': '0022000A',\n    'IntraOcularPressure': '0022000B',\n    'HorizontalFieldOfView': '0022000C',\n    'PupilDilated': '0022000D',\n    'DegreeOfDilation': '0022000E',\n    'StereoBaselineAngle': '00220010',\n    'StereoBaselineDisplacement': '00220011',\n    'StereoHorizontalPixelOffset': '00220012',\n    'StereoVerticalPixelOffset': '00220013',\n    'StereoRotation': '00220014',\n    'AcquisitionDeviceTypeCodeSequence': '00220015',\n    'IlluminationTypeCodeSequence': '00220016',\n    'LightPathFilterTypeStackCodeSequence': '00220017',\n    'ImagePathFilterTypeStackCodeSequence': '00220018',\n    'LensesCodeSequence': '00220019',\n    'ChannelDescriptionCodeSequence': '0022001A',\n    'RefractiveStateSequence': '0022001B',\n    'MydriaticAgentCodeSequence': '0022001C',\n    'RelativeImagePositionCodeSequence': '0022001D',\n    'CameraAngleOfView': '0022001E',\n    'StereoPairsSequence': '00220020',\n    'LeftImageSequence': '00220021',\n    'RightImageSequence': '00220022',\n    'StereoPairsPresent': '00220028',\n    'AxialLengthOfTheEye': '00220030',\n    'OphthalmicFrameLocationSequence': '00220031',\n    'ReferenceCoordinates': '00220032',\n    'DepthSpatialResolution': '00220035',\n    'MaximumDepthDistortion': '00220036',\n    'AlongScanSpatialResolution': '00220037',\n    'MaximumAlongScanDistortion': '00220038',\n    'OphthalmicImageOrientation': '00220039',\n    'DepthOfTransverseImage': '00220041',\n    'MydriaticAgentConcentrationUnitsSequence': '00220042',\n    'AcrossScanSpatialResolution': '00220048',\n    'MaximumAcrossScanDistortion': '00220049',\n    'MydriaticAgentConcentration': '0022004E',\n    'IlluminationWaveLength': '00220055',\n    'IlluminationPower': '00220056',\n    'IlluminationBandwidth': '00220057',\n    'MydriaticAgentSequence': '00220058',\n    'OphthalmicAxialMeasurementsRightEyeSequence': '00221007',\n    'OphthalmicAxialMeasurementsLeftEyeSequence': '00221008',\n    'OphthalmicAxialMeasurementsDeviceType': '00221009',\n    'OphthalmicAxialLengthMeasurementsType': '00221010',\n    'OphthalmicAxialLengthSequence': '00221012',\n    'OphthalmicAxialLength': '00221019',\n    'LensStatusCodeSequence': '00221024',\n    'VitreousStatusCodeSequence': '00221025',\n    'IOLFormulaCodeSequence': '00221028',\n    'IOLFormulaDetail': '00221029',\n    'KeratometerIndex': '00221033',\n    'SourceOfOphthalmicAxialLengthCodeSequence': '00221035',\n    'TargetRefraction': '00221037',\n    'RefractiveProcedureOccurred': '00221039',\n    'RefractiveSurgeryTypeCodeSequence': '00221040',\n    'OphthalmicUltrasoundMethodCodeSequence': '00221044',\n    'OphthalmicAxialLengthMeasurementsSequence': '00221050',\n    'IOLPower': '00221053',\n    'PredictedRefractiveError': '00221054',\n    'OphthalmicAxialLengthVelocity': '00221059',\n    'LensStatusDescription': '00221065',\n    'VitreousStatusDescription': '00221066',\n    'IOLPowerSequence': '00221090',\n    'LensConstantSequence': '00221092',\n    'IOLManufacturer': '00221093',\n    'LensConstantDescription': '00221094',\n    'ImplantName': '00221095',\n    'KeratometryMeasurementTypeCodeSequence': '00221096',\n    'ImplantPartNumber': '00221097',\n    'ReferencedOphthalmicAxialMeasurementsSequence': '00221100',\n    'OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence': '00221101',\n    'RefractiveErrorBeforeRefractiveSurgeryCodeSequence': '00221103',\n    'IOLPowerForExactEmmetropia': '00221121',\n    'IOLPowerForExactTargetRefraction': '00221122',\n    'AnteriorChamberDepthDefinitionCodeSequence': '00221125',\n    'LensThicknessSequence': '00221127',\n    'AnteriorChamberDepthSequence': '00221128',\n    'LensThickness': '00221130',\n    'AnteriorChamberDepth': '00221131',\n    'SourceOfLensThicknessDataCodeSequence': '00221132',\n    'SourceOfAnteriorChamberDepthDataCodeSequence': '00221133',\n    'SourceOfRefractiveMeasurementsSequence': '00221134',\n    'SourceOfRefractiveMeasurementsCodeSequence': '00221135',\n    'OphthalmicAxialLengthMeasurementModified': '00221140',\n    'OphthalmicAxialLengthDataSourceCodeSequence': '00221150',\n    'OphthalmicAxialLengthAcquisitionMethodCodeSequence': '00221153',\n    'SignalToNoiseRatio': '00221155',\n    'OphthalmicAxialLengthDataSourceDescription': '00221159',\n    'OphthalmicAxialLengthMeasurementsTotalLengthSequence': '00221210',\n    'OphthalmicAxialLengthMeasurementsSegmentalLengthSequence': '00221211',\n    'OphthalmicAxialLengthMeasurementsLengthSummationSequence': '00221212',\n    'UltrasoundOphthalmicAxialLengthMeasurementsSequence': '00221220',\n    'OpticalOphthalmicAxialLengthMeasurementsSequence': '00221225',\n    'UltrasoundSelectedOphthalmicAxialLengthSequence': '00221230',\n    'OphthalmicAxialLengthSelectionMethodCodeSequence': '00221250',\n    'OpticalSelectedOphthalmicAxialLengthSequence': '00221255',\n    'SelectedSegmentalOphthalmicAxialLengthSequence': '00221257',\n    'SelectedTotalOphthalmicAxialLengthSequence': '00221260',\n    'OphthalmicAxialLengthQualityMetricSequence': '00221262',\n    'OphthalmicAxialLengthQualityMetricTypeCodeSequence': '00221265',\n    'OphthalmicAxialLengthQualityMetricTypeDescription': '00221273',\n    'IntraocularLensCalculationsRightEyeSequence': '00221300',\n    'IntraocularLensCalculationsLeftEyeSequence': '00221310',\n    'ReferencedOphthalmicAxialLengthMeasurementQCImageSequence': '00221330',\n    'OphthalmicMappingDeviceType': '00221415',\n    'AcquisitionMethodCodeSequence': '00221420',\n    'AcquisitionMethodAlgorithmSequence': '00221423',\n    'OphthalmicThicknessMapTypeCodeSequence': '00221436',\n    'OphthalmicThicknessMappingNormalsSequence': '00221443',\n    'RetinalThicknessDefinitionCodeSequence': '00221445',\n    'PixelValueMappingToCodedConceptSequence': '00221450',\n    'MappedPixelValue': '00221452',\n    'PixelValueMappingExplanation': '00221454',\n    'OphthalmicThicknessMapQualityThresholdSequence': '00221458',\n    'OphthalmicThicknessMapThresholdQualityRating': '00221460',\n    'AnatomicStructureReferencePoint': '00221463',\n    'RegistrationToLocalizerSequence': '00221465',\n    'RegisteredLocalizerUnits': '00221466',\n    'RegisteredLocalizerTopLeftHandCorner': '00221467',\n    'RegisteredLocalizerBottomRightHandCorner': '00221468',\n    'OphthalmicThicknessMapQualityRatingSequence': '00221470',\n    'RelevantOPTAttributesSequence': '00221472',\n    'TransformationMethodCodeSequence': '00221512',\n    'TransformationAlgorithmSequence': '00221513',\n    'OphthalmicAxialLengthMethod': '00221515',\n    'OphthalmicFOV': '00221517',\n    'TwoDimensionalToThreeDimensionalMapSequence': '00221518',\n    'WideFieldOphthalmicPhotographyQualityRatingSequence': '00221525',\n    'WideFieldOphthalmicPhotographyQualityThresholdSequence': '00221526',\n    'WideFieldOphthalmicPhotographyThresholdQualityRating': '00221527',\n    'XCoordinatesCenterPixelViewAngle': '00221528',\n    'YCoordinatesCenterPixelViewAngle': '00221529',\n    'NumberOfMapPoints': '00221530',\n    'TwoDimensionalToThreeDimensionalMapData': '00221531',\n    'DerivationAlgorithmSequence': '00221612',\n    'OphthalmicImageTypeCodeSequence': '00221615',\n    'OphthalmicImageTypeDescription': '00221616',\n    'ScanPatternTypeCodeSequence': '00221618',\n    'ReferencedSurfaceMeshIdentificationSequence': '00221620',\n    'OphthalmicVolumetricPropertiesFlag': '00221622',\n    'OphthalmicAnatomicReferencePointXCoordinate': '00221624',\n    'OphthalmicAnatomicReferencePointYCoordinate': '00221626',\n    'OphthalmicEnFaceImageQualityRatingSequence': '00221628',\n    'QualityThreshold': '00221630',\n    'OCTBscanAnalysisAcquisitionParametersSequence': '00221640',\n    'NumberofBscansPerFrame': '00221642',\n    'BscanSlabThickness': '00221643',\n    'DistanceBetweenBscanSlabs': '00221644',\n    'BscanCycleTime': '00221645',\n    'BscanCycleTimeVector': '00221646',\n    'AscanRate': '00221649',\n    'BscanRate': '00221650',\n    'SurfaceMeshZPixelOffset': '00221658',\n    'VisualFieldHorizontalExtent': '00240010',\n    'VisualFieldVerticalExtent': '00240011',\n    'VisualFieldShape': '00240012',\n    'ScreeningTestModeCodeSequence': '00240016',\n    'MaximumStimulusLuminance': '00240018',\n    'BackgroundLuminance': '00240020',\n    'StimulusColorCodeSequence': '00240021',\n    'BackgroundIlluminationColorCodeSequence': '00240024',\n    'StimulusArea': '00240025',\n    'StimulusPresentationTime': '00240028',\n    'FixationSequence': '00240032',\n    'FixationMonitoringCodeSequence': '00240033',\n    'VisualFieldCatchTrialSequence': '00240034',\n    'FixationCheckedQuantity': '00240035',\n    'PatientNotProperlyFixatedQuantity': '00240036',\n    'PresentedVisualStimuliDataFlag': '00240037',\n    'NumberOfVisualStimuli': '00240038',\n    'ExcessiveFixationLossesDataFlag': '00240039',\n    'ExcessiveFixationLosses': '00240040',\n    'StimuliRetestingQuantity': '00240042',\n    'CommentsOnPatientPerformanceOfVisualField': '00240044',\n    'FalseNegativesEstimateFlag': '00240045',\n    'FalseNegativesEstimate': '00240046',\n    'NegativeCatchTrialsQuantity': '00240048',\n    'FalseNegativesQuantity': '00240050',\n    'ExcessiveFalseNegativesDataFlag': '00240051',\n    'ExcessiveFalseNegatives': '00240052',\n    'FalsePositivesEstimateFlag': '00240053',\n    'FalsePositivesEstimate': '00240054',\n    'CatchTrialsDataFlag': '00240055',\n    'PositiveCatchTrialsQuantity': '00240056',\n    'TestPointNormalsDataFlag': '00240057',\n    'TestPointNormalsSequence': '00240058',\n    'GlobalDeviationProbabilityNormalsFlag': '00240059',\n    'FalsePositivesQuantity': '00240060',\n    'ExcessiveFalsePositivesDataFlag': '00240061',\n    'ExcessiveFalsePositives': '00240062',\n    'VisualFieldTestNormalsFlag': '00240063',\n    'ResultsNormalsSequence': '00240064',\n    'AgeCorrectedSensitivityDeviationAlgorithmSequence': '00240065',\n    'GlobalDeviationFromNormal': '00240066',\n    'GeneralizedDefectSensitivityDeviationAlgorithmSequence': '00240067',\n    'LocalizedDeviationFromNormal': '00240068',\n    'PatientReliabilityIndicator': '00240069',\n    'VisualFieldMeanSensitivity': '00240070',\n    'GlobalDeviationProbability': '00240071',\n    'LocalDeviationProbabilityNormalsFlag': '00240072',\n    'LocalizedDeviationProbability': '00240073',\n    'ShortTermFluctuationCalculated': '00240074',\n    'ShortTermFluctuation': '00240075',\n    'ShortTermFluctuationProbabilityCalculated': '00240076',\n    'ShortTermFluctuationProbability': '00240077',\n    'CorrectedLocalizedDeviationFromNormalCalculated': '00240078',\n    'CorrectedLocalizedDeviationFromNormal': '00240079',\n    'CorrectedLocalizedDeviationFromNormalProbabilityCalculated': '00240080',\n    'CorrectedLocalizedDeviationFromNormalProbability': '00240081',\n    'GlobalDeviationProbabilitySequence': '00240083',\n    'LocalizedDeviationProbabilitySequence': '00240085',\n    'FovealSensitivityMeasured': '00240086',\n    'FovealSensitivity': '00240087',\n    'VisualFieldTestDuration': '00240088',\n    'VisualFieldTestPointSequence': '00240089',\n    'VisualFieldTestPointXCoordinate': '00240090',\n    'VisualFieldTestPointYCoordinate': '00240091',\n    'AgeCorrectedSensitivityDeviationValue': '00240092',\n    'StimulusResults': '00240093',\n    'SensitivityValue': '00240094',\n    'RetestStimulusSeen': '00240095',\n    'RetestSensitivityValue': '00240096',\n    'VisualFieldTestPointNormalsSequence': '00240097',\n    'QuantifiedDefect': '00240098',\n    'AgeCorrectedSensitivityDeviationProbabilityValue': '00240100',\n    'GeneralizedDefectCorrectedSensitivityDeviationFlag': '00240102',\n    'GeneralizedDefectCorrectedSensitivityDeviationValue': '00240103',\n    'GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue': '00240104',\n    'MinimumSensitivityValue': '00240105',\n    'BlindSpotLocalized': '00240106',\n    'BlindSpotXCoordinate': '00240107',\n    'BlindSpotYCoordinate': '00240108',\n    'VisualAcuityMeasurementSequence': '00240110',\n    'RefractiveParametersUsedOnPatientSequence': '00240112',\n    'MeasurementLaterality': '00240113',\n    'OphthalmicPatientClinicalInformationLeftEyeSequence': '00240114',\n    'OphthalmicPatientClinicalInformationRightEyeSequence': '00240115',\n    'FovealPointNormativeDataFlag': '00240117',\n    'FovealPointProbabilityValue': '00240118',\n    'ScreeningBaselineMeasured': '00240120',\n    'ScreeningBaselineMeasuredSequence': '00240122',\n    'ScreeningBaselineType': '00240124',\n    'ScreeningBaselineValue': '00240126',\n    'AlgorithmSource': '00240202',\n    'DataSetName': '00240306',\n    'DataSetVersion': '00240307',\n    'DataSetSource': '00240308',\n    'DataSetDescription': '00240309',\n    'VisualFieldTestReliabilityGlobalIndexSequence': '00240317',\n    'VisualFieldGlobalResultsIndexSequence': '00240320',\n    'DataObservationSequence': '00240325',\n    'IndexNormalsFlag': '00240338',\n    'IndexProbability': '00240341',\n    'IndexProbabilitySequence': '00240344',\n    'SamplesPerPixel': '00280002',\n    'SamplesPerPixelUsed': '00280003',\n    'PhotometricInterpretation': '00280004',\n    'ImageDimensions': '00280005',\n    'PlanarConfiguration': '00280006',\n    'NumberOfFrames': '00280008',\n    'FrameIncrementPointer': '00280009',\n    'FrameDimensionPointer': '0028000A',\n    'Rows': '00280010',\n    'Columns': '00280011',\n    'Planes': '00280012',\n    'UltrasoundColorDataPresent': '00280014',\n    '': '00280020',\n    'PixelSpacing': '00280030',\n    'ZoomFactor': '00280031',\n    'ZoomCenter': '00280032',\n    'PixelAspectRatio': '00280034',\n    'ImageFormat': '00280040',\n    'ManipulatedImage': '00280050',\n    'CorrectedImage': '00280051',\n    'CompressionRecognitionCode': '0028005F',\n    'CompressionCode': '00280060',\n    'CompressionOriginator': '00280061',\n    'CompressionLabel': '00280062',\n    'CompressionDescription': '00280063',\n    'CompressionSequence': '00280065',\n    'CompressionStepPointers': '00280066',\n    'RepeatInterval': '00280068',\n    'BitsGrouped': '00280069',\n    'PerimeterTable': '00280070',\n    'PerimeterValue': '00280071',\n    'PredictorRows': '00280080',\n    'PredictorColumns': '00280081',\n    'PredictorConstants': '00280082',\n    'BlockedPixels': '00280090',\n    'BlockRows': '00280091',\n    'BlockColumns': '00280092',\n    'RowOverlap': '00280093',\n    'ColumnOverlap': '00280094',\n    'BitsAllocated': '00280100',\n    'BitsStored': '00280101',\n    'HighBit': '00280102',\n    'PixelRepresentation': '00280103',\n    'SmallestValidPixelValue': '00280104',\n    'LargestValidPixelValue': '00280105',\n    'SmallestImagePixelValue': '00280106',\n    'LargestImagePixelValue': '00280107',\n    'SmallestPixelValueInSeries': '00280108',\n    'LargestPixelValueInSeries': '00280109',\n    'SmallestImagePixelValueInPlane': '00280110',\n    'LargestImagePixelValueInPlane': '00280111',\n    'PixelPaddingValue': '00280120',\n    'PixelPaddingRangeLimit': '00280121',\n    'FloatPixelPaddingValue': '00280122',\n    'DoubleFloatPixelPaddingValue': '00280123',\n    'FloatPixelPaddingRangeLimit': '00280124',\n    'DoubleFloatPixelPaddingRangeLimit': '00280125',\n    'ImageLocation': '00280200',\n    'QualityControlImage': '00280300',\n    'BurnedInAnnotation': '00280301',\n    'RecognizableVisualFeatures': '00280302',\n    'LongitudinalTemporalInformationModified': '00280303',\n    'ReferencedColorPaletteInstanceUID': '00280304',\n    'TransformLabel': '00280400',\n    'TransformVersionNumber': '00280401',\n    'NumberOfTransformSteps': '00280402',\n    'SequenceOfCompressedData': '00280403',\n    'DetailsOfCoefficients': '00280404',\n    'DCTLabel': '00280700',\n    'DataBlockDescription': '00280701',\n    'DataBlock': '00280702',\n    'NormalizationFactorFormat': '00280710',\n    'ZonalMapNumberFormat': '00280720',\n    'ZonalMapLocation': '00280721',\n    'ZonalMapFormat': '00280722',\n    'AdaptiveMapFormat': '00280730',\n    'CodeNumberFormat': '00280740',\n    'PixelSpacingCalibrationType': '00280A02',\n    'PixelSpacingCalibrationDescription': '00280A04',\n    'PixelIntensityRelationship': '00281040',\n    'PixelIntensityRelationshipSign': '00281041',\n    'WindowCenter': '00281050',\n    'WindowWidth': '00281051',\n    'RescaleIntercept': '00281052',\n    'RescaleSlope': '00281053',\n    'RescaleType': '00281054',\n    'WindowCenterWidthExplanation': '00281055',\n    'VOILUTFunction': '00281056',\n    'GrayScale': '00281080',\n    'RecommendedViewingMode': '00281090',\n    'GrayLookupTableDescriptor': '00281100',\n    'RedPaletteColorLookupTableDescriptor': '00281101',\n    'GreenPaletteColorLookupTableDescriptor': '00281102',\n    'BluePaletteColorLookupTableDescriptor': '00281103',\n    'AlphaPaletteColorLookupTableDescriptor': '00281104',\n    'LargeRedPaletteColorLookupTableDescriptor': '00281111',\n    'LargeGreenPaletteColorLookupTableDescriptor': '00281112',\n    'LargeBluePaletteColorLookupTableDescriptor': '00281113',\n    'PaletteColorLookupTableUID': '00281199',\n    'GrayLookupTableData': '00281200',\n    'RedPaletteColorLookupTableData': '00281201',\n    'GreenPaletteColorLookupTableData': '00281202',\n    'BluePaletteColorLookupTableData': '00281203',\n    'AlphaPaletteColorLookupTableData': '00281204',\n    'LargeRedPaletteColorLookupTableData': '00281211',\n    'LargeGreenPaletteColorLookupTableData': '00281212',\n    'LargeBluePaletteColorLookupTableData': '00281213',\n    'LargePaletteColorLookupTableUID': '00281214',\n    'SegmentedRedPaletteColorLookupTableData': '00281221',\n    'SegmentedGreenPaletteColorLookupTableData': '00281222',\n    'SegmentedBluePaletteColorLookupTableData': '00281223',\n    'SegmentedAlphaPaletteColorLookupTableData': '00281224',\n    'StoredValueColorRangeSequence': '00281230',\n    'MinimumStoredValueMapped': '00281231',\n    'MaximumStoredValueMapped': '00281232',\n    'BreastImplantPresent': '00281300',\n    'PartialView': '00281350',\n    'PartialViewDescription': '00281351',\n    'PartialViewCodeSequence': '00281352',\n    'SpatialLocationsPreserved': '0028135A',\n    'DataFrameAssignmentSequence': '00281401',\n    'DataPathAssignment': '00281402',\n    'BitsMappedToColorLookupTable': '00281403',\n    '00281404': ('BlendingLUT1Sequence'),\n    '00281405': ('BlendingLUT1TransferFunction'),\n    'BlendingWeightConstant': '00281406',\n    'BlendingLookupTableDescriptor': '00281407',\n    'BlendingLookupTableData': '00281408',\n    'EnhancedPaletteColorLookupTableSequence': '0028140B',\n    '0028140C': ('BlendingLUT2Sequence'),\n    '0028140D': ('BlendingLUT2TransferFunction'),\n    'DataPathID': '0028140E',\n    'RGBLUTTransferFunction': '0028140F',\n    'AlphaLUTTransferFunction': '00281410',\n    'ICCProfile': '00282000',\n    'ColorSpace': '00282002',\n    'LossyImageCompression': '00282110',\n    'LossyImageCompressionRatio': '00282112',\n    'LossyImageCompressionMethod': '00282114',\n    'ModalityLUTSequence': '00283000',\n    'LUTDescriptor': '00283002',\n    'LUTExplanation': '00283003',\n    'ModalityLUTType': '00283004',\n    'LUTData': '00283006',\n    'VOILUTSequence': '00283010',\n    'SoftcopyVOILUTSequence': '00283110',\n    'ImagePresentationComments': '00284000',\n    'BiPlaneAcquisitionSequence': '00285000',\n    'RepresentativeFrameNumber': '00286010',\n    'FrameNumbersOfInterest': '00286020',\n    'FrameOfInterestDescription': '00286022',\n    'FrameOfInterestType': '00286023',\n    'MaskPointers': '00286030',\n    'RWavePointer': '00286040',\n    'MaskSubtractionSequence': '00286100',\n    'MaskOperation': '00286101',\n    'ApplicableFrameRange': '00286102',\n    'MaskFrameNumbers': '00286110',\n    'ContrastFrameAveraging': '00286112',\n    'MaskSubPixelShift': '00286114',\n    'TIDOffset': '00286120',\n    'MaskOperationExplanation': '00286190',\n    'EquipmentAdministratorSequence': '00287000',\n    'NumberOfDisplaySubsystems': '00287001',\n    'CurrentConfigurationID': '00287002',\n    'DisplaySubsystemID': '00287003',\n    'DisplaySubsystemName': '00287004',\n    'DisplaySubsystemDescription': '00287005',\n    'SystemStatus': '00287006',\n    'SystemStatusComment': '00287007',\n    'TargetLuminanceCharacteristicsSequence': '00287008',\n    'LuminanceCharacteristicsID': '00287009',\n    'DisplaySubsystemConfigurationSequence': '0028700A',\n    'ConfigurationID': '0028700B',\n    'ConfigurationName': '0028700C',\n    'ConfigurationDescription': '0028700D',\n    'ReferencedTargetLuminanceCharacteristicsID': '0028700E',\n    'QAResultsSequence': '0028700F',\n    'DisplaySubsystemQAResultsSequence': '00287010',\n    'ConfigurationQAResultsSequence': '00287011',\n    'MeasurementEquipmentSequence': '00287012',\n    'MeasurementFunctions': '00287013',\n    'MeasurementEquipmentType': '00287014',\n    'VisualEvaluationResultSequence': '00287015',\n    'DisplayCalibrationResultSequence': '00287016',\n    'DDLValue': '00287017',\n    'CIExyWhitePoint': '00287018',\n    'DisplayFunctionType': '00287019',\n    'GammaValue': '0028701A',\n    'NumberOfLuminancePoints': '0028701B',\n    'LuminanceResponseSequence': '0028701C',\n    'TargetMinimumLuminance': '0028701D',\n    'TargetMaximumLuminance': '0028701E',\n    'LuminanceValue': '0028701F',\n    'LuminanceResponseDescription': '00287020',\n    'WhitePointFlag': '00287021',\n    'DisplayDeviceTypeCodeSequence': '00287022',\n    'DisplaySubsystemSequence': '00287023',\n    'LuminanceResultSequence': '00287024',\n    'AmbientLightValueSource': '00287025',\n    'MeasuredCharacteristics': '00287026',\n    'LuminanceUniformityResultSequence': '00287027',\n    'VisualEvaluationTestSequence': '00287028',\n    'TestResult': '00287029',\n    'TestResultComment': '0028702A',\n    'TestImageValidation': '0028702B',\n    'TestPatternCodeSequence': '0028702C',\n    'MeasurementPatternCodeSequence': '0028702D',\n    'VisualEvaluationMethodCodeSequence': '0028702E',\n    'PixelDataProviderURL': '00287FE0',\n    'DataPointRows': '00289001',\n    'DataPointColumns': '00289002',\n    'SignalDomainColumns': '00289003',\n    'LargestMonochromePixelValue': '00289099',\n    'DataRepresentation': '00289108',\n    'PixelMeasuresSequence': '00289110',\n    'FrameVOILUTSequence': '00289132',\n    'PixelValueTransformationSequence': '00289145',\n    'SignalDomainRows': '00289235',\n    'DisplayFilterPercentage': '00289411',\n    'FramePixelShiftSequence': '00289415',\n    'SubtractionItemID': '00289416',\n    'PixelIntensityRelationshipLUTSequence': '00289422',\n    'FramePixelDataPropertiesSequence': '00289443',\n    'GeometricalProperties': '00289444',\n    'GeometricMaximumDistortion': '00289445',\n    'ImageProcessingApplied': '00289446',\n    'MaskSelectionMode': '00289454',\n    'LUTFunction': '00289474',\n    'MaskVisibilityPercentage': '00289478',\n    'PixelShiftSequence': '00289501',\n    'RegionPixelShiftSequence': '00289502',\n    'VerticesOfTheRegion': '00289503',\n    'MultiFramePresentationSequence': '00289505',\n    'PixelShiftFrameRange': '00289506',\n    'LUTFrameRange': '00289507',\n    'ImageToEquipmentMappingMatrix': '00289520',\n    'EquipmentCoordinateSystemIdentification': '00289537',\n    'StudyStatusID': '0032000A',\n    'StudyPriorityID': '0032000C',\n    'StudyIDIssuer': '00320012',\n    'StudyVerifiedDate': '00320032',\n    'StudyVerifiedTime': '00320033',\n    'StudyReadDate': '00320034',\n    'StudyReadTime': '00320035',\n    'ScheduledStudyStartDate': '00321000',\n    'ScheduledStudyStartTime': '00321001',\n    'ScheduledStudyStopDate': '00321010',\n    'ScheduledStudyStopTime': '00321011',\n    'ScheduledStudyLocation': '00321020',\n    'ScheduledStudyLocationAETitle': '00321021',\n    'ReasonForStudy': '00321030',\n    'RequestingPhysicianIdentificationSequence': '00321031',\n    'RequestingPhysician': '00321032',\n    'RequestingService': '00321033',\n    'RequestingServiceCodeSequence': '00321034',\n    'StudyArrivalDate': '00321040',\n    'StudyArrivalTime': '00321041',\n    'StudyCompletionDate': '00321050',\n    'StudyCompletionTime': '00321051',\n    'StudyComponentStatusID': '00321055',\n    'RequestedProcedureDescription': '00321060',\n    'RequestedProcedureCodeSequence': '00321064',\n    'RequestedContrastAgent': '00321070',\n    'StudyComments': '00324000',\n    'ReferencedPatientAliasSequence': '00380004',\n    'VisitStatusID': '00380008',\n    'AdmissionID': '00380010',\n    'IssuerOfAdmissionID': '00380011',\n    'IssuerOfAdmissionIDSequence': '00380014',\n    'RouteOfAdmissions': '00380016',\n    'ScheduledAdmissionDate': '0038001A',\n    'ScheduledAdmissionTime': '0038001B',\n    'ScheduledDischargeDate': '0038001C',\n    'ScheduledDischargeTime': '0038001D',\n    'ScheduledPatientInstitutionResidence': '0038001E',\n    'AdmittingDate': '00380020',\n    'AdmittingTime': '00380021',\n    'DischargeDate': '00380030',\n    'DischargeTime': '00380032',\n    'DischargeDiagnosisDescription': '00380040',\n    'DischargeDiagnosisCodeSequence': '00380044',\n    'SpecialNeeds': '00380050',\n    'ServiceEpisodeID': '00380060',\n    'IssuerOfServiceEpisodeID': '00380061',\n    'ServiceEpisodeDescription': '00380062',\n    'IssuerOfServiceEpisodeIDSequence': '00380064',\n    'PertinentDocumentsSequence': '00380100',\n    'PertinentResourcesSequence': '00380101',\n    'ResourceDescription': '00380102',\n    'CurrentPatientLocation': '00380300',\n    'PatientInstitutionResidence': '00380400',\n    'PatientState': '00380500',\n    'PatientClinicalTrialParticipationSequence': '00380502',\n    'VisitComments': '00384000',\n    'WaveformOriginality': '003A0004',\n    'NumberOfWaveformChannels': '003A0005',\n    'NumberOfWaveformSamples': '003A0010',\n    'SamplingFrequency': '003A001A',\n    'MultiplexGroupLabel': '003A0020',\n    'ChannelDefinitionSequence': '003A0200',\n    'WaveformChannelNumber': '003A0202',\n    'ChannelLabel': '003A0203',\n    'ChannelStatus': '003A0205',\n    'ChannelSourceSequence': '003A0208',\n    'ChannelSourceModifiersSequence': '003A0209',\n    'SourceWaveformSequence': '003A020A',\n    'ChannelDerivationDescription': '003A020C',\n    'ChannelSensitivity': '003A0210',\n    'ChannelSensitivityUnitsSequence': '003A0211',\n    'ChannelSensitivityCorrectionFactor': '003A0212',\n    'ChannelBaseline': '003A0213',\n    'ChannelTimeSkew': '003A0214',\n    'ChannelSampleSkew': '003A0215',\n    'ChannelOffset': '003A0218',\n    'WaveformBitsStored': '003A021A',\n    'FilterLowFrequency': '003A0220',\n    'FilterHighFrequency': '003A0221',\n    'NotchFilterFrequency': '003A0222',\n    'NotchFilterBandwidth': '003A0223',\n    'WaveformDataDisplayScale': '003A0230',\n    'WaveformDisplayBackgroundCIELabValue': '003A0231',\n    'WaveformPresentationGroupSequence': '003A0240',\n    'PresentationGroupNumber': '003A0241',\n    'ChannelDisplaySequence': '003A0242',\n    'ChannelRecommendedDisplayCIELabValue': '003A0244',\n    'ChannelPosition': '003A0245',\n    'DisplayShadingFlag': '003A0246',\n    'FractionalChannelDisplayScale': '003A0247',\n    'AbsoluteChannelDisplayScale': '003A0248',\n    'MultiplexedAudioChannelsDescriptionCodeSequence': '003A0300',\n    'ChannelIdentificationCode': '003A0301',\n    'ChannelMode': '003A0302',\n    'ScheduledStationAETitle': '00400001',\n    'ScheduledProcedureStepStartDate': '00400002',\n    'ScheduledProcedureStepStartTime': '00400003',\n    'ScheduledProcedureStepEndDate': '00400004',\n    'ScheduledProcedureStepEndTime': '00400005',\n    'ScheduledPerformingPhysicianName': '00400006',\n    'ScheduledProcedureStepDescription': '00400007',\n    'ScheduledProtocolCodeSequence': '00400008',\n    'ScheduledProcedureStepID': '00400009',\n    'StageCodeSequence': '0040000A',\n    'ScheduledPerformingPhysicianIdentificationSequence': '0040000B',\n    'ScheduledStationName': '00400010',\n    'ScheduledProcedureStepLocation': '00400011',\n    'PreMedication': '00400012',\n    'ScheduledProcedureStepStatus': '00400020',\n    'OrderPlacerIdentifierSequence': '00400026',\n    'OrderFillerIdentifierSequence': '00400027',\n    'LocalNamespaceEntityID': '00400031',\n    'UniversalEntityID': '00400032',\n    'UniversalEntityIDType': '00400033',\n    'IdentifierTypeCode': '00400035',\n    'AssigningFacilitySequence': '00400036',\n    'AssigningJurisdictionCodeSequence': '00400039',\n    'AssigningAgencyOrDepartmentCodeSequence': '0040003A',\n    'ScheduledProcedureStepSequence': '00400100',\n    'ReferencedNonImageCompositeSOPInstanceSequence': '00400220',\n    'PerformedStationAETitle': '00400241',\n    'PerformedStationName': '00400242',\n    'PerformedLocation': '00400243',\n    'PerformedProcedureStepStartDate': '00400244',\n    'PerformedProcedureStepStartTime': '00400245',\n    'PerformedProcedureStepEndDate': '00400250',\n    'PerformedProcedureStepEndTime': '00400251',\n    'PerformedProcedureStepStatus': '00400252',\n    'PerformedProcedureStepID': '00400253',\n    'PerformedProcedureStepDescription': '00400254',\n    'PerformedProcedureTypeDescription': '00400255',\n    'PerformedProtocolCodeSequence': '00400260',\n    'PerformedProtocolType': '00400261',\n    'ScheduledStepAttributesSequence': '00400270',\n    'RequestAttributesSequence': '00400275',\n    'CommentsOnThePerformedProcedureStep': '00400280',\n    'PerformedProcedureStepDiscontinuationReasonCodeSequence': '00400281',\n    'QuantitySequence': '00400293',\n    'Quantity': '00400294',\n    'MeasuringUnitsSequence': '00400295',\n    'BillingItemSequence': '00400296',\n    'TotalTimeOfFluoroscopy': '00400300',\n    'TotalNumberOfExposures': '00400301',\n    'EntranceDose': '00400302',\n    'ExposedArea': '00400303',\n    'DistanceSourceToEntrance': '00400306',\n    'DistanceSourceToSupport': '00400307',\n    'ExposureDoseSequence': '0040030E',\n    'CommentsOnRadiationDose': '00400310',\n    'XRayOutput': '00400312',\n    'HalfValueLayer': '00400314',\n    'OrganDose': '00400316',\n    'OrganExposed': '00400318',\n    'BillingProcedureStepSequence': '00400320',\n    'FilmConsumptionSequence': '00400321',\n    'BillingSuppliesAndDevicesSequence': '00400324',\n    'ReferencedProcedureStepSequence': '00400330',\n    'PerformedSeriesSequence': '00400340',\n    'CommentsOnTheScheduledProcedureStep': '00400400',\n    'ProtocolContextSequence': '00400440',\n    'ContentItemModifierSequence': '00400441',\n    'ScheduledSpecimenSequence': '00400500',\n    'SpecimenAccessionNumber': '0040050A',\n    'ContainerIdentifier': '00400512',\n    'IssuerOfTheContainerIdentifierSequence': '00400513',\n    'AlternateContainerIdentifierSequence': '00400515',\n    'ContainerTypeCodeSequence': '00400518',\n    'ContainerDescription': '0040051A',\n    'ContainerComponentSequence': '00400520',\n    'SpecimenSequence': '00400550',\n    'SpecimenIdentifier': '00400551',\n    'SpecimenDescriptionSequenceTrial': '00400552',\n    'SpecimenDescriptionTrial': '00400553',\n    'SpecimenUID': '00400554',\n    'AcquisitionContextSequence': '00400555',\n    'AcquisitionContextDescription': '00400556',\n    'SpecimenDescriptionSequence': '00400560',\n    'IssuerOfTheSpecimenIdentifierSequence': '00400562',\n    'SpecimenTypeCodeSequence': '0040059A',\n    'SpecimenShortDescription': '00400600',\n    'SpecimenDetailedDescription': '00400602',\n    'SpecimenPreparationSequence': '00400610',\n    'SpecimenPreparationStepContentItemSequence': '00400612',\n    'SpecimenLocalizationContentItemSequence': '00400620',\n    'SlideIdentifier': '004006FA',\n    'WholeSlideMicroscopyImageFrameTypeSequence': '00400710',\n    'ImageCenterPointCoordinatesSequence': '0040071A',\n    'XOffsetInSlideCoordinateSystem': '0040072A',\n    'YOffsetInSlideCoordinateSystem': '0040073A',\n    'ZOffsetInSlideCoordinateSystem': '0040074A',\n    'PixelSpacingSequence': '004008D8',\n    'CoordinateSystemAxisCodeSequence': '004008DA',\n    'MeasurementUnitsCodeSequence': '004008EA',\n    'VitalStainCodeSequenceTrial': '004009F8',\n    'RequestedProcedureID': '00401001',\n    'ReasonForTheRequestedProcedure': '00401002',\n    'RequestedProcedurePriority': '00401003',\n    'PatientTransportArrangements': '00401004',\n    'RequestedProcedureLocation': '00401005',\n    'PlacerOrderNumberProcedure': '00401006',\n    'FillerOrderNumberProcedure': '00401007',\n    'ConfidentialityCode': '00401008',\n    'ReportingPriority': '00401009',\n    'ReasonForRequestedProcedureCodeSequence': '0040100A',\n    'NamesOfIntendedRecipientsOfResults': '00401010',\n    'IntendedRecipientsOfResultsIdentificationSequence': '00401011',\n    'ReasonForPerformedProcedureCodeSequence': '00401012',\n    'RequestedProcedureDescriptionTrial': '00401060',\n    'PersonIdentificationCodeSequence': '00401101',\n    'PersonAddress': '00401102',\n    'PersonTelephoneNumbers': '00401103',\n    'PersonTelecomInformation': '00401104',\n    'RequestedProcedureComments': '00401400',\n    'ReasonForTheImagingServiceRequest': '00402001',\n    'IssueDateOfImagingServiceRequest': '00402004',\n    'IssueTimeOfImagingServiceRequest': '00402005',\n    'PlacerOrderNumberImagingServiceRequestRetired': '00402006',\n    'FillerOrderNumberImagingServiceRequestRetired': '00402007',\n    'OrderEnteredBy': '00402008',\n    'OrderEntererLocation': '00402009',\n    'OrderCallbackPhoneNumber': '00402010',\n    'OrderCallbackTelecomInformation': '00402011',\n    'PlacerOrderNumberImagingServiceRequest': '00402016',\n    'FillerOrderNumberImagingServiceRequest': '00402017',\n    'ImagingServiceRequestComments': '00402400',\n    'ConfidentialityConstraintOnPatientDataDescription': '00403001',\n    'GeneralPurposeScheduledProcedureStepStatus': '00404001',\n    'GeneralPurposePerformedProcedureStepStatus': '00404002',\n    'GeneralPurposeScheduledProcedureStepPriority': '00404003',\n    'ScheduledProcessingApplicationsCodeSequence': '00404004',\n    'ScheduledProcedureStepStartDateTime': '00404005',\n    'MultipleCopiesFlag': '00404006',\n    'PerformedProcessingApplicationsCodeSequence': '00404007',\n    'ScheduledProcedureStepExpirationDateTime': '00404008',\n    'HumanPerformerCodeSequence': '00404009',\n    'ScheduledProcedureStepModificationDateTime': '00404010',\n    'ExpectedCompletionDateTime': '00404011',\n    'ResultingGeneralPurposePerformedProcedureStepsSequence': '00404015',\n    'ReferencedGeneralPurposeScheduledProcedureStepSequence': '00404016',\n    'ScheduledWorkitemCodeSequence': '00404018',\n    'PerformedWorkitemCodeSequence': '00404019',\n    'InputAvailabilityFlag': '00404020',\n    'InputInformationSequence': '00404021',\n    'RelevantInformationSequence': '00404022',\n    'ReferencedGeneralPurposeScheduledProcedureStepTransactionUID': '00404023',\n    'ScheduledStationNameCodeSequence': '00404025',\n    'ScheduledStationClassCodeSequence': '00404026',\n    'ScheduledStationGeographicLocationCodeSequence': '00404027',\n    'PerformedStationNameCodeSequence': '00404028',\n    'PerformedStationClassCodeSequence': '00404029',\n    'PerformedStationGeographicLocationCodeSequence': '00404030',\n    'RequestedSubsequentWorkitemCodeSequence': '00404031',\n    'NonDICOMOutputCodeSequence': '00404032',\n    'OutputInformationSequence': '00404033',\n    'ScheduledHumanPerformersSequence': '00404034',\n    'ActualHumanPerformersSequence': '00404035',\n    'HumanPerformerOrganization': '00404036',\n    'HumanPerformerName': '00404037',\n    'RawDataHandling': '00404040',\n    'InputReadinessState': '00404041',\n    'PerformedProcedureStepStartDateTime': '00404050',\n    'PerformedProcedureStepEndDateTime': '00404051',\n    'ProcedureStepCancellationDateTime': '00404052',\n    'OutputDestinationSequence': '00404070',\n    'DICOMStorageSequence': '00404071',\n    'STOWRSStorageSequence': '00404072',\n    'StorageURL': '00404073',\n    'XDSStorageSequence': '00404074',\n    'EntranceDoseInmGy': '00408302',\n    'EntranceDoseDerivation': '00408303',\n    'ParametricMapFrameTypeSequence': '00409092',\n    'ReferencedImageRealWorldValueMappingSequence': '00409094',\n    'RealWorldValueMappingSequence': '00409096',\n    'PixelValueMappingCodeSequence': '00409098',\n    'LUTLabel': '00409210',\n    'RealWorldValueLastValueMapped': '00409211',\n    'RealWorldValueLUTData': '00409212',\n    'DoubleFloatRealWorldValueLastValueMapped': '00409213',\n    'DoubleFloatRealWorldValueFirstValueMapped': '00409214',\n    'RealWorldValueFirstValueMapped': '00409216',\n    'QuantityDefinitionSequence': '00409220',\n    'RealWorldValueIntercept': '00409224',\n    'RealWorldValueSlope': '00409225',\n    'FindingsFlagTrial': '0040A007',\n    'RelationshipType': '0040A010',\n    'FindingsSequenceTrial': '0040A020',\n    'FindingsGroupUIDTrial': '0040A021',\n    'ReferencedFindingsGroupUIDTrial': '0040A022',\n    'FindingsGroupRecordingDateTrial': '0040A023',\n    'FindingsGroupRecordingTimeTrial': '0040A024',\n    'FindingsSourceCategoryCodeSequenceTrial': '0040A026',\n    'VerifyingOrganization': '0040A027',\n    'DocumentingOrganizationIdentifierCodeSequenceTrial': '0040A028',\n    'VerificationDateTime': '0040A030',\n    'ObservationDateTime': '0040A032',\n    'ValueType': '0040A040',\n    'ConceptNameCodeSequence': '0040A043',\n    'MeasurementPrecisionDescriptionTrial': '0040A047',\n    'ContinuityOfContent': '0040A050',\n    'UrgencyOrPriorityAlertsTrial': '0040A057',\n    'SequencingIndicatorTrial': '0040A060',\n    'DocumentIdentifierCodeSequenceTrial': '0040A066',\n    'DocumentAuthorTrial': '0040A067',\n    'DocumentAuthorIdentifierCodeSequenceTrial': '0040A068',\n    'IdentifierCodeSequenceTrial': '0040A070',\n    'VerifyingObserverSequence': '0040A073',\n    'ObjectBinaryIdentifierTrial': '0040A074',\n    'VerifyingObserverName': '0040A075',\n    'DocumentingObserverIdentifierCodeSequenceTrial': '0040A076',\n    'AuthorObserverSequence': '0040A078',\n    'ParticipantSequence': '0040A07A',\n    'CustodialOrganizationSequence': '0040A07C',\n    'ParticipationType': '0040A080',\n    'ParticipationDateTime': '0040A082',\n    'ObserverType': '0040A084',\n    'ProcedureIdentifierCodeSequenceTrial': '0040A085',\n    'VerifyingObserverIdentificationCodeSequence': '0040A088',\n    'ObjectDirectoryBinaryIdentifierTrial': '0040A089',\n    'EquivalentCDADocumentSequence': '0040A090',\n    'ReferencedWaveformChannels': '0040A0B0',\n    'DateOfDocumentOrVerbalTransactionTrial': '0040A110',\n    'TimeOfDocumentCreationOrVerbalTransactionTrial': '0040A112',\n    'DateTime': '0040A120',\n    'Date': '0040A121',\n    'Time': '0040A122',\n    'PersonName': '0040A123',\n    'UID': '0040A124',\n    'ReportStatusIDTrial': '0040A125',\n    'TemporalRangeType': '0040A130',\n    'ReferencedSamplePositions': '0040A132',\n    'ReferencedFrameNumbers': '0040A136',\n    'ReferencedTimeOffsets': '0040A138',\n    'ReferencedDateTime': '0040A13A',\n    'TextValue': '0040A160',\n    'FloatingPointValue': '0040A161',\n    'RationalNumeratorValue': '0040A162',\n    'RationalDenominatorValue': '0040A163',\n    'ObservationCategoryCodeSequenceTrial': '0040A167',\n    'ConceptCodeSequence': '0040A168',\n    'BibliographicCitationTrial': '0040A16A',\n    'PurposeOfReferenceCodeSequence': '0040A170',\n    'ObservationUID': '0040A171',\n    'ReferencedObservationUIDTrial': '0040A172',\n    'ReferencedObservationClassTrial': '0040A173',\n    'ReferencedObjectObservationClassTrial': '0040A174',\n    'AnnotationGroupNumber': '0040A180',\n    'ObservationDateTrial': '0040A192',\n    'ObservationTimeTrial': '0040A193',\n    'MeasurementAutomationTrial': '0040A194',\n    'ModifierCodeSequence': '0040A195',\n    'IdentificationDescriptionTrial': '0040A224',\n    'CoordinatesSetGeometricTypeTrial': '0040A290',\n    'AlgorithmCodeSequenceTrial': '0040A296',\n    'AlgorithmDescriptionTrial': '0040A297',\n    'PixelCoordinatesSetTrial': '0040A29A',\n    'MeasuredValueSequence': '0040A300',\n    'NumericValueQualifierCodeSequence': '0040A301',\n    'CurrentObserverTrial': '0040A307',\n    'NumericValue': '0040A30A',\n    'ReferencedAccessionSequenceTrial': '0040A313',\n    'ReportStatusCommentTrial': '0040A33A',\n    'ProcedureContextSequenceTrial': '0040A340',\n    'VerbalSourceTrial': '0040A352',\n    'AddressTrial': '0040A353',\n    'TelephoneNumberTrial': '0040A354',\n    'VerbalSourceIdentifierCodeSequenceTrial': '0040A358',\n    'PredecessorDocumentsSequence': '0040A360',\n    'ReferencedRequestSequence': '0040A370',\n    'PerformedProcedureCodeSequence': '0040A372',\n    'CurrentRequestedProcedureEvidenceSequence': '0040A375',\n    'ReportDetailSequenceTrial': '0040A380',\n    'PertinentOtherEvidenceSequence': '0040A385',\n    '0040A390': ('HL7StructuredDocumentReferenceSequence'),\n    'ObservationSubjectUIDTrial': '0040A402',\n    'ObservationSubjectClassTrial': '0040A403',\n    'ObservationSubjectTypeCodeSequenceTrial': '0040A404',\n    'CompletionFlag': '0040A491',\n    'CompletionFlagDescription': '0040A492',\n    'VerificationFlag': '0040A493',\n    'ArchiveRequested': '0040A494',\n    'PreliminaryFlag': '0040A496',\n    'ContentTemplateSequence': '0040A504',\n    'IdenticalDocumentsSequence': '0040A525',\n    'ObservationSubjectContextFlagTrial': '0040A600',\n    'ObserverContextFlagTrial': '0040A601',\n    'ProcedureContextFlagTrial': '0040A603',\n    'ContentSequence': '0040A730',\n    'RelationshipSequenceTrial': '0040A731',\n    'RelationshipTypeCodeSequenceTrial': '0040A732',\n    'LanguageCodeSequenceTrial': '0040A744',\n    'UniformResourceLocatorTrial': '0040A992',\n    'WaveformAnnotationSequence': '0040B020',\n    'TemplateIdentifier': '0040DB00',\n    'TemplateVersion': '0040DB06',\n    'TemplateLocalVersion': '0040DB07',\n    'TemplateExtensionFlag': '0040DB0B',\n    'TemplateExtensionOrganizationUID': '0040DB0C',\n    'TemplateExtensionCreatorUID': '0040DB0D',\n    'ReferencedContentItemIdentifier': '0040DB73',\n    '0040E001': ('HL7InstanceIdentifier'),\n    '0040E004': ('HL7DocumentEffectiveTime'),\n    '0040E006': ('HL7DocumentTypeCodeSequence'),\n    'DocumentClassCodeSequence': '0040E008',\n    'RetrieveURI': '0040E010',\n    'RetrieveLocationUID': '0040E011',\n    'TypeOfInstances': '0040E020',\n    'DICOMRetrievalSequence': '0040E021',\n    'DICOMMediaRetrievalSequence': '0040E022',\n    'WADORetrievalSequence': '0040E023',\n    'XDSRetrievalSequence': '0040E024',\n    'WADORSRetrievalSequence': '0040E025',\n    'RepositoryUniqueID': '0040E030',\n    'HomeCommunityID': '0040E031',\n    'DocumentTitle': '00420010',\n    'EncapsulatedDocument': '00420011',\n    'MIMETypeOfEncapsulatedDocument': '00420012',\n    'SourceInstanceSequence': '00420013',\n    'ListOfMIMETypes': '00420014',\n    'ProductPackageIdentifier': '00440001',\n    'SubstanceAdministrationApproval': '00440002',\n    'ApprovalStatusFurtherDescription': '00440003',\n    'ApprovalStatusDateTime': '00440004',\n    'ProductTypeCodeSequence': '00440007',\n    'ProductName': '00440008',\n    'ProductDescription': '00440009',\n    'ProductLotIdentifier': '0044000A',\n    'ProductExpirationDateTime': '0044000B',\n    'SubstanceAdministrationDateTime': '00440010',\n    'SubstanceAdministrationNotes': '00440011',\n    'SubstanceAdministrationDeviceID': '00440012',\n    'ProductParameterSequence': '00440013',\n    'SubstanceAdministrationParameterSequence': '00440019',\n    'ApprovalSequence': '00440100',\n    'AssertionCodeSequence': '00440101',\n    'AssertionUID': '00440102',\n    'AsserterIdentificationSequence': '00440103',\n    'AssertionDateTime': '00440104',\n    'AssertionExpirationDateTime': '00440105',\n    'AssertionComments': '00440106',\n    'RelatedAssertionSequence': '00440107',\n    'ReferencedAssertionUID': '00440108',\n    'ApprovalSubjectSequence': '00440109',\n    'OrganizationalRoleCodeSequence': '0044010A',\n    'LensDescription': '00460012',\n    'RightLensSequence': '00460014',\n    'LeftLensSequence': '00460015',\n    'UnspecifiedLateralityLensSequence': '00460016',\n    'CylinderSequence': '00460018',\n    'PrismSequence': '00460028',\n    'HorizontalPrismPower': '00460030',\n    'HorizontalPrismBase': '00460032',\n    'VerticalPrismPower': '00460034',\n    'VerticalPrismBase': '00460036',\n    'LensSegmentType': '00460038',\n    'OpticalTransmittance': '00460040',\n    'ChannelWidth': '00460042',\n    'PupilSize': '00460044',\n    'CornealSize': '00460046',\n    'AutorefractionRightEyeSequence': '00460050',\n    'AutorefractionLeftEyeSequence': '00460052',\n    'DistancePupillaryDistance': '00460060',\n    'NearPupillaryDistance': '00460062',\n    'IntermediatePupillaryDistance': '00460063',\n    'OtherPupillaryDistance': '00460064',\n    'KeratometryRightEyeSequence': '00460070',\n    'KeratometryLeftEyeSequence': '00460071',\n    'SteepKeratometricAxisSequence': '00460074',\n    'RadiusOfCurvature': '00460075',\n    'KeratometricPower': '00460076',\n    'KeratometricAxis': '00460077',\n    'FlatKeratometricAxisSequence': '00460080',\n    'BackgroundColor': '00460092',\n    'Optotype': '00460094',\n    'OptotypePresentation': '00460095',\n    'SubjectiveRefractionRightEyeSequence': '00460097',\n    'SubjectiveRefractionLeftEyeSequence': '00460098',\n    'AddNearSequence': '00460100',\n    'AddIntermediateSequence': '00460101',\n    'AddOtherSequence': '00460102',\n    'AddPower': '00460104',\n    'ViewingDistance': '00460106',\n    'VisualAcuityTypeCodeSequence': '00460121',\n    'VisualAcuityRightEyeSequence': '00460122',\n    'VisualAcuityLeftEyeSequence': '00460123',\n    'VisualAcuityBothEyesOpenSequence': '00460124',\n    'ViewingDistanceType': '00460125',\n    'VisualAcuityModifiers': '00460135',\n    'DecimalVisualAcuity': '00460137',\n    'OptotypeDetailedDefinition': '00460139',\n    'ReferencedRefractiveMeasurementsSequence': '00460145',\n    'SpherePower': '00460146',\n    'CylinderPower': '00460147',\n    'CornealTopographySurface': '00460201',\n    'CornealVertexLocation': '00460202',\n    'PupilCentroidXCoordinate': '00460203',\n    'PupilCentroidYCoordinate': '00460204',\n    'EquivalentPupilRadius': '00460205',\n    'CornealTopographyMapTypeCodeSequence': '00460207',\n    'VerticesOfTheOutlineOfPupil': '00460208',\n    'CornealTopographyMappingNormalsSequence': '00460210',\n    'MaximumCornealCurvatureSequence': '00460211',\n    'MaximumCornealCurvature': '00460212',\n    'MaximumCornealCurvatureLocation': '00460213',\n    'MinimumKeratometricSequence': '00460215',\n    'SimulatedKeratometricCylinderSequence': '00460218',\n    'AverageCornealPower': '00460220',\n    'CornealISValue': '00460224',\n    'AnalyzedArea': '00460227',\n    'SurfaceRegularityIndex': '00460230',\n    'SurfaceAsymmetryIndex': '00460232',\n    'CornealEccentricityIndex': '00460234',\n    'KeratoconusPredictionIndex': '00460236',\n    'DecimalPotentialVisualAcuity': '00460238',\n    'CornealTopographyMapQualityEvaluation': '00460242',\n    'SourceImageCornealProcessedDataSequence': '00460244',\n    'CornealPointLocation': '00460247',\n    'CornealPointEstimated': '00460248',\n    'AxialPower': '00460249',\n    'TangentialPower': '00460250',\n    'RefractivePower': '00460251',\n    'RelativeElevation': '00460252',\n    'CornealWavefront': '00460253',\n    'ImagedVolumeWidth': '00480001',\n    'ImagedVolumeHeight': '00480002',\n    'ImagedVolumeDepth': '00480003',\n    'TotalPixelMatrixColumns': '00480006',\n    'TotalPixelMatrixRows': '00480007',\n    'TotalPixelMatrixOriginSequence': '00480008',\n    'SpecimenLabelInImage': '00480010',\n    'FocusMethod': '00480011',\n    'ExtendedDepthOfField': '00480012',\n    'NumberOfFocalPlanes': '00480013',\n    'DistanceBetweenFocalPlanes': '00480014',\n    'RecommendedAbsentPixelCIELabValue': '00480015',\n    'IlluminatorTypeCodeSequence': '00480100',\n    'ImageOrientationSlide': '00480102',\n    'OpticalPathSequence': '00480105',\n    'OpticalPathIdentifier': '00480106',\n    'OpticalPathDescription': '00480107',\n    'IlluminationColorCodeSequence': '00480108',\n    'SpecimenReferenceSequence': '00480110',\n    'CondenserLensPower': '00480111',\n    'ObjectiveLensPower': '00480112',\n    'ObjectiveLensNumericalAperture': '00480113',\n    'PaletteColorLookupTableSequence': '00480120',\n    'ReferencedImageNavigationSequence': '00480200',\n    'TopLeftHandCornerOfLocalizerArea': '00480201',\n    'BottomRightHandCornerOfLocalizerArea': '00480202',\n    'OpticalPathIdentificationSequence': '00480207',\n    'PlanePositionSlideSequence': '0048021A',\n    'ColumnPositionInTotalImagePixelMatrix': '0048021E',\n    'RowPositionInTotalImagePixelMatrix': '0048021F',\n    'PixelOriginInterpretation': '00480301',\n    'NumberOfOpticalPaths': '00480302',\n    'TotalPixelMatrixFocalPlanes': '00480303',\n    'CalibrationImage': '00500004',\n    'DeviceSequence': '00500010',\n    'ContainerComponentTypeCodeSequence': '00500012',\n    'ContainerComponentThickness': '00500013',\n    'DeviceLength': '00500014',\n    'ContainerComponentWidth': '00500015',\n    'DeviceDiameter': '00500016',\n    'DeviceDiameterUnits': '00500017',\n    'DeviceVolume': '00500018',\n    'InterMarkerDistance': '00500019',\n    'ContainerComponentMaterial': '0050001A',\n    'ContainerComponentID': '0050001B',\n    'ContainerComponentLength': '0050001C',\n    'ContainerComponentDiameter': '0050001D',\n    'ContainerComponentDescription': '0050001E',\n    'DeviceDescription': '00500020',\n    'ContrastBolusIngredientPercentByVolume': '00520001',\n    'OCTFocalDistance': '00520002',\n    'BeamSpotSize': '00520003',\n    'EffectiveRefractiveIndex': '00520004',\n    'OCTAcquisitionDomain': '00520006',\n    'OCTOpticalCenterWavelength': '00520007',\n    'AxialResolution': '00520008',\n    'RangingDepth': '00520009',\n    'ALineRate': '00520011',\n    'ALinesPerFrame': '00520012',\n    'CatheterRotationalRate': '00520013',\n    'ALinePixelSpacing': '00520014',\n    'ModeOfPercutaneousAccessSequence': '00520016',\n    'IntravascularOCTFrameTypeSequence': '00520025',\n    'OCTZOffsetApplied': '00520026',\n    'IntravascularFrameContentSequence': '00520027',\n    'IntravascularLongitudinalDistance': '00520028',\n    'IntravascularOCTFrameContentSequence': '00520029',\n    'OCTZOffsetCorrection': '00520030',\n    'CatheterDirectionOfRotation': '00520031',\n    'SeamLineLocation': '00520033',\n    'FirstALineLocation': '00520034',\n    'SeamLineIndex': '00520036',\n    'NumberOfPaddedALines': '00520038',\n    'InterpolationType': '00520039',\n    'RefractiveIndexApplied': '0052003A',\n    'EnergyWindowVector': '00540010',\n    'NumberOfEnergyWindows': '00540011',\n    'EnergyWindowInformationSequence': '00540012',\n    'EnergyWindowRangeSequence': '00540013',\n    'EnergyWindowLowerLimit': '00540014',\n    'EnergyWindowUpperLimit': '00540015',\n    'RadiopharmaceuticalInformationSequence': '00540016',\n    'ResidualSyringeCounts': '00540017',\n    'EnergyWindowName': '00540018',\n    'DetectorVector': '00540020',\n    'NumberOfDetectors': '00540021',\n    'DetectorInformationSequence': '00540022',\n    'PhaseVector': '00540030',\n    'NumberOfPhases': '00540031',\n    'PhaseInformationSequence': '00540032',\n    'NumberOfFramesInPhase': '00540033',\n    'PhaseDelay': '00540036',\n    'PauseBetweenFrames': '00540038',\n    'PhaseDescription': '00540039',\n    'RotationVector': '00540050',\n    'NumberOfRotations': '00540051',\n    'RotationInformationSequence': '00540052',\n    'NumberOfFramesInRotation': '00540053',\n    'RRIntervalVector': '00540060',\n    'NumberOfRRIntervals': '00540061',\n    'GatedInformationSequence': '00540062',\n    'DataInformationSequence': '00540063',\n    'TimeSlotVector': '00540070',\n    'NumberOfTimeSlots': '00540071',\n    'TimeSlotInformationSequence': '00540072',\n    'TimeSlotTime': '00540073',\n    'SliceVector': '00540080',\n    'NumberOfSlices': '00540081',\n    'AngularViewVector': '00540090',\n    'TimeSliceVector': '00540100',\n    'NumberOfTimeSlices': '00540101',\n    'StartAngle': '00540200',\n    'TypeOfDetectorMotion': '00540202',\n    'TriggerVector': '00540210',\n    'NumberOfTriggersInPhase': '00540211',\n    'ViewCodeSequence': '00540220',\n    'ViewModifierCodeSequence': '00540222',\n    'RadionuclideCodeSequence': '00540300',\n    'AdministrationRouteCodeSequence': '00540302',\n    'RadiopharmaceuticalCodeSequence': '00540304',\n    'CalibrationDataSequence': '00540306',\n    'EnergyWindowNumber': '00540308',\n    'ImageID': '00540400',\n    'PatientOrientationCodeSequence': '00540410',\n    'PatientOrientationModifierCodeSequence': '00540412',\n    'PatientGantryRelationshipCodeSequence': '00540414',\n    'SliceProgressionDirection': '00540500',\n    'ScanProgressionDirection': '00540501',\n    'SeriesType': '00541000',\n    'Units': '00541001',\n    'CountsSource': '00541002',\n    'ReprojectionMethod': '00541004',\n    'SUVType': '00541006',\n    'RandomsCorrectionMethod': '00541100',\n    'AttenuationCorrectionMethod': '00541101',\n    'DecayCorrection': '00541102',\n    'ReconstructionMethod': '00541103',\n    'DetectorLinesOfResponseUsed': '00541104',\n    'ScatterCorrectionMethod': '00541105',\n    'AxialAcceptance': '00541200',\n    'AxialMash': '00541201',\n    'TransverseMash': '00541202',\n    'DetectorElementSize': '00541203',\n    'CoincidenceWindowWidth': '00541210',\n    'SecondaryCountsType': '00541220',\n    'FrameReferenceTime': '00541300',\n    'PrimaryPromptsCountsAccumulated': '00541310',\n    'SecondaryCountsAccumulated': '00541311',\n    'SliceSensitivityFactor': '00541320',\n    'DecayFactor': '00541321',\n    'DoseCalibrationFactor': '00541322',\n    'ScatterFractionFactor': '00541323',\n    'DeadTimeFactor': '00541324',\n    'ImageIndex': '00541330',\n    'CountsIncluded': '00541400',\n    'DeadTimeCorrectionFlag': '00541401',\n    'HistogramSequence': '00603000',\n    'HistogramNumberOfBins': '00603002',\n    'HistogramFirstBinValue': '00603004',\n    'HistogramLastBinValue': '00603006',\n    'HistogramBinWidth': '00603008',\n    'HistogramExplanation': '00603010',\n    'HistogramData': '00603020',\n    'SegmentationType': '00620001',\n    'SegmentSequence': '00620002',\n    'SegmentedPropertyCategoryCodeSequence': '00620003',\n    'SegmentNumber': '00620004',\n    'SegmentLabel': '00620005',\n    'SegmentDescription': '00620006',\n    'SegmentationAlgorithmIdentificationSequence': '00620007',\n    'SegmentAlgorithmType': '00620008',\n    'SegmentAlgorithmName': '00620009',\n    'SegmentIdentificationSequence': '0062000A',\n    'ReferencedSegmentNumber': '0062000B',\n    'RecommendedDisplayGrayscaleValue': '0062000C',\n    'RecommendedDisplayCIELabValue': '0062000D',\n    'MaximumFractionalValue': '0062000E',\n    'SegmentedPropertyTypeCodeSequence': '0062000F',\n    'SegmentationFractionalType': '00620010',\n    'SegmentedPropertyTypeModifierCodeSequence': '00620011',\n    'UsedSegmentsSequence': '00620012',\n    'TrackingID': '00620020',\n    'TrackingUID': '00620021',\n    'DeformableRegistrationSequence': '00640002',\n    'SourceFrameOfReferenceUID': '00640003',\n    'DeformableRegistrationGridSequence': '00640005',\n    'GridDimensions': '00640007',\n    'GridResolution': '00640008',\n    'VectorGridData': '00640009',\n    'PreDeformationMatrixRegistrationSequence': '0064000F',\n    'PostDeformationMatrixRegistrationSequence': '00640010',\n    'NumberOfSurfaces': '00660001',\n    'SurfaceSequence': '00660002',\n    'SurfaceNumber': '00660003',\n    'SurfaceComments': '00660004',\n    'SurfaceProcessing': '00660009',\n    'SurfaceProcessingRatio': '0066000A',\n    'SurfaceProcessingDescription': '0066000B',\n    'RecommendedPresentationOpacity': '0066000C',\n    'RecommendedPresentationType': '0066000D',\n    'FiniteVolume': '0066000E',\n    'Manifold': '00660010',\n    'SurfacePointsSequence': '00660011',\n    'SurfacePointsNormalsSequence': '00660012',\n    'SurfaceMeshPrimitivesSequence': '00660013',\n    'NumberOfSurfacePoints': '00660015',\n    'PointCoordinatesData': '00660016',\n    'PointPositionAccuracy': '00660017',\n    'MeanPointDistance': '00660018',\n    'MaximumPointDistance': '00660019',\n    'PointsBoundingBoxCoordinates': '0066001A',\n    'AxisOfRotation': '0066001B',\n    'CenterOfRotation': '0066001C',\n    'NumberOfVectors': '0066001E',\n    'VectorDimensionality': '0066001F',\n    'VectorAccuracy': '00660020',\n    'VectorCoordinateData': '00660021',\n    'TrianglePointIndexList': '00660023',\n    'EdgePointIndexList': '00660024',\n    'VertexPointIndexList': '00660025',\n    'TriangleStripSequence': '00660026',\n    'TriangleFanSequence': '00660027',\n    'LineSequence': '00660028',\n    'PrimitivePointIndexList': '00660029',\n    'SurfaceCount': '0066002A',\n    'ReferencedSurfaceSequence': '0066002B',\n    'ReferencedSurfaceNumber': '0066002C',\n    'SegmentSurfaceGenerationAlgorithmIdentificationSequence': '0066002D',\n    'SegmentSurfaceSourceInstanceSequence': '0066002E',\n    'AlgorithmFamilyCodeSequence': '0066002F',\n    'AlgorithmNameCodeSequence': '00660030',\n    'AlgorithmVersion': '00660031',\n    'AlgorithmParameters': '00660032',\n    'FacetSequence': '00660034',\n    'SurfaceProcessingAlgorithmIdentificationSequence': '00660035',\n    'AlgorithmName': '00660036',\n    'RecommendedPointRadius': '00660037',\n    'RecommendedLineThickness': '00660038',\n    'LongPrimitivePointIndexList': '00660040',\n    'LongTrianglePointIndexList': '00660041',\n    'LongEdgePointIndexList': '00660042',\n    'LongVertexPointIndexList': '00660043',\n    'TrackSetSequence': '00660101',\n    'TrackSequence': '00660102',\n    'RecommendedDisplayCIELabValueList': '00660103',\n    'TrackingAlgorithmIdentificationSequence': '00660104',\n    'TrackSetNumber': '00660105',\n    'TrackSetLabel': '00660106',\n    'TrackSetDescription': '00660107',\n    'TrackSetAnatomicalTypeCodeSequence': '00660108',\n    'MeasurementsSequence': '00660121',\n    'TrackSetStatisticsSequence': '00660124',\n    'FloatingPointValues': '00660125',\n    'TrackPointIndexList': '00660129',\n    'TrackStatisticsSequence': '00660130',\n    'MeasurementValuesSequence': '00660132',\n    'DiffusionAcquisitionCodeSequence': '00660133',\n    'DiffusionModelCodeSequence': '00660134',\n    'ImplantSize': '00686210',\n    'ImplantTemplateVersion': '00686221',\n    'ReplacedImplantTemplateSequence': '00686222',\n    'ImplantType': '00686223',\n    'DerivationImplantTemplateSequence': '00686224',\n    'OriginalImplantTemplateSequence': '00686225',\n    'EffectiveDateTime': '00686226',\n    'ImplantTargetAnatomySequence': '00686230',\n    'InformationFromManufacturerSequence': '00686260',\n    'NotificationFromManufacturerSequence': '00686265',\n    'InformationIssueDateTime': '00686270',\n    'InformationSummary': '00686280',\n    'ImplantRegulatoryDisapprovalCodeSequence': '006862A0',\n    'OverallTemplateSpatialTolerance': '006862A5',\n    'HPGLDocumentSequence': '006862C0',\n    'HPGLDocumentID': '006862D0',\n    'HPGLDocumentLabel': '006862D5',\n    'ViewOrientationCodeSequence': '006862E0',\n    'ViewOrientationModifierCodeSequence': '006862F0',\n    'HPGLDocumentScaling': '006862F2',\n    'HPGLDocument': '00686300',\n    'HPGLContourPenNumber': '00686310',\n    'HPGLPenSequence': '00686320',\n    'HPGLPenNumber': '00686330',\n    'HPGLPenLabel': '00686340',\n    'HPGLPenDescription': '00686345',\n    'RecommendedRotationPoint': '00686346',\n    'BoundingRectangle': '00686347',\n    '00686350': ('ImplantTemplate3DModelSurfaceNumber'),\n    'SurfaceModelDescriptionSequence': '00686360',\n    'SurfaceModelLabel': '00686380',\n    'SurfaceModelScalingFactor': '00686390',\n    'MaterialsCodeSequence': '006863A0',\n    'CoatingMaterialsCodeSequence': '006863A4',\n    'ImplantTypeCodeSequence': '006863A8',\n    'FixationMethodCodeSequence': '006863AC',\n    'MatingFeatureSetsSequence': '006863B0',\n    'MatingFeatureSetID': '006863C0',\n    'MatingFeatureSetLabel': '006863D0',\n    'MatingFeatureSequence': '006863E0',\n    'MatingFeatureID': '006863F0',\n    'MatingFeatureDegreeOfFreedomSequence': '00686400',\n    'DegreeOfFreedomID': '00686410',\n    'DegreeOfFreedomType': '00686420',\n    'TwoDMatingFeatureCoordinatesSequence': '00686430',\n    'ReferencedHPGLDocumentID': '00686440',\n    'TwoDMatingPoint': '00686450',\n    'TwoDMatingAxes': '00686460',\n    'TwoDDegreeOfFreedomSequence': '00686470',\n    'ThreeDDegreeOfFreedomAxis': '00686490',\n    'RangeOfFreedom': '006864A0',\n    'ThreeDMatingPoint': '006864C0',\n    'ThreeDMatingAxes': '006864D0',\n    'TwoDDegreeOfFreedomAxis': '006864F0',\n    'PlanningLandmarkPointSequence': '00686500',\n    'PlanningLandmarkLineSequence': '00686510',\n    'PlanningLandmarkPlaneSequence': '00686520',\n    'PlanningLandmarkID': '00686530',\n    'PlanningLandmarkDescription': '00686540',\n    'PlanningLandmarkIdentificationCodeSequence': '00686545',\n    'TwoDPointCoordinatesSequence': '00686550',\n    'TwoDPointCoordinates': '00686560',\n    'ThreeDPointCoordinates': '00686590',\n    'TwoDLineCoordinatesSequence': '006865A0',\n    'TwoDLineCoordinates': '006865B0',\n    'ThreeDLineCoordinates': '006865D0',\n    'TwoDPlaneCoordinatesSequence': '006865E0',\n    'TwoDPlaneIntersection': '006865F0',\n    'ThreeDPlaneOrigin': '00686610',\n    'ThreeDPlaneNormal': '00686620',\n    'ModelModification': '00687001',\n    'ModelMirroring': '00687002',\n    'ModelUsageCodeSequence': '00687003',\n    'GraphicAnnotationSequence': '00700001',\n    'GraphicLayer': '00700002',\n    'BoundingBoxAnnotationUnits': '00700003',\n    'AnchorPointAnnotationUnits': '00700004',\n    'GraphicAnnotationUnits': '00700005',\n    'UnformattedTextValue': '00700006',\n    'TextObjectSequence': '00700008',\n    'GraphicObjectSequence': '00700009',\n    'BoundingBoxTopLeftHandCorner': '00700010',\n    'BoundingBoxBottomRightHandCorner': '00700011',\n    'BoundingBoxTextHorizontalJustification': '00700012',\n    'AnchorPoint': '00700014',\n    'AnchorPointVisibility': '00700015',\n    'GraphicDimensions': '00700020',\n    'NumberOfGraphicPoints': '00700021',\n    'GraphicData': '00700022',\n    'GraphicType': '00700023',\n    'GraphicFilled': '00700024',\n    'ImageRotationRetired': '00700040',\n    'ImageHorizontalFlip': '00700041',\n    'ImageRotation': '00700042',\n    'DisplayedAreaTopLeftHandCornerTrial': '00700050',\n    'DisplayedAreaBottomRightHandCornerTrial': '00700051',\n    'DisplayedAreaTopLeftHandCorner': '00700052',\n    'DisplayedAreaBottomRightHandCorner': '00700053',\n    'DisplayedAreaSelectionSequence': '0070005A',\n    'GraphicLayerSequence': '00700060',\n    'GraphicLayerOrder': '00700062',\n    'GraphicLayerRecommendedDisplayGrayscaleValue': '00700066',\n    'GraphicLayerRecommendedDisplayRGBValue': '00700067',\n    'GraphicLayerDescription': '00700068',\n    'ContentLabel': '00700080',\n    'ContentDescription': '00700081',\n    'PresentationCreationDate': '00700082',\n    'PresentationCreationTime': '00700083',\n    'ContentCreatorName': '00700084',\n    'ContentCreatorIdentificationCodeSequence': '00700086',\n    'AlternateContentDescriptionSequence': '00700087',\n    'PresentationSizeMode': '00700100',\n    'PresentationPixelSpacing': '00700101',\n    'PresentationPixelAspectRatio': '00700102',\n    'PresentationPixelMagnificationRatio': '00700103',\n    'GraphicGroupLabel': '00700207',\n    'GraphicGroupDescription': '00700208',\n    'CompoundGraphicSequence': '00700209',\n    'CompoundGraphicInstanceID': '00700226',\n    'FontName': '00700227',\n    'FontNameType': '00700228',\n    'CSSFontName': '00700229',\n    'RotationAngle': '00700230',\n    'TextStyleSequence': '00700231',\n    'LineStyleSequence': '00700232',\n    'FillStyleSequence': '00700233',\n    'GraphicGroupSequence': '00700234',\n    'TextColorCIELabValue': '00700241',\n    'HorizontalAlignment': '00700242',\n    'VerticalAlignment': '00700243',\n    'ShadowStyle': '00700244',\n    'ShadowOffsetX': '00700245',\n    'ShadowOffsetY': '00700246',\n    'ShadowColorCIELabValue': '00700247',\n    'Underlined': '00700248',\n    'Bold': '00700249',\n    'Italic': '00700250',\n    'PatternOnColorCIELabValue': '00700251',\n    'PatternOffColorCIELabValue': '00700252',\n    'LineThickness': '00700253',\n    'LineDashingStyle': '00700254',\n    'LinePattern': '00700255',\n    'FillPattern': '00700256',\n    'FillMode': '00700257',\n    'ShadowOpacity': '00700258',\n    'GapLength': '00700261',\n    'DiameterOfVisibility': '00700262',\n    'RotationPoint': '00700273',\n    'TickAlignment': '00700274',\n    'ShowTickLabel': '00700278',\n    'TickLabelAlignment': '00700279',\n    'CompoundGraphicUnits': '00700282',\n    'PatternOnOpacity': '00700284',\n    'PatternOffOpacity': '00700285',\n    'MajorTicksSequence': '00700287',\n    'TickPosition': '00700288',\n    'TickLabel': '00700289',\n    'CompoundGraphicType': '00700294',\n    'GraphicGroupID': '00700295',\n    'ShapeType': '00700306',\n    'RegistrationSequence': '00700308',\n    'MatrixRegistrationSequence': '00700309',\n    'MatrixSequence': '0070030A',\n    'FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix': '0070030B',\n    'FrameOfReferenceTransformationMatrixType': '0070030C',\n    'RegistrationTypeCodeSequence': '0070030D',\n    'FiducialDescription': '0070030F',\n    'FiducialIdentifier': '00700310',\n    'FiducialIdentifierCodeSequence': '00700311',\n    'ContourUncertaintyRadius': '00700312',\n    'UsedFiducialsSequence': '00700314',\n    'GraphicCoordinatesDataSequence': '00700318',\n    'FiducialUID': '0070031A',\n    'ReferencedFiducialUID': '0070031B',\n    'FiducialSetSequence': '0070031C',\n    'FiducialSequence': '0070031E',\n    'FiducialsPropertyCategoryCodeSequence': '0070031F',\n    'GraphicLayerRecommendedDisplayCIELabValue': '00700401',\n    'BlendingSequence': '00700402',\n    'RelativeOpacity': '00700403',\n    'ReferencedSpatialRegistrationSequence': '00700404',\n    'BlendingPosition': '00700405',\n    'PresentationDisplayCollectionUID': '00701101',\n    'PresentationSequenceCollectionUID': '00701102',\n    'PresentationSequencePositionIndex': '00701103',\n    'RenderedImageReferenceSequence': '00701104',\n    'VolumetricPresentationStateInputSequence': '00701201',\n    'PresentationInputType': '00701202',\n    'InputSequencePositionIndex': '00701203',\n    'Crop': '00701204',\n    'CroppingSpecificationIndex': '00701205',\n    'CompositingMethod': '00701206',\n    'VolumetricPresentationInputNumber': '00701207',\n    'ImageVolumeGeometry': '00701208',\n    'VolumetricPresentationInputSetUID': '00701209',\n    'VolumetricPresentationInputSetSequence': '0070120A',\n    'GlobalCrop': '0070120B',\n    'GlobalCroppingSpecificationIndex': '0070120C',\n    'RenderingMethod': '0070120D',\n    'VolumeCroppingSequence': '00701301',\n    'VolumeCroppingMethod': '00701302',\n    'BoundingBoxCrop': '00701303',\n    'ObliqueCroppingPlaneSequence': '00701304',\n    'Plane': '00701305',\n    'PlaneNormal': '00701306',\n    'CroppingSpecificationNumber': '00701309',\n    'MultiPlanarReconstructionStyle': '00701501',\n    'MPRThicknessType': '00701502',\n    'MPRSlabThickness': '00701503',\n    'MPRTopLeftHandCorner': '00701505',\n    'MPRViewWidthDirection': '00701507',\n    'MPRViewWidth': '00701508',\n    'NumberOfVolumetricCurvePoints': '0070150C',\n    'VolumetricCurvePoints': '0070150D',\n    'MPRViewHeightDirection': '00701511',\n    'MPRViewHeight': '00701512',\n    'RenderProjection': '00701602',\n    'ViewpointPosition': '00701603',\n    'ViewpointLookAtPoint': '00701604',\n    'ViewpointUpDirection': '00701605',\n    'RenderFieldOfView': '00701606',\n    'SamplingStepSize': '00701607',\n    'ShadingStyle': '00701701',\n    'AmbientReflectionIntensity': '00701702',\n    'LightDirection': '00701703',\n    'DiffuseReflectionIntensity': '00701704',\n    'SpecularReflectionIntensity': '00701705',\n    'Shininess': '00701706',\n    'PresentationStateClassificationComponentSequence': '00701801',\n    'ComponentType': '00701802',\n    'ComponentInputSequence': '00701803',\n    'VolumetricPresentationInputIndex': '00701804',\n    'PresentationStateCompositorComponentSequence': '00701805',\n    'WeightingTransferFunctionSequence': '00701806',\n    'WeightingLookupTableDescriptor': '00701807',\n    'WeightingLookupTableData': '00701808',\n    'VolumetricAnnotationSequence': '00701901',\n    'ReferencedStructuredContextSequence': '00701903',\n    'ReferencedContentItem': '00701904',\n    'VolumetricPresentationInputAnnotationSequence': '00701905',\n    'AnnotationClipping': '00701907',\n    'PresentationAnimationStyle': '00701A01',\n    'RecommendedAnimationRate': '00701A03',\n    'AnimationCurveSequence': '00701A04',\n    'AnimationStepSize': '00701A05',\n    'SwivelRange': '00701A06',\n    'VolumetricCurveUpDirections': '00701A07',\n    'VolumeStreamSequence': '00701A08',\n    'RGBATransferFunctionDescription': '00701A09',\n    'AdvancedBlendingSequence': '00701B01',\n    'BlendingInputNumber': '00701B02',\n    'BlendingDisplayInputSequence': '00701B03',\n    'BlendingDisplaySequence': '00701B04',\n    'BlendingMode': '00701B06',\n    'TimeSeriesBlending': '00701B07',\n    'GeometryForDisplay': '00701B08',\n    'ThresholdSequence': '00701B11',\n    'ThresholdValueSequence': '00701B12',\n    'ThresholdType': '00701B13',\n    'ThresholdValue': '00701B14',\n    'HangingProtocolName': '00720002',\n    'HangingProtocolDescription': '00720004',\n    'HangingProtocolLevel': '00720006',\n    'HangingProtocolCreator': '00720008',\n    'HangingProtocolCreationDateTime': '0072000A',\n    'HangingProtocolDefinitionSequence': '0072000C',\n    'HangingProtocolUserIdentificationCodeSequence': '0072000E',\n    'HangingProtocolUserGroupName': '00720010',\n    'SourceHangingProtocolSequence': '00720012',\n    'NumberOfPriorsReferenced': '00720014',\n    'ImageSetsSequence': '00720020',\n    'ImageSetSelectorSequence': '00720022',\n    'ImageSetSelectorUsageFlag': '00720024',\n    'SelectorAttribute': '00720026',\n    'SelectorValueNumber': '00720028',\n    'TimeBasedImageSetsSequence': '00720030',\n    'ImageSetNumber': '00720032',\n    'ImageSetSelectorCategory': '00720034',\n    'RelativeTime': '00720038',\n    'RelativeTimeUnits': '0072003A',\n    'AbstractPriorValue': '0072003C',\n    'AbstractPriorCodeSequence': '0072003E',\n    'ImageSetLabel': '00720040',\n    'SelectorAttributeVR': '00720050',\n    'SelectorSequencePointer': '00720052',\n    'SelectorSequencePointerPrivateCreator': '00720054',\n    'SelectorAttributePrivateCreator': '00720056',\n    'SelectorAEValue': '0072005E',\n    'SelectorASValue': '0072005F',\n    'SelectorATValue': '00720060',\n    'SelectorDAValue': '00720061',\n    'SelectorCSValue': '00720062',\n    'SelectorDTValue': '00720063',\n    'SelectorISValue': '00720064',\n    'SelectorOBValue': '00720065',\n    'SelectorLOValue': '00720066',\n    'SelectorOFValue': '00720067',\n    'SelectorLTValue': '00720068',\n    'SelectorOWValue': '00720069',\n    'SelectorPNValue': '0072006A',\n    'SelectorTMValue': '0072006B',\n    'SelectorSHValue': '0072006C',\n    'SelectorUNValue': '0072006D',\n    'SelectorSTValue': '0072006E',\n    'SelectorUCValue': '0072006F',\n    'SelectorUTValue': '00720070',\n    'SelectorURValue': '00720071',\n    'SelectorDSValue': '00720072',\n    'SelectorODValue': '00720073',\n    'SelectorFDValue': '00720074',\n    'SelectorOLValue': '00720075',\n    'SelectorFLValue': '00720076',\n    'SelectorULValue': '00720078',\n    'SelectorUSValue': '0072007A',\n    'SelectorSLValue': '0072007C',\n    'SelectorSSValue': '0072007E',\n    'SelectorUIValue': '0072007F',\n    'SelectorCodeSequenceValue': '00720080',\n    'NumberOfScreens': '00720100',\n    'NominalScreenDefinitionSequence': '00720102',\n    'NumberOfVerticalPixels': '00720104',\n    'NumberOfHorizontalPixels': '00720106',\n    'DisplayEnvironmentSpatialPosition': '00720108',\n    'ScreenMinimumGrayscaleBitDepth': '0072010A',\n    'ScreenMinimumColorBitDepth': '0072010C',\n    'ApplicationMaximumRepaintTime': '0072010E',\n    'DisplaySetsSequence': '00720200',\n    'DisplaySetNumber': '00720202',\n    'DisplaySetLabel': '00720203',\n    'DisplaySetPresentationGroup': '00720204',\n    'DisplaySetPresentationGroupDescription': '00720206',\n    'PartialDataDisplayHandling': '00720208',\n    'SynchronizedScrollingSequence': '00720210',\n    'DisplaySetScrollingGroup': '00720212',\n    'NavigationIndicatorSequence': '00720214',\n    'NavigationDisplaySet': '00720216',\n    'ReferenceDisplaySets': '00720218',\n    'ImageBoxesSequence': '00720300',\n    'ImageBoxNumber': '00720302',\n    'ImageBoxLayoutType': '00720304',\n    'ImageBoxTileHorizontalDimension': '00720306',\n    'ImageBoxTileVerticalDimension': '00720308',\n    'ImageBoxScrollDirection': '00720310',\n    'ImageBoxSmallScrollType': '00720312',\n    'ImageBoxSmallScrollAmount': '00720314',\n    'ImageBoxLargeScrollType': '00720316',\n    'ImageBoxLargeScrollAmount': '00720318',\n    'ImageBoxOverlapPriority': '00720320',\n    'CineRelativeToRealTime': '00720330',\n    'FilterOperationsSequence': '00720400',\n    'FilterByCategory': '00720402',\n    'FilterByAttributePresence': '00720404',\n    'FilterByOperator': '00720406',\n    'StructuredDisplayBackgroundCIELabValue': '00720420',\n    'EmptyImageBoxCIELabValue': '00720421',\n    'StructuredDisplayImageBoxSequence': '00720422',\n    'StructuredDisplayTextBoxSequence': '00720424',\n    'ReferencedFirstFrameSequence': '00720427',\n    'ImageBoxSynchronizationSequence': '00720430',\n    'SynchronizedImageBoxList': '00720432',\n    'TypeOfSynchronization': '00720434',\n    'BlendingOperationType': '00720500',\n    'ReformattingOperationType': '00720510',\n    'ReformattingThickness': '00720512',\n    'ReformattingInterval': '00720514',\n    'ReformattingOperationInitialViewDirection': '00720516',\n    'ThreeDRenderingType': '00720520',\n    'SortingOperationsSequence': '00720600',\n    'SortByCategory': '00720602',\n    'SortingDirection': '00720604',\n    'DisplaySetPatientOrientation': '00720700',\n    'VOIType': '00720702',\n    'PseudoColorType': '00720704',\n    'PseudoColorPaletteInstanceReferenceSequence': '00720705',\n    'ShowGrayscaleInverted': '00720706',\n    'ShowImageTrueSizeFlag': '00720710',\n    'ShowGraphicAnnotationFlag': '00720712',\n    'ShowPatientDemographicsFlag': '00720714',\n    'ShowAcquisitionTechniquesFlag': '00720716',\n    'DisplaySetHorizontalJustification': '00720717',\n    'DisplaySetVerticalJustification': '00720718',\n    'ContinuationStartMeterset': '00740120',\n    'ContinuationEndMeterset': '00740121',\n    'ProcedureStepState': '00741000',\n    'ProcedureStepProgressInformationSequence': '00741002',\n    'ProcedureStepProgress': '00741004',\n    'ProcedureStepProgressDescription': '00741006',\n    'ProcedureStepProgressParametersSequence': '00741007',\n    'ProcedureStepCommunicationsURISequence': '00741008',\n    'ContactURI': '0074100A',\n    'ContactDisplayName': '0074100C',\n    'ProcedureStepDiscontinuationReasonCodeSequence': '0074100E',\n    'BeamTaskSequence': '00741020',\n    'BeamTaskType': '00741022',\n    'BeamOrderIndexTrial': '00741024',\n    'AutosequenceFlag': '00741025',\n    'TableTopVerticalAdjustedPosition': '00741026',\n    'TableTopLongitudinalAdjustedPosition': '00741027',\n    'TableTopLateralAdjustedPosition': '00741028',\n    'PatientSupportAdjustedAngle': '0074102A',\n    'TableTopEccentricAdjustedAngle': '0074102B',\n    'TableTopPitchAdjustedAngle': '0074102C',\n    'TableTopRollAdjustedAngle': '0074102D',\n    'DeliveryVerificationImageSequence': '00741030',\n    'VerificationImageTiming': '00741032',\n    'DoubleExposureFlag': '00741034',\n    'DoubleExposureOrdering': '00741036',\n    'DoubleExposureMetersetTrial': '00741038',\n    'DoubleExposureFieldDeltaTrial': '0074103A',\n    'RelatedReferenceRTImageSequence': '00741040',\n    'GeneralMachineVerificationSequence': '00741042',\n    'ConventionalMachineVerificationSequence': '00741044',\n    'IonMachineVerificationSequence': '00741046',\n    'FailedAttributesSequence': '00741048',\n    'OverriddenAttributesSequence': '0074104A',\n    'ConventionalControlPointVerificationSequence': '0074104C',\n    'IonControlPointVerificationSequence': '0074104E',\n    'AttributeOccurrenceSequence': '00741050',\n    'AttributeOccurrencePointer': '00741052',\n    'AttributeItemSelector': '00741054',\n    'AttributeOccurrencePrivateCreator': '00741056',\n    'SelectorSequencePointerItems': '00741057',\n    'ScheduledProcedureStepPriority': '00741200',\n    'WorklistLabel': '00741202',\n    'ProcedureStepLabel': '00741204',\n    'ScheduledProcessingParametersSequence': '00741210',\n    'PerformedProcessingParametersSequence': '00741212',\n    'UnifiedProcedureStepPerformedProcedureSequence': '00741216',\n    'RelatedProcedureStepSequence': '00741220',\n    'ProcedureStepRelationshipType': '00741222',\n    'ReplacedProcedureStepSequence': '00741224',\n    'DeletionLock': '00741230',\n    'ReceivingAE': '00741234',\n    'RequestingAE': '00741236',\n    'ReasonForCancellation': '00741238',\n    'SCPStatus': '00741242',\n    'SubscriptionListStatus': '00741244',\n    'UnifiedProcedureStepListStatus': '00741246',\n    'BeamOrderIndex': '00741324',\n    'DoubleExposureMeterset': '00741338',\n    'DoubleExposureFieldDelta': '0074133A',\n    'BrachyTaskSequence': '00741401',\n    'ContinuationStartTotalReferenceAirKerma': '00741402',\n    'ContinuationEndTotalReferenceAirKerma': '00741403',\n    'ContinuationPulseNumber': '00741404',\n    'ChannelDeliveryOrderSequence': '00741405',\n    'ReferencedChannelNumber': '00741406',\n    'StartCumulativeTimeWeight': '00741407',\n    'EndCumulativeTimeWeight': '00741408',\n    'OmittedChannelSequence': '00741409',\n    'ReasonForChannelOmission': '0074140A',\n    'ReasonForChannelOmissionDescription': '0074140B',\n    'ChannelDeliveryOrderIndex': '0074140C',\n    'ChannelDeliveryContinuationSequence': '0074140D',\n    'OmittedApplicationSetupSequence': '0074140E',\n    'ImplantAssemblyTemplateName': '00760001',\n    'ImplantAssemblyTemplateIssuer': '00760003',\n    'ImplantAssemblyTemplateVersion': '00760006',\n    'ReplacedImplantAssemblyTemplateSequence': '00760008',\n    'ImplantAssemblyTemplateType': '0076000A',\n    'OriginalImplantAssemblyTemplateSequence': '0076000C',\n    'DerivationImplantAssemblyTemplateSequence': '0076000E',\n    'ImplantAssemblyTemplateTargetAnatomySequence': '00760010',\n    'ProcedureTypeCodeSequence': '00760020',\n    'SurgicalTechnique': '00760030',\n    'ComponentTypesSequence': '00760032',\n    'ComponentTypeCodeSequence': '00760034',\n    'ExclusiveComponentType': '00760036',\n    'MandatoryComponentType': '00760038',\n    'ComponentSequence': '00760040',\n    'ComponentID': '00760055',\n    'ComponentAssemblySequence': '00760060',\n    '00760070': ('Component1ReferencedID'),\n    '00760080': ('Component1ReferencedMatingFeatureSetID'),\n    '00760090': ('Component1ReferencedMatingFeatureID'),\n    '007600A0': ('Component2ReferencedID'),\n    '007600B0': ('Component2ReferencedMatingFeatureSetID'),\n    '007600C0': ('Component2ReferencedMatingFeatureID'),\n    'ImplantTemplateGroupName': '00780001',\n    'ImplantTemplateGroupDescription': '00780010',\n    'ImplantTemplateGroupIssuer': '00780020',\n    'ImplantTemplateGroupVersion': '00780024',\n    'ReplacedImplantTemplateGroupSequence': '00780026',\n    'ImplantTemplateGroupTargetAnatomySequence': '00780028',\n    'ImplantTemplateGroupMembersSequence': '0078002A',\n    'ImplantTemplateGroupMemberID': '0078002E',\n    'ThreeDImplantTemplateGroupMemberMatchingPoint': '00780050',\n    'ThreeDImplantTemplateGroupMemberMatchingAxes': '00780060',\n    '00780070': ('ImplantTemplateGroupMemberMatching2DCoordinatesSequence'),\n    'TwoDImplantTemplateGroupMemberMatchingPoint': '00780090',\n    'TwoDImplantTemplateGroupMemberMatchingAxes': '007800A0',\n    'ImplantTemplateGroupVariationDimensionSequence': '007800B0',\n    'ImplantTemplateGroupVariationDimensionName': '007800B2',\n    'ImplantTemplateGroupVariationDimensionRankSequence': '007800B4',\n    'ReferencedImplantTemplateGroupMemberID': '007800B6',\n    'ImplantTemplateGroupVariationDimensionRank': '007800B8',\n    'SurfaceScanAcquisitionTypeCodeSequence': '00800001',\n    'SurfaceScanModeCodeSequence': '00800002',\n    'RegistrationMethodCodeSequence': '00800003',\n    'ShotDurationTime': '00800004',\n    'ShotOffsetTime': '00800005',\n    'SurfacePointPresentationValueData': '00800006',\n    'SurfacePointColorCIELabValueData': '00800007',\n    'UVMappingSequence': '00800008',\n    'TextureLabel': '00800009',\n    'UValueData': '00800010',\n    'VValueData': '00800011',\n    'ReferencedTextureSequence': '00800012',\n    'ReferencedSurfaceDataSequence': '00800013',\n    'AssessmentSummary': '00820001',\n    'AssessmentSummaryDescription': '00820003',\n    'AssessedSOPInstanceSequence': '00820004',\n    'ReferencedComparisonSOPInstanceSequence': '00820005',\n    'NumberOfAssessmentObservations': '00820006',\n    'AssessmentObservationsSequence': '00820007',\n    'ObservationSignificance': '00820008',\n    'ObservationDescription': '0082000A',\n    'StructuredConstraintObservationSequence': '0082000C',\n    'AssessedAttributeValueSequence': '00820010',\n    'AssessmentSetID': '00820016',\n    'AssessmentRequesterSequence': '00820017',\n    'SelectorAttributeName': '00820018',\n    'SelectorAttributeKeyword': '00820019',\n    'AssessmentTypeCodeSequence': '00820021',\n    'ObservationBasisCodeSequence': '00820022',\n    'AssessmentLabel': '00820023',\n    'ConstraintType': '00820032',\n    'SpecificationSelectionGuidance': '00820033',\n    'ConstraintValueSequence': '00820034',\n    'RecommendedDefaultValueSequence': '00820035',\n    'ConstraintViolationSignificance': '00820036',\n    'ConstraintViolationCondition': '00820037',\n    'ModifiableConstraintFlag': '00820038',\n    'StorageMediaFileSetID': '00880130',\n    'StorageMediaFileSetUID': '00880140',\n    'IconImageSequence': '00880200',\n    'TopicTitle': '00880904',\n    'TopicSubject': '00880906',\n    'TopicAuthor': '00880910',\n    'TopicKeywords': '00880912',\n    'SOPInstanceStatus': '01000410',\n    'SOPAuthorizationDateTime': '01000420',\n    'SOPAuthorizationComment': '01000424',\n    'AuthorizationEquipmentCertificationNumber': '01000426',\n    'MACIDNumber': '04000005',\n    'MACCalculationTransferSyntaxUID': '04000010',\n    'MACAlgorithm': '04000015',\n    'DataElementsSigned': '04000020',\n    'DigitalSignatureUID': '04000100',\n    'DigitalSignatureDateTime': '04000105',\n    'CertificateType': '04000110',\n    'CertificateOfSigner': '04000115',\n    'Signature': '04000120',\n    'CertifiedTimestampType': '04000305',\n    'CertifiedTimestamp': '04000310',\n    '': '04000315',\n    'DigitalSignaturePurposeCodeSequence': '04000401',\n    'ReferencedDigitalSignatureSequence': '04000402',\n    'ReferencedSOPInstanceMACSequence': '04000403',\n    'MAC': '04000404',\n    'EncryptedAttributesSequence': '04000500',\n    'EncryptedContentTransferSyntaxUID': '04000510',\n    'EncryptedContent': '04000520',\n    'ModifiedAttributesSequence': '04000550',\n    'OriginalAttributesSequence': '04000561',\n    'AttributeModificationDateTime': '04000562',\n    'ModifyingSystem': '04000563',\n    'SourceOfPreviousValues': '04000564',\n    'ReasonForTheAttributeModification': '04000565',\n    'InstanceOriginStatus': '04000600',\n    'NumberOfCopies': '20000010',\n    'PrinterConfigurationSequence': '2000001E',\n    'PrintPriority': '20000020',\n    'MediumType': '20000030',\n    'FilmDestination': '20000040',\n    'FilmSessionLabel': '20000050',\n    'MemoryAllocation': '20000060',\n    'MaximumMemoryAllocation': '20000061',\n    'ColorImagePrintingFlag': '20000062',\n    'CollationFlag': '20000063',\n    'AnnotationFlag': '20000065',\n    'ImageOverlayFlag': '20000067',\n    'PresentationLUTFlag': '20000069',\n    'ImageBoxPresentationLUTFlag': '2000006A',\n    'MemoryBitDepth': '200000A0',\n    'PrintingBitDepth': '200000A1',\n    'MediaInstalledSequence': '200000A2',\n    'OtherMediaAvailableSequence': '200000A4',\n    'SupportedImageDisplayFormatsSequence': '200000A8',\n    'ReferencedFilmBoxSequence': '20000500',\n    'ReferencedStoredPrintSequence': '20000510',\n    'ImageDisplayFormat': '20100010',\n    'AnnotationDisplayFormatID': '20100030',\n    'FilmOrientation': '20100040',\n    'FilmSizeID': '20100050',\n    'PrinterResolutionID': '20100052',\n    'DefaultPrinterResolutionID': '20100054',\n    'MagnificationType': '20100060',\n    'SmoothingType': '20100080',\n    'DefaultMagnificationType': '201000A6',\n    'OtherMagnificationTypesAvailable': '201000A7',\n    'DefaultSmoothingType': '201000A8',\n    'OtherSmoothingTypesAvailable': '201000A9',\n    'BorderDensity': '20100100',\n    'EmptyImageDensity': '20100110',\n    'MinDensity': '20100120',\n    'MaxDensity': '20100130',\n    'Trim': '20100140',\n    'ConfigurationInformation': '20100150',\n    'ConfigurationInformationDescription': '20100152',\n    'MaximumCollatedFilms': '20100154',\n    'Illumination': '2010015E',\n    'ReflectedAmbientLight': '20100160',\n    'PrinterPixelSpacing': '20100376',\n    'ReferencedFilmSessionSequence': '20100500',\n    'ReferencedImageBoxSequence': '20100510',\n    'ReferencedBasicAnnotationBoxSequence': '20100520',\n    'ImageBoxPosition': '20200010',\n    'Polarity': '20200020',\n    'RequestedImageSize': '20200030',\n    'RequestedDecimateCropBehavior': '20200040',\n    'RequestedResolutionID': '20200050',\n    'RequestedImageSizeFlag': '202000A0',\n    'DecimateCropResult': '202000A2',\n    'BasicGrayscaleImageSequence': '20200110',\n    'BasicColorImageSequence': '20200111',\n    'ReferencedImageOverlayBoxSequence': '20200130',\n    'ReferencedVOILUTBoxSequence': '20200140',\n    'AnnotationPosition': '20300010',\n    'TextString': '20300020',\n    'ReferencedOverlayPlaneSequence': '20400010',\n    'ReferencedOverlayPlaneGroups': '20400011',\n    'OverlayPixelDataSequence': '20400020',\n    'OverlayMagnificationType': '20400060',\n    'OverlaySmoothingType': '20400070',\n    'OverlayOrImageMagnification': '20400072',\n    'MagnifyToNumberOfColumns': '20400074',\n    'OverlayForegroundDensity': '20400080',\n    'OverlayBackgroundDensity': '20400082',\n    'OverlayMode': '20400090',\n    'ThresholdDensity': '20400100',\n    'ReferencedImageBoxSequenceRetired': '20400500',\n    'PresentationLUTSequence': '20500010',\n    'PresentationLUTShape': '20500020',\n    'ReferencedPresentationLUTSequence': '20500500',\n    'PrintJobID': '21000010',\n    'ExecutionStatus': '21000020',\n    'ExecutionStatusInfo': '21000030',\n    'CreationDate': '21000040',\n    'CreationTime': '21000050',\n    'Originator': '21000070',\n    'DestinationAE': '21000140',\n    'OwnerID': '21000160',\n    'NumberOfFilms': '21000170',\n    'ReferencedPrintJobSequencePullStoredPrint': '21000500',\n    'PrinterStatus': '21100010',\n    'PrinterStatusInfo': '21100020',\n    'PrinterName': '21100030',\n    'PrintQueueID': '21100099',\n    'QueueStatus': '21200010',\n    'PrintJobDescriptionSequence': '21200050',\n    'ReferencedPrintJobSequence': '21200070',\n    'PrintManagementCapabilitiesSequence': '21300010',\n    'PrinterCharacteristicsSequence': '21300015',\n    'FilmBoxContentSequence': '21300030',\n    'ImageBoxContentSequence': '21300040',\n    'AnnotationContentSequence': '21300050',\n    'ImageOverlayBoxContentSequence': '21300060',\n    'PresentationLUTContentSequence': '21300080',\n    'ProposedStudySequence': '213000A0',\n    'OriginalImageSequence': '213000C0',\n    'LabelUsingInformationExtractedFromInstances': '22000001',\n    'LabelText': '22000002',\n    'LabelStyleSelection': '22000003',\n    'MediaDisposition': '22000004',\n    'BarcodeValue': '22000005',\n    'BarcodeSymbology': '22000006',\n    'AllowMediaSplitting': '22000007',\n    'IncludeNonDICOMObjects': '22000008',\n    'IncludeDisplayApplication': '22000009',\n    'PreserveCompositeInstancesAfterMediaCreation': '2200000A',\n    'TotalNumberOfPiecesOfMediaCreated': '2200000B',\n    'RequestedMediaApplicationProfile': '2200000C',\n    'ReferencedStorageMediaSequence': '2200000D',\n    'FailureAttributes': '2200000E',\n    'AllowLossyCompression': '2200000F',\n    'RequestPriority': '22000020',\n    'RTImageLabel': '30020002',\n    'RTImageName': '30020003',\n    'RTImageDescription': '30020004',\n    'ReportedValuesOrigin': '3002000A',\n    'RTImagePlane': '3002000C',\n    'XRayImageReceptorTranslation': '3002000D',\n    'XRayImageReceptorAngle': '3002000E',\n    'RTImageOrientation': '30020010',\n    'ImagePlanePixelSpacing': '30020011',\n    'RTImagePosition': '30020012',\n    'RadiationMachineName': '30020020',\n    'RadiationMachineSAD': '30020022',\n    'RadiationMachineSSD': '30020024',\n    'RTImageSID': '30020026',\n    'SourceToReferenceObjectDistance': '30020028',\n    'FractionNumber': '30020029',\n    'ExposureSequence': '30020030',\n    'MetersetExposure': '30020032',\n    'DiaphragmPosition': '30020034',\n    'FluenceMapSequence': '30020040',\n    'FluenceDataSource': '30020041',\n    'FluenceDataScale': '30020042',\n    'PrimaryFluenceModeSequence': '30020050',\n    'FluenceMode': '30020051',\n    'FluenceModeID': '30020052',\n    'DVHType': '30040001',\n    'DoseUnits': '30040002',\n    'DoseType': '30040004',\n    'SpatialTransformOfDose': '30040005',\n    'DoseComment': '30040006',\n    'NormalizationPoint': '30040008',\n    'DoseSummationType': '3004000A',\n    'GridFrameOffsetVector': '3004000C',\n    'DoseGridScaling': '3004000E',\n    'RTDoseROISequence': '30040010',\n    'DoseValue': '30040012',\n    'TissueHeterogeneityCorrection': '30040014',\n    'DVHNormalizationPoint': '30040040',\n    'DVHNormalizationDoseValue': '30040042',\n    'DVHSequence': '30040050',\n    'DVHDoseScaling': '30040052',\n    'DVHVolumeUnits': '30040054',\n    'DVHNumberOfBins': '30040056',\n    'DVHData': '30040058',\n    'DVHReferencedROISequence': '30040060',\n    'DVHROIContributionType': '30040062',\n    'DVHMinimumDose': '30040070',\n    'DVHMaximumDose': '30040072',\n    'DVHMeanDose': '30040074',\n    'StructureSetLabel': '30060002',\n    'StructureSetName': '30060004',\n    'StructureSetDescription': '30060006',\n    'StructureSetDate': '30060008',\n    'StructureSetTime': '30060009',\n    'ReferencedFrameOfReferenceSequence': '30060010',\n    'RTReferencedStudySequence': '30060012',\n    'RTReferencedSeriesSequence': '30060014',\n    'ContourImageSequence': '30060016',\n    'PredecessorStructureSetSequence': '30060018',\n    'StructureSetROISequence': '30060020',\n    'ROINumber': '30060022',\n    'ReferencedFrameOfReferenceUID': '30060024',\n    'ROIName': '30060026',\n    'ROIDescription': '30060028',\n    'ROIDisplayColor': '3006002A',\n    'ROIVolume': '3006002C',\n    'RTRelatedROISequence': '30060030',\n    'RTROIRelationship': '30060033',\n    'ROIGenerationAlgorithm': '30060036',\n    'ROIGenerationDescription': '30060038',\n    'ROIContourSequence': '30060039',\n    'ContourSequence': '30060040',\n    'ContourGeometricType': '30060042',\n    'ContourSlabThickness': '30060044',\n    'ContourOffsetVector': '30060045',\n    'NumberOfContourPoints': '30060046',\n    'ContourNumber': '30060048',\n    'AttachedContours': '30060049',\n    'ContourData': '30060050',\n    'RTROIObservationsSequence': '30060080',\n    'ObservationNumber': '30060082',\n    'ReferencedROINumber': '30060084',\n    'ROIObservationLabel': '30060085',\n    'RTROIIdentificationCodeSequence': '30060086',\n    'ROIObservationDescription': '30060088',\n    'RelatedRTROIObservationsSequence': '300600A0',\n    'RTROIInterpretedType': '300600A4',\n    'ROIInterpreter': '300600A6',\n    'ROIPhysicalPropertiesSequence': '300600B0',\n    'ROIPhysicalProperty': '300600B2',\n    'ROIPhysicalPropertyValue': '300600B4',\n    'ROIElementalCompositionSequence': '300600B6',\n    'ROIElementalCompositionAtomicNumber': '300600B7',\n    'ROIElementalCompositionAtomicMassFraction': '300600B8',\n    'AdditionalRTROIIdentificationCodeSequence': '300600B9',\n    'FrameOfReferenceRelationshipSequence': '300600C0',\n    'RelatedFrameOfReferenceUID': '300600C2',\n    'FrameOfReferenceTransformationType': '300600C4',\n    'FrameOfReferenceTransformationMatrix': '300600C6',\n    'FrameOfReferenceTransformationComment': '300600C8',\n    'MeasuredDoseReferenceSequence': '30080010',\n    'MeasuredDoseDescription': '30080012',\n    'MeasuredDoseType': '30080014',\n    'MeasuredDoseValue': '30080016',\n    'TreatmentSessionBeamSequence': '30080020',\n    'TreatmentSessionIonBeamSequence': '30080021',\n    'CurrentFractionNumber': '30080022',\n    'TreatmentControlPointDate': '30080024',\n    'TreatmentControlPointTime': '30080025',\n    'TreatmentTerminationStatus': '3008002A',\n    'TreatmentTerminationCode': '3008002B',\n    'TreatmentVerificationStatus': '3008002C',\n    'ReferencedTreatmentRecordSequence': '30080030',\n    'SpecifiedPrimaryMeterset': '30080032',\n    'SpecifiedSecondaryMeterset': '30080033',\n    'DeliveredPrimaryMeterset': '30080036',\n    'DeliveredSecondaryMeterset': '30080037',\n    'SpecifiedTreatmentTime': '3008003A',\n    'DeliveredTreatmentTime': '3008003B',\n    'ControlPointDeliverySequence': '30080040',\n    'IonControlPointDeliverySequence': '30080041',\n    'SpecifiedMeterset': '30080042',\n    'DeliveredMeterset': '30080044',\n    'MetersetRateSet': '30080045',\n    'MetersetRateDelivered': '30080046',\n    'ScanSpotMetersetsDelivered': '30080047',\n    'DoseRateDelivered': '30080048',\n    'TreatmentSummaryCalculatedDoseReferenceSequence': '30080050',\n    'CumulativeDoseToDoseReference': '30080052',\n    'FirstTreatmentDate': '30080054',\n    'MostRecentTreatmentDate': '30080056',\n    'NumberOfFractionsDelivered': '3008005A',\n    'OverrideSequence': '30080060',\n    'ParameterSequencePointer': '30080061',\n    'OverrideParameterPointer': '30080062',\n    'ParameterItemIndex': '30080063',\n    'MeasuredDoseReferenceNumber': '30080064',\n    'ParameterPointer': '30080065',\n    'OverrideReason': '30080066',\n    'ParameterValueNumber': '30080067',\n    'CorrectedParameterSequence': '30080068',\n    'CorrectionValue': '3008006A',\n    'CalculatedDoseReferenceSequence': '30080070',\n    'CalculatedDoseReferenceNumber': '30080072',\n    'CalculatedDoseReferenceDescription': '30080074',\n    'CalculatedDoseReferenceDoseValue': '30080076',\n    'StartMeterset': '30080078',\n    'EndMeterset': '3008007A',\n    'ReferencedMeasuredDoseReferenceSequence': '30080080',\n    'ReferencedMeasuredDoseReferenceNumber': '30080082',\n    'ReferencedCalculatedDoseReferenceSequence': '30080090',\n    'ReferencedCalculatedDoseReferenceNumber': '30080092',\n    'BeamLimitingDeviceLeafPairsSequence': '300800A0',\n    'RecordedWedgeSequence': '300800B0',\n    'RecordedCompensatorSequence': '300800C0',\n    'RecordedBlockSequence': '300800D0',\n    'TreatmentSummaryMeasuredDoseReferenceSequence': '300800E0',\n    'RecordedSnoutSequence': '300800F0',\n    'RecordedRangeShifterSequence': '300800F2',\n    'RecordedLateralSpreadingDeviceSequence': '300800F4',\n    'RecordedRangeModulatorSequence': '300800F6',\n    'RecordedSourceSequence': '30080100',\n    'SourceSerialNumber': '30080105',\n    'TreatmentSessionApplicationSetupSequence': '30080110',\n    'ApplicationSetupCheck': '30080116',\n    'RecordedBrachyAccessoryDeviceSequence': '30080120',\n    'ReferencedBrachyAccessoryDeviceNumber': '30080122',\n    'RecordedChannelSequence': '30080130',\n    'SpecifiedChannelTotalTime': '30080132',\n    'DeliveredChannelTotalTime': '30080134',\n    'SpecifiedNumberOfPulses': '30080136',\n    'DeliveredNumberOfPulses': '30080138',\n    'SpecifiedPulseRepetitionInterval': '3008013A',\n    'DeliveredPulseRepetitionInterval': '3008013C',\n    'RecordedSourceApplicatorSequence': '30080140',\n    'ReferencedSourceApplicatorNumber': '30080142',\n    'RecordedChannelShieldSequence': '30080150',\n    'ReferencedChannelShieldNumber': '30080152',\n    'BrachyControlPointDeliveredSequence': '30080160',\n    'SafePositionExitDate': '30080162',\n    'SafePositionExitTime': '30080164',\n    'SafePositionReturnDate': '30080166',\n    'SafePositionReturnTime': '30080168',\n    'PulseSpecificBrachyControlPointDeliveredSequence': '30080171',\n    'PulseNumber': '30080172',\n    'BrachyPulseControlPointDeliveredSequence': '30080173',\n    'CurrentTreatmentStatus': '30080200',\n    'TreatmentStatusComment': '30080202',\n    'FractionGroupSummarySequence': '30080220',\n    'ReferencedFractionNumber': '30080223',\n    'FractionGroupType': '30080224',\n    'BeamStopperPosition': '30080230',\n    'FractionStatusSummarySequence': '30080240',\n    'TreatmentDate': '30080250',\n    'TreatmentTime': '30080251',\n    'RTPlanLabel': '300A0002',\n    'RTPlanName': '300A0003',\n    'RTPlanDescription': '300A0004',\n    'RTPlanDate': '300A0006',\n    'RTPlanTime': '300A0007',\n    'TreatmentProtocols': '300A0009',\n    'PlanIntent': '300A000A',\n    'TreatmentSites': '300A000B',\n    'RTPlanGeometry': '300A000C',\n    'PrescriptionDescription': '300A000E',\n    'DoseReferenceSequence': '300A0010',\n    'DoseReferenceNumber': '300A0012',\n    'DoseReferenceUID': '300A0013',\n    'DoseReferenceStructureType': '300A0014',\n    'NominalBeamEnergyUnit': '300A0015',\n    'DoseReferenceDescription': '300A0016',\n    'DoseReferencePointCoordinates': '300A0018',\n    'NominalPriorDose': '300A001A',\n    'DoseReferenceType': '300A0020',\n    'ConstraintWeight': '300A0021',\n    'DeliveryWarningDose': '300A0022',\n    'DeliveryMaximumDose': '300A0023',\n    'TargetMinimumDose': '300A0025',\n    'TargetPrescriptionDose': '300A0026',\n    'TargetMaximumDose': '300A0027',\n    'TargetUnderdoseVolumeFraction': '300A0028',\n    'OrganAtRiskFullVolumeDose': '300A002A',\n    'OrganAtRiskLimitDose': '300A002B',\n    'OrganAtRiskMaximumDose': '300A002C',\n    'OrganAtRiskOverdoseVolumeFraction': '300A002D',\n    'ToleranceTableSequence': '300A0040',\n    'ToleranceTableNumber': '300A0042',\n    'ToleranceTableLabel': '300A0043',\n    'GantryAngleTolerance': '300A0044',\n    'BeamLimitingDeviceAngleTolerance': '300A0046',\n    'BeamLimitingDeviceToleranceSequence': '300A0048',\n    'BeamLimitingDevicePositionTolerance': '300A004A',\n    'SnoutPositionTolerance': '300A004B',\n    'PatientSupportAngleTolerance': '300A004C',\n    'TableTopEccentricAngleTolerance': '300A004E',\n    'TableTopPitchAngleTolerance': '300A004F',\n    'TableTopRollAngleTolerance': '300A0050',\n    'TableTopVerticalPositionTolerance': '300A0051',\n    'TableTopLongitudinalPositionTolerance': '300A0052',\n    'TableTopLateralPositionTolerance': '300A0053',\n    'RTPlanRelationship': '300A0055',\n    'FractionGroupSequence': '300A0070',\n    'FractionGroupNumber': '300A0071',\n    'FractionGroupDescription': '300A0072',\n    'NumberOfFractionsPlanned': '300A0078',\n    'NumberOfFractionPatternDigitsPerDay': '300A0079',\n    'RepeatFractionCycleLength': '300A007A',\n    'FractionPattern': '300A007B',\n    'NumberOfBeams': '300A0080',\n    'BeamDoseSpecificationPoint': '300A0082',\n    'ReferencedDoseReferenceUID': '300A0083',\n    'BeamDose': '300A0084',\n    'BeamMeterset': '300A0086',\n    'BeamDosePointDepth': '300A0088',\n    'BeamDosePointEquivalentDepth': '300A0089',\n    'BeamDosePointSSD': '300A008A',\n    'BeamDoseMeaning': '300A008B',\n    'BeamDoseVerificationControlPointSequence': '300A008C',\n    'AverageBeamDosePointDepth': '300A008D',\n    'AverageBeamDosePointEquivalentDepth': '300A008E',\n    'AverageBeamDosePointSSD': '300A008F',\n    'BeamDoseType': '300A0090',\n    'AlternateBeamDose': '300A0091',\n    'AlternateBeamDoseType': '300A0092',\n    'DepthValueAveragingFlag': '300A0093',\n    'BeamDosePointSourceToExternalContourDistance': '300A0094',\n    'NumberOfBrachyApplicationSetups': '300A00A0',\n    'BrachyApplicationSetupDoseSpecificationPoint': '300A00A2',\n    'BrachyApplicationSetupDose': '300A00A4',\n    'BeamSequence': '300A00B0',\n    'TreatmentMachineName': '300A00B2',\n    'PrimaryDosimeterUnit': '300A00B3',\n    'SourceAxisDistance': '300A00B4',\n    'BeamLimitingDeviceSequence': '300A00B6',\n    'RTBeamLimitingDeviceType': '300A00B8',\n    'SourceToBeamLimitingDeviceDistance': '300A00BA',\n    'IsocenterToBeamLimitingDeviceDistance': '300A00BB',\n    'NumberOfLeafJawPairs': '300A00BC',\n    'LeafPositionBoundaries': '300A00BE',\n    'BeamNumber': '300A00C0',\n    'BeamName': '300A00C2',\n    'BeamDescription': '300A00C3',\n    'BeamType': '300A00C4',\n    'BeamDeliveryDurationLimit': '300A00C5',\n    'RadiationType': '300A00C6',\n    'HighDoseTechniqueType': '300A00C7',\n    'ReferenceImageNumber': '300A00C8',\n    'PlannedVerificationImageSequence': '300A00CA',\n    'ImagingDeviceSpecificAcquisitionParameters': '300A00CC',\n    'TreatmentDeliveryType': '300A00CE',\n    'NumberOfWedges': '300A00D0',\n    'WedgeSequence': '300A00D1',\n    'WedgeNumber': '300A00D2',\n    'WedgeType': '300A00D3',\n    'WedgeID': '300A00D4',\n    'WedgeAngle': '300A00D5',\n    'WedgeFactor': '300A00D6',\n    'TotalWedgeTrayWaterEquivalentThickness': '300A00D7',\n    'WedgeOrientation': '300A00D8',\n    'IsocenterToWedgeTrayDistance': '300A00D9',\n    'SourceToWedgeTrayDistance': '300A00DA',\n    'WedgeThinEdgePosition': '300A00DB',\n    'BolusID': '300A00DC',\n    'BolusDescription': '300A00DD',\n    'EffectiveWedgeAngle': '300A00DE',\n    'NumberOfCompensators': '300A00E0',\n    'MaterialID': '300A00E1',\n    'TotalCompensatorTrayFactor': '300A00E2',\n    'CompensatorSequence': '300A00E3',\n    'CompensatorNumber': '300A00E4',\n    'CompensatorID': '300A00E5',\n    'SourceToCompensatorTrayDistance': '300A00E6',\n    'CompensatorRows': '300A00E7',\n    'CompensatorColumns': '300A00E8',\n    'CompensatorPixelSpacing': '300A00E9',\n    'CompensatorPosition': '300A00EA',\n    'CompensatorTransmissionData': '300A00EB',\n    'CompensatorThicknessData': '300A00EC',\n    'NumberOfBoli': '300A00ED',\n    'CompensatorType': '300A00EE',\n    'CompensatorTrayID': '300A00EF',\n    'NumberOfBlocks': '300A00F0',\n    'TotalBlockTrayFactor': '300A00F2',\n    'TotalBlockTrayWaterEquivalentThickness': '300A00F3',\n    'BlockSequence': '300A00F4',\n    'BlockTrayID': '300A00F5',\n    'SourceToBlockTrayDistance': '300A00F6',\n    'IsocenterToBlockTrayDistance': '300A00F7',\n    'BlockType': '300A00F8',\n    'AccessoryCode': '300A00F9',\n    'BlockDivergence': '300A00FA',\n    'BlockMountingPosition': '300A00FB',\n    'BlockNumber': '300A00FC',\n    'BlockName': '300A00FE',\n    'BlockThickness': '300A0100',\n    'BlockTransmission': '300A0102',\n    'BlockNumberOfPoints': '300A0104',\n    'BlockData': '300A0106',\n    'ApplicatorSequence': '300A0107',\n    'ApplicatorID': '300A0108',\n    'ApplicatorType': '300A0109',\n    'ApplicatorDescription': '300A010A',\n    'CumulativeDoseReferenceCoefficient': '300A010C',\n    'FinalCumulativeMetersetWeight': '300A010E',\n    'NumberOfControlPoints': '300A0110',\n    'ControlPointSequence': '300A0111',\n    'ControlPointIndex': '300A0112',\n    'NominalBeamEnergy': '300A0114',\n    'DoseRateSet': '300A0115',\n    'WedgePositionSequence': '300A0116',\n    'WedgePosition': '300A0118',\n    'BeamLimitingDevicePositionSequence': '300A011A',\n    'LeafJawPositions': '300A011C',\n    'GantryAngle': '300A011E',\n    'GantryRotationDirection': '300A011F',\n    'BeamLimitingDeviceAngle': '300A0120',\n    'BeamLimitingDeviceRotationDirection': '300A0121',\n    'PatientSupportAngle': '300A0122',\n    'PatientSupportRotationDirection': '300A0123',\n    'TableTopEccentricAxisDistance': '300A0124',\n    'TableTopEccentricAngle': '300A0125',\n    'TableTopEccentricRotationDirection': '300A0126',\n    'TableTopVerticalPosition': '300A0128',\n    'TableTopLongitudinalPosition': '300A0129',\n    'TableTopLateralPosition': '300A012A',\n    'IsocenterPosition': '300A012C',\n    'SurfaceEntryPoint': '300A012E',\n    'SourceToSurfaceDistance': '300A0130',\n    'AverageBeamDosePointSourceToExternalContourDistance': '300A0131',\n    'SourceToExternalContourDistance': '300A0132',\n    'ExternalContourEntryPoint': '300A0133',\n    'CumulativeMetersetWeight': '300A0134',\n    'TableTopPitchAngle': '300A0140',\n    'TableTopPitchRotationDirection': '300A0142',\n    'TableTopRollAngle': '300A0144',\n    'TableTopRollRotationDirection': '300A0146',\n    'HeadFixationAngle': '300A0148',\n    'GantryPitchAngle': '300A014A',\n    'GantryPitchRotationDirection': '300A014C',\n    'GantryPitchAngleTolerance': '300A014E',\n    'FixationEye': '300A0150',\n    'ChairHeadFramePosition': '300A0151',\n    'HeadFixationAngleTolerance': '300A0152',\n    'ChairHeadFramePositionTolerance': '300A0153',\n    'FixationLightAzimuthalAngleTolerance': '300A0154',\n    'FixationLightPolarAngleTolerance': '300A0155',\n    'PatientSetupSequence': '300A0180',\n    'PatientSetupNumber': '300A0182',\n    'PatientSetupLabel': '300A0183',\n    'PatientAdditionalPosition': '300A0184',\n    'FixationDeviceSequence': '300A0190',\n    'FixationDeviceType': '300A0192',\n    'FixationDeviceLabel': '300A0194',\n    'FixationDeviceDescription': '300A0196',\n    'FixationDevicePosition': '300A0198',\n    'FixationDevicePitchAngle': '300A0199',\n    'FixationDeviceRollAngle': '300A019A',\n    'ShieldingDeviceSequence': '300A01A0',\n    'ShieldingDeviceType': '300A01A2',\n    'ShieldingDeviceLabel': '300A01A4',\n    'ShieldingDeviceDescription': '300A01A6',\n    'ShieldingDevicePosition': '300A01A8',\n    'SetupTechnique': '300A01B0',\n    'SetupTechniqueDescription': '300A01B2',\n    'SetupDeviceSequence': '300A01B4',\n    'SetupDeviceType': '300A01B6',\n    'SetupDeviceLabel': '300A01B8',\n    'SetupDeviceDescription': '300A01BA',\n    'SetupDeviceParameter': '300A01BC',\n    'SetupReferenceDescription': '300A01D0',\n    'TableTopVerticalSetupDisplacement': '300A01D2',\n    'TableTopLongitudinalSetupDisplacement': '300A01D4',\n    'TableTopLateralSetupDisplacement': '300A01D6',\n    'BrachyTreatmentTechnique': '300A0200',\n    'BrachyTreatmentType': '300A0202',\n    'TreatmentMachineSequence': '300A0206',\n    'SourceSequence': '300A0210',\n    'SourceNumber': '300A0212',\n    'SourceType': '300A0214',\n    'SourceManufacturer': '300A0216',\n    'ActiveSourceDiameter': '300A0218',\n    'ActiveSourceLength': '300A021A',\n    'SourceModelID': '300A021B',\n    'SourceDescription': '300A021C',\n    'SourceEncapsulationNominalThickness': '300A0222',\n    'SourceEncapsulationNominalTransmission': '300A0224',\n    'SourceIsotopeName': '300A0226',\n    'SourceIsotopeHalfLife': '300A0228',\n    'SourceStrengthUnits': '300A0229',\n    'ReferenceAirKermaRate': '300A022A',\n    'SourceStrength': '300A022B',\n    'SourceStrengthReferenceDate': '300A022C',\n    'SourceStrengthReferenceTime': '300A022E',\n    'ApplicationSetupSequence': '300A0230',\n    'ApplicationSetupType': '300A0232',\n    'ApplicationSetupNumber': '300A0234',\n    'ApplicationSetupName': '300A0236',\n    'ApplicationSetupManufacturer': '300A0238',\n    'TemplateNumber': '300A0240',\n    'TemplateType': '300A0242',\n    'TemplateName': '300A0244',\n    'TotalReferenceAirKerma': '300A0250',\n    'BrachyAccessoryDeviceSequence': '300A0260',\n    'BrachyAccessoryDeviceNumber': '300A0262',\n    'BrachyAccessoryDeviceID': '300A0263',\n    'BrachyAccessoryDeviceType': '300A0264',\n    'BrachyAccessoryDeviceName': '300A0266',\n    'BrachyAccessoryDeviceNominalThickness': '300A026A',\n    'BrachyAccessoryDeviceNominalTransmission': '300A026C',\n    'ChannelEffectiveLength': '300A0271',\n    'ChannelInnerLength': '300A0272',\n    'AfterloaderChannelID': '300A0273',\n    'SourceApplicatorTipLength': '300A0274',\n    'ChannelSequence': '300A0280',\n    'ChannelNumber': '300A0282',\n    'ChannelLength': '300A0284',\n    'ChannelTotalTime': '300A0286',\n    'SourceMovementType': '300A0288',\n    'NumberOfPulses': '300A028A',\n    'PulseRepetitionInterval': '300A028C',\n    'SourceApplicatorNumber': '300A0290',\n    'SourceApplicatorID': '300A0291',\n    'SourceApplicatorType': '300A0292',\n    'SourceApplicatorName': '300A0294',\n    'SourceApplicatorLength': '300A0296',\n    'SourceApplicatorManufacturer': '300A0298',\n    'SourceApplicatorWallNominalThickness': '300A029C',\n    'SourceApplicatorWallNominalTransmission': '300A029E',\n    'SourceApplicatorStepSize': '300A02A0',\n    'TransferTubeNumber': '300A02A2',\n    'TransferTubeLength': '300A02A4',\n    'ChannelShieldSequence': '300A02B0',\n    'ChannelShieldNumber': '300A02B2',\n    'ChannelShieldID': '300A02B3',\n    'ChannelShieldName': '300A02B4',\n    'ChannelShieldNominalThickness': '300A02B8',\n    'ChannelShieldNominalTransmission': '300A02BA',\n    'FinalCumulativeTimeWeight': '300A02C8',\n    'BrachyControlPointSequence': '300A02D0',\n    'ControlPointRelativePosition': '300A02D2',\n    '300A02D4': ('ControlPoint3DPosition'),\n    'CumulativeTimeWeight': '300A02D6',\n    'CompensatorDivergence': '300A02E0',\n    'CompensatorMountingPosition': '300A02E1',\n    'SourceToCompensatorDistance': '300A02E2',\n    'TotalCompensatorTrayWaterEquivalentThickness': '300A02E3',\n    'IsocenterToCompensatorTrayDistance': '300A02E4',\n    'CompensatorColumnOffset': '300A02E5',\n    'IsocenterToCompensatorDistances': '300A02E6',\n    'CompensatorRelativeStoppingPowerRatio': '300A02E7',\n    'CompensatorMillingToolDiameter': '300A02E8',\n    'IonRangeCompensatorSequence': '300A02EA',\n    'CompensatorDescription': '300A02EB',\n    'RadiationMassNumber': '300A0302',\n    'RadiationAtomicNumber': '300A0304',\n    'RadiationChargeState': '300A0306',\n    'ScanMode': '300A0308',\n    'ModulatedScanModeType': '300A0309',\n    'VirtualSourceAxisDistances': '300A030A',\n    'SnoutSequence': '300A030C',\n    'SnoutPosition': '300A030D',\n    'SnoutID': '300A030F',\n    'NumberOfRangeShifters': '300A0312',\n    'RangeShifterSequence': '300A0314',\n    'RangeShifterNumber': '300A0316',\n    'RangeShifterID': '300A0318',\n    'RangeShifterType': '300A0320',\n    'RangeShifterDescription': '300A0322',\n    'NumberOfLateralSpreadingDevices': '300A0330',\n    'LateralSpreadingDeviceSequence': '300A0332',\n    'LateralSpreadingDeviceNumber': '300A0334',\n    'LateralSpreadingDeviceID': '300A0336',\n    'LateralSpreadingDeviceType': '300A0338',\n    'LateralSpreadingDeviceDescription': '300A033A',\n    'LateralSpreadingDeviceWaterEquivalentThickness': '300A033C',\n    'NumberOfRangeModulators': '300A0340',\n    'RangeModulatorSequence': '300A0342',\n    'RangeModulatorNumber': '300A0344',\n    'RangeModulatorID': '300A0346',\n    'RangeModulatorType': '300A0348',\n    'RangeModulatorDescription': '300A034A',\n    'BeamCurrentModulationID': '300A034C',\n    'PatientSupportType': '300A0350',\n    'PatientSupportID': '300A0352',\n    'PatientSupportAccessoryCode': '300A0354',\n    'TrayAccessoryCode': '300A0355',\n    'FixationLightAzimuthalAngle': '300A0356',\n    'FixationLightPolarAngle': '300A0358',\n    'MetersetRate': '300A035A',\n    'RangeShifterSettingsSequence': '300A0360',\n    'RangeShifterSetting': '300A0362',\n    'IsocenterToRangeShifterDistance': '300A0364',\n    'RangeShifterWaterEquivalentThickness': '300A0366',\n    'LateralSpreadingDeviceSettingsSequence': '300A0370',\n    'LateralSpreadingDeviceSetting': '300A0372',\n    'IsocenterToLateralSpreadingDeviceDistance': '300A0374',\n    'RangeModulatorSettingsSequence': '300A0380',\n    'RangeModulatorGatingStartValue': '300A0382',\n    'RangeModulatorGatingStopValue': '300A0384',\n    'RangeModulatorGatingStartWaterEquivalentThickness': '300A0386',\n    'RangeModulatorGatingStopWaterEquivalentThickness': '300A0388',\n    'IsocenterToRangeModulatorDistance': '300A038A',\n    'ScanSpotTimeOffset': '300A038F',\n    'ScanSpotTuneID': '300A0390',\n    'ScanSpotPrescribedIndices': '300A0391',\n    'NumberOfScanSpotPositions': '300A0392',\n    'ScanSpotReordered': '300A0393',\n    'ScanSpotPositionMap': '300A0394',\n    'ScanSpotReorderingAllowed': '300A0395',\n    'ScanSpotMetersetWeights': '300A0396',\n    'ScanningSpotSize': '300A0398',\n    'NumberOfPaintings': '300A039A',\n    'IonToleranceTableSequence': '300A03A0',\n    'IonBeamSequence': '300A03A2',\n    'IonBeamLimitingDeviceSequence': '300A03A4',\n    'IonBlockSequence': '300A03A6',\n    'IonControlPointSequence': '300A03A8',\n    'IonWedgeSequence': '300A03AA',\n    'IonWedgePositionSequence': '300A03AC',\n    'ReferencedSetupImageSequence': '300A0401',\n    'SetupImageComment': '300A0402',\n    'MotionSynchronizationSequence': '300A0410',\n    'ControlPointOrientation': '300A0412',\n    'GeneralAccessorySequence': '300A0420',\n    'GeneralAccessoryID': '300A0421',\n    'GeneralAccessoryDescription': '300A0422',\n    'GeneralAccessoryType': '300A0423',\n    'GeneralAccessoryNumber': '300A0424',\n    'SourceToGeneralAccessoryDistance': '300A0425',\n    'ApplicatorGeometrySequence': '300A0431',\n    'ApplicatorApertureShape': '300A0432',\n    'ApplicatorOpening': '300A0433',\n    'ApplicatorOpeningX': '300A0434',\n    'ApplicatorOpeningY': '300A0435',\n    'SourceToApplicatorMountingPositionDistance': '300A0436',\n    'NumberOfBlockSlabItems': '300A0440',\n    'BlockSlabSequence': '300A0441',\n    'BlockSlabThickness': '300A0442',\n    'BlockSlabNumber': '300A0443',\n    'DeviceMotionControlSequence': '300A0450',\n    'DeviceMotionExecutionMode': '300A0451',\n    'DeviceMotionObservationMode': '300A0452',\n    'DeviceMotionParameterCodeSequence': '300A0453',\n    'DistalDepthFraction': '300A0501',\n    'DistalDepth': '300A0502',\n    'NominalRangeModulationFractions': '300A0503',\n    'NominalRangeModulatedRegionDepths': '300A0504',\n    'DepthDoseParametersSequence': '300A0505',\n    'DeliveredDepthDoseParametersSequence': '300A0506',\n    'DeliveredDistalDepthFraction': '300A0507',\n    'DeliveredDistalDepth': '300A0508',\n    'DeliveredNominalRangeModulationFractions': '300A0509',\n    'DeliveredNominalRangeModulatedRegionDepths': '300A0510',\n    'DeliveredReferenceDoseDefinition': '300A0511',\n    'ReferenceDoseDefinition': '300A0512',\n    'ReferencedRTPlanSequence': '300C0002',\n    'ReferencedBeamSequence': '300C0004',\n    'ReferencedBeamNumber': '300C0006',\n    'ReferencedReferenceImageNumber': '300C0007',\n    'StartCumulativeMetersetWeight': '300C0008',\n    'EndCumulativeMetersetWeight': '300C0009',\n    'ReferencedBrachyApplicationSetupSequence': '300C000A',\n    'ReferencedBrachyApplicationSetupNumber': '300C000C',\n    'ReferencedSourceNumber': '300C000E',\n    'ReferencedFractionGroupSequence': '300C0020',\n    'ReferencedFractionGroupNumber': '300C0022',\n    'ReferencedVerificationImageSequence': '300C0040',\n    'ReferencedReferenceImageSequence': '300C0042',\n    'ReferencedDoseReferenceSequence': '300C0050',\n    'ReferencedDoseReferenceNumber': '300C0051',\n    'BrachyReferencedDoseReferenceSequence': '300C0055',\n    'ReferencedStructureSetSequence': '300C0060',\n    'ReferencedPatientSetupNumber': '300C006A',\n    'ReferencedDoseSequence': '300C0080',\n    'ReferencedToleranceTableNumber': '300C00A0',\n    'ReferencedBolusSequence': '300C00B0',\n    'ReferencedWedgeNumber': '300C00C0',\n    'ReferencedCompensatorNumber': '300C00D0',\n    'ReferencedBlockNumber': '300C00E0',\n    'ReferencedControlPointIndex': '300C00F0',\n    'ReferencedControlPointSequence': '300C00F2',\n    'ReferencedStartControlPointIndex': '300C00F4',\n    'ReferencedStopControlPointIndex': '300C00F6',\n    'ReferencedRangeShifterNumber': '300C0100',\n    'ReferencedLateralSpreadingDeviceNumber': '300C0102',\n    'ReferencedRangeModulatorNumber': '300C0104',\n    'OmittedBeamTaskSequence': '300C0111',\n    'ReasonForOmission': '300C0112',\n    'ReasonForOmissionDescription': '300C0113',\n    'ApprovalStatus': '300E0002',\n    'ReviewDate': '300E0004',\n    'ReviewTime': '300E0005',\n    'ReviewerName': '300E0008',\n    'Arbitrary': '40000010',\n    'TextComments': '40004000',\n    'ResultsID': '40080040',\n    'ResultsIDIssuer': '40080042',\n    'ReferencedInterpretationSequence': '40080050',\n    'ReportProductionStatusTrial': '400800FF',\n    'InterpretationRecordedDate': '40080100',\n    'InterpretationRecordedTime': '40080101',\n    'InterpretationRecorder': '40080102',\n    'ReferenceToRecordedSound': '40080103',\n    'InterpretationTranscriptionDate': '40080108',\n    'InterpretationTranscriptionTime': '40080109',\n    'InterpretationTranscriber': '4008010A',\n    'InterpretationText': '4008010B',\n    'InterpretationAuthor': '4008010C',\n    'InterpretationApproverSequence': '40080111',\n    'InterpretationApprovalDate': '40080112',\n    'InterpretationApprovalTime': '40080113',\n    'PhysicianApprovingInterpretation': '40080114',\n    'InterpretationDiagnosisDescription': '40080115',\n    'InterpretationDiagnosisCodeSequence': '40080117',\n    'ResultsDistributionListSequence': '40080118',\n    'DistributionName': '40080119',\n    'DistributionAddress': '4008011A',\n    'InterpretationID': '40080200',\n    'InterpretationIDIssuer': '40080202',\n    'InterpretationTypeID': '40080210',\n    'InterpretationStatusID': '40080212',\n    'Impressions': '40080300',\n    'ResultsComments': '40084000',\n    'LowEnergyDetectors': '40100001',\n    'HighEnergyDetectors': '40100002',\n    'DetectorGeometrySequence': '40100004',\n    'ThreatROIVoxelSequence': '40101001',\n    'ThreatROIBase': '40101004',\n    'ThreatROIExtents': '40101005',\n    'ThreatROIBitmap': '40101006',\n    'RouteSegmentID': '40101007',\n    'GantryType': '40101008',\n    'OOIOwnerType': '40101009',\n    'RouteSegmentSequence': '4010100A',\n    'PotentialThreatObjectID': '40101010',\n    'ThreatSequence': '40101011',\n    'ThreatCategory': '40101012',\n    'ThreatCategoryDescription': '40101013',\n    'ATDAbilityAssessment': '40101014',\n    'ATDAssessmentFlag': '40101015',\n    'ATDAssessmentProbability': '40101016',\n    'Mass': '40101017',\n    'Density': '40101018',\n    'ZEffective': '40101019',\n    'BoardingPassID': '4010101A',\n    'CenterOfMass': '4010101B',\n    'CenterOfPTO': '4010101C',\n    'BoundingPolygon': '4010101D',\n    'RouteSegmentStartLocationID': '4010101E',\n    'RouteSegmentEndLocationID': '4010101F',\n    'RouteSegmentLocationIDType': '40101020',\n    'AbortReason': '40101021',\n    'VolumeOfPTO': '40101023',\n    'AbortFlag': '40101024',\n    'RouteSegmentStartTime': '40101025',\n    'RouteSegmentEndTime': '40101026',\n    'TDRType': '40101027',\n    'InternationalRouteSegment': '40101028',\n    'ThreatDetectionAlgorithmandVersion': '40101029',\n    'AssignedLocation': '4010102A',\n    'AlarmDecisionTime': '4010102B',\n    'AlarmDecision': '40101031',\n    'NumberOfTotalObjects': '40101033',\n    'NumberOfAlarmObjects': '40101034',\n    'PTORepresentationSequence': '40101037',\n    'ATDAssessmentSequence': '40101038',\n    'TIPType': '40101039',\n    'DICOSVersion': '4010103A',\n    'OOIOwnerCreationTime': '40101041',\n    'OOIType': '40101042',\n    'OOISize': '40101043',\n    'AcquisitionStatus': '40101044',\n    'BasisMaterialsCodeSequence': '40101045',\n    'PhantomType': '40101046',\n    'OOIOwnerSequence': '40101047',\n    'ScanType': '40101048',\n    'ItineraryID': '40101051',\n    'ItineraryIDType': '40101052',\n    'ItineraryIDAssigningAuthority': '40101053',\n    'RouteID': '40101054',\n    'RouteIDAssigningAuthority': '40101055',\n    'InboundArrivalType': '40101056',\n    'CarrierID': '40101058',\n    'CarrierIDAssigningAuthority': '40101059',\n    'SourceOrientation': '40101060',\n    'SourcePosition': '40101061',\n    'BeltHeight': '40101062',\n    'AlgorithmRoutingCodeSequence': '40101064',\n    'TransportClassification': '40101067',\n    'OOITypeDescriptor': '40101068',\n    'TotalProcessingTime': '40101069',\n    'DetectorCalibrationData': '4010106C',\n    'AdditionalScreeningPerformed': '4010106D',\n    'AdditionalInspectionSelectionCriteria': '4010106E',\n    'AdditionalInspectionMethodSequence': '4010106F',\n    'AITDeviceType': '40101070',\n    'QRMeasurementsSequence': '40101071',\n    'TargetMaterialSequence': '40101072',\n    'SNRThreshold': '40101073',\n    'ImageScaleRepresentation': '40101075',\n    'ReferencedPTOSequence': '40101076',\n    'ReferencedTDRInstanceSequence': '40101077',\n    'PTOLocationDescription': '40101078',\n    'AnomalyLocatorIndicatorSequence': '40101079',\n    'AnomalyLocatorIndicator': '4010107A',\n    'PTORegionSequence': '4010107B',\n    'InspectionSelectionCriteria': '4010107C',\n    'SecondaryInspectionMethodSequence': '4010107D',\n    'PRCSToRCSOrientation': '4010107E',\n    'MACParametersSequence': '4FFE0001',\n    'SharedFunctionalGroupsSequence': '52009229',\n    'PerFrameFunctionalGroupsSequence': '52009230',\n    'WaveformSequence': '54000100',\n    'ChannelMinimumValue': '54000110',\n    'ChannelMaximumValue': '54000112',\n    'WaveformBitsAllocated': '54001004',\n    'WaveformSampleInterpretation': '54001006',\n    'WaveformPaddingValue': '5400100A',\n    'WaveformData': '54001010',\n    'FirstOrderPhaseCorrectionAngle': '56000010',\n    'SpectroscopyData': '56000020',\n    'FloatPixelData': '7FE00008',\n    'DoubleFloatPixelData': '7FE00009',\n    'PixelData': '7FE00010',\n    'CoefficientsSDVN': '7FE00020',\n    'CoefficientsSDHN': '7FE00030',\n    'CoefficientsSDDN': '7FE00040',\n    'DigitalSignaturesSequence': 'FFFAFFFA',\n    'DataSetTrailingPadding': 'FFFCFFFC',\n    'Item': 'FFFEE000',\n    'ItemDelimitationItem': 'FFFEE00D',\n    'SequenceDelimitationItem': 'FFFEE0DD',\n  };\n  Object.freeze(keywordToTag);\n\n  function getFrameMapping(metadata) {\n    const rows = metadata.Rows;\n    const columns = metadata.Columns;\n    const totalPixelMatrixColumns = metadata.TotalPixelMatrixColumns;\n    const totalPixelMatrixRows = metadata.TotalPixelMatrixRows;\n    const sopInstanceUID = metadata.SOPInstanceUID;\n    let numberOfFrames = metadata.NumberOfFrames || 1;\n    numberOfFrames = Number(numberOfFrames);\n    let frameOffsetNumber = metadata.ConcatenationFrameOffsetNumber || 0;\n    frameOffsetNumber = Number(frameOffsetNumber);\n    /*\n     * The values \"TILED_SPARSE\" and \"TILED_FULL\" were introduced in the 2018\n     * of the standard. Older datasets are equivalent to \"TILED_SPARSE\"\n     * even though they may not have a value or a different value.\n    */\n    const dimensionOrganizationType = metadata.DimensionOrganizationType || 'TILED_SPARSE';\n    const tilesPerRow = Math.ceil(totalPixelMatrixColumns / columns);\n    const frameMapping = {};\n    if (dimensionOrganizationType === 'TILED_FULL') {\n      let offset = frameOffsetNumber + 1;\n      let limit = frameOffsetNumber + numberOfFrames;\n      for (let j = offset; j <= limit; j++) {\n        let rowFraction = j / tilesPerRow;\n        let rowIndex = Math.ceil(rowFraction);\n        let colIndex = j - (rowIndex * tilesPerRow) + tilesPerRow;\n        let index = rowIndex + '-' + colIndex;\n        let frameNumber = j - offset + 1;\n        frameMapping[index] = `${sopInstanceUID}/frames/${frameNumber}`;\n      }\n    } else {\n      const functionalGroups = metadata.PerFrameFunctionalGroupsSequence;\n      for (let j = 0; j < numberOfFrames; j++) {\n        let planePositions = functionalGroups[j].PlanePositionSlideSequence[0];\n        let rowPosition = planePositions.RowPositionInTotalImagePixelMatrix;\n        let columnPosition = planePositions.ColumnPositionInTotalImagePixelMatrix;\n        let rowIndex = Math.ceil(rowPosition / columns);\n        let colIndex = Math.ceil(columnPosition / rows);\n        let index = rowIndex + '-' + colIndex;\n        let frameNumber = j + 1;\n        frameMapping[index] = `${sopInstanceUID}/frames/${frameNumber}`;\n      }\n    }\n    return frameMapping;\n  }\n\n\n  function formatImageMetadata(metadata) {\n\n    const sopClassUID = metadata['00080016']['Value'][0];\n    if (sopClassUID !== '1.2.840.10008.5.1.4.1.1.77.1.6') {\n      throw new Error('SOP Class UID \"' + sopClassUID + '\" is not supported');\n    }\n\n    const imageType = metadata['00080008']['Value'];\n    if ( imageType[2] !== 'VOLUME' ) {\n      throw new Error(\n        'expected image type value 3 to be \"VOLUME\", is \"' + imageType[2] + '\" instead'\n      );\n    }\n\n    const loadJSONDataset = (elements) => {\n      const dataset = {};\n      Object.keys(elements).forEach(tag => {\n        const keyword = tagToKeyword[tag];\n        const vr = elements[tag]['vr'];\n        if ('BulkDataURI' in elements[tag]) {\n          console.log(`skip bulk data element \"${keyword}\"`);\n        } else if ('Value' in elements[tag]) {\n          const value = elements[tag]['Value'];\n          if (vr === 'SQ') {\n            dataset[keyword] = value.map(item => {\n              return loadJSONDataset(item);\n            });\n          } else {\n            // Handle value multiplicity.\n            if (value.length === 1) {\n              dataset[keyword] = value[0];\n            } else {\n              dataset[keyword] = value;\n            }\n          }\n        } else {\n          if (vr === 'SQ') {\n            dataset[keyword] = [];\n          } else {\n            dataset[keyword] = \"\";  // TODO: should rather be null?\n          }\n        }\n      });\n      return dataset;\n    };\n\n    const dataset = loadJSONDataset(metadata);\n\n    // The top level (lowest resolution) image may be a single frame image in\n    // which case the \"NumberOfFrames\" attribute is optional. We include it for\n    // consistency.\n    if (!('NumberOfFrames' in dataset)) {\n      dataset.NumberOfFrames = 1;\n    }\n\n    return dataset;\n  }\n\n  function generateUID() {\n    /*\n     * http://dicom.nema.org/medical/dicom/current/output/chtml/part05/sect_B.2.html\n     * https://www.itu.int/rec/T-REC-X.667-201210-I/en\n     *  A UUID can be represented as a single integer value.\n     * To obtain the single integer value of the UUID, the 16 octets of the\n     * binary representation shall be treated as an unsigned integer encoding\n     * with the most significant bit of the integer encoding as the most\n     * significant bit (bit 7) of the first of the sixteen octets (octet 15) and\n     * the least significant bit as the least significant bit (bit 0) of the last\n     * of the sixteen octets (octet 0).\n    */\n    // FIXME: This is not a valid UUID!\n    let uid = '2.25.' + Math.floor(1 + Math.random() * 9);\n    while (uid.length < 44) {\n      uid += Math.floor(1 + Math.random() * 10);\n    }\n    return uid;\n  }\n\n  const _uid = Symbol('uid');\n  const _scoord3d = Symbol('scoord3d');\n\n  /* Region of interest.\n   */\n  class ROI {\n\n    /* @constructor\n     * @param{Scoord3D} scoord3d spatial coordinates\n     * @param{Object} properties qualititative evaluations\n     */\n    constructor(options) {\n      if (!('scoord3d' in options)) {\n        throw new Error('spatial coordinates are required for ROI')\n      }\n      if (!(typeof(options.scoord3d) === 'object' || options.scoord3d !== null)) {\n        throw new Error('scoord3d of ROI must be a Scoord3D object')\n      }\n      if (!('uid' in options)) {\n        this[_uid] = generateUID();\n      } else {\n        if (!(typeof(options.uid) === 'string' || options.uid instanceof String)) {\n          throw new Error('uid of ROI must be a string')\n        }\n        this[_uid] = options.uid;\n      }\n      this[_scoord3d] = options.scoord3d;\n      // TODO: store SOPInstanceUID, SOPClassUID and FrameNumbers as reference\n    }\n\n    get uid() {\n      return this[_uid];\n    }\n\n    get scoord3d() {\n      return this[_scoord3d];\n    }\n\n  }\n\n  const _coordinates = Symbol('coordinates');\n  const _frameOfReferenceUID = Symbol('frameOfReferenceUID');\n  const _fiducialUID = Symbol('fiducialUID');\n\n\n  /*\n   * Spatial coordinates of geometric region(s) of interest (ROI) in the DICOM\n   * slide coordinate system in millimeter unit.\n   */\n  class Scoord3D {\n\n    constructor(options) {\n      if (!(typeof options.frameOfReferenceUID === 'string' ||\n            options.frameOfReferenceUID instanceof String)) {\n        throw new Error('frameOfReferenceUID of Scoord3D must be a string')\n      }\n      this[_frameOfReferenceUID] = options.frameOfReferenceUID;\n      options.fiducialUID = options.fiducialUID || generateUID();\n      if (!(typeof options.fiducialUID === 'string' ||\n            options.fiducialUID instanceof String)) {\n        throw new Error('fiducialUID of Scoord3D must be a string')\n      }\n      this[_fiducialUID] = options.fiducialUID;\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Scoord3D must be an array')\n      }\n      this[_coordinates] = options.coordinates;\n    }\n\n    get graphicData() {\n      return this[_coordinates]\n    }\n\n    get graphicType() {\n      throw new Error('Prototype property \"graphicType\" must be implemented')\n    }\n\n    get frameOfReferenceUID() {\n      return this[_frameOfReferenceUID]\n    }\n\n    get fiducialUID() {\n      return this[_fiducialUID]\n    }\n\n  }\n\n  class Point$1 extends Scoord3D {\n\n    /*\n     * Single location denoted by a single (x,y,z) triplet.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Point must be an array')\n      }\n      if (options.coordinates.length !== 3) {\n        throw new Error('coordinates of Point must be an array of length 3')\n      }\n      if (options.coordinates.some((c => c < 0))) {\n        throw new Error('coordinates of Point must be positive numbers')\n      }\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'POINT'\n    }\n\n  }\n\n  class Multipoint extends Scoord3D {\n\n    /*\n     * Multiple points each denoted by an (x,y,z) triplet.\n     * Points need not be coplanar.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Multipoint must be an array')\n      }\n      if(options.coordinates.find(c => c.length !== 3)!== undefined) {\n        throw new Error('coordinates of Multipoint must be an array of (x,y,z) triplets')\n      }\n      if(options.coordinates.find(c => c.some((item => item < 0)))) {\n        throw new Error('coordinates of Multipoint must be positive numbers')\n      }\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'MULTIPOINT'\n    }\n\n  }\n\n  class Polyline extends Scoord3D {\n\n    /*\n     * Multiple points denoted by (x,y,z) triplets that represent\n     * connected line segments with ordered vertices\n     * Points need not be coplanar.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Polyline must be an array')\n      }\n      if(options.coordinates.find(c => c.length !== 3)!== undefined) {\n        throw new Error('coordinates of Polyline must be an array of (x,y,z) triplets')\n      }\n      if(options.coordinates.find(c => c.some((item => item < 0)))) {\n        throw new Error('coordinates of Polyline must be positive numbers')\n      }\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'POLYLINE'\n    }\n  }\n\n\n  class Polygon$1 extends Scoord3D {\n\n    /*\n     * Multiple points denoted by (x,y,z) triplets that represent\n     * connected line segments with ordered vertices.\n     * First and last point shall be the same.\n     * Points shall be coplanar.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Polygon must be an array')\n      }\n      if(options.coordinates.find(c => c.length !== 3)!== undefined) {\n        throw new Error('coordinates of Polygon must be an array of (x,y,z) triplets')\n      }\n      if(options.coordinates.find(c => c.some((item => item < 0)))) {\n        throw new Error('coordinates of Polygon must be positive numbers')\n      }\n      const n = options.coordinates.length;\n      if((options.coordinates[0][0] !== options.coordinates[n-1][0]) ||\n         (options.coordinates[0][1] !== options.coordinates[n-1][1]) ||\n         (options.coordinates[0][2] !== options.coordinates[n-1][2])) {\n        throw new Error('first and last coordinate of Polygon must be the same')\n      }\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'POLYGON'\n    }\n\n  }\n\n  class Ellipsoid extends Scoord3D {\n\n    /*\n     * Six points denoted by (x,y,z) triplets, where the first two points represent\n     * the endpoints of the first axis and the second two points represent the\n     * endpoints of the second axis and the third two points represent the\n     * endpoints of the third axis. respectively.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Ellipsoid must be an array')\n      }\n      if (options.coordinates.length !== 6) {\n        throw new Error('coordinates of Ellipsoid must be an array of length 6')\n      }\n      if(options.coordinates.find(c => c.length !== 3)!== undefined) {\n        throw new Error('coordinates of Ellipsoid must be an array of (x,y,z) triplets')\n      }\n      if(options.coordinates.find(c => c.some((item => item < 0)))) {\n        throw new Error('coordinates of Ellipsoid must be positive numbers')\n      }\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'ELLIPSOID'\n    }\n\n  }\n\n  class Ellipse extends Scoord3D {\n\n    /*\n     * Four points denoted by (x,y,z) triplets, where the first two points represent\n     * the endpoints of the major axis and the second two points represent the\n     * endpoints of the minor axis.\n     */\n    constructor(options) {\n      if (!Array.isArray(options.coordinates)) {\n        throw new Error('coordinates of Ellipse must be an array')\n      }\n      if (options.coordinates.length !== 4) {\n        throw new Error('coordinates of Ellipse must be an array of length 4')\n      }\n      if(options.coordinates.find(c => c.length !== 3)!== undefined) {\n        throw new Error('coordinates of Ellipse must be an array of (x,y,z) triplets')\n      }\n      if(options.coordinates.find(c => c.some((item => item < 0)))) {\n        throw new Error('coordinates of Ellipse must be positive numbers')\n      }\n      // TODO: assert major and minor axes are in right angle\n      super({\n        coordinates: options.coordinates,\n        frameOfReferenceUID: options.frameOfReferenceUID,\n        fiducialUID: options.fiducialUID\n      });\n    }\n\n    get graphicType() {\n      return 'ELLIPSE'\n    }\n\n  }\n\n  var dicomwebClient = createCommonjsModule(function (module, exports) {\n  (function (global, factory) {\n    factory(exports);\n  }(commonjsGlobal, (function (exports) {\n    function _typeof(obj) {\n      if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n        _typeof = function (obj) {\n          return typeof obj;\n        };\n      } else {\n        _typeof = function (obj) {\n          return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n        };\n      }\n\n      return _typeof(obj);\n    }\n\n    function _classCallCheck(instance, Constructor) {\n      if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n      }\n    }\n\n    function _defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    function _createClass(Constructor, protoProps, staticProps) {\n      if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) _defineProperties(Constructor, staticProps);\n      return Constructor;\n    }\n\n    /**\n     * Converts a Uint8Array to a String.\n     * @param {Uint8Array} array that should be converted\n     * @param {Number} offset array offset in case only subset of array items should\n                       be extracted (default: 0)\n     * @param {Number} limit maximum number of array items that should be extracted\n                       (defaults to length of array)\n     * @returns {String}\n     */\n    function uint8ArrayToString(arr) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var limit = arguments.length > 2 ? arguments[2] : undefined;\n      var itemLimit = limit || arr.length - offset;\n      var str = \"\";\n\n      for (var i = offset; i < offset + itemLimit; i++) {\n        str += String.fromCharCode(arr[i]);\n      }\n\n      return str;\n    }\n    /**\n     * Converts a String to a Uint8Array.\n     * @param {String} str string that should be converted\n     * @returns {Uint8Array}\n     */\n\n\n    function stringToUint8Array(str) {\n      var arr = new Uint8Array(str.length);\n\n      for (var i = 0, j = str.length; i < j; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n\n      return arr;\n    }\n    /**\n     * Identifies the boundary in a multipart/related message header.\n     * @param {String} header message header\n     * @returns {String} boundary\n     */\n\n\n    function identifyBoundary(header) {\n      var parts = header.split(\"\\r\\n\");\n\n      for (var i = 0; i < parts.length; i++) {\n        if (parts[i].substr(0, 2) === \"--\") {\n          return parts[i];\n        }\n      }\n\n      return null;\n    }\n    /**\n     * Checks whether a given token is contained by a message at a given offset.\n     * @param {Uint8Array} message message content\n     * @param {Uint8Array} token substring that should be present\n     * @param {Number} offset offset in message content from where search should start\n     * @returns {Boolean} whether message contains token at offset\n     */\n\n\n    function containsToken(message, token) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n      if (offset + token.length > message.length) {\n        return false;\n      }\n\n      var index = offset;\n\n      for (var i = 0; i < token.length; i++) {\n        if (token[i] !== message[index]) {\n          return false;\n        }\n\n        index += 1;\n      }\n\n      return true;\n    }\n    /**\n     * Finds a given token in a message at a given offset.\n     * @param {Uint8Array} message message content\n     * @param {Uint8Array} token substring that should be found\n     * @param {String} offset message body offset from where search should start\n     * @returns {Boolean} whether message has a part at given offset or not\n     */\n\n\n    function findToken(message, token) {\n      var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var maxSearchLength = arguments.length > 3 ? arguments[3] : undefined;\n      var searchLength = message.length;\n\n      if (maxSearchLength) {\n        searchLength = Math.min(offset + maxSearchLength, message.length);\n      }\n\n      for (var i = offset; i < searchLength; i++) {\n        // If the first value of the message matches\n        // the first value of the token, check if\n        // this is the full token.\n        if (message[i] === token[0]) {\n          if (containsToken(message, token, i)) {\n            return i;\n          }\n        }\n      }\n\n      return -1;\n    }\n    /**\n     * Create a random GUID\n     *\n     * @return {string}\n     */\n\n\n    function guid() {\n      function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      }\n\n      return \"\".concat(s4() + s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4()).concat(s4()).concat(s4());\n    }\n    /**\n     * @typedef {Object} MultipartEncodedData\n     * @property {ArrayBuffer} data The encoded Multipart Data\n     * @property {String} boundary The boundary used to divide pieces of the encoded data\n     */\n\n    /**\n     * Encode one or more DICOM datasets into a single body so it can be\n     * sent using the Multipart Content-Type.\n     *\n     * @param {ArrayBuffer[]} datasets Array containing each file to be encoded in the\n                              multipart body, passed as ArrayBuffers.\n     * @param {String} [boundary] Optional string to define a boundary between each part\n                                  of the multipart body. If this is not specified, a random\n                                  GUID will be generated.\n     * @return {MultipartEncodedData} The Multipart encoded data returned as an Object. This\n                                      contains both the data itself, and the boundary string\n                                      used to divide it.\n     */\n\n\n    function multipartEncode(datasets) {\n      var boundary = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : guid();\n      var contentType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"application/dicom\";\n      var contentTypeString = \"Content-Type: \".concat(contentType);\n      var header = \"\\r\\n--\".concat(boundary, \"\\r\\n\").concat(contentTypeString, \"\\r\\n\\r\\n\");\n      var footer = \"\\r\\n--\".concat(boundary, \"--\");\n      var headerArray = stringToUint8Array(header);\n      var footerArray = stringToUint8Array(footer);\n      var headerLength = headerArray.length;\n      var footerLength = footerArray.length;\n      var length = 0; // Calculate the total length for the final array\n\n      var contentArrays = datasets.map(function (datasetBuffer) {\n        var contentArray = new Uint8Array(datasetBuffer);\n        var contentLength = contentArray.length;\n        length += headerLength + contentLength + footerLength;\n        return contentArray;\n      }); // Allocate the array\n\n      var multipartArray = new Uint8Array(length); // Set the initial header\n\n      multipartArray.set(headerArray, 0); // Write each dataset into the multipart array\n\n      var position = 0;\n      contentArrays.forEach(function (contentArray) {\n        multipartArray.set(headerArray, position);\n        multipartArray.set(contentArray, position + headerLength);\n        position += headerLength + contentArray.length;\n      });\n      multipartArray.set(footerArray, position);\n      return {\n        data: multipartArray.buffer,\n        boundary: boundary\n      };\n    }\n    /**\n     * Decode a Multipart encoded ArrayBuffer and return the components as an Array.\n     *\n     * @param {ArrayBuffer} response Data encoded as a 'multipart/related' message\n     * @returns {Array} The content\n     */\n\n\n    function multipartDecode(response) {\n      var message = new Uint8Array(response);\n      /* Set a maximum length to search for the header boundaries, otherwise\n           findToken can run for a long time\n        */\n\n      var maxSearchLength = 1000; // First look for the multipart mime header\n\n      var separator = stringToUint8Array(\"\\r\\n\\r\\n\");\n      var headerIndex = findToken(message, separator, 0, maxSearchLength);\n\n      if (headerIndex === -1) {\n        throw new Error(\"Response message has no multipart mime header\");\n      }\n\n      var header = uint8ArrayToString(message, 0, headerIndex);\n      var boundaryString = identifyBoundary(header);\n\n      if (!boundaryString) {\n        throw new Error(\"Header of response message does not specify boundary\");\n      }\n\n      var boundary = stringToUint8Array(boundaryString);\n      var boundaryLength = boundary.length;\n      var components = [];\n      var offset = boundaryLength; // Loop until we cannot find any more boundaries\n\n      var boundaryIndex;\n\n      while (boundaryIndex !== -1) {\n        // Search for the next boundary in the message, starting\n        // from the current offset position\n        boundaryIndex = findToken(message, boundary, offset); // If no further boundaries are found, stop here.\n\n        if (boundaryIndex === -1) {\n          break;\n        }\n\n        var headerTokenIndex = findToken(message, separator, offset, maxSearchLength);\n\n        if (headerTokenIndex === -1) {\n          throw new Error(\"Response message part has no mime header\");\n        }\n\n        offset = headerTokenIndex + separator.length; // Extract data from response message, excluding \"\\r\\n\"\n\n        var spacingLength = 2;\n        var data = response.slice(offset, boundaryIndex - spacingLength); // Add the data to the array of results\n\n        components.push(data); // Move the offset to the end of the current section,\n        // plus the identified boundary\n\n        offset = boundaryIndex + boundaryLength;\n      }\n\n      return components;\n    }\n\n    function isObject(obj) {\n      return _typeof(obj) === \"object\" && obj !== null;\n    }\n\n    function isEmptyObject(obj) {\n      return Object.keys(obj).length === 0 && obj.constructor === Object;\n    }\n\n    var getFirstResult = function getFirstResult(result) {\n      return result[0];\n    };\n\n    var getFirstResultIfLengthGtOne = function getFirstResultIfLengthGtOne(result) {\n      if (result.length > 1) {\n        return result;\n      }\n\n      return result[0];\n    };\n\n    var MEDIATYPES = {\n      DICOM: \"application/dicom\",\n      DICOM_JSON: \"application/dicom+json\",\n      OCTET_STREAM: \"application/octet-stream\",\n      PDF: \"application/pdf\",\n      JPEG: \"image/jpeg\",\n      PNG: \"image/png\"\n    };\n    /**\n     * Class for interacting with DICOMweb RESTful services.\n     */\n\n    var DICOMwebClient =\n    /*#__PURE__*/\n    function () {\n      /**\n       * @constructor\n       * @param {Object} options (choices: \"url\", \"username\", \"password\", \"headers\")\n       */\n      function DICOMwebClient(options) {\n        _classCallCheck(this, DICOMwebClient);\n\n        this.baseURL = options.url;\n\n        if (!this.baseURL) {\n          console.error(\"no DICOMweb base url provided - calls will fail\");\n        }\n\n        if (\"username\" in options) {\n          this.username = options.username;\n\n          if (!(\"password\" in options)) {\n            console.error(\"no password provided to authenticate with DICOMweb service\");\n          }\n\n          this.password = options.password;\n        }\n\n        if (\"qidoURLPrefix\" in options) {\n          console.log(\"use URL prefix for QIDO-RS: \".concat(options.qidoURLPrefix));\n          this.qidoURL = \"\".concat(this.baseURL, \"/\").concat(options.qidoURLPrefix);\n        } else {\n          this.qidoURL = this.baseURL;\n        }\n\n        if (\"wadoURLPrefix\" in options) {\n          console.log(\"use URL prefix for WADO-RS: \".concat(options.wadoURLPrefix));\n          this.wadoURL = \"\".concat(this.baseURL, \"/\").concat(options.wadoURLPrefix);\n        } else {\n          this.wadoURL = this.baseURL;\n        }\n\n        if (\"stowURLPrefix\" in options) {\n          console.log(\"use URL prefix for STOW-RS: \".concat(options.stowURLPrefix));\n          this.stowURL = \"\".concat(this.baseURL, \"/\").concat(options.stowURLPrefix);\n        } else {\n          this.stowURL = this.baseURL;\n        }\n\n        this.headers = options.headers || {};\n      }\n\n      _createClass(DICOMwebClient, [{\n        key: \"_httpRequest\",\n        value: function _httpRequest(url, method, headers) {\n          var _this = this;\n\n          var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n          return new Promise(function (resolve, reject) {\n            var request = new XMLHttpRequest();\n            request.open(method, url, true);\n\n            if (\"responseType\" in options) {\n              request.responseType = options.responseType;\n            }\n\n            if (_typeof(headers) === \"object\") {\n              Object.keys(headers).forEach(function (key) {\n                request.setRequestHeader(key, headers[key]);\n              });\n            } // now add custom headers from the user\n            // (e.g. access tokens)\n\n\n            var userHeaders = _this.headers;\n            Object.keys(userHeaders).forEach(function (key) {\n              request.setRequestHeader(key, userHeaders[key]);\n            }); // Event triggered when upload starts\n\n            request.onloadstart = function onloadstart() {// console.log('upload started: ', url)\n            }; // Event triggered when upload ends\n\n\n            request.onloadend = function onloadend() {// console.log('upload finished')\n            }; // Handle response message\n\n\n            request.onreadystatechange = function onreadystatechange() {\n              if (request.readyState === 4) {\n                if (request.status === 200) {\n                  resolve(request.response);\n                } else if (request.status === 202) {\n                  console.warn(\"some resources already existed: \", request);\n                  resolve(request.response);\n                } else if (request.status === 204) {\n                  console.warn(\"empty response for request: \", request);\n                  resolve([]);\n                } else {\n                  console.error(\"request failed: \", request);\n                  var error = new Error(\"request failed\");\n                  error.request = request;\n                  error.response = request.response;\n                  error.status = request.status;\n                  console.error(error);\n                  console.error(error.response);\n                  reject(error);\n                }\n              }\n            }; // Event triggered while download progresses\n\n\n            if (\"progressCallback\" in options) {\n              if (typeof options.progressCallback === \"function\") {\n                request.onprogress = options.progressCallback;\n              }\n            } // request.onprogress = function (event) {\n            //   const loaded = progress.loaded;\n            //   let total;\n            //   let percentComplete;\n            //   if (progress.lengthComputable) {\n            //     total = progress.total;\n            //     percentComplete = Math.round((loaded / total) * 100);\n            //   j\n            //   // console.log('download progress: ', percentComplete, ' %');\n            //   return(percentComplete);\n            // };\n\n\n            if (\"data\" in options) {\n              request.send(options.data);\n            } else {\n              request.send();\n            }\n          });\n        }\n      }, {\n        key: \"_httpGet\",\n        value: function _httpGet(url, headers, responseType, progressCallback) {\n          return this._httpRequest(url, \"get\", headers, {\n            responseType: responseType,\n            progressCallback: progressCallback\n          });\n        }\n      }, {\n        key: \"_httpGetApplicationJson\",\n        value: function _httpGetApplicationJson(url) {\n          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var progressCallback = arguments.length > 2 ? arguments[2] : undefined;\n          var urlWithQueryParams = url;\n\n          if (_typeof(params) === \"object\") {\n            if (!isEmptyObject(params)) {\n              urlWithQueryParams += DICOMwebClient._parseQueryParameters(params);\n            }\n          }\n\n          var headers = {\n            Accept: MEDIATYPES.DICOM_JSON\n          };\n          var responseType = \"json\";\n          return this._httpGet(urlWithQueryParams, headers, responseType, progressCallback);\n        }\n        /**\n         * Performs an HTTP GET request that accepts a message with\n         \"application/pdf\" media type.\n         * @param {String} url\n         * @param {Object[]} mediaTypes\n         * @param {Object} params\n         * @param {Function} progressCallback\n         * @return {*}\n         * @private\n         */\n\n      }, {\n        key: \"_httpGetApplicationPdf\",\n        value: function _httpGetApplicationPdf(url) {\n          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var progressCallback = arguments.length > 2 ? arguments[2] : undefined;\n          var urlWithQueryParams = url;\n\n          if (_typeof(params) === \"object\") {\n            if (!isEmptyObject(params)) {\n              urlWithQueryParams += DICOMwebClient._parseQueryParameters(params);\n            }\n          }\n\n          var headers = {\n            Accept: MEDIATYPES.PDF\n          };\n          var responseType = \"json\";\n          return this._httpGet(urlWithQueryParams, headers, responseType, progressCallback);\n        }\n        /**\n         * Performs an HTTP GET request that accepts a message with an image\n         media type.\n         *\n         * @param {String} url\n         * @param {Object[]} mediaTypes\n         * @param {Object} params\n         * @param {Function} progressCallback\n         * @return {*}\n         * @private\n         */\n\n      }, {\n        key: \"_httpGetImage\",\n        value: function _httpGetImage(url, mediaTypes) {\n          var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var progressCallback = arguments.length > 3 ? arguments[3] : undefined;\n          var urlWithQueryParams = url;\n\n          if (_typeof(params) === \"object\") {\n            if (!isEmptyObject(params)) {\n              urlWithQueryParams += DICOMwebClient._parseQueryParameters(params);\n            }\n          }\n\n          var supportedMediaTypes = [\"image/\", \"image/*\", \"image/jpeg\", \"image/jp2\", \"image/gif\", \"image/png\"];\n\n          var acceptHeaderFieldValue = DICOMwebClient._buildAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes);\n\n          var headers = {\n            Accept: acceptHeaderFieldValue\n          };\n          var responseType = \"arraybuffer\";\n          return this._httpGet(urlWithQueryParams, headers, responseType, progressCallback);\n        }\n        /**\n         * Performs an HTTP GET request that accepts a message with a text\n         media type.\n         *\n         * @param {String} url\n         * @param {Object[]} mediaTypes\n         * @param {Object} params\n         * @param {Function} progressCallback\n         * @return {*}\n         * @private\n         */\n\n      }, {\n        key: \"_httpGetText\",\n        value: function _httpGetText(url, mediaTypes) {\n          var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var progressCallback = arguments.length > 3 ? arguments[3] : undefined;\n          var urlWithQueryParams = url;\n\n          if (_typeof(params) === \"object\") {\n            if (!isEmptyObject(params)) {\n              urlWithQueryParams += DICOMwebClient._parseQueryParameters(params);\n            }\n          }\n\n          var supportedMediaTypes = [\"text/\", \"text/*\", \"text/html\", \"text/plain\", \"text/rtf\", \"text/xml\"];\n\n          var acceptHeaderFieldValue = DICOMwebClient._buildAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes);\n\n          var headers = {\n            Accept: acceptHeaderFieldValue\n          };\n          var responseType = \"arraybuffer\";\n          return this._httpGet(urlWithQueryParams, headers, responseType, progressCallback);\n        }\n        /**\n         * Performs an HTTP GET request that accepts a message with a video\n         media type.\n         *\n         * @param {String} url\n         * @param {Object[]} mediaTypes\n         * @param {Object} params\n         * @param {Function} progressCallback\n         * @return {*}\n         * @private\n         */\n\n      }, {\n        key: \"_httpGetVideo\",\n        value: function _httpGetVideo(url, mediaTypes) {\n          var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var progressCallback = arguments.length > 3 ? arguments[3] : undefined;\n          var urlWithQueryParams = url;\n\n          if (_typeof(params) === \"object\") {\n            if (!isEmptyObject(params)) {\n              urlWithQueryParams += DICOMwebClient._parseQueryParameters(params);\n            }\n          }\n\n          var supportedMediaTypes = [\"video/\", \"video/*\", \"video/mpeg\", \"video/mp4\", \"video/H265\"];\n\n          var acceptHeaderFieldValue = DICOMwebClient._buildAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes);\n\n          var headers = {\n            Accept: acceptHeaderFieldValue\n          };\n          var responseType = \"arraybuffer\";\n          return this._httpGet(urlWithQueryParams, headers, responseType, progressCallback);\n        }\n        /**\n         * Asserts that a given media type is valid.\n         *\n         * @params {String} mediaType media type\n         */\n\n      }, {\n        key: \"_httpGetMultipartImage\",\n\n        /**\n         * Performs an HTTP GET request that accepts a multipart message with an image media type.\n         *\n         * @param {String} url unique resource locator\n         * @param {Object[]} mediaTypes acceptable media types and optionally the UIDs of the\n         corresponding transfer syntaxes\n         * @param {Array} byteRange start and end of byte range\n         * @param {Object} params additional HTTP GET query parameters\n         * @param {Boolean} rendered whether resource should be requested using rendered media types\n         * @param {Function} progressCallback\n         * @private\n         * @returns {Array} content of HTTP message body parts\n         */\n        value: function _httpGetMultipartImage(url, mediaTypes, byteRange, params) {\n          var rendered = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n          var progressCallback = arguments.length > 5 ? arguments[5] : undefined;\n          var headers = {};\n          var supportedMediaTypes;\n\n          if (rendered) {\n            supportedMediaTypes = [\"image/jpeg\", \"image/gif\", \"image/png\", \"image/jp2\"];\n          } else {\n            supportedMediaTypes = {\n              \"1.2.840.10008.1.2.5\": [\"image/x-dicom-rle\"],\n              \"1.2.840.10008.1.2.4.50\": [\"image/jpeg\"],\n              \"1.2.840.10008.1.2.4.51\": [\"image/jpeg\"],\n              \"1.2.840.10008.1.2.4.57\": [\"image/jpeg\"],\n              \"1.2.840.10008.1.2.4.70\": [\"image/jpeg\"],\n              \"1.2.840.10008.1.2.4.80\": [\"image/x-jls\", \"image/jls\"],\n              \"1.2.840.10008.1.2.4.81\": [\"image/x-jls\", \"image/jls\"],\n              \"1.2.840.10008.1.2.4.90\": [\"image/jp2\"],\n              \"1.2.840.10008.1.2.4.91\": [\"image/jp2\"],\n              \"1.2.840.10008.1.2.4.92\": [\"image/jpx\"],\n              \"1.2.840.10008.1.2.4.93\": [\"image/jpx\"]\n            };\n\n            if (byteRange) {\n              headers.Range = DICOMwebClient._buildRangeHeaderFieldValue(byteRange);\n            }\n          }\n\n          headers.Accept = DICOMwebClient._buildMultipartAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes);\n          return this._httpGet(url, headers, \"arraybuffer\", progressCallback).then(multipartDecode);\n        }\n        /**\n         * Performs an HTTP GET request that accepts a multipart message with a video media type.\n         *\n         * @param {String} url unique resource locator\n         * @param {Object[]} mediaTypes acceptable media types and optionally the UIDs of the\n         corresponding transfer syntaxes\n         * @param {Array} byteRange start and end of byte range\n         * @param {Object} params additional HTTP GET query parameters\n         * @param {Boolean} rendered whether resource should be requested using rendered media types\n         * @param {Function} progressCallback\n         * @private\n         * @returns {Array} content of HTTP message body parts\n         */\n\n      }, {\n        key: \"_httpGetMultipartVideo\",\n        value: function _httpGetMultipartVideo(url, mediaTypes, byteRange, params) {\n          var rendered = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n          var progressCallback = arguments.length > 5 ? arguments[5] : undefined;\n          var headers = {};\n          var supportedMediaTypes;\n\n          if (rendered) {\n            supportedMediaTypes = [\"video/\", \"video/*\", \"video/mpeg2\", \"video/mp4\", \"video/H265\"];\n          } else {\n            supportedMediaTypes = {\n              \"1.2.840.10008.1.2.4.100\": [\"video/mpeg2\"],\n              \"1.2.840.10008.1.2.4.101\": [\"video/mpeg2\"],\n              \"1.2.840.10008.1.2.4.102\": [\"video/mp4\"],\n              \"1.2.840.10008.1.2.4.103\": [\"video/mp4\"],\n              \"1.2.840.10008.1.2.4.104\": [\"video/mp4\"],\n              \"1.2.840.10008.1.2.4.105\": [\"video/mp4\"],\n              \"1.2.840.10008.1.2.4.106\": [\"video/mp4\"]\n            };\n\n            if (byteRange) {\n              headers.Range = DICOMwebClient._buildRangeHeaderFieldValue(byteRange);\n            }\n          }\n\n          headers.Accept = DICOMwebClient._buildMultipartAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes);\n          return this._httpGet(url, headers, \"arraybuffer\", progressCallback).then(multipartDecode);\n        }\n        /**\n         * Performs a HTTP GET request that accepts a multipart message with \"application/dicom\" media type\n         *\n         * @param {String} url unique resource locator\n         * @param {Object[]} mediaTypes acceptable media types and optionally the UIDs of the\n         corresponding transfer syntaxes\n         * @param {Object} params additional HTTP GET query parameters\n         * @param {Function} progressCallback\n         * @private\n         * @returns {Array} content of HTTP message body parts\n         */\n\n      }, {\n        key: \"_httpGetMultipartApplicationDicom\",\n        value: function _httpGetMultipartApplicationDicom(url, mediaTypes, params, progressCallback) {\n          var headers = {};\n          var defaultMediaType = \"application/dicom\";\n          var supportedMediaTypes = {\n            \"1.2.840.10008.1.2.1\": [defaultMediaType],\n            \"1.2.840.10008.1.2.5\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.50\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.51\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.57\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.70\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.80\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.81\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.90\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.91\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.92\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.93\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.100\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.101\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.102\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.103\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.104\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.105\": [defaultMediaType],\n            \"1.2.840.10008.1.2.4.106\": [defaultMediaType]\n          };\n          var acceptableMediaTypes = mediaTypes;\n\n          if (!mediaTypes) {\n            acceptableMediaTypes = [{\n              mediaType: defaultMediaType\n            }];\n          }\n\n          headers.Accept = DICOMwebClient._buildMultipartAcceptHeaderFieldValue(acceptableMediaTypes, supportedMediaTypes);\n          return this._httpGet(url, headers, \"arraybuffer\", progressCallback).then(multipartDecode);\n        }\n        /**\n         * Performs a HTTP GET request that accepts a multipart message with \"application/octet-stream\" media type\n         *\n         * @param {String} url unique resource locator\n         * @param {Object[]} mediaTypes acceptable media types and optionally the UIDs of the\n         corresponding transfer syntaxes\n         * @param {Array} byteRange start and end of byte range\n         * @param {Object} params additional HTTP GET query parameters\n         * @param {Function} progressCallback\n         * @private\n         * @returns {Array} content of HTTP message body parts\n         */\n\n      }, {\n        key: \"_httpGetMultipartApplicationOctetStream\",\n        value: function _httpGetMultipartApplicationOctetStream(url, mediaTypes, byteRange, params, progressCallback) {\n          var headers = {};\n          var defaultMediaType = \"application/octet-stream\";\n          var supportedMediaTypes = {\n            \"1.2.840.10008.1.2.1\": [defaultMediaType]\n          };\n          var acceptableMediaTypes = mediaTypes;\n\n          if (!mediaTypes) {\n            acceptableMediaTypes = [{\n              mediaType: defaultMediaType\n            }];\n          }\n\n          if (byteRange) {\n            headers.Range = DICOMwebClient._buildRangeHeaderFieldValue(byteRange);\n          }\n\n          headers.Accept = DICOMwebClient._buildMultipartAcceptHeaderFieldValue(acceptableMediaTypes, supportedMediaTypes);\n          return this._httpGet(url, headers, \"arraybuffer\", progressCallback).then(multipartDecode);\n        }\n      }, {\n        key: \"_httpPost\",\n        value: function _httpPost(url, headers, data, progressCallback) {\n          return this._httpRequest(url, \"post\", headers, {\n            data: data,\n            progressCallback: progressCallback\n          });\n        }\n      }, {\n        key: \"_httpPostApplicationJson\",\n        value: function _httpPostApplicationJson(url, data, progressCallback) {\n          var headers = {\n            \"Content-Type\": MEDIATYPES.DICOM_JSON\n          };\n          return this._httpPost(url, headers, data, progressCallback);\n        }\n        /**\n         * Parses media type and extracts its type and subtype.\n         *\n         * @param mediaType e.g. image/jpeg\n         * @private\n         */\n\n      }, {\n        key: \"searchForStudies\",\n\n        /**\n         * Searches for DICOM studies.\n         * @param {Object} options options object\n         * @return {Array} study representations (http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_6.7.html#table_6.7.1-2)\n         */\n        value: function searchForStudies() {\n          var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          console.log(\"search for studies\");\n          var url = \"\".concat(this.qidoURL, \"/studies\");\n\n          if (\"queryParams\" in options) {\n            url += DICOMwebClient._parseQueryParameters(options.queryParams);\n          }\n\n          return this._httpGetApplicationJson(url);\n        }\n        /**\n         * Retrieves metadata for a DICOM study.\n         * @param {Object} options options object\n         * @returns {Array} metadata elements in DICOM JSON format for each instance\n                            belonging to the study\n         */\n\n      }, {\n        key: \"retrieveStudyMetadata\",\n        value: function retrieveStudyMetadata(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of study metadata\");\n          }\n\n          console.log(\"retrieve metadata of study \".concat(options.studyInstanceUID));\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/metadata\");\n          return this._httpGetApplicationJson(url);\n        }\n        /**\n         * Searches for DICOM series.\n         * @param {Object} options options object\n         * @returns {Array} series representations (http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_6.7.html#table_6.7.1-2a)\n         */\n\n      }, {\n        key: \"searchForSeries\",\n        value: function searchForSeries() {\n          var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var url = this.qidoURL;\n\n          if (\"studyInstanceUID\" in options) {\n            console.log(\"search series of study \".concat(options.studyInstanceUID));\n            url += \"/studies/\".concat(options.studyInstanceUID);\n          }\n\n          url += \"/series\";\n\n          if (\"queryParams\" in options) {\n            url += DICOMwebClient._parseQueryParameters(options.queryParams);\n          }\n\n          return this._httpGetApplicationJson(url);\n        }\n        /**\n         * Retrieves metadata for a DICOM series.\n         * @param {Object} options options object\n         * @returns {Array} metadata elements in DICOM JSON format for each instance\n                            belonging to the series\n         */\n\n      }, {\n        key: \"retrieveSeriesMetadata\",\n        value: function retrieveSeriesMetadata(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of series metadata\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required for retrieval of series metadata\");\n          }\n\n          console.log(\"retrieve metadata of series \".concat(options.seriesInstanceUID));\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/metadata\");\n          return this._httpGetApplicationJson(url);\n        }\n        /**\n         * Searches for DICOM instances.\n         * @param {Object} options options object\n         * @returns {Array} instance representations (http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_6.7.html#table_6.7.1-2b)\n         */\n\n      }, {\n        key: \"searchForInstances\",\n        value: function searchForInstances() {\n          var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var url = this.qidoURL;\n\n          if (\"studyInstanceUID\" in options) {\n            url += \"/studies/\".concat(options.studyInstanceUID);\n\n            if (\"seriesInstanceUID\" in options) {\n              console.log(\"search for instances of series \".concat(options.seriesInstanceUID));\n              url += \"/series/\".concat(options.seriesInstanceUID);\n            } else {\n              console.log(\"search for instances of study \".concat(options.studyInstanceUID));\n            }\n          } else {\n            console.log(\"search for instances\");\n          }\n\n          url += \"/instances\";\n\n          if (\"queryParams\" in options) {\n            url += DICOMwebClient._parseQueryParameters(options.queryParams);\n          }\n\n          return this._httpGetApplicationJson(url);\n        }\n        /** Returns a WADO-URI URL for an instance\n         * @param {Object} options options object\n         * @returns {String} WADO-URI URL\n         */\n\n      }, {\n        key: \"buildInstanceWadoURIUrl\",\n        value: function buildInstanceWadoURIUrl(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required.\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required.\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required.\");\n          }\n\n          var contentType = options.contentType || MEDIATYPES.DICOM;\n          var transferSyntax = options.transferSyntax || \"*\";\n          var params = [];\n          params.push(\"requestType=WADO\");\n          params.push(\"studyUID=\".concat(options.studyInstanceUID));\n          params.push(\"seriesUID=\".concat(options.seriesInstanceUID));\n          params.push(\"objectUID=\".concat(options.sopInstanceUID));\n          params.push(\"contentType=\".concat(contentType));\n          params.push(\"transferSyntax=\".concat(transferSyntax));\n          var paramString = params.join(\"&\");\n          return \"\".concat(this.wadoURL, \"?\").concat(paramString);\n        }\n        /**\n         * Retrieves metadata for a DICOM instance.\n         *\n         * @param {Object} options object\n         * @returns {Object} metadata elements in DICOM JSON format\n         */\n\n      }, {\n        key: \"retrieveInstanceMetadata\",\n        value: function retrieveInstanceMetadata(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of instance metadata\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required for retrieval of instance metadata\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required for retrieval of instance metadata\");\n          }\n\n          console.log(\"retrieve metadata of instance \".concat(options.sopInstanceUID));\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/instances/\").concat(options.sopInstanceUID, \"/metadata\");\n          return this._httpGetApplicationJson(url);\n        }\n        /**\n         * Retrieves frames for a DICOM instance.\n         * @param {Object} options options object\n         * @returns {Array} frame items as byte arrays of the pixel data element\n         */\n\n      }, {\n        key: \"retrieveInstanceFrames\",\n        value: function retrieveInstanceFrames(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of instance frames\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required for retrieval of instance frames\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required for retrieval of instance frames\");\n          }\n\n          if (!(\"frameNumbers\" in options)) {\n            throw new Error(\"frame numbers are required for retrieval of instance frames\");\n          }\n\n          console.log(\"retrieve frames \".concat(options.frameNumbers.toString(), \" of instance \").concat(options.sopInstanceUID));\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/instances/\").concat(options.sopInstanceUID, \"/frames/\").concat(options.frameNumbers.toString());\n          var mediaTypes = options.mediaTypes;\n\n          if (!mediaTypes) {\n            return this._httpGetMultipartApplicationOctetStream(url);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType === MEDIATYPES.OCTET_STREAM) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetMultipartImage(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetMultipartVideo(url, mediaTypes);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of frames.\"));\n        }\n        /**\n         * Retrieves an individual, server-side rendered DICOM instance.\n         *\n         * @param {Object} options options object\n         * @returns {Array} frame items as byte arrays of the pixel data element\n         */\n\n      }, {\n        key: \"retrieveInstanceRendered\",\n        value: function retrieveInstanceRendered(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of rendered instance\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required for retrieval of rendered instance\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required for retrieval of rendered instance\");\n          }\n\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/instances/\").concat(options.sopInstanceUID, \"/rendered\");\n          var mediaTypes = options.mediaTypes,\n              params = options.params;\n          var headers = {};\n\n          if (!mediaTypes) {\n            var responseType = \"arraybuffer\";\n            return this._httpGet(url, headers, responseType);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetImage(url, mediaTypes, params);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetVideo(url, mediaTypes, params);\n          } else if (commonMediaType.startsWith(\"text\")) {\n            return this._httpGetText(url, mediaTypes, params);\n          } else if (commonMediaType === MEDIATYPES.PDF) {\n            return this._httpGetApplicationPdf(url, params);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of rendered instance.\"));\n        }\n        /**\n         * Retrieves rendered frames for a DICOM instance.\n         * @param {Object} options options object\n         * @returns {Array} frame items as byte arrays of the pixel data element\n         */\n\n      }, {\n        key: \"retrieveInstanceFramesRendered\",\n        value: function retrieveInstanceFramesRendered(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required for retrieval of rendered instance frames\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required for retrieval of rendered instance frames\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required for retrieval of rendered instance frames\");\n          }\n\n          if (!(\"frameNumbers\" in options)) {\n            throw new Error(\"frame numbers are required for retrieval of rendered instance frames\");\n          }\n\n          console.debug(\"retrieve rendered frames \".concat(options.frameNumbers.toString(), \" of instance \").concat(options.sopInstanceUID));\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/instances/\").concat(options.sopInstanceUID, \"/frames/\").concat(options.frameNumbers.toString(), \"/rendered\");\n          var mediaTypes = options.mediaTypes;\n          var headers = {};\n\n          if (!mediaTypes) {\n            var responseType = \"arraybuffer\";\n            return this._httpGet(url, headers, responseType);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetImage(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetVideo(url, mediaTypes);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of rendered frame.\"));\n        }\n        /**\n         * Retrieves a DICOM instance.\n         * @param {Object} options options object\n         * @returns {ArrayBuffer} DICOM Part 10 file as Arraybuffer\n         */\n\n      }, {\n        key: \"retrieveInstance\",\n        value: function retrieveInstance(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required\");\n          }\n\n          if (!(\"sopInstanceUID\" in options)) {\n            throw new Error(\"SOP Instance UID is required\");\n          }\n\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID, \"/instances/\").concat(options.sopInstanceUID);\n          var mediaTypes = options.mediaTypes;\n\n          if (!mediaTypes) {\n            return this._httpGetMultipartApplicationDicom(url).then(getFirstResult);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType === MEDIATYPES.DICOM) {\n            return this._httpGetMultipartApplicationDicom(url, mediaTypes).then(getFirstResult);\n          } else if (commonMediaType === MEDIATYPES.OCTET_STREAM) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes).then(getFirstResult);\n          } else if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetMultipartImage(url, mediaTypes).then(getFirstResultIfLengthGtOne);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetMultipartVideo(url, mediaTypes).then(getFirstResultIfLengthGtOne);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of instance.\"));\n        }\n        /**\n         * Retrieves a set of DICOM instance for a series.\n         * @param {Object} options options object\n         * @returns {ArrayBuffer[]} Array of DICOM Part 10 files as Arraybuffers\n         */\n\n      }, {\n        key: \"retrieveSeries\",\n        value: function retrieveSeries(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required\");\n          }\n\n          if (!(\"seriesInstanceUID\" in options)) {\n            throw new Error(\"Series Instance UID is required\");\n          }\n\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID, \"/series/\").concat(options.seriesInstanceUID);\n          var mediaTypes = options.mediaTypes;\n\n          if (!mediaTypes) {\n            return this._httpGetMultipartApplicationDicom(url);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType === MEDIATYPES.DICOM) {\n            return this._httpGetMultipartApplicationDicom(url, mediaTypes);\n          } else if (commonMediaType === MEDIATYPES.OCTET_STREAM) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetMultipartImage(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetMultipartVideo(url, mediaTypes);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of series.\"));\n        }\n        /**\n         * Retrieves a set of DICOM instance for a study.\n         * @param {Object} options options object\n         * @returns {ArrayBuffer[]} Array of DICOM Part 10 files as Arraybuffers\n         */\n\n      }, {\n        key: \"retrieveStudy\",\n        value: function retrieveStudy(options) {\n          if (!(\"studyInstanceUID\" in options)) {\n            throw new Error(\"Study Instance UID is required\");\n          }\n\n          var url = \"\".concat(this.wadoURL, \"/studies/\").concat(options.studyInstanceUID);\n          var mediaTypes = options.mediaTypes;\n\n          if (!mediaTypes) {\n            return this._httpGetMultipartApplicationDicom(url);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType === MEDIATYPES.DICOM) {\n            return this._httpGetMultipartApplicationDicom(url, mediaTypes);\n          } else if (commonMediaType === MEDIATYPES.OCTET_STREAM) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetMultipartImage(url, mediaTypes);\n          } else if (commonMediaType.startsWith(\"video\")) {\n            return this._httpGetMultipartVideo(url, mediaTypes);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of study.\"));\n        }\n        /**\n         * Retrieves and parses BulkData from a BulkDataURI location.\n         * Decodes the multipart encoded data and returns the resulting data\n         * as an ArrayBuffer.\n         *\n         * See http://dicom.nema.org/medical/dicom/current/output/chtml/part18/sect_6.5.5.html\n         *\n         * @param {Object} options options object\n         * @return {Promise}\n         */\n\n      }, {\n        key: \"retrieveBulkData\",\n        value: function retrieveBulkData(options) {\n          if (!(\"BulkDataURI\" in options)) {\n            throw new Error(\"BulkDataURI is required.\");\n          }\n\n          var url = options.BulkDataURI;\n          var mediaTypes = options.mediaTypes,\n              byteRange = options.byteRange;\n\n          if (!mediaTypes) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes, byteRange);\n          }\n\n          var commonMediaType = DICOMwebClient._getCommonMediaType(mediaTypes);\n\n          if (commonMediaType === MEDIATYPES.OCTET_STREAM) {\n            return this._httpGetMultipartApplicationOctetStream(url, mediaTypes, byteRange);\n          } else if (commonMediaType.startsWith(\"image\")) {\n            return this._httpGetMultipartImage(url, mediaTypes, byteRange);\n          }\n\n          throw new Error(\"Media type \".concat(commonMediaType, \" is not supported for retrieval of bulk data.\"));\n        }\n        /**\n         * Stores DICOM instances.\n         *\n         * @param {Object} options options object\n         */\n\n      }, {\n        key: \"storeInstances\",\n        value: function storeInstances(options) {\n          if (!(\"datasets\" in options)) {\n            throw new Error(\"datasets are required for storing\");\n          }\n\n          var url = \"\".concat(this.stowURL, \"/studies\");\n\n          if (\"studyInstanceUID\" in options) {\n            url += \"/\".concat(options.studyInstanceUID);\n          }\n\n          var _multipartEncode = multipartEncode(options.datasets),\n              data = _multipartEncode.data,\n              boundary = _multipartEncode.boundary;\n\n          var headers = {\n            \"Content-Type\": \"multipart/related; type=application/dicom; boundary=\".concat(boundary)\n          };\n          return this._httpPost(url, headers, data, options.progressCallback);\n        }\n      }], [{\n        key: \"_parseQueryParameters\",\n        value: function _parseQueryParameters() {\n          var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n          var queryString = \"?\";\n          Object.keys(params).forEach(function (key, index) {\n            if (index !== 0) {\n              queryString += \"&\";\n            }\n\n            queryString += \"\".concat(key, \"=\").concat(encodeURIComponent(params[key]));\n          });\n          return queryString;\n        }\n      }, {\n        key: \"_assertMediaTypeIsValid\",\n        value: function _assertMediaTypeIsValid(mediaType) {\n          if (!mediaType) {\n            throw new Error(\"Not a valid media type: \".concat(mediaType));\n          }\n\n          var sepIndex = mediaType.indexOf(\"/\");\n\n          if (sepIndex === -1) {\n            throw new Error(\"Not a valid media type: \".concat(mediaType));\n          }\n\n          var mediaTypeType = mediaType.slice(0, sepIndex);\n          var types = [\"application\", \"image\", \"text\", \"video\"];\n\n          if (!types.includes(mediaTypeType)) {\n            throw new Error(\"Not a valid media type: \".concat(mediaType));\n          }\n\n          if (mediaType.slice(sepIndex + 1).includes(\"/\")) {\n            throw new Error(\"Not a valid media type: \".concat(mediaType));\n          }\n        }\n      }, {\n        key: \"_parseMediaType\",\n        value: function _parseMediaType(mediaType) {\n          DICOMwebClient._assertMediaTypeIsValid(mediaType);\n\n          return mediaType.split(\"/\");\n        }\n        /**\n         * Builds an accept header field value for HTTP GET request messages.\n         *\n         * @param {Object[]} mediaTypes Acceptable media types\n         * @param {Object[]} supportedMediaTypes Supported media types\n         * @return {*}\n         * @private\n         */\n\n      }, {\n        key: \"_buildAcceptHeaderFieldValue\",\n        value: function _buildAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes) {\n          if (!Array.isArray(mediaTypes)) {\n            throw new Error(\"Acceptable media types must be provided as an Array\");\n          }\n\n          var fieldValueParts = mediaTypes.map(function (item) {\n            var mediaType = item.mediaType;\n\n            DICOMwebClient._assertMediaTypeIsValid(mediaType);\n\n            if (!supportedMediaTypes.includes(mediaType)) {\n              throw new Error(\"Media type \".concat(mediaType, \" is not supported for requested resource\"));\n            }\n\n            return mediaType;\n          });\n          return fieldValueParts.join(\", \");\n        }\n        /**\n           * Builds an accept header field value for HTTP GET multipart request\n           messages.\n           *\n           * @param {Object[]} mediaTypes Acceptable media types\n           * @param {Object[]} supportedMediaTypes Supported media types\n           * @private\n           */\n\n      }, {\n        key: \"_buildMultipartAcceptHeaderFieldValue\",\n        value: function _buildMultipartAcceptHeaderFieldValue(mediaTypes, supportedMediaTypes) {\n          if (!Array.isArray(mediaTypes)) {\n            throw new Error(\"Acceptable media types must be provided as an Array\");\n          }\n\n          if (!Array.isArray(supportedMediaTypes) && !isObject(supportedMediaTypes)) {\n            throw new Error(\"Supported media types must be provided as an Array or an Object\");\n          }\n\n          var fieldValueParts = [];\n          mediaTypes.forEach(function (item) {\n            var transferSyntaxUID = item.transferSyntaxUID,\n                mediaType = item.mediaType;\n\n            DICOMwebClient._assertMediaTypeIsValid(mediaType);\n\n            var fieldValue = \"multipart/related; type=\\\"\".concat(mediaType, \"\\\"\");\n\n            if (isObject(supportedMediaTypes)) {\n              // SupportedMediaTypes is a lookup table that maps Transfer Syntax UID\n              // to one or more Media Types\n              if (!Object.values(supportedMediaTypes).flat(1).includes(mediaType)) {\n                if (!mediaType.endsWith(\"/*\") || !mediaType.endsWith(\"/\")) {\n                  throw new Error(\"Media type \".concat(mediaType, \" is not supported for requested resource\"));\n                }\n              }\n\n              if (transferSyntaxUID) {\n                if (transferSyntaxUID !== \"*\") {\n                  if (!Object.keys(supportedMediaTypes).includes(transferSyntaxUID)) {\n                    throw new Error(\"Transfer syntax \".concat(transferSyntaxUID, \" is not supported for requested resource\"));\n                  }\n\n                  var expectedMediaTypes = supportedMediaTypes[transferSyntaxUID];\n\n                  if (!expectedMediaTypes.includes(mediaType)) {\n                    var actualType = DICOMwebClient._parseMediaType(mediaType)[0];\n\n                    expectedMediaTypes.map(function (expectedMediaType) {\n                      var expectedType = DICOMwebClient._parseMediaType(expectedMediaType)[0];\n\n                      var haveSameType = actualType === expectedType;\n\n                      if (haveSameType && (mediaType.endsWith(\"/*\") || mediaType.endsWith(\"/\"))) {\n                        return;\n                      }\n\n                      throw new Error(\"Transfer syntax \".concat(transferSyntaxUID, \" is not supported for requested resource\"));\n                    });\n                  }\n                }\n\n                fieldValue += \"; transfer-syntax=\".concat(transferSyntaxUID);\n              }\n            } else if (Array.isArray(supportedMediaTypes) && !supportedMediaTypes.includes(mediaType)) {\n              throw new Error(\"Media type \".concat(mediaType, \" is not supported for requested resource\"));\n            }\n\n            fieldValueParts.push(fieldValue);\n          });\n          return fieldValueParts.join(\", \");\n        }\n        /**\n         * Builds a range header field value for HTTP GET request messages.\n         *\n         * @param {Array} byteRange start and end of byte range\n         * @returns {String} range header field value\n         */\n\n      }, {\n        key: \"_buildRangeHeaderFieldValue\",\n        value: function _buildRangeHeaderFieldValue() {\n          var byteRange = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n          if (byteRange.length === 1) {\n            return \"bytes=\".concat(byteRange[0], \"-\");\n          }\n\n          if (byteRange.length === 2) {\n            return \"bytes=\".concat(byteRange[0], \"-\").concat(byteRange[1]);\n          }\n\n          return \"bytes=0-\";\n        }\n        /**\n         * Gets common type of acceptable media types and asserts that only\n         one type is specified. For example, ``(\"image/jpeg\", \"image/jp2\")``\n         will pass, but ``(\"image/jpeg\", \"video/mpeg2\")`` will raise an\n         exception.\n         * @param {String[]} acceptable media types and optionally the UIDs of the\n         corresponding transfer syntaxes\n         *\n         */\n\n      }, {\n        key: \"_getCommonMediaType\",\n        value: function _getCommonMediaType(mediaTypes) {\n          if (!mediaTypes || !mediaTypes.length) {\n            throw new Error(\"No acceptable media types provided\");\n          }\n\n          var commonMediaTypes = new Set();\n          mediaTypes.forEach(function (item) {\n            var mediaType = item.mediaType;\n\n            if (mediaType.startsWith(\"application\")) {\n              commonMediaTypes.add(mediaType);\n            } else {\n              var type = DICOMwebClient._parseMediaType(mediaType)[0];\n\n              commonMediaTypes.add(\"\".concat(type, \"/\"));\n            }\n          });\n\n          if (commonMediaTypes.size === 0) {\n            throw new Error(\"No common acceptable media type could be identified.\");\n          } else if (commonMediaTypes.size > 1) {\n            throw new Error(\"Acceptable media types must have the same type.\");\n          }\n\n          return Array.from(commonMediaTypes)[0];\n        }\n      }]);\n\n      return DICOMwebClient;\n    }();\n\n    function findSubstring(str, before, after) {\n      var beforeIndex = str.lastIndexOf(before) + before.length;\n\n      if (beforeIndex < before.length) {\n        return null;\n      }\n\n      if (after !== undefined) {\n        var afterIndex = str.lastIndexOf(after);\n\n        if (afterIndex < 0) {\n          return null;\n        }\n\n        return str.substring(beforeIndex, afterIndex);\n      }\n\n      return str.substring(beforeIndex);\n    }\n\n    function getStudyInstanceUIDFromUri(uri) {\n      var uid = findSubstring(uri, \"studies/\", \"/series\");\n\n      if (!uid) {\n        uid = findSubstring(uri, \"studies/\");\n      }\n\n      if (!uid) {\n        console.debug(\"Study Instance UID could not be dertermined from URI \\\"\".concat(uri, \"\\\"\"));\n      }\n\n      return uid;\n    }\n\n    function getSeriesInstanceUIDFromUri(uri) {\n      var uid = findSubstring(uri, \"series/\", \"/instances\");\n\n      if (!uid) {\n        uid = findSubstring(uri, \"series/\");\n      }\n\n      if (!uid) {\n        console.debug(\"Series Instance UID could not be dertermined from URI \\\"\".concat(uri, \"\\\"\"));\n      }\n\n      return uid;\n    }\n\n    function getSOPInstanceUIDFromUri(uri) {\n      var uid = findSubstring(uri, \"/instances/\", \"/frames\");\n\n      if (!uid) {\n        uid = findSubstring(uri, \"/instances/\", \"/metadata\");\n      }\n\n      if (!uid) {\n        uid = findSubstring(uri, \"/instances/\");\n      }\n\n      if (!uid) {\n        console.debug(\"SOP Instance UID could not be dertermined from URI\\\"\".concat(uri, \"\\\"\"));\n      }\n\n      return uid;\n    }\n\n    function getFrameNumbersFromUri(uri) {\n      var numbers = findSubstring(uri, \"/frames/\", \"/rendered\");\n\n      if (!numbers) {\n        numbers = findSubstring(uri, \"/frames/\");\n      }\n\n      if (numbers === undefined) {\n        console.debug(\"Frames Numbers could not be dertermined from URI\\\"\".concat(uri, \"\\\"\"));\n      }\n\n      return numbers.split(\",\");\n    }\n\n    var version = \"0.5.2\";\n\n    var api = {\n      DICOMwebClient: DICOMwebClient\n    };\n    var utils = {\n      getStudyInstanceUIDFromUri: getStudyInstanceUIDFromUri,\n      getSeriesInstanceUIDFromUri: getSeriesInstanceUIDFromUri,\n      getSOPInstanceUIDFromUri: getSOPInstanceUIDFromUri,\n      getFrameNumbersFromUri: getFrameNumbersFromUri\n    };\n\n    exports.api = api;\n    exports.utils = utils;\n    exports.version = version;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n  })));\n\n  });\n\n  var DICOMwebClient = unwrapExports(dicomwebClient);\n\n  function _getPixelSpacing(metadata) {\n    const functionalGroup = metadata.SharedFunctionalGroupsSequence[0];\n    const pixelMeasures = functionalGroup.PixelMeasuresSequence[0];\n    return pixelMeasures.PixelSpacing;\n  }\n\n  function _geometry2Scoord3d(geometry, pyramid) {\n    const frameOfReferenceUID = pyramid[pyramid.length-1].FrameOfReferenceUID;\n    const type = geometry.getType();\n    if (type === 'Point') {\n      let coordinates = geometry.getCoordinates();\n      coordinates = _geometryCoordinates2scoord3dCoordinates(coordinates, pyramid);\n      return new Point$1({\n        coordinates,\n        frameOfReferenceUID: frameOfReferenceUID\n      });\n    } else if (type === 'Polygon') {\n      /*\n       * The first linear ring of the array defines the outer-boundary (surface).\n       * Each subsequent linear ring defines a hole in the surface.\n       */\n      let coordinates = geometry.getCoordinates()[0].map(c => {\n        return _geometryCoordinates2scoord3dCoordinates(c, pyramid);\n      });\n      return new Polygon$1({\n        coordinates,\n        frameOfReferenceUID: frameOfReferenceUID\n      });\n    } else if (type === 'LineString') {\n      let coordinates = geometry.getCoordinates().map(c => {\n        return _geometryCoordinates2scoord3dCoordinates(c, pyramid);\n      });\n      return new Polyline({\n        coordinates,\n        frameOfReferenceUID: frameOfReferenceUID\n      });\n    } else if (type === 'Circle') {\n      let centerCoordinate = geometry.getCenter();\n      let radius = geometry.getRadius();\n      // Endpoints of major and  minor axis of the ellipse.\n      // In case of a circle they both have the same length.\n      let coordinates = [\n        [centerCoordinate[0] - radius, centerCoordinate[1]],\n        [centerCoordinate[0] + radius, centerCoordinate[1]],\n        [centerCoordinate[0], centerCoordinate[1] - radius],\n        [centerCoordinate[0], centerCoordinate[1] + radius],\n      ];\n      coordinates = coordinates.map(c => {\n        c.push(0);\n        return _geometryCoordinates2scoord3dCoordinates(c, pyramid)\n      });\n      return new Ellipse({\n        coordinates,\n        frameOfReferenceUID: frameOfReferenceUID\n      });\n    } else {\n      // TODO: Combine multiple points into MULTIPOINT.\n      console.error(`unknown geometry type \"${type}\"`);\n    }\n  }\n\n  function _scoord3d2Geometry(scoord3d, pyramid) {\n    const type = scoord3d.graphicType;\n    const data = scoord3d.graphicData;\n    if (type === 'POINT') {\n      let coordinates = _scoord3dCoordinates2geometryCoordinates(data, pyramid);\n      return new Point(coordinates);\n    } else if (type === 'POLYLINE') {\n      const coordinates = data.map(d => {\n        return _scoord3dCoordinates2geometryCoordinates(d, pyramid);\n      });\n      return new LineString(coordinates);\n    } else if(type === 'POLYGON'){\n      const coordinates = data.map(d => {\n        return _scoord3dCoordinates2geometryCoordinates(d, pyramid);\n      });\n      return new Polygon([coordinates]);\n    } else if (type === 'ELLIPSE') {\n      // TODO: ensure that the ellipse represents a circle, i.e. that\n      // major and minor axis form a right angle and have the same length\n      let majorAxisCoordinates = data.slice(0, 2);\n      let minorAxisCoordinates = data.slice(2, 4);\n      // Circle is defined by two points: the center point and a point on the\n      // circumference.\n      let point1 = majorAxisCoordinates[0];\n      let point2 = majorAxisCoordinates[1];\n      let coordinates = [\n        [\n          (point1[0] + point2[0]) / parseFloat(2),\n          (point1[1] + point2[1]) / parseFloat(2),\n          0\n        ],\n        point2\n      ];\n      coordinates = coordinates.map(d => {\n        return _scoord3dCoordinates2geometryCoordinates(d, pyramid);\n      });\n      // to flat coordinates\n      coordinates = [...coordinates[0].slice(0,2), ...coordinates[1].slice(0,2)];\n\n      // flat coordinates in combination with opt_layout and no opt_radius are also accepted\n      // and internaly it calculates the Radius\n      return new Circle(coordinates, null, \"XY\");\n    } else {\n      console.error(`unsupported graphic type \"${type}\"`);\n    }\n  }\n\n  function _geometryCoordinates2scoord3dCoordinates(coordinates, pyramid) {\n    return _coordinateFormatGeometry2Scoord3d([coordinates[0] + 1, coordinates[1], coordinates[2]], pyramid);\n  }\n\n  function _scoord3dCoordinates2geometryCoordinates(coordinates, pyramid) {\n    return _coordinateFormatScoord3d2Geometry([coordinates[0], coordinates[1], coordinates[2]], pyramid)\n  }\n\n  /*\n    * Translate pixel units of total pixel matrix into millimeters of\n    * slide coordinate system\n  */\n  function _coordinateFormatGeometry2Scoord3d(coordinates, pyramid) {\n    let transform = false;\n    if(!(coordinates[0] instanceof Array)) {\n      coordinates = [coordinates];\n      transform = true;\n    }\n    const metadata = pyramid[pyramid.length-1];\n    const origin = metadata.TotalPixelMatrixOriginSequence[0];\n    const xOffset = Number(origin.XOffsetInSlideCoordinateSystem);\n    const yOffset = Number(origin.YOffsetInSlideCoordinateSystem);\n    const pixelSpacing = _getPixelSpacing(metadata);\n    coordinates = coordinates.map(point => {\n      const x = Number((xOffset + (point[0] * pixelSpacing[0])).toFixed(4));\n      const y = Number((yOffset - ((point[1] - 1) * pixelSpacing[1])).toFixed(4));\n      const z = Number((0).toFixed(4));\n      return [x, y, z];\n    });\n    if (transform) {\n      return coordinates[0];\n    }\n    return coordinates;\n  }\n\n  /*\n    * Translate millimeters into pixel units of total pixel matrix of\n    * slide coordinate system\n  */\n  function _coordinateFormatScoord3d2Geometry(coordinates, pyramid) {\n    let transform = false;\n    if(!(coordinates[0] instanceof Array)) {\n      coordinates = [coordinates];\n      transform = true;\n    }\n    const metadata = pyramid[pyramid.length-1];\n    const origin = metadata.TotalPixelMatrixOriginSequence[0];\n    const xOffset = Number(origin.XOffsetInSlideCoordinateSystem);\n    const yOffset = Number(origin.YOffsetInSlideCoordinateSystem);\n    coordinates = coordinates.map(coord =>{\n      const pixelSpacing = _getPixelSpacing(pyramid[pyramid.length-1]);\n      const x = (coord[0] / pixelSpacing[0] - 1) - xOffset;\n      const y = -(coord[1] /pixelSpacing[1] - 1) - yOffset;\n      const z = coord[2];\n      return [x, y, z];\n    });\n    if (transform) {\n      return coordinates[0];\n    }\n    return coordinates;\n  }\n\n  function _getROIFromFeature(feature, pyramid){\n    let roi = {};\n    if (feature !== undefined) {\n      const geometry = feature.getGeometry();\n      const scoord3d = _geometry2Scoord3d(geometry, pyramid);\n      const properties = feature.getProperties();\n      // Remove geometry from properties mapping\n      const geometryName = feature.getGeometryName();\n      delete properties[geometryName];\n      const uid = feature.getId();\n      roi = new ROI({scoord3d, properties, uid});\n    }\n    return roi;\n  }\n\n  const _usewebgl = Symbol('usewebgl');\n  const _map = Symbol('map');\n  const _features = Symbol('features');\n  const _drawingSource = Symbol('drawingSource');\n  const _drawingLayer = Symbol('drawingLayer');\n  const _segmentations = Symbol('segmentations');\n  const _client = Symbol('client');\n  const _controls = Symbol('controls');\n  const _interactions = Symbol('interactions');\n  const _pyramidMetadata = Symbol('pyramidMetadata');\n  const _pyramidFrameMappings = Symbol('pyramidFrameMappings');\n  const _pyramidBaseMetadata = Symbol('pyramidMetadataBase');\n  const _metadata = Symbol('metadata');\n\n\n  class VLWholeSlideMicroscopyImageViewer {\n\n    /*\n     * options:\n     *   - client (instance of DICOMwebClient)\n     *   - metadata (array of DICOM JSON metadata for each image instance)\n     *   - retrieveRendered (whether frames should be retrieved using DICOMweb RetrieveRenderedTransaction; default: true)\n     *   - useWebGL (whether WebGL renderer should be used; default: true)\n     */\n    constructor(options) {\n      if ('useWebGL' in options) {\n        this[_usewebgl] = options.useWebGL;\n      } else {\n        this[_usewebgl] = true;\n      }\n      this[_client] = options.client;\n\n      if (!('retrieveRendered' in options)) {\n        options.retrieveRendered = true;\n      }\n\n      if (!('controls' in options)) {\n        options.controls = [];\n      }\n      options.controls = new Set(options.controls);\n\n      // Collection of Openlayers \"VectorLayer\" instances indexable by\n      // DICOM Series Instance UID\n      this[_segmentations] = {};\n\n      // Collection of Openlayers \"Feature\" instances\n      this[_features] = new Collection([], {unique: true});\n      // Add unique identifier to each created \"Feature\" instance\n      this[_features].on('add', (e) => {\n        // The ID may have already been set when drawn. However, features could\n        // have also been added without a draw event.\n        if (e.element.getId() === undefined) {\n          e.element.setId(generateUID());\n        }\n      });\n\n      /*\n       * To visualize images accross multiple scales, we first need to\n       * determine the image pyramid structure, i.e. the size and resolution\n       * images at the different pyramid levels.\n      */\n      this[_metadata] = options.metadata.map(m => formatImageMetadata(m));\n      // Sort instances and optionally concatenation parts if present.\n      this[_metadata].sort((a, b) => {\n        const sizeDiff = a.TotalPixelMatrixColumns - b.TotalPixelMatrixColumns;\n        if (sizeDiff === 0) {\n          if (a.ConcatenationFrameOffsetNumber !== undefined) {\n            return a.ConcatenationFrameOffsetNumber - b.ConcatenationFrameOffsetNumber;\n          }\n          return sizeDiff;\n        }\n        return sizeDiff;\n      });\n      this[_pyramidMetadata] = [];\n      this[_pyramidFrameMappings] = [];\n      let frameMappings = this[_metadata].map(m => getFrameMapping(m));\n      for (let i = 0; i < this[_metadata].length; i++) {\n        const cols = this[_metadata][i].TotalPixelMatrixColumns;\n        const rows = this[_metadata][i].TotalPixelMatrixRows;\n        const numberOfFrames = this[_metadata][i].NumberOfFrames;\n        /*\n         * Instances may be broken down into multiple concatentation parts.\n         * Therefore, we have to re-assemble instance metadata.\n        */\n        let alreadyExists = false;\n        let index = null;\n        for (let j = 0; j < this[_pyramidMetadata].length; j++) {\n          if (\n              (this[_pyramidMetadata][j].TotalPixelMatrixColumns === cols) &&\n              (this[_pyramidMetadata][j].TotalPixelMatrixRows === rows)\n            ) {\n            alreadyExists = true;\n            index = j;\n          }\n        }\n        if (alreadyExists) {\n          // Update with information obtained from current concatentation part.\n          Object.assign(this[_pyramidFrameMappings][index], frameMappings[i]);\n          this[_pyramidMetadata][index].NumberOfFrames += numberOfFrames;\n          if (\"PerFrameFunctionalGroupsSequence\" in this[_metadata][index]) {\n            this[_pyramidMetadata][index].PerFrameFunctionalGroupsSequence.push(\n              ...this[_metadata][i].PerFrameFunctionalGroupsSequence\n            );\n          }\n          if (!\"SOPInstanceUIDOfConcatenationSource\" in this[_metadata][i]) {\n            throw new Error(\n              'Attribute \"SOPInstanceUIDOfConcatenationSource\" is required ' +\n              'for concatenation parts.'\n            );\n          }\n          const sopInstanceUID = this[_metadata][i].SOPInstanceUIDOfConcatenationSource;\n          this[_pyramidMetadata][index].SOPInstanceUID = sopInstanceUID;\n          delete this[_pyramidMetadata][index].SOPInstanceUIDOfConcatenationSource;\n          delete this[_pyramidMetadata][index].ConcatenationUID;\n          delete this[_pyramidMetadata][index].InConcatenationNumber;\n          delete this[_pyramidMetadata][index].ConcatenationFrameOffsetNumber;\n        } else {\n          this[_pyramidMetadata].push(this[_metadata][i]);\n          this[_pyramidFrameMappings].push(frameMappings[i]);\n        }\n      }\n      const nLevels = this[_pyramidMetadata].length;\n      if (nLevels === 0) {\n        console.error('empty pyramid - no levels found');\n      }\n      this[_pyramidBaseMetadata] = this[_pyramidMetadata][nLevels - 1];\n      /*\n       * Collect relevant information from DICOM metadata for each pyramid\n       * level to construct the Openlayers map.\n      */\n      const tileSizes = [];\n      const totalSizes = [];\n      const resolutions = [];\n      const origins = [];\n      const offset = [0, -1];\n      const basePixelSpacing = _getPixelSpacing(this[_pyramidBaseMetadata]);\n      const baseColumns = this[_pyramidBaseMetadata].Columns;\n      const baseRows = this[_pyramidBaseMetadata].Rows;\n      const baseTotalPixelMatrixColumns = this[_pyramidBaseMetadata].TotalPixelMatrixColumns;\n      const baseTotalPixelMatrixRows = this[_pyramidBaseMetadata].TotalPixelMatrixRows;\n      for (let j = (nLevels - 1); j >= 0; j--) {\n        const columns = this[_pyramidMetadata][j].Columns;\n        const rows = this[_pyramidMetadata][j].Rows;\n        const totalPixelMatrixColumns = this[_pyramidMetadata][j].TotalPixelMatrixColumns;\n        const totalPixelMatrixRows = this[_pyramidMetadata][j].TotalPixelMatrixRows;\n        const pixelSpacing = _getPixelSpacing(this[_pyramidMetadata][j]);\n        const colFactor = Math.ceil(totalPixelMatrixColumns / columns);\n        const rowFactor = Math.ceil(totalPixelMatrixRows / rows);\n        const adjustedTotalPixelMatrixColumns = columns * colFactor;\n        const adjustedTotalPixelMatrixRows = rows * rowFactor;\n        tileSizes.push([\n          columns,\n          rows\n        ]);\n        totalSizes.push([\n          adjustedTotalPixelMatrixColumns,\n          adjustedTotalPixelMatrixRows\n        ]);\n\n        /*\n         * Compute the resolution at each pyramid level, since the zoom\n         * factor may not be the same between adjacent pyramid levels.\n        */\n        let zoomFactor = pixelSpacing[0] / basePixelSpacing[0];\n        resolutions.push(zoomFactor);\n\n        /*\n         * TODO: One may have to adjust the offset slightly due to the\n         * difference between extent of the image at a given resolution level\n         * and the actual number of tiles (frames).\n        */\n        origins.push(offset);\n      }\n      resolutions.reverse();\n      tileSizes.reverse();\n      origins.reverse();\n\n      // Functions won't be able to access \"this\"\n      const pyramid = this[_pyramidMetadata];\n      const pyramidFrameMappings = this[_pyramidFrameMappings];\n\n      /*\n       * Define custom tile URL function to retrive frames via DICOMweb\n       * WADO-RS.\n       */\n      const tileUrlFunction = (tileCoord, pixelRatio, projection) => {\n        /*\n         * Variables x and y correspond to the X and Y axes of the slide\n         * coordinate system. Since we want to view the slide horizontally\n         * with the label on the right side, the x axis of the slide\n         * coordinate system is the vertical axis of the viewport and the\n         * y axis of the slide coordinate system the horizontal axis of the\n         * viewport. Note that this is in contrast to the nomenclature used\n         * by Openlayers.\n         */\n        let z = tileCoord[0];\n        let y = tileCoord[1] + 1;\n        /*\n         * The vertical axis is inverted for the chosen tile source, i.e.\n         * it starts at -1 at the top left corner and descreases along the\n         * vertical axis to the lower left corner of the viewport.\n         */\n        let x = -(tileCoord[2] + 1) + 1;\n        let index = x + \"-\" + y;\n        let path = pyramidFrameMappings[z][index];\n        if (path === undefined) {\n          console.warn(\"tile \" + index + \" not found at level \" + z);\n          return(null);\n        }\n        let url = options.client.wadoURL +\n          \"/studies/\" + pyramid[z].StudyInstanceUID +\n          \"/series/\" + pyramid[z].SeriesInstanceUID +\n          '/instances/' + path;\n        if (options.retrieveRendered) {\n          url = url + '/rendered';\n        }\n        return(url);\n      };\n\n      const tileLoadFunction = (tile, src) => {\n        if (src !== null) {\n          const studyInstanceUID = DICOMwebClient.utils.getStudyInstanceUIDFromUri(src);\n          const seriesInstanceUID = DICOMwebClient.utils.getSeriesInstanceUIDFromUri(src);\n          const sopInstanceUID = DICOMwebClient.utils.getSOPInstanceUIDFromUri(src);\n          const frameNumbers = DICOMwebClient.utils.getFrameNumbersFromUri(src);\n          const img = tile.getImage();\n          if (options.retrieveRendered) {\n            const mediaType = 'image/png';\n            const retrieveOptions = {\n              studyInstanceUID,\n              seriesInstanceUID,\n              sopInstanceUID,\n              frameNumbers,\n              mediaTypes: [{ mediaType }]\n            };\n            options.client.retrieveInstanceFramesRendered(retrieveOptions).then((renderedFrame) => {\n              const blob = new Blob([renderedFrame], {type: mediaType});\n              img.src = window.URL.createObjectURL(blob);\n            });\n          } else {\n            // TODO: support \"image/jp2\" and \"image/jls\"\n            const mediaType = 'image/jpeg';\n\n            const retrieveOptions = {\n              studyInstanceUID,\n              seriesInstanceUID,\n              sopInstanceUID,\n              frameNumbers,\n              mediaTypes: [{mediaType, transferSyntaxUID: '1.2.840.10008.1.2.4.50'}]\n            };\n            options.client.retrieveInstanceFrames(retrieveOptions).then((rawFrames) => {\n              const blob = new Blob(rawFrames, {type: mediaType});\n              img.src = window.URL.createObjectURL(blob);\n            });\n          }\n        } else {\n          console.warn('could not load tile');\n        }\n      };\n\n      /*\n       * Frames may extend beyond the size of the total pixel matrix.\n       * The excess pixels are empty, i.e. have only a padding value.\n       * We set the extent to the size of the actual image without taken\n       * excess pixels into account.\n       * Note that the vertical axis is flipped in the used tile source,\n       * i.e. values on the axis lie in the range [-n, -1], where n is the\n       * number of rows in the total pixel matrix.\n      */\n      const extent = [\n        0,                            // min X\n        -baseTotalPixelMatrixRows,    // min Y\n        baseTotalPixelMatrixColumns,  // max X\n        -1                            // max Y\n      ];\n\n      /*\n       * Determine whether image needs to be rotated relative to slide\n       * coordinate system based on direction cosines.\n       * There are only planar rotations, since the total pixel matrix is\n       * parallel to the slide surface. Here, we further assume that rows and\n       * columns of total pixel matrix are parallel to the borders of the slide,\n       * i.e. the x and y axis of the slide coordinate system.\n       * Hence, we only account for the case where the image may be rotated by\n       * 180 degrees.\n      */\n      var degrees = 0;\n      if (\n        (this[_pyramidBaseMetadata].ImageOrientationSlide[1] === -1) &&\n        (this[_pyramidBaseMetadata].ImageOrientationSlide[3] === -1)\n      ) {\n        /*\n         * The row direction (left to right) of the total pixel matrix\n         * is defined by the first three values.\n         * The three values specify how the direction changes from the last pixel\n         * to the first pixel in the row along each of the three axes of the\n         * slide coordinate system (x, y, z), i.e. it express in which direction one\n         * is moving in the slide coordinate system when the COLUMN index changes.\n         * The column direction (top to bottom) of the total pixel matrix\n         * is defined by the first three values.\n         * The three values specify how the direction changes from the last pixel\n         * to the first pixel in the column along each of the three axes of the\n         * slide coordinate system (x, y, z), i.e. it express in which direction one\n         * is moving in the slide coordinate system when the ROW index changes.\n        */\n        degrees = 180;\n      }\n      const rotation = degrees * (Math.PI / 180);\n\n      /*\n       * Specify projection to prevent default automatic projection\n       * with the default Mercator projection.\n       */\n      const projection = new Projection({\n        code: \"NONE\",\n        units: 'metric',\n        extent: extent,\n        getPointResolution: function(pixelRes, point) {\n          /*\n           * DICOM pixel spacing has millimeter unit while the projection has\n           * has meter unit.\n           */\n          let spacing = _getPixelSpacing(pyramid[nLevels-1])[0] / 10**3;\n          let res = pixelRes * spacing;\n          return(res);\n        }\n      });\n      /*\n       * TODO: Register custom projection:\n       *  - http://openlayers.org/en/latest/apidoc/ol.proj.html\n       *  - http://openlayers.org/en/latest/apidoc/module-ol_proj.html#~ProjectionLike\n       * Direction cosines could be handled via projection rather\n       * than specifying a rotation\n       */\n\n      /*\n       * We need to specify the tile grid, since DICOM allows tiles to\n       * have different sizes at each resolution level and a different zoom\n       * factor between individual levels.\n       */\n      const tileGrid = new TileGrid({\n        extent: extent,\n        origins: origins,\n        resolutions: resolutions,\n        sizes: totalSizes,\n        tileSizes: tileSizes\n      });\n\n      /*\n       * We use the implemented XYZ tile source but customize it to retrieve\n       * frames (load tiles) via DICOMweb WADO-RS.\n       */\n      const rasterSource = new XYZ({\n        crossOrigin: \"Anonymous\",\n        tileGrid: tileGrid,\n        projection: projection,\n        wrapX: false\n      });\n      rasterSource.setTileUrlFunction(tileUrlFunction);\n      rasterSource.setTileLoadFunction(tileLoadFunction);\n\n      const imageLayer = new TileLayer({\n        extent: extent,\n        source: rasterSource,\n        preload: 1,\n        projection: projection\n      });\n\n      this[_drawingSource] = new VectorSource({\n        tileGrid: tileGrid,\n        projection: projection,\n        features: this[_features],\n        wrapX: false\n      });\n\n      this[_drawingLayer] = new VectorLayer({\n        extent: extent,\n        source: this[_drawingSource],\n        projection: projection,\n        updateWhileAnimating: true,\n        updateWhileInteracting: true,\n      });\n\n      const view = new View({\n        center: getCenter(extent),\n        extent: extent,\n        projection: projection,\n        resolutions: resolutions,\n        rotation: rotation\n      });\n\n      const overviewView = new View({\n        projection: projection,\n        resolutions: resolutions,\n        rotation: rotation\n      });\n\n      this[_interactions] = {\n        draw: undefined,\n        select: undefined,\n        modify: undefined\n      };\n\n      this[_controls] = {\n        scale: new ScaleLine({\n          units: 'metric',\n          className: ''\n        })\n      };\n      if (options.controls.has('fullscreen')) {\n        this[_controls].fullscreen = new FullScreen();\n      }\n      if (options.controls.has('overview')) {\n        this[_controls].overview = new OverviewMap({\n          view: overviewView,\n          collapsed: true,\n        });\n      }\n\n      /*\n       * Creates the map with the defined layers and view and renders it via\n       * WebGL.\n       */\n      if (this[_usewebgl]) {\n        this[_map] = new WebGLMap({\n          layers: [imageLayer, this[_drawingLayer]],\n          view: view,\n          controls: [],\n          loadTilesWhileAnimating: true,\n          loadTilesWhileInteracting: true,\n          logo: false\n        });\n      } else {\n\n        this[_map] = new Map({\n          layers: [imageLayer, this[_drawingLayer]],\n          view: view,\n          controls: [],\n          loadTilesWhileAnimating: true,\n          loadTilesWhileInteracting: true,\n          logo: false\n        });\n      }\n\n      for (let control in this[_controls]) {\n        this[_map].addControl(this[_controls][control]);\n      }\n      this[_map].getView().fit(extent, this[_map].getSize());\n\n    }\n\n    resize(){\n      this[_map].updateSize();\n    }\n    \n\n    /* Renders the images.\n     */\n    render(options) {\n      if (!('container' in options)) {\n        console.error('container must be provided for rendering images');\n      }\n      this[_map].setTarget(options.container);\n\n      // Style scale element (overriding default Openlayers CSS \"ol-scale-line\")\n      let scaleElement = this[_controls]['scale'].element;\n      scaleElement.style.position = 'absolute';\n      scaleElement.style.right = '.5em';\n      scaleElement.style.bottom = '.5em';\n      scaleElement.style.left = 'auto';\n      scaleElement.style.padding = '2px';\n      scaleElement.style.backgroundColor = 'rgba(255,255,255,.5)';\n      scaleElement.style.borderRadius = '4px';\n      scaleElement.style.margin = '1px';\n\n      let scaleInnerElement = this[_controls]['scale'].innerElement_;\n      scaleInnerElement.style.color = 'black';\n      scaleInnerElement.style.fontWeight = '600';\n      scaleInnerElement.style.fontSize = '10px';\n      scaleInnerElement.style.textAlign = 'center';\n      scaleInnerElement.style.borderWidth = '1.5px';\n      scaleInnerElement.style.borderStyle = 'solid';\n      scaleInnerElement.style.borderTop = 'none';\n      scaleInnerElement.style.borderRightColor = 'black';\n      scaleInnerElement.style.borderLeftColor = 'black';\n      scaleInnerElement.style.borderBottomColor = 'black';\n      scaleInnerElement.style.margin = '1px';\n      scaleInnerElement.style.willChange = 'contents,width';\n\n      const container = this[_map].getTargetElement();\n\n      this[_drawingSource].on(VectorEventType.ADDFEATURE, (e) => {\n        publish(container, EVENTS.ROI_ADDED, _getROIFromFeature(e.feature, this[_pyramidMetadata]));\n      });\n\n      this[_drawingSource].on(VectorEventType.CHANGEFEATURE, (e) => {\n        publish(container, EVENTS.ROI_MODIFIED, _getROIFromFeature(e.feature, this[_pyramidMetadata]));\n      });\n\n      this[_drawingSource].on(VectorEventType.REMOVEFEATURE, (e) => {\n        publish(container, EVENTS.ROI_REMOVED, _getROIFromFeature(e.feature, this[_pyramidMetadata]));\n      });\n\n      this[_map].on(MapEventType.MOVESTART, (e) => {\n        publish(container, EVENTS.MOVE_STARTED, this.getAllROIs());\n      });\n\n      this[_map].on(MapEventType.MOVEEND, (e) => {\n        publish(container, EVENTS.MOVE_ENDED, this.getAllROIs());\n      });\n\n    }\n\n    /* Activate draw interaction.\n     */\n    activateDrawInteraction(options) {\n      this.deactivateDrawInteraction();\n\n      const customOptionsMapping = {\n        point: {\n          type: 'Point',\n          geometryName: 'Point'\n        },\n        circle: {\n          type: 'Circle',\n          geometryName: 'Circle'\n        },\n        box: {\n          type: 'Circle',\n          geometryName: 'Box',\n          geometryFunction: createRegularPolygon(4),\n        },\n        polygon: {\n          type: 'Polygon',\n          geometryName: 'Polygon',\n          freehand: false,\n        },\n        freehandpolygon: {\n          type: 'Polygon',\n          geometryName: 'FreeHandPolygon',\n          freehand: true,\n        },\n        line: {\n          type: 'LineString',\n          geometryName: 'Line',\n          freehand: false,\n        },\n        freehandline: {\n          type: 'LineString',\n          geometryName: 'FreeHandLine',\n          freehand: true,\n        },\n      };\n      if (!('geometryType' in options)) {\n        console.error('geometry type must be specified for drawing interaction');\n      }\n      if (!(options.geometryType in customOptionsMapping)) {\n        console.error(`unsupported geometry type \"${options.geometryType}\"`);\n      }\n\n      const defaultDrawOptions = {source: this[_drawingSource]};\n      const customDrawOptions = customOptionsMapping[options.geometryType];\n      if ('style' in options) {\n        customDrawOptions.style = options.style;\n      }\n      const allDrawOptions = Object.assign(defaultDrawOptions, customDrawOptions);\n      this[_interactions].draw = new Draw(allDrawOptions);\n\n      const container = this[_map].getTargetElement();\n\n      //attaching openlayers events handling\n      this[_interactions].draw.on('drawend', (e) => {\n        e.feature.setId(generateUID());\n        publish(container, EVENTS.ROI_DRAWN, _getROIFromFeature(e.feature, this[_pyramidMetadata]));\n      });\n\n      this[_map].addInteraction(this[_interactions].draw);\n\n    }\n\n    /* Deactivate draw interaction.\n     */\n    deactivateDrawInteraction() {\n      if (this[_interactions].draw !== undefined) {\n        this[_map].removeInteraction(this[_interactions].draw);\n        this[_interactions].draw = undefined;\n      }\n    }\n\n    get isDrawInteractionActive() {\n      return this[_interactions].draw !== undefined;\n    }\n\n    /* Activate select interaction.\n     */\n    activateSelectInteraction(options={}) {\n      this.deactivateSelectInteraction();\n      this[_interactions].select = new Select({\n        layers: [this[_drawingLayer]]\n      });\n\n      const container = this[_map].getTargetElement();\n\n      this[_interactions].select.on('select', (e) => {\n        publish(container, EVENTS.ROI_SELECTED, _getROIFromFeature(e.selected[0], this[_pyramidMetadata]));\n      });\n\n      this[_map].addInteraction(this[_interactions].select);\n    }\n\n    /* Deactivate select interaction.\n     */\n    deactivateSelectInteraction() {\n      if (this[_interactions].select) {\n        this[_map].removeInteraction(this[_interactions].select);\n        this[_interactions].select = undefined;\n      }\n    }\n\n    get isSelectInteractionActive() {\n      return this[_interactions].select !== undefined;\n    }\n\n    /* Activate modify interaction.\n     */\n    activateModifyInteraction(options={}) {\n      this.deactivateModifyInteraction();\n      this[_interactions].modify = new Modify({\n        features: this[_features],  // TODO: or source, i.e. \"drawings\"???\n      });\n      this[_map].addInteraction(this[_interactions].modify);\n    }\n\n    /* Deactivate modify interaction.\n     */\n    deactivateModifyInteraction() {\n      if (this[_interactions].modify) {\n        this[_map].removeInteraction(this[_interactions].modify);\n        this[_interactions].modify = undefined;\n      }\n    }\n\n    get isModifyInteractionActive() {\n      return this[_interactions].modify !== undefined;\n    }\n\n    getAllROIs() {\n      let rois = [];\n      this[_features].forEach((item) => {\n          rois.push(this.getROI(item.getId()));\n      });\n      return rois;\n    }\n\n    get numberOfROIs() {\n      return this[_features].getLength();\n    }\n\n    getROI(uid) {\n      const feature = this[_drawingSource].getFeatureById(uid);\n      return _getROIFromFeature(feature, this[_pyramidMetadata]);\n    }\n\n    popROI() {\n      const feature = this[_features].pop();\n      return _getROIFromFeature(feature, this[_pyramidMetadata]);\n    }\n\n    addROI(item) {\n      const geometry = _scoord3d2Geometry(item.scoord3d, this[_pyramidMetadata]);\n      const feature = new Feature(geometry);\n      feature.setProperties(item.properties, true);\n      feature.setId(item.uid);\n      this[_features].push(feature);\n    }\n\n    removeROI(uid) {\n      const feature = this[_drawingSource].getFeatureById(uid);\n      this[_features].remove(feature);\n    }\n\n    removeAllROI() {\n      this[_features].clear();\n    }\n\n    hideROIs() {\n      this[_drawingLayer].setVisible(false);\n    }\n\n    showROIs() {\n      this[_drawingLayer].setVisible(true);\n    }\n\n    get areROIsVisible() {\n      return this[_drawingLayer].getVisible();\n    }\n\n    get imageMetadata() {\n      return this[_pyramidMetadata];\n    }\n\n  }\n\n  let api = {\n    VLWholeSlideMicroscopyImageViewer,\n  };\n  let scoord3d = {\n    Point: Point$1,\n    Multipoint,\n    Polyline,\n    Polygon: Polygon$1,\n    Ellipsoid,\n    Ellipse\n  };\n  let roi = {\n    ROI,\n  };\n\n  exports.api = api;\n  exports.scoord3d = scoord3d;\n  exports.roi = roi;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"],"sourceRoot":""}